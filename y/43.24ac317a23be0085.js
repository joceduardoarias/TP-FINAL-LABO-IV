"use strict";(self.webpackChunktpfinal=self.webpackChunktpfinal||[]).push([[43],{1043:(P,d,l)=>{l.r(d),l.d(d,{PacientesModule:()=>y});var p=l(9808),g=l(441),f=l(3583),t=l(5e3),m=l(7556),_=l(7898),v=l(3811),Z=l(6940),h=l(2382);const x=["content"];function b(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"button",4),t.NdJ("click",function(){const a=t.CHM(i).$implicit;return t.oxw().disparo(a)}),t._uU(2),t.qZA()()}if(2&e){const i=c.$implicit;t.xp6(2),t.Oqu(i)}}function T(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"div",0)(1,"div",5)(2,"input",6),t.NdJ("ngModelChange",function(o){return t.CHM(i),t.oxw().b=o}),t.qZA(),t.TgZ(3,"button",7),t.NdJ("click",function(){return t.CHM(i),t.oxw().hacerBusqueda()}),t._uU(4,"Search"),t.qZA(),t.TgZ(5,"button",8),t.NdJ("click",function(){return t.CHM(i),t.oxw().limpiar()}),t._uU(6,"Limpiar"),t.qZA()()()}if(2&e){const i=t.oxw();t.xp6(2),t.Q6J("ngModel",i.b)}}function C(e,c){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()),2&e){const i=c.$implicit;t.xp6(2),t.hij("",i.altura," "),t.xp6(2),t.hij("",i.peso," "),t.xp6(2),t.hij("",i.presion," "),t.xp6(2),t.hij("",i.temepratura," "),t.xp6(2),t.hij("",i.dia," "),t.xp6(2),t.AsE("",i.hora,":",i.minutos," "),t.xp6(2),t.hij("",i.valor1," "),t.xp6(2),t.hij("",i.valor2," "),t.xp6(2),t.hij("",i.valor3," ")}}function A(e,c){if(1&e&&(t.TgZ(0,"table",14)(1,"thead")(2,"tr")(3,"th",15),t._uU(4,"Altura"),t.qZA(),t.TgZ(5,"th",15),t._uU(6,"Peso"),t.qZA(),t.TgZ(7,"th",15),t._uU(8,"Presion"),t.qZA(),t.TgZ(9,"th",15),t._uU(10,"Temperatura"),t.qZA(),t.TgZ(11,"th",15),t._uU(12,"Dia"),t.qZA(),t.TgZ(13,"th",15),t._uU(14,"Hora"),t.qZA(),t.TgZ(15,"th",15),t._uU(16,"val1"),t.qZA(),t.TgZ(17,"th",15),t._uU(18,"val2"),t.qZA(),t.TgZ(19,"th",15),t._uU(20,"val3"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,C,19,10,"tr",1),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(22),t.Q6J("ngForOf",i.historiaclinicaa)}}function q(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).makePDF()}),t._uU(1,"CREAR PDF"),t.qZA()}}function H(e,c){if(1&e&&(t.TgZ(0,"div",null,9)(2,"div",0)(3,"div",10),t._UZ(4,"img",11),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()()(),t.TgZ(9,"div",0),t.YNc(10,A,23,1,"table",12),t.qZA(),t.TgZ(11,"div",0),t.YNc(12,q,2,0,"button",13),t.qZA()()),2&e){const i=t.oxw();t.xp6(6),t.Oqu(i.auth.correologeado),t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Q6J("ngIf",null!=i.historiaclinicaa),t.xp6(2),t.Q6J("ngIf",i.activo)}}const M=[{path:"",component:(()=>{class e{constructor(i,n,o,a){this.auth=i,this.us=n,this.excelService=o,this.h=a,this.nuevo=[],this.list=[],this.lista2=[],this.activo=!1,this.fecha=(new Date).toLocaleDateString(),this.historiaclinicaa=[],this.tildado="",n.getAll().valueChanges().subscribe(s=>{for(let r=0;r<s.length;r++)this.list.push({nombre:s[r].nombre,email:s[r].email,dni:s[r].dni,perfil:s[r].perfil,edad:s[r].edad})}),a.getAll().valueChanges().subscribe(s=>{for(let r=0;r<s.length;r++){const u=s[r].correopaciente;this.lista2.includes(s[r].correopaciente)||this.lista2.push(u)}console.log(this.lista2)})}ngOnInit(){}disparo(i){this.tildado=i,this.h.getAll().valueChanges().subscribe(o=>{this.historiaclinicaa=[];for(let a=0;a<o.length;a++)o[a].correopaciente==i&&this.historiaclinicaa.push(o[a]);this.activo=!0,console.log(this.historiaclinicaa)})}hacerBusqueda(){this.nuevo=[];for(let i=0;i<this.historiaclinicaa.length;i++){let n=0,o=0;for(let a=0;a<this.historiaclinicaa[i].otros.length;a++)Object.keys(this.historiaclinicaa[i].otros[a]).forEach((s,r)=>{this.historiaclinicaa[i].otros[a][s]==this.b&&(console.log(o),0==o&&(o++,n=1,this.nuevo.push(this.historiaclinicaa[i]),console.log(o)))});0==n&&(this.historiaclinicaa[i].altura==this.b||this.historiaclinicaa[i].peso==this.b||this.historiaclinicaa[i].presion==this.b||this.historiaclinicaa[i].temepratura==this.b)&&this.nuevo.push(this.historiaclinicaa[i])}0!=this.nuevo.length&&(this.historiaclinicaa=this.nuevo)}limpiar(){this.historiaclinicaa=[],this.h.getAll().get().subscribe(i=>{i.forEach(n=>{n.data().correopaciente==this.tildado&&this.historiaclinicaa.push(n.data())})})}click(){this.excelService.exportToExcel(this.list,"usuarios")}makePDF(){this.fecha=(new Date).toLocaleDateString(),new f.ZP("p","pt","a4").html(this.el.nativeElement,{callback:n=>{n.save("Historia Clinica.pdf")}})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(m.e),t.Y36(_.m),t.Y36(v.M),t.Y36(Z.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-historiapaciente"]],viewQuery:function(i,n){if(1&i&&t.Gf(x,5),2&i){let o;t.iGM(o=t.CRH())&&(n.el=o.first)}},decls:6,vars:3,consts:[[1,"d-flex","justify-content-center","align-items-center"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","tt"],["type","search","placeholder","Search","value","dasd","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-warning",3,"click"],["content",""],[1,"d-flex","justify-content-between","align-items-center","taca"],["src","../../../assets/imagennnn2.png","alt","",1,"im"],["class","table tt borde",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"table","tt","borde"],["scope","col"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div"),t.YNc(2,b,3,1,"div",1),t.qZA()(),t.YNc(3,T,7,1,"div",2),t.TgZ(4,"div",0),t.YNc(5,H,13,4,"div",3),t.qZA()),2&i&&(t.xp6(2),t.Q6J("ngForOf",n.lista2),t.xp6(1),t.Q6J("ngIf",n.activo),t.xp6(2),t.Q6J("ngIf",n.activo))},directives:[p.sg,p.O5,h.Fj,h.JJ,h.On],styles:[".tt[_ngcontent-%COMP%]{width:600px}.borde[_ngcontent-%COMP%]{border:solid 5px red}.im[_ngcontent-%COMP%]{width:50px;height:50px}span[_ngcontent-%COMP%]{margin-right:15px}#ca[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.taca[_ngcontent-%COMP%]{width:600px}"]}),e})()}];let U=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(M)],g.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,h.u5,U]]}),e})()}}]);