"use strict";(self.webpackChunktpfinal=self.webpackChunktpfinal||[]).push([[652],{3652:(x,f,r)=>{r.r(f),r.d(f,{MiperfilModule:()=>E});var _=r(9808),m=r(441),v=r(3583);class u{constructor(){this.dias=[]}}var i=r(5e3),s=r(7556),p=r(7898),c=r(2382),T=r(4775),b=r(6940);const U=["content"];function A(e,n){if(1&e&&(i.TgZ(0,"div",3)(1,"div",4)(2,"div",5),i._UZ(3,"img",6),i.qZA()(),i.TgZ(4,"div",4)(5,"div",7)(6,"h1"),i._uU(7,"DATOS USUARIO"),i.qZA(),i.TgZ(8,"span"),i._uU(9),i.qZA(),i._UZ(10,"br"),i.TgZ(11,"span"),i._uU(12),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"span"),i._uU(15),i.qZA(),i._UZ(16,"br"),i.TgZ(17,"span"),i._uU(18),i.qZA(),i._UZ(19,"br"),i.TgZ(20,"span"),i._uU(21),i.qZA()()()()),2&e){const t=i.oxw();i.xp6(3),i.Q6J("src",t.datoUsuario.imagen,i.LSH),i.xp6(6),i.hij("Nombre: ",t.datoUsuario.nombre," "),i.xp6(3),i.hij("Apellido: ",t.datoUsuario.apellido,""),i.xp6(3),i.hij("Edad: ",t.datoUsuario.edad,""),i.xp6(3),i.hij("DNI: ",t.datoUsuario.dni,""),i.xp6(3),i.hij("Perfil: ",t.datoUsuario.perfil,"")}}function C(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.altura," ")}}function P(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.peso," ")}}function y(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.presion," ")}}function M(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.temepratura," ")}}function q(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.dia," ")}}function j(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.AsE("",t.hora,":",t.minutos," ")}}function J(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.valor1," ")}}function w(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.valor2," ")}}function N(e,n){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.valor3," ")}}function k(e,n){if(1&e&&(i.TgZ(0,"tr"),i.YNc(1,C,2,1,"td",24),i.YNc(2,P,2,1,"td",24),i.YNc(3,y,2,1,"td",24),i.YNc(4,M,2,1,"td",24),i.YNc(5,q,2,1,"td",24),i.YNc(6,j,2,2,"td",24),i.YNc(7,J,2,1,"td",24),i.YNc(8,w,2,1,"td",24),i.YNc(9,N,2,1,"td",24),i.qZA()),2&e){const t=n.$implicit,o=i.oxw(3);i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado),i.xp6(1),i.Q6J("ngIf",t.correopaciente==o.auth.correologeado)}}function I(e,n){if(1&e&&(i.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),i._uU(4,"Altura"),i.qZA(),i.TgZ(5,"th",22),i._uU(6,"Peso"),i.qZA(),i.TgZ(7,"th",22),i._uU(8,"Presion"),i.qZA(),i.TgZ(9,"th",22),i._uU(10,"Temperatura"),i.qZA(),i.TgZ(11,"th",22),i._uU(12,"Dia"),i.qZA(),i.TgZ(13,"th",22),i._uU(14,"Hora"),i.qZA(),i.TgZ(15,"th",22),i._uU(16,"val1"),i.qZA(),i.TgZ(17,"th",22),i._uU(18,"val2"),i.qZA(),i.TgZ(19,"th",22),i._uU(20,"val3"),i.qZA()()(),i.TgZ(21,"tbody"),i.YNc(22,k,10,9,"tr",23),i.qZA()()),2&e){const t=i.oxw(2);i.xp6(22),i.Q6J("ngForOf",t.historiaclinicaa)}}function O(e,n){if(1&e){const t=i.EpF();i.TgZ(0,"div",8)(1,"div",9)(2,"div",5),i._UZ(3,"img",6),i.qZA()(),i.TgZ(4,"div",9)(5,"div",5),i._UZ(6,"img",6),i.qZA()(),i.TgZ(7,"div",9)(8,"div",7)(9,"h1"),i._uU(10,"DATOS USUARIO"),i.qZA(),i.TgZ(11,"span"),i._uU(12),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"span"),i._uU(15),i.qZA(),i._UZ(16,"br"),i.TgZ(17,"span"),i._uU(18),i.qZA(),i._UZ(19,"br"),i.TgZ(20,"span"),i._uU(21),i.qZA(),i._UZ(22,"br"),i.TgZ(23,"span"),i._uU(24),i.qZA()()(),i.TgZ(25,"div",10)(26,"div")(27,"div",10)(28,"h2"),i._uU(29,"Historia Cl\xednica"),i.qZA()(),i.TgZ(30,"div",10)(31,"div",11)(32,"input",12),i.NdJ("ngModelChange",function(a){return i.CHM(t),i.oxw().b=a}),i.qZA(),i.TgZ(33,"button",13),i.NdJ("click",function(){return i.CHM(t),i.oxw().hacerBusqueda()}),i._uU(34,"Search"),i.qZA(),i.TgZ(35,"button",14),i.NdJ("click",function(){return i.CHM(t),i.oxw().limpiar()}),i._uU(36,"Limpiar"),i.qZA()()(),i.TgZ(37,"div",15,16)(39,"div",17),i._UZ(40,"img",18),i.TgZ(41,"span"),i._uU(42),i.qZA(),i.TgZ(43,"span"),i._uU(44),i.qZA()(),i.YNc(45,I,23,1,"table",19),i.qZA(),i.TgZ(46,"button",20),i.NdJ("click",function(){return i.CHM(t),i.oxw().makePDF()}),i._uU(47,"CREAR PDF"),i.qZA()()()()}if(2&e){const t=i.oxw();i.xp6(3),i.Q6J("src",t.datoUsuario.imagen,i.LSH),i.xp6(3),i.Q6J("src",t.datoUsuario.imagen2,i.LSH),i.xp6(6),i.hij("Nombre: ",t.datoUsuario.nombre," "),i.xp6(3),i.hij("Apellido: ",t.datoUsuario.apellido,""),i.xp6(3),i.hij("Edad: ",t.datoUsuario.edad,""),i.xp6(3),i.hij("DNI: ",t.datoUsuario.dni,""),i.xp6(3),i.hij("Perfil: ",t.datoUsuario.perfil,""),i.xp6(8),i.Q6J("ngModel",t.b),i.xp6(10),i.Oqu(t.auth.correologeado),i.xp6(2),i.Oqu(t.fecha),i.xp6(1),i.Q6J("ngIf",null!=t.historiaclinicaa)}}function H(e,n){if(1&e&&(i.TgZ(0,"option",37),i._uU(1),i.qZA()),2&e){const t=n.$implicit;i.Q6J("value",t),i.xp6(1),i.Oqu(t)}}function Y(e,n){if(1&e){const t=i.EpF();i.TgZ(0,"div",25)(1,"form",26)(2,"div",25)(3,"p"),i._uU(4,"Dias disponible:"),i.qZA(),i.TgZ(5,"ul")(6,"li"),i._uU(7," Lunes "),i.TgZ(8,"input",27),i.NdJ("click",function(){return i.CHM(t),i.oxw().dias("lunes")}),i.qZA()(),i.TgZ(9,"li"),i._uU(10," Martes "),i.TgZ(11,"input",27),i.NdJ("click",function(){return i.CHM(t),i.oxw().dias("martes")}),i.qZA()(),i.TgZ(12,"li"),i._uU(13," Miercoles "),i.TgZ(14,"input",27),i.NdJ("click",function(){return i.CHM(t),i.oxw().dias("miercoles")}),i.qZA()(),i.TgZ(15,"li"),i._uU(16," Jueves "),i.TgZ(17,"input",27),i.NdJ("click",function(){return i.CHM(t),i.oxw().dias("jueves")}),i.qZA()(),i.TgZ(18,"li"),i._uU(19," Viernes "),i.TgZ(20,"input",27),i.NdJ("click",function(){return i.CHM(t),i.oxw().dias("viernes")}),i.qZA()(),i.TgZ(21,"li"),i._uU(22," Sabado "),i.TgZ(23,"input",27),i.NdJ("click",function(){return i.CHM(t),i.oxw().dias("sabado")}),i.qZA()()()(),i.TgZ(24,"div",25)(25,"label",28),i._uU(26,"Horario disponible"),i.qZA(),i.TgZ(27,"select",29)(28,"option",30),i._uU(29,"Seleccione uno"),i.qZA(),i.TgZ(30,"option",31),i._uU(31,"Jornada completa (8:00 - 19:00)"),i.qZA(),i.TgZ(32,"option",32),i._uU(33,"Ma\xf1ana (8:00 - 12:00)"),i.qZA(),i.TgZ(34,"option",33),i._uU(35,"Tarde (12:00 - 19:00)"),i.qZA()(),i.TgZ(36,"label",28),i._uU(37,"Horario disponible"),i.qZA(),i.TgZ(38,"select",34),i.YNc(39,H,2,2,"option",35),i.qZA()(),i.TgZ(40,"button",36),i.NdJ("click",function(){return i.CHM(t),i.oxw().enviar()}),i._uU(41," Confirmar Horarios "),i.qZA()()()}if(2&e){const t=i.oxw();i.xp6(39),i.Q6J("ngForOf",t.datoUsuario.especialidades)}}const Q=[{path:"",component:(()=>{class e{constructor(t,o,a,l,g){this.auth=t,this.sv=o,this.fb=a,this.es=l,this.h=g,this.fecha=(new Date).toLocaleDateString(),this.esa=[],this.objee=[{estado:1,filtro:2,teclado:3,mouse:4,dia:2,turno:4}],this.datoUsuario=[],this.cargo=!1,this.unseg=!1,this.arrayhoraaa=[],this.historiaclinicaa=[],this.indicex=0,this.nuevo=[],this.sv.getAll().get().subscribe(d=>{d.forEach(h=>{h.data().email==this.auth.correologeado&&(this.cargo=!0,this.datoUsuario=h.data())})}),this.auth.paciente&&this.h.getAll().valueChanges().subscribe(h=>{this.historiaclinicaa=[];for(let Z=0;Z<h.length;Z++)h[Z].correopaciente==t.correologeado&&this.historiaclinicaa.push(h[Z])}),this.arrayhoraaa[0]=null,this.arrayhoraaa[1]=null,this.arrayhoraaa[2]=null,this.arrayhoraaa[3]=null,this.arrayhoraaa[4]=null,this.arrayhoraaa[5]=null,this.arrayhoraaa[6]=null}enviar(){let o=document.getElementById("select").value;this.unespecialista=new u,this.arrayhoraaa[0]=null,this.arrayhoraaa[1]=null,this.arrayhoraaa[2]=null,this.arrayhoraaa[3]=null,this.arrayhoraaa[4]=null,this.arrayhoraaa[5]=null,this.arrayhoraaa[6]=null,this.lunes&&(this.arrayhoraaa[1]=1),this.martes&&(this.arrayhoraaa[2]=2),this.miercoles&&(this.arrayhoraaa[3]=3),this.jueves&&(this.arrayhoraaa[4]=4),this.viernes&&(this.arrayhoraaa[5]=5),this.sabado&&(this.arrayhoraaa[6]=6),console.log(this.arrayhoraaa),this.unespecialista.dias=this.arrayhoraaa,this.unespecialista.email=this.datoUsuario.email,this.unespecialista.especialidad=document.getElementById("select2").value,this.unespecialista.imagen=this.datoUsuario.imagen,this.unespecialista.nombre=this.datoUsuario.nombre,this.unespecialista.hora="maniana"==o?{horamin:"8",horamax:"12"}:"tarde"==o?{horamin:"12",horamax:"19"}:{horamin:"8",horamax:"19"},this.recorrer(this.unespecialista).then(a=>{null==a?this.es.create(this.unespecialista).then(l=>{console.log("Hora y dias cargado correctamente!!")}):this.es.update(a,this.unespecialista).then(l=>{alert("Modificado correctamente!!")})})}ngOnInit(){}recorrer(t){alert(t.especialidad);let o=null;return new Promise((a,l)=>{this.es.getAll().get().subscribe(d=>{d.forEach(h=>{h.data().email==t.email&&h.data().especialidad==t.especialidad&&(o=h.id)}),a(o)})})}dias(t){"lunes"==t?(this.lunes=!this.lunes,console.log(t)):"martes"==t?(this.martes=!this.martes,console.log(t)):"miercoles"==t?(this.miercoles=!this.miercoles,console.log(t)):"jueves"==t?(this.jueves=!this.jueves,console.log(t)):"viernes"==t?(this.viernes=!this.viernes,console.log(t)):(this.sabado=!this.sabado,console.log(t))}hacerBusqueda(){this.nuevo=[];for(let t=0;t<this.historiaclinicaa.length;t++){let o=0,a=0;for(let l=0;l<this.historiaclinicaa[t].otros.length;l++)Object.keys(this.historiaclinicaa[t].otros[l]).forEach((g,d)=>{this.historiaclinicaa[t].otros[l][g]==this.b&&(console.log(a),0==a&&(a++,o=1,this.nuevo.push(this.historiaclinicaa[t]),console.log(a)))});0==o&&(this.historiaclinicaa[t].altura==this.b||this.historiaclinicaa[t].peso==this.b||this.historiaclinicaa[t].presion==this.b||this.historiaclinicaa[t].temepratura==this.b)&&this.nuevo.push(this.historiaclinicaa[t])}0!=this.nuevo.length&&(this.historiaclinicaa=this.nuevo)}limpiar(){this.historiaclinicaa=[],this.h.getAll().get().subscribe(t=>{t.forEach(o=>{this.historiaclinicaa.push(o.data())})})}makePDF(){this.fecha=(new Date).toLocaleDateString(),new v.ZP("p","pt","a4").html(this.el.nativeElement,{callback:o=>{o.save("Historia Clinica.pdf")}})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.e),i.Y36(p.m),i.Y36(c.qu),i.Y36(T.q),i.Y36(b.x))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-perfil"]],viewQuery:function(t,o){if(1&t&&i.Gf(U,5),2&t){let a;i.iGM(a=i.CRH())&&(o.el=a.first)}},decls:4,vars:3,consts:[["class","row container py-4",4,"ngIf"],["class","row  py-4",4,"ngIf"],["class","col-6",4,"ngIf"],[1,"row","container","py-4"],[1,"col-md-6"],[1,""],["alt","",3,"src"],[1,"h-100","p-5","bg-light","border","rounded-3"],[1,"row","py-4"],[1,"col-md-4"],[1,"d-flex","justify-content-center","align-items-center"],[1,"d-flex","tt"],["type","search","placeholder","Search","value","dasd","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-warning",3,"click"],["id","content"],["content",""],[1,"d-flex","justify-content-between","align-items-center"],["src","../../../assets/imagennnn2.png","alt","",1,"im"],["class","table text-center tt borde",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"table","text-center","tt","borde"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-6"],[1,"row"],["type","checkbox",3,"click"],["for","dni",1,"form-label"],["id","select",1,"form-control"],["value",""],["value","todo"],["value","maniana"],["value","tarde"],["id","select2",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[3,"value"]],template:function(t,o){1&t&&(i.TgZ(0,"div"),i.YNc(1,A,22,6,"div",0),i.YNc(2,O,48,11,"div",1),i.YNc(3,Y,42,1,"div",2),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",o.cargo&&0==o.auth.paciente),i.xp6(1),i.Q6J("ngIf",o.cargo&&1==o.auth.paciente),i.xp6(1),i.Q6J("ngIf",o.auth.especialista))},directives:[_.O5,c.Fj,c.JJ,c.On,_.sg,c._Y,c.JL,c.F,c.YN,c.Kr],styles:["#div[_ngcontent-%COMP%]{display:inline-block;height:100%}img[_ngcontent-%COMP%]{height:300px;width:500px}#cuadrado[_ngcontent-%COMP%]{display:inline-block;min-height:200px;animation-name:mianimacion;animation-duration:3s;position:relative;animation-direction:reverse;animation-timing-function:linear}@keyframes mianimacion{0%{left:0;top:10vh}20%{left:0;top:20vh}40%{left:0;top:40vh}60%{left:0;top:60vh}80%{left:0;top:80vh}to{left:0;top:100vh}}#cua[_ngcontent-%COMP%]{display:inline-block;min-height:200px;animation-name:mil;animation-duration:3s;position:relative;animation-direction:reverse;animation-timing-function:linear}@keyframes mil{0%{left:0px;top:10vh}20%{left:50px;top:20vh}40%{left:100px;top:40vh}60%{left:200px;top:60vh}80%{left:300px;top:80vh}to{left:400px;top:100vh}}.tt[_ngcontent-%COMP%]{width:600px}.borde[_ngcontent-%COMP%]{border:solid 5px red}.im[_ngcontent-%COMP%]{width:50px;height:50px}span[_ngcontent-%COMP%]{margin-right:15px}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[m.Bz.forChild(Q)],m.Bz]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[c.u5,_.ez,S]]}),e})()},6940:(x,f,r)=>{r.d(f,{x:()=>v});var _=r(5e3),m=r(7407);let v=(()=>{class u{constructor(s){this.db=s,this.dbPath="/historiaClinica",this.MensajesRef=s.collection(this.dbPath)}getAll(){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef}create(s){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.add(Object.assign({},s))}update(s,p){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(s).update({comentarioadmin:p.comentarioadmin,comentarioespecialista:p.comentarioespecialista,comentariopaciente:p.comentariopaciente,diagnostico:p.diagnostico,estado:p.estado})}delete(s){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(s).delete()}}return u.\u0275fac=function(s){return new(s||u)(_.LFG(m.ST))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);