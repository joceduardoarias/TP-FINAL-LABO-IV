"use strict";var lD=Object.defineProperty,uD=Object.defineProperties,cD=Object.getOwnPropertyDescriptors,Rb=Object.getOwnPropertySymbols,dD=Object.prototype.hasOwnProperty,hD=Object.prototype.propertyIsEnumerable,Nb=(sn,st,K)=>st in sn?lD(sn,st,{enumerable:!0,configurable:!0,writable:!0,value:K}):sn[st]=K,jv=(sn,st)=>{for(var K in st||(st={}))dD.call(st,K)&&Nb(sn,K,st[K]);if(Rb)for(var K of Rb(st))hD.call(st,K)&&Nb(sn,K,st[K]);return sn},Hv=(sn,st)=>uD(sn,cD(st));(self.webpackChunktpfinal=self.webpackChunktpfinal||[]).push([[179],{440:(sn,st,K)=>{K.d(st,{nm:()=>Sr});var E=K(5813);K(5e3),K(5867);var at=K(5861),_e=K(9681),qe=K(4859),Ot=K(2090),kt=K(1877);const xe=new Map,Me={activated:!1,tokenObservers:[]},Pe={initialized:!1,enabled:!1};function Ae(We){return xe.get(We)||Me}function Ze(We,Le){xe.set(We,Le)}function mt(){return Pe}class on{constructor(Le,ut,Rt,Wt,Rn){if(this.operation=Le,this.retryPolicy=ut,this.getWaitDuration=Rt,this.lowerBound=Wt,this.upperBound=Rn,this.pending=null,this.nextErrorWaitInterval=Wt,Wt>Rn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Le){var ut=this;return(0,at.Z)(function*(){ut.stop();try{ut.pending=new Ot.BH,yield function wn(We){return new Promise(Le=>{setTimeout(Le,We)})}(ut.getNextRun(Le)),ut.pending.resolve(),yield ut.pending.promise,ut.pending=new Ot.BH,yield ut.operation(),ut.pending.resolve(),yield ut.pending.promise,ut.process(!0).catch(()=>{})}catch(Rt){ut.retryPolicy(Rt)?ut.process(!1).catch(()=>{}):ut.stop()}})()}getNextRun(Le){if(Le)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ut=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ut}}}const It=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xe(We){if(!Ae(We).activated)throw It.create("use-before-activation",{appName:We.name})}function Fi(We,Le){return yi.apply(this,arguments)}function yi(){return(yi=(0,at.Z)(function*({url:We,body:Le},ut){const Rt={"Content-Type":"application/json"},Wt=ut.getImmediate({optional:!0});if(Wt){const _s=yield Wt.getHeartbeatsHeader();_s&&(Rt["X-Firebase-Client"]=_s)}const Rn={method:"POST",body:JSON.stringify(Le),headers:Rt};let ki,dr;try{ki=yield fetch(We,Rn)}catch(_s){throw It.create("fetch-network-error",{originalErrorMessage:_s.message})}if(200!==ki.status)throw It.create("fetch-status-error",{httpStatus:ki.status});try{dr=yield ki.json()}catch(_s){throw It.create("fetch-parse-error",{originalErrorMessage:_s.message})}const Di=dr.ttl.match(/^([\d.]+)(s)$/);if(!Di||!Di[2]||isNaN(Number(Di[1])))throw It.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${dr.ttl}`});const Li=1e3*Number(Di[1]),ji=Date.now();return{token:dr.attestationToken,expireTimeMillis:ji+Li,issuedAtTimeMillis:ji}})).apply(this,arguments)}function zi(We,Le){const{projectId:ut,appId:Rt,apiKey:Wt}=We.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ut}/apps/${Rt}:exchangeDebugToken?key=${Wt}`,body:{debug_token:Le}}}const Qn="firebase-app-check-store";let Zn=null;function Er(){return Zn||(Zn=new Promise((We,Le)=>{try{const ut=indexedDB.open("firebase-app-check-database",1);ut.onsuccess=Rt=>{We(Rt.target.result)},ut.onerror=Rt=>{var Wt;Le(It.create("storage-open",{originalErrorMessage:null===(Wt=Rt.target.error)||void 0===Wt?void 0:Wt.message}))},ut.onupgradeneeded=Rt=>{0===Rt.oldVersion&&Rt.target.result.createObjectStore(Qn,{keyPath:"compositeKey"})}}catch(ut){Le(It.create("storage-open",{originalErrorMessage:ut.message}))}}),Zn)}function Qt(){return(Qt=(0,at.Z)(function*(We,Le){const Rt=(yield Er()).transaction(Qn,"readwrite"),Rn=Rt.objectStore(Qn).put({compositeKey:We,value:Le});return new Promise((ki,dr)=>{Rn.onsuccess=Di=>{ki()},Rt.onerror=Di=>{var Li;dr(It.create("storage-set",{originalErrorMessage:null===(Li=Di.target.error)||void 0===Li?void 0:Li.message}))}})})).apply(this,arguments)}const gr=new kt.Yd("@firebase/app-check");function Zi(We,Le){return(0,Ot.hl)()?function oi(We,Le){return function qi(We,Le){return Qt.apply(this,arguments)}(function er(We){return`${We.options.appId}-${We.name}`}(We),Le)}(We,Le).catch(ut=>{gr.warn(`Failed to write token to IndexedDB. Error: ${ut}`)}):Promise.resolve()}function cr(){return mt().enabled}function kn(){return hn.apply(this,arguments)}function hn(){return(hn=(0,at.Z)(function*(){const We=mt();if(We.enabled&&We.token)return We.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const un={error:"UNKNOWN_ERROR"};function ln(We){return Ot.US.encodeString(JSON.stringify(We),!1)}function Gn(We){return $n.apply(this,arguments)}function $n(){return($n=(0,at.Z)(function*(We,Le=!1){const ut=We.app;Xe(ut);const Rt=Ae(ut);let Rn,Wt=Rt.token;if(!Wt){const Di=yield Rt.cachedTokenPromise;Di&&Zt(Di)&&(Wt=Di)}if(!Le&&Wt&&Zt(Wt))return{token:Wt.token};let dr,ki=!1;if(cr()){Rt.exchangeTokenPromise||(Rt.exchangeTokenPromise=Fi(zi(ut,yield kn()),We.heartbeatServiceProvider).then(Li=>(Rt.exchangeTokenPromise=void 0,Li)),ki=!0);const Di=yield Rt.exchangeTokenPromise;return yield Zi(ut,Di),Ze(ut,Object.assign(Object.assign({},Rt),{token:Di})),{token:Di.token}}try{Rt.exchangeTokenPromise||(Rt.exchangeTokenPromise=Rt.provider.getToken().then(Di=>(Rt.exchangeTokenPromise=void 0,Di)),ki=!0),Wt=yield Rt.exchangeTokenPromise}catch(Di){"appCheck/throttled"===Di.code?gr.warn(Di.message):gr.error(Di),Rn=Di}return Wt?(dr={token:Wt.token},Ze(ut,Object.assign(Object.assign({},Rt),{token:Wt})),yield Zi(ut,Wt)):dr=je(Rn),ki&&Qe(ut,dr),dr})).apply(this,arguments)}function ve(We,Le){const ut=Ae(We),Rt=ut.tokenObservers.filter(Wt=>Wt.next!==Le);0===Rt.length&&ut.tokenRefresher&&ut.tokenRefresher.isRunning()&&ut.tokenRefresher.stop(),Ze(We,Object.assign(Object.assign({},ut),{tokenObservers:Rt}))}function He(We){const{app:Le}=We,ut=Ae(Le);let Rt=ut.tokenRefresher;Rt||(Rt=function _t(We){const{app:Le}=We;return new on((0,at.Z)(function*(){let Rt;if(Rt=Ae(Le).token?yield Gn(We,!0):yield Gn(We),Rt.error)throw Rt.error}),()=>!0,()=>{const ut=Ae(Le);if(ut.token){let Rt=ut.token.issuedAtTimeMillis+.5*(ut.token.expireTimeMillis-ut.token.issuedAtTimeMillis)+3e5;return Rt=Math.min(Rt,ut.token.expireTimeMillis-3e5),Math.max(0,Rt-Date.now())}return 0},3e4,96e4)}(We),Ze(Le,Object.assign(Object.assign({},ut),{tokenRefresher:Rt}))),!Rt.isRunning()&&ut.isTokenAutoRefreshEnabled&&Rt.start()}function Qe(We,Le){const ut=Ae(We).tokenObservers;for(const Rt of ut)try{"EXTERNAL"===Rt.type&&null!=Le.error?Rt.error(Le.error):Rt.next(Le)}catch(Wt){}}function Zt(We){return We.expireTimeMillis-Date.now()>0}function je(We){return{token:ln(un),error:We}}class Se{constructor(Le,ut){this.app=Le,this.heartbeatServiceProvider=ut}_delete(){const{tokenObservers:Le}=Ae(this.app);for(const ut of Le)ve(this.app,ut.next);return Promise.resolve()}}const Tr="app-check-internal";!function Bi(){(0,_e._registerComponent)(new qe.wA("app-check",We=>function fe(We,Le){return new Se(We,Le)}(We.getProvider("app").getImmediate(),We.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((We,Le,ut)=>{We.getProvider(Tr).initialize()})),(0,_e._registerComponent)(new qe.wA(Tr,We=>function ze(We){return{getToken:Le=>Gn(We,Le),addTokenListener:Le=>function Re(We,Le,ut,Rt){const{app:Wt}=We,Rn=Ae(Wt),ki={next:ut,error:Rt,type:Le};if(Ze(Wt,Object.assign(Object.assign({},Rn),{tokenObservers:[...Rn.tokenObservers,ki]})),Rn.token&&Zt(Rn.token)){const dr=Rn.token;Promise.resolve().then(()=>{ut({token:dr.token}),He(We)}).catch(()=>{})}Rn.cachedTokenPromise.then(()=>He(We))}(We,"INTERNAL",Le),removeTokenListener:Le=>ve(We.app,Le)}}(We.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)("@firebase/app-check","0.5.6")}();class Sr{constructor(){return(0,E.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(sn,st,K)=>{K.d(st,{zQ:()=>lt,ww:()=>vn,rT:()=>Pe,f7:()=>Ze,L6:()=>xe,_Q:()=>Me,lh:()=>Ae,Qv:()=>kt,nw:()=>mt});var E=K(5e3),H=K(7579),ue=K(9646),be=K(8306),Ee=K(8996),ke=K(6451),Je=K(6063);class Ye extends H.x{constructor(Bn=1/0,en=1/0,vt=Je.l){super(),this._bufferSize=Bn,this._windowTime=en,this._timestampProvider=vt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=en===1/0,this._bufferSize=Math.max(1,Bn),this._windowTime=Math.max(1,en)}next(Bn){const{isStopped:en,_buffer:vt,_infiniteTimeWindow:on,_timestampProvider:wn,_windowTime:Dt}=this;en||(vt.push(Bn),!on&&vt.push(wn.now()+Dt)),this._trimBuffer(),super.next(Bn)}_subscribe(Bn){this._throwIfClosed(),this._trimBuffer();const en=this._innerSubscribe(Bn),{_infiniteTimeWindow:vt,_buffer:on}=this,wn=on.slice();for(let Dt=0;Dt<wn.length&&!Bn.closed;Dt+=vt?1:2)Bn.next(wn[Dt]);return this._checkFinalizedStatuses(Bn),en}_trimBuffer(){const{_bufferSize:Bn,_timestampProvider:en,_buffer:vt,_infiniteTimeWindow:on}=this,wn=(on?1:2)*Bn;if(Bn<1/0&&wn<vt.length&&vt.splice(0,vt.length-wn),!on){const Dt=en.now();let It=0;for(let Ve=1;Ve<vt.length&&vt[Ve]<=Dt;Ve+=2)It=Ve;It&&vt.splice(0,It+1)}}}var tt=K(3099);function ge(pn,Bn,en){let vt,on=!1;return pn&&"object"==typeof pn?({bufferSize:vt=1/0,windowTime:Bn=1/0,refCount:on=!1,scheduler:en}=pn):vt=null!=pn?pn:1/0,(0,tt.B)({connector:()=>new Ye(vt,Bn,en),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:on})}var pe=K(3900),Oe=K(576);function xt(pn,Bn){return(0,Oe.m)(Bn)?(0,pe.w)(()=>pn,Bn):(0,pe.w)(()=>pn)}var ht=K(5363),it=K(4004),Ht=K(590),yt=K(9468),ft=K(9300),Fe=K(5813),qt=K(2011),at=K(9808),_e=K(440),qe=K(127);const kt=new E.OlP("angularfire2.auth.use-emulator"),xe=new E.OlP("angularfire2.auth.settings"),Me=new E.OlP("angularfire2.auth.tenant-id"),Pe=new E.OlP("angularfire2.auth.langugage-code"),Ae=new E.OlP("angularfire2.auth.use-device-language"),Ze=new E.OlP("angularfire.auth.persistence"),mt=(pn,Bn,en,vt,on,wn,Dt,It)=>(0,qt.cc)(`${pn.name}.auth`,"AngularFireAuth",pn.name,()=>{const Ve=Bn.runOutsideAngular(()=>pn.auth());if(en&&Ve.useEmulator(...en),vt&&(Ve.tenantId=vt),Ve.languageCode=on,wn&&Ve.useDeviceLanguage(),Dt)for(const[Xe,Bt]of Object.entries(Dt))Ve.settings[Xe]=Bt;return It&&Ve.setPersistence(It),Ve},[en,vt,on,wn,Dt,It]);let lt=(()=>{class pn{constructor(en,vt,on,wn,Dt,It,Ve,Xe,Bt,nn,Un,Fi){const yi=new H.x,Ri=(0,ue.of)(void 0).pipe((0,ht.Q)(Dt.outsideAngular),(0,pe.w)(()=>wn.runOutsideAngular(()=>Promise.resolve().then(K.bind(K,820)))),(0,it.U)(()=>(0,qt.on)(en,wn,vt)),(0,it.U)(An=>mt(An,wn,It,Xe,Bt,nn,Ve,Un)),ge({bufferSize:1,refCount:!1}));if((0,at.PM)(on))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ue.of)(null);else{Ri.pipe((0,Ht.P)()).subscribe();const zi=Ri.pipe((0,pe.w)(Qn=>Qn.getRedirectResult().then(Xn=>Xn,()=>null)),Fe.iC,ge({bufferSize:1,refCount:!1})),Ei=Ri.pipe((0,pe.w)(Qn=>new be.y(Xn=>({unsubscribe:wn.runOutsideAngular(()=>Qn.onAuthStateChanged(Zn=>Xn.next(Zn),Zn=>Xn.error(Zn),()=>Xn.complete()))})))),dn=Ri.pipe((0,pe.w)(Qn=>new be.y(Xn=>({unsubscribe:wn.runOutsideAngular(()=>Qn.onIdTokenChanged(Zn=>Xn.next(Zn),Zn=>Xn.error(Zn),()=>Xn.complete()))}))));this.authState=zi.pipe(xt(Ei),(0,yt.R)(Dt.outsideAngular),(0,ht.Q)(Dt.insideAngular)),this.user=zi.pipe(xt(dn),(0,yt.R)(Dt.outsideAngular),(0,ht.Q)(Dt.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(Qn=>Qn?(0,Ee.D)(Qn.getIdToken()):(0,ue.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(Qn=>Qn?(0,Ee.D)(Qn.getIdTokenResult()):(0,ue.of)(null))),this.credential=(0,ke.T)(zi,yi,this.authState.pipe((0,ft.h)(Qn=>!Qn))).pipe((0,it.U)(Qn=>(null==Qn?void 0:Qn.user)?Qn:null),(0,yt.R)(Dt.outsideAngular),(0,ht.Q)(Dt.insideAngular))}return(0,qt.pX)(this,Ri,wn,{spy:{apply:(An,zi,Ei)=>{(An.startsWith("signIn")||An.startsWith("createUser"))&&Ei.then(dn=>yi.next(dn))}}})}}return pn.\u0275fac=function(en){return new(en||pn)(E.LFG(qt.Dh),E.LFG(qt.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Fe.HU),E.LFG(kt,8),E.LFG(xe,8),E.LFG(Me,8),E.LFG(Pe,8),E.LFG(Ae,8),E.LFG(Ze,8),E.LFG(_e.nm,8))},pn.\u0275prov=E.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"any"}),pn})(),vn=(()=>{class pn{constructor(){qe.Z.registerVersion("angularfire",Fe.q4.full,"auth-compat")}}return pn.\u0275fac=function(en){return new(en||pn)},pn.\u0275mod=E.oAB({type:pn}),pn.\u0275inj=E.cJS({providers:[lt]}),pn})()},7407:(sn,st,K)=>{K.d(st,{ST:()=>ky,yb:()=>ef});var E=K(5e3),H=K(4986),ue=K(8306),be=K(8996),Ee=K(9646),ke=K(5813),Je=K(4482),Ye=K(5403);function tt(){return(0,Je.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ye.x)(e,h=>{const y=t;t=h,o&&e.next([y,h]),o=!0}))})}var xe,ge=K(8675),pe=K(4004),Oe=K(5026),xt=K(1884),ht=K(9300),it=K(2011),Ht=K(9808),ft=(K(820),K(3942)),Fe=K(5861),qt=K(9681),at=K(4859),_e=K(1877),qe=K(2090),Ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},kt={},Me=Me||{},Pe=Ot||self;function Ae(){}function Ze(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function mt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var vn="closure_uid_"+(1e9*Math.random()>>>0),pn=0;function Bn(r,e,t){return r.call.apply(r.bind,arguments)}function en(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),r.apply(e,h)}}return function(){return r.apply(e,arguments)}}function vt(r,e,t){return(vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bn:en).apply(null,arguments)}function on(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function wn(r,e){function t(){}t.prototype=e.prototype,r.Z=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(o,h,y){for(var I=Array(arguments.length-2),F=2;F<arguments.length;F++)I[F-2]=arguments[F];return e.prototype[h].apply(o,I)}}function Dt(){this.s=this.s,this.o=this.o}var Ve={};Dt.prototype.s=!1,Dt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function lt(r){return Object.prototype.hasOwnProperty.call(r,vn)&&r[vn]||(r[vn]=++pn)}(this);delete Ve[r]}},Dt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xe=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1},Bt=Array.prototype.forEach?function(r,e,t){Array.prototype.forEach.call(r,e,t)}:function(r,e,t){const o=r.length,h="string"==typeof r?r.split(""):r;for(let y=0;y<o;y++)y in h&&e.call(t,h[y],y,r)};function Un(r){return Array.prototype.concat.apply([],arguments)}function Fi(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function yi(r){return/^[\s\xa0]*$/.test(r)}var Ei,Ri=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function An(r,e){return-1!=r.indexOf(e)}function zi(r,e){return r<e?-1:r>e?1:0}e:{var dn=Pe.navigator;if(dn){var Qn=dn.userAgent;if(Qn){Ei=Qn;break e}}Ei=""}function Xn(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Zn(r){const e={};for(const t in r)e[t]=r[t];return e}var Er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(r,e){let t,o;for(let h=1;h<arguments.length;h++){for(t in o=arguments[h],o)r[t]=o[t];for(let y=0;y<Er.length;y++)t=Er[y],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function oi(r){return oi[" "](r),r}oi[" "]=Ae;var ti,r,Ni=An(Ei,"Opera"),qi=An(Ei,"Trident")||An(Ei,"MSIE"),Qt=An(Ei,"Edge"),Dn=Qt||qi,In=An(Ei,"Gecko")&&!(An(Ei.toLowerCase(),"webkit")&&!An(Ei,"Edge"))&&!(An(Ei,"Trident")||An(Ei,"MSIE"))&&!An(Ei,"Edge"),er=An(Ei.toLowerCase(),"webkit")&&!An(Ei,"Edge");function gr(){var r=Pe.document;return r?r.documentMode:void 0}e:{var Rr="",Zi=(r=Ei,In?/rv:([^\);]+)(\)|;)/.exec(r):Qt?/Edge\/([\d\.]+)/.exec(r):qi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):er?/WebKit\/(\S+)/.exec(r):Ni?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Zi&&(Rr=Zi?Zi[1]:""),qi){var hi=gr();if(null!=hi&&hi>parseFloat(Rr)){ti=String(hi);break e}}ti=Rr}var bn={};var Ct=Pe.document&&qi&&(gr()||parseInt(ti,10))||void 0,un=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Pe.addEventListener("test",Ae,e),Pe.removeEventListener("test",Ae,e)}catch(t){}return r}();function ln(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function Gn(r,e){if(ln.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(In){e:{try{oi(e.nodeName);var h=!0;break e}catch(y){}h=!1}h||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:$n[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Gn.Z.h.call(this)}}ln.prototype.h=function(){this.defaultPrevented=!0},wn(Gn,ln);var $n={2:"touch",3:"pen",4:"mouse"};Gn.prototype.h=function(){Gn.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),ve=0;function He(r,e,t,o,h){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=h,this.key=++ve,this.ca=this.fa=!1}function _t(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Qe(r){this.src=r,this.g={},this.h=0}function Zt(r,e){var t=e.type;if(t in r.g){var y,o=r.g[t],h=Xe(o,e);(y=0<=h)&&Array.prototype.splice.call(o,h,1),y&&(_t(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function je(r,e,t,o){for(var h=0;h<r.length;++h){var y=r[h];if(!y.ca&&y.listener==e&&y.capture==!!t&&y.ia==o)return h}return-1}Qe.prototype.add=function(r,e,t,o,h){var y=r.toString();(r=this.g[y])||(r=this.g[y]=[],this.h++);var I=je(r,e,o,h);return-1<I?(e=r[I],t||(e.fa=!1)):((e=new He(e,this.src,y,!!o,h)).fa=t,r.push(e)),e};var Se="closure_lm_"+(1e6*Math.random()|0),fe={};function ze(r,e,t,o,h){if(o&&o.once)return xn(r,e,t,o,h);if(Array.isArray(e)){for(var y=0;y<e.length;y++)ze(r,e[y],t,o,h);return null}return t=Ur(t),r&&r[Re]?r.N(e,t,mt(o)?!!o.capture:!!o,h):At(r,e,t,!1,o,h)}function At(r,e,t,o,h,y){if(!e)throw Error("Invalid event type");var I=mt(h)?!!h.capture:!!h,F=Pi(r);if(F||(r[Se]=F=new Qe(r)),(t=F.add(e,t,o,I,y)).proxy)return t;if(o=function zt(){var e=as;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)un||(h=I),void 0===h&&(h=!1),r.addEventListener(e.toString(),o,h);else if(r.attachEvent)r.attachEvent(Gs(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function xn(r,e,t,o,h){if(Array.isArray(e)){for(var y=0;y<e.length;y++)xn(r,e[y],t,o,h);return null}return t=Ur(t),r&&r[Re]?r.O(e,t,mt(o)?!!o.capture:!!o,h):At(r,e,t,!0,o,h)}function Ci(r,e,t,o,h){if(Array.isArray(e))for(var y=0;y<e.length;y++)Ci(r,e[y],t,o,h);else o=mt(o)?!!o.capture:!!o,t=Ur(t),r&&r[Re]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=je(y=r.g[e],t,o,h))&&(_t(y[t]),Array.prototype.splice.call(y,t,1),0==y.length&&(delete r.g[e],r.h--))):r&&(r=Pi(r))&&(e=r.g[e.toString()],r=-1,e&&(r=je(e,t,o,h)),(t=-1<r?e[r]:null)&&tr(t))}function tr(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[Re])Zt(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(Gs(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Pi(e))?(Zt(t,r),0==t.h&&(t.src=null,e[Se]=null)):_t(r)}}}function Gs(r){return r in fe?fe[r]:fe[r]="on"+r}function as(r,e){if(r.ca)r=!0;else{e=new Gn(e,this);var t=r.listener,o=r.ia||r.src;r.fa&&tr(r),r=t.call(o,e)}return r}function Pi(r){return(r=r[Se])instanceof Qe?r:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ur(r){return"function"==typeof r?r:(r[Yi]||(r[Yi]=function(e){return r.handleEvent(e)}),r[Yi])}function Ii(){Dt.call(this),this.i=new Qe(this),this.P=this,this.I=null}function Nt(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new ln(e,r);else if(e instanceof ln)e.target=e.target||r;else{var h=e;$r(e=new ln(o,r),h)}if(h=!0,t)for(var y=t.length-1;0<=y;y--){var I=e.g=t[y];h=Wn(I,o,!0,e)&&h}if(h=Wn(I=e.g=r,o,!0,e)&&h,h=Wn(I,o,!1,e)&&h,t)for(y=0;y<t.length;y++)h=Wn(I=e.g=t[y],o,!1,e)&&h}function Wn(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,y=0;y<e.length;++y){var I=e[y];if(I&&!I.ca&&I.capture==t){var F=I.listener,ee=I.ia||I.src;I.fa&&Zt(r.i,I),h=!1!==F.call(ee,o)&&h}}return h&&!o.defaultPrevented}wn(Ii,Dt),Ii.prototype[Re]=!0,Ii.prototype.removeEventListener=function(r,e,t,o){Ci(this,r,e,t,o)},Ii.prototype.M=function(){if(Ii.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)_t(t[o]);delete r.g[e],r.h--}}this.I=null},Ii.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Ii.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var wi=Pe.JSON.stringify;function or(){var r=Ms;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Qr,Gi=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Yr,r=>r.reset());class Yr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ai(r){Pe.setTimeout(()=>{throw r},0)}function nr(r,e){Qr||function Kn(){var r=Pe.Promise.resolve(void 0);Qr=function(){r.then(Ws)}}(),Xr||(Qr(),Xr=!0),Ms.add(r,e)}var Xr=!1,Ms=new class ls{constructor(){this.h=this.g=null}add(e,t){const o=Gi.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ws(){for(var r;r=or();){try{r.h.call(r.g)}catch(t){Ai(t)}var e=Gi;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Xr=!1}function Tr(r,e){Ii.call(this),this.h=r||1,this.g=e||Pe,this.j=vt(this.kb,this),this.l=Date.now()}function Bi(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function ir(r,e,t){if("function"==typeof r)t&&(r=vt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=vt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Pe.setTimeout(r,e||0)}function ar(r){r.g=ir(()=>{r.g=null,r.i&&(r.i=!1,ar(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}wn(Tr,Ii),(xe=Tr.prototype).da=!1,xe.S=null,xe.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(Bi(this),this.start()))}},xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.M=function(){Tr.Z.M.call(this),Bi(this),delete this.g};class Sr extends Dt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ar(this)}M(){super.M(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(r){Dt.call(this),this.h=r,this.g={}}wn(xi,Dt);var ri=[];function zr(r,e,t,o){Array.isArray(t)||(t&&(ri[0]=t.toString()),t=ri);for(var h=0;h<t.length;h++){var y=ze(e,t[h],o||r.handleEvent,!1,r.h||r);if(!y)break;r.g[y.key]=y}}function Ar(r){Xn(r.g,function(e,t){this.g.hasOwnProperty(t)&&tr(e)},r),r.g={}}function mr(){this.g=!0}function Jr(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function po(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var h=o[1];if(Array.isArray(h)&&!(1>h.length)){var y=h[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var I=1;I<h.length;I++)h[I]=""}}}return wi(t)}catch(F){return e}}(r,t)+(o?" "+o:"")})}xi.prototype.M=function(){xi.Z.M.call(this),Ar(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mr.prototype.Aa=function(){this.g=!1},mr.prototype.info=function(){};var us={},No=null;function Wi(){return No=No||new Ii}function ys(r){ln.call(this,us.Ma,r)}function ko(r){const e=Wi();Nt(e,new ys(e,r))}function We(r,e){ln.call(this,us.STAT_EVENT,r),this.stat=e}function Le(r){const e=Wi();Nt(e,new We(e,r))}function ut(r,e){ln.call(this,us.Na,r),this.size=e}function Rt(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){r()},e)}us.Ma="serverreachability",wn(ys,ln),us.STAT_EVENT="statevent",wn(We,ln),us.Na="timingevent",wn(ut,ln);var Wt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ki(){}function Di(){}ki.prototype.h=null;var Ks,Li={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ji(){ln.call(this,"d")}function _s(){ln.call(this,"c")}function wr(){}function qs(r,e,t,o){this.l=r,this.j=e,this.m=t,this.X=o||1,this.V=new xi(this),this.P=io,this.W=new Tr(r=Dn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vs}function vs(){this.i=null,this.g="",this.h=!1}wn(ji,ln),wn(_s,ln),wn(wr,ki),wr.prototype.g=function(){return new XMLHttpRequest},wr.prototype.i=function(){return{}},Ks=new wr;var io=45e3,Wr={},ks={};function ro(r,e,t){r.K=1,r.v=bt(Ti(e)),r.s=t,r.U=!0,Zs(r,null)}function Zs(r,e){r.F=Date.now(),Dr(r),r.A=Ti(r.v);var t=r.A,o=r.X;Array.isArray(o)||(o=[String(o)]),Vo(t.h,"t",o),r.C=0,t=r.l.H,r.h=new vs,r.g=To(r.l,t?e:null,!r.s),0<r.O&&(r.L=new Sr(vt(r.Ia,r,r.g),r.O)),zr(r.V,r.g,"readystatechange",r.gb),e=r.H?Zn(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),ko(1),function ms(r,e,t,o,h,y){r.info(function(){if(r.g)if(y)for(var I="",F=y.split("&"),ee=0;ee<F.length;ee++){var oe=F[ee].split("=");if(1<oe.length){var we=oe[0];oe=oe[1];var Ge=we.split("_");I=2<=Ge.length&&"type"==Ge[1]?I+(we+"=")+oe+"&":I+(we+"=redacted&")}}else I=null;else I=y;return"XMLHTTP REQ ("+o+") [attempt "+h+"]: "+e+"\n"+t+"\n"+I})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Fo(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function Fs(r,e,t){let h,o=!0;for(;!r.I&&r.C<t.length;){if(h=Os(r,t),h==ks){4==e&&(r.o=4,Le(14),o=!1),Jr(r.j,r.m,null,"[Incomplete Response]");break}if(h==Wr){r.o=4,Le(15),Jr(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Jr(r.j,r.m,h,null),kr(r,h)}Fo(r)&&h!=ks&&h!=Wr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Le(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),la(e),e.L=!0,Le(11))):(Jr(r.j,r.m,t,"[Invalid Chunked Response]"),Nr(r),Ys(r))}function Os(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?ks:(t=Number(e.substring(t,o)),isNaN(t)?Wr:(o+=1)+t>e.length?ks:(e=e.substr(o,t),r.C=o+t,e))}function Dr(r){r.Y=Date.now()+r.P,is(r,r.P)}function is(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Rt(vt(r.eb,r),e)}function so(r){r.B&&(Pe.clearTimeout(r.B),r.B=null)}function Ys(r){0==r.l.G||r.I||Wa(r.l,r)}function Nr(r){so(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Bi(r.W),Ar(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function kr(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||zn(t.i,r)))if(t.I=r.N,!r.J&&zn(t.i,r)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(oe){o=null}if(Array.isArray(o)&&3==o.length){var h=o;if(0==h[0])e:if(t.u)t.ta=h[1],0<t.ta-t.U&&37500>h[2]&&t.N&&0==t.A&&!t.v&&(t.v=Rt(vt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;ss(t),$o(t)}zo(t),Le(18)}if(1>=Cn(t.i)&&t.ka){try{t.ka()}catch(oe){}t.ka=void 0}}else Ps(t,11)}else if((r.J||t.g==r)&&ss(t),!yi(e))for(h=t.Ca.g.parse(e),e=0;e<h.length;e++){let oe=h[e];if(t.U=oe[0],oe=oe[1],2==t.G)if("c"==oe[0]){t.J=oe[1],t.la=oe[2];const we=oe[3];null!=we&&(t.ma=we,t.h.info("VER="+t.ma));const Ge=oe[4];null!=Ge&&(t.za=Ge,t.h.info("SVER="+t.za));const wt=oe[5];null!=wt&&"number"==typeof wt&&0<wt&&(t.K=o=1.5*wt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Gt=r.g;if(Gt){const Yt=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yt){var y=o.i;!y.g&&(An(Yt,"spdy")||An(Yt,"quic")||An(Yt,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(vr(y,y.h),y.h=null))}if(o.D){const Ln=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ln&&(o.sa=Ln,Ce(o.F,o.D,Ln))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var I=r;if((o=t).oa=_o(o,o.H?o.la:null,o.W),I.J){cs(o.i,I);var F=I,ee=o.K;ee&&F.setTimeout(ee),F.B&&(so(F),Dr(F)),o.g=I}else Co(o);0<t.l.length&&za(t)}else"stop"!=oe[0]&&"close"!=oe[0]||Ps(t,7);else 3==t.G&&("stop"==oe[0]||"close"==oe[0]?"stop"==oe[0]?Ps(t,7):fs(t):"noop"!=oe[0]&&t.j&&t.j.wa(oe),t.A=0)}ko(4)}catch(oe){}}function mo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ze(r)||"string"==typeof r)Bt(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(Ze(r)||"string"==typeof r){t=[];for(var o=r.length,h=0;h<o;h++)t.push(h)}else for(h in t=[],o=0,r)t[o++]=h;o=function go(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Ze(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),h=o.length;for(var y=0;y<h;y++)e.call(void 0,o[y],t&&t[y],r)}}function yr(r,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(r)if(r instanceof yr)for(t=r.T(),o=0;o<t.length;o++)this.set(t[o],r.get(t[o]));else for(o in r)this.set(o,r[o])}function Qs(r){if(r.i!=r.g.length){for(var e=0,t=0;e<r.g.length;){var o=r.g[e];es(r.h,o)&&(r.g[t++]=o),e++}r.g.length=t}if(r.i!=r.g.length){var h={};for(t=e=0;e<r.g.length;)es(h,o=r.g[e])||(r.g[t++]=o,h[o]=1),e++;r.g.length=t}}function es(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(xe=qs.prototype).setTimeout=function(r){this.P=r},xe.gb=function(r){r=r.target;const e=this.L;e&&3==Bs(r)?e.l():this.Ia(r)},xe.Ia=function(r){try{if(r==this.g)e:{const we=Bs(this.g);var e=this.g.Da();const Ge=this.g.ba();if(!(3>we)&&(3!=we||Dn||this.g&&(this.h.h||this.g.ga()||Ha(this.g)))){this.I||4!=we||7==e||ko(8==e||0>=Ge?3:2),so(this);var t=this.g.ba();this.N=t;t:if(Fo(this)){var o=Ha(this.g);r="";var h=o.length,y=4==Bs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Nr(this),Ys(this);var I="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:y&&e==h-1});o.splice(0,h),this.h.g+=r,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==t,function Cs(r,e,t,o,h,y,I){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+y+" "+I})}(this.j,this.u,this.A,this.m,this.X,we,t),this.i){if(this.$&&!this.J){t:{if(this.g){var F,ee=this.g;if((F=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yi(F)){var oe=F;break t}}oe=null}if(!(t=oe)){this.i=!1,this.o=3,Le(12),Nr(this),Ys(this);break e}Jr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kr(this,t)}this.U?(Fs(this,we,I),Dn&&this.i&&3==we&&(zr(this.V,this.W,"tick",this.fb),this.W.start())):(Jr(this.j,this.m,I,null),kr(this,I)),4==we&&Nr(this),this.i&&!this.I&&(4==we?Wa(this.l,this):(this.i=!1,Dr(this)))}else 400==t&&0<I.indexOf("Unknown SID")?(this.o=3,Le(12)):(this.o=0,Le(13)),Nr(this),Ys(this)}}}catch(we){}},xe.fb=function(){if(this.g){var r=Bs(this.g),e=this.g.ga();this.C<e.length&&(so(this),Fs(this,r,e),this.i&&4!=r&&Dr(this))}},xe.cancel=function(){this.I=!0,Nr(this)},xe.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Gr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ko(3),Le(17)),Nr(this),this.o=2,Ys(this)):is(this,this.Y-r)},(xe=yr.prototype).R=function(){Qs(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},xe.T=function(){return Qs(this),this.g.concat()},xe.get=function(r,e){return es(this.h,r)?this.h[r]:e},xe.set=function(r,e){es(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},xe.forEach=function(r,e){for(var t=this.T(),o=0;o<t.length;o++){var h=t[o],y=this.get(h);r.call(e,y,h,this)}};var Fr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xs(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Xs){this.g=void 0!==e?e:r.g,G(this,r.j),this.s=r.s,se(this,r.i),z(this,r.m),this.l=r.l,e=r.h;var t=new Cr;t.i=e.i,e.g&&(t.g=new yr(e.g),t.h=e.h),le(this,t),this.o=r.o}else r&&(t=String(r).match(Fr))?(this.g=!!e,G(this,t[1]||"",!0),this.s=_i(t[2]||""),se(this,t[3]||"",!0),z(this,t[4]),this.l=_i(t[5]||"",!0),le(this,t[6]||"",!0),this.o=_i(t[7]||"")):(this.g=!!e,this.h=new Cr(null,this.g))}function Ti(r){return new Xs(r)}function G(r,e,t){r.j=t?_i(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function se(r,e,t){r.i=t?_i(e,!0):e}function z(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function le(r,e,t){e instanceof Cr?(r.h=e,function q(r,e){e&&!r.j&&(Mn(r),r.i=null,r.g.forEach(function(t,o){var h=o.toLowerCase();o!=h&&(oo(this,o),Vo(this,h,t))},r)),r.j=e}(r.h,r.g)):(t||(e=Si(e,Vi)),r.h=new Cr(e,r.g))}function Ce(r,e,t){r.h.set(e,t)}function bt(r){return Ce(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function _i(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Si(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ni),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ni(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Xs.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Si(e,fi,!0),":");var t=this.i;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Si(e,fi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(Si(t,"/"==t.charAt(0)?Hi:_r,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Si(t,bs)),r.join("")};var fi=/[#\/\?@]/g,_r=/[#\?:]/g,Hi=/[#\?]/g,Vi=/[#\?@]/g,bs=/#/g;function Cr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Mn(r){r.g||(r.g=new yr,r.h=0,r.i&&function Lo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),h=null;if(0<=o){var y=r[t].substring(0,o);h=r[t].substring(o+1)}else y=r[t];e(y,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function oo(r,e){Mn(r),e=ao(r,e),es(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,es((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&Qs(r)))}function Is(r,e){return Mn(r),e=ao(r,e),es(r.g.h,e)}function Vo(r,e,t){oo(r,e),0<t.length&&(r.i=null,r.g.set(ao(r,e),Fi(t)),r.h+=t.length)}function ao(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function U(r){this.l=r||Q,r=Pe.PerformanceNavigationTiming?0<(r=Pe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Pe.g&&Pe.g.Ea&&Pe.g.Ea()&&Pe.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=Cr.prototype).add=function(r,e){Mn(this),this.i=null,r=ao(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},xe.forEach=function(r,e){Mn(this),this.g.forEach(function(t,o){Bt(t,function(h){r.call(e,h,o,this)},this)},this)},xe.T=function(){Mn(this);for(var r=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var h=r[o],y=0;y<h.length;y++)t.push(e[o]);return t},xe.R=function(r){Mn(this);var e=[];if("string"==typeof r)Is(this,r)&&(e=Un(e,this.g.get(ao(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)e=Un(e,r[t])}return e},xe.set=function(r,e){return Mn(this),this.i=null,Is(this,r=ao(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},xe.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],h=encodeURIComponent(String(o));o=this.R(o);for(var y=0;y<o.length;y++){var I=h;""!==o[y]&&(I+="="+encodeURIComponent(String(o[y]))),r.push(I)}}return this.i=r.join("&")};var Q=10;function rt(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Cn(r){return r.h?1:r.g?r.g.size:0}function zn(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function vr(r,e){r.g?r.g.add(e):r.h=e}function cs(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function rs(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Fi(r.i)}function wo(){}function Do(){this.g=new wo}function Ko(r,e,t){const o=t||"";try{mo(r,function(h,y){let I=h;mt(h)&&(I=wi(h)),e.push(o+y+"="+encodeURIComponent(I))})}catch(h){throw e.push(o+"type="+encodeURIComponent("_badmap")),h}}function qo(r,e,t,o,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(o)}catch(y){}}function Es(r){this.l=r.$b||null,this.j=r.ib||!1}function ds(r,e){Ii.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}U.prototype.cancel=function(){if(this.i=rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},wo.prototype.stringify=function(r){return Pe.JSON.stringify(r,void 0)},wo.prototype.parse=function(r){return Pe.JSON.parse(r,void 0)},wn(Es,ki),Es.prototype.g=function(){return new ds(this.l,this.j)},Es.prototype.i=function(r){return function(){return r}}({}),wn(ds,Ii);var Ls=0;function xa(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Ts(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Lr(r)}function Lr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(xe=ds.prototype).open=function(r,e){if(this.readyState!=Ls)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Lr(this)},xe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||Pe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ts(this)),this.readyState=Ls},xe.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pe.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xa(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},xe.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Ts(this):Lr(this),3==this.readyState&&xa(this)}},xe.Ua=function(r){this.g&&(this.response=this.responseText=r,Ts(this))},xe.Ta=function(r){this.g&&(this.response=r,Ts(this))},xe.ha=function(){this.g&&Ts(this)},xe.setRequestHeader=function(r,e){this.v.append(r,e)},xe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Zo=Pe.JSON.parse;function Vr(r){Ii.call(this),this.headers=new yr,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yo,this.K=this.L=!1}wn(Vr,Ii);var Yo="",rl=/^https?$/i,sa=["POST","PUT"];function oa(r){return"content-type"==r.toLowerCase()}function ja(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,aa(r),hs(r)}function aa(r){r.D||(r.D=!0,Nt(r,"complete"),Nt(r,"error"))}function va(r){if(r.h&&void 0!==Me&&(!r.C[1]||4!=Bs(r)||2!=r.ba()))if(r.v&&4==Bs(r))ir(r.Fa,0,r);else if(Nt(r,"readystatechange"),4==Bs(r)){r.h=!1;try{const F=r.ba();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===F){var h=String(r.H).match(Fr)[1]||null;if(!h&&Pe.self&&Pe.self.location){var y=Pe.self.location.protocol;h=y.substr(0,y.length-1)}o=!rl.test(h?h.toLowerCase():"")}t=o}if(t)Nt(r,"complete"),Nt(r,"success");else{r.m=6;try{var I=2<Bs(r)?r.g.statusText:""}catch(ee){I=""}r.j=I+" ["+r.ba()+"]",aa(r)}}finally{hs(r)}}}function hs(r,e){if(r.g){Ma(r);const t=r.g,o=r.C[0]?Ae:null;r.g=null,r.C=null,e||Nt(r,"ready");try{t.onreadystatechange=o}catch(h){}}}function Ma(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Pe.clearTimeout(r.A),r.A=null)}function Bs(r){return r.g?r.g.readyState:0}function Ha(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case Yo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qo(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function sl(r){let e="";return Xn(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ce(r,e,t))}function ba(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Oa(r){this.za=0,this.l=[],this.h=new mr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ba("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ba("baseRetryDelayMs",5e3,r),this.$a=ba("retryDelaySeedMs",1e4,r),this.Ya=ba("forwardChannelMaxRetries",2,r),this.ra=ba("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new U(r&&r.concurrentRequestLimit),this.Ca=new Do,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function fs(r){if(ts(r),3==r.G){var e=r.V++,t=Ti(r.F);Ce(t,"SID",r.J),Ce(t,"RID",e),Ce(t,"TYPE","terminate"),Ga(r,t),(e=new qs(r,r.h,e,void 0)).K=2,e.v=bt(Ti(t)),t=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(t=Pe.navigator.sendBeacon(e.v.toString(),"")),!t&&Pe.Image&&((new Image).src=e.v,t=!0),t||(e.g=To(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Dr(e)}Io(r)}function $o(r){r.g&&(la(r),r.g.cancel(),r.g=null)}function ts(r){$o(r),r.u&&(Pe.clearTimeout(r.u),r.u=null),ss(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Pe.clearTimeout(r.m),r.m=null)}function $a(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&za(r)}function za(r){rt(r.i)||r.m||(r.m=!0,nr(r.Ha,r),r.C=0)}function Pa(r,e){var t;t=e?e.m:r.V++;const o=Ti(r.F);Ce(o,"SID",r.J),Ce(o,"RID",t),Ce(o,"AID",r.U),Ga(r,o),r.o&&r.s&&Qo(o,r.o,r.s),t=new qs(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.l=e.D.concat(r.l)),e=Ra(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),vr(r.i,t),ro(t,o,e)}function Ga(r,e){r.j&&mo({},function(t,o){Ce(e,o,t)})}function Ra(r,e,t){t=Math.min(r.l.length,t);var o=r.j?vt(r.j.Oa,r.j,r):null;e:{var h=r.l;let y=-1;for(;;){const I=["count="+t];-1==y?0<t?(y=h[0].h,I.push("ofs="+y)):y=0:I.push("ofs="+y);let F=!0;for(let ee=0;ee<t;ee++){let oe=h[ee].h;const we=h[ee].g;if(oe-=y,0>oe)y=Math.max(0,h[ee].h-100),F=!1;else try{Ko(we,I,"req"+oe+"_")}catch(Ge){o&&o(we)}}if(F){o=I.join("&");break e}}}return r=r.l.splice(0,t),e.D=r,o}function Co(r){r.g||r.u||(r.Y=1,nr(r.Ga,r),r.A=0)}function zo(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Rt(vt(r.Ga,r),yo(r,r.A)),r.A++,0))}function la(r){null!=r.B&&(Pe.clearTimeout(r.B),r.B=null)}function ns(r){r.g=new qs(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=Ti(r.oa);Ce(e,"RID","rpc"),Ce(e,"SID",r.J),Ce(e,"CI",r.N?"0":"1"),Ce(e,"AID",r.U),Ga(r,e),Ce(e,"TYPE","xmlhttp"),r.o&&r.s&&Qo(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=bt(Ti(e)),t.s=null,t.U=!0,Zs(t,r)}function ss(r){null!=r.v&&(Pe.clearTimeout(r.v),r.v=null)}function Wa(r,e){var t=null;if(r.g==e){ss(r),la(r),r.g=null;var o=2}else{if(!zn(r.i,e))return;t=e.D,cs(r.i,e),o=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=r.C;Nt(o=Wi(),new ut(o,t,e,h)),za(r)}else Co(r);else if(3==(h=e.o)||0==h&&0<r.I||!(1==o&&function Gl(r,e){return!(Cn(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Rt(vt(r.Ha,r,e),yo(r,r.C)),r.C++,0)))}(r,e)||2==o&&zo(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),h){case 1:Ps(r,5);break;case 4:Ps(r,10);break;case 3:Ps(r,6);break;default:Ps(r,2)}}function yo(r,e){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*e}function Ps(r,e){if(r.h.info("Error code "+e),2==e){var t=null;r.j&&(t=null);var o=vt(r.jb,r);t||(t=new Xs("//www.google.com/images/cleardot.gif"),Pe.location&&"http"==Pe.location.protocol||G(t,"https"),bt(t)),function il(r,e){const t=new mr;if(Pe.Image){const o=new Image;o.onload=on(qo,t,o,"TestLoadImage: loaded",!0,e),o.onerror=on(qo,t,o,"TestLoadImage: error",!1,e),o.onabort=on(qo,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=on(qo,t,o,"TestLoadImage: timeout",!1,e),Pe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Le(2);r.G=0,r.j&&r.j.va(e),Io(r),ts(r)}function Io(r){r.G=0,r.I=-1,r.j&&((0!=rs(r.i).length||0!=r.l.length)&&(r.i.i.length=0,Fi(r.l),r.l.length=0),r.j.ua())}function _o(r,e,t){let o=function Ft(r){return r instanceof Xs?Ti(r):new Xs(r,void 0)}(t);if(""!=o.i)e&&se(o,e+"."+o.i),z(o,o.m);else{const h=Pe.location;o=function Jt(r,e,t,o){var h=new Xs(null,void 0);return r&&G(h,r),e&&se(h,e),t&&z(h,t),o&&(h.l=o),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,t)}return r.aa&&Xn(r.aa,function(h,y){Ce(o,y,h)}),t=r.sa,(e=r.D)&&t&&Ce(o,e,t),Ce(o,"VER",r.ma),Ga(r,o),o}function To(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&r.Ba&&!r.qa?new Es({ib:!0}):r.qa)).L=r.H,e}function Ka(){}function Js(){if(qi&&!(10<=Number(Ct)))throw Error("Environmental error: no available transport.")}function eo(r,e){Ii.call(this),this.g=new Oa(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!yi(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yi(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new D(this)}function Wl(r){ji.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function W(){_s.call(this),this.status=1}function D(r){this.g=r}(xe=Vr.prototype).ea=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ks.g(),this.C=function dr(r){return r.h||(r.h=r.i())}(this.u?this.u:Ks),this.g.onreadystatechange=vt(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(y){return void ja(this,y)}r=t||"";const h=new yr(this.headers);o&&mo(o,function(y,I){h.set(I,y)}),o=function nn(r){e:{var e=oa;const t=r.length,o="string"==typeof r?r.split(""):r;for(let h=0;h<t;h++)if(h in o&&e.call(void 0,o[h],h,r)){e=h;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(h.T()),t=Pe.FormData&&r instanceof Pe.FormData,!(0<=Xe(sa,e))||o||t||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(y,I){this.g.setRequestHeader(I,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ma(this),0<this.B&&((this.K=function Vs(r){return qi&&function cr(){return function Ji(r){var e=bn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Ri(String(ti)).split("."),t=Ri("9").split("."),o=Math.max(e.length,t.length);for(let I=0;0==r&&I<o;I++){var h=e[I]||"",y=t[I]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==h[0].length&&0==y[0].length)break;r=zi(0==h[1].length?0:parseInt(h[1],10),0==y[1].length?0:parseInt(y[1],10))||zi(0==h[2].length,0==y[2].length)||zi(h[2],y[2]),h=h[3],y=y[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.pa,this)):this.A=ir(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(y){ja(this,y)}},xe.pa=function(){void 0!==Me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},xe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Nt(this,"complete"),Nt(this,"abort"),hs(this))},xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hs(this,!0)),Vr.Z.M.call(this)},xe.Fa=function(){this.s||(this.F||this.v||this.l?va(this):this.cb())},xe.cb=function(){va(this)},xe.ba=function(){try{return 2<Bs(this)?this.g.status:-1}catch(r){return-1}},xe.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},xe.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Zo(e)}},xe.Da=function(){return this.m},xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=Oa.prototype).ma=8,xe.G=1,xe.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},xe.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const h=new qs(this,this.h,r,void 0);let y=this.s;if(this.P&&(y?(y=Zn(y),$r(y,this.P)):y=this.P),null===this.o&&(h.H=y),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ra(this,h,e),Ce(t=Ti(this.F),"RID",r),Ce(t,"CVER",22),this.D&&Ce(t,"X-HTTP-Session-Id",this.D),Ga(this,t),this.o&&y&&Qo(t,this.o,y),vr(this.i,h),this.Ra&&Ce(t,"TYPE","init"),this.ja?(Ce(t,"$req",e),Ce(t,"SID","null"),h.$=!0,ro(h,t,null)):ro(h,t,e),this.G=2}}else 3==this.G&&(r?Pa(this,r):0==this.l.length||rt(this.i)||Pa(this))},xe.Ga=function(){if(this.u=null,ns(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Rt(vt(this.bb,this),r)}},xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Le(10),$o(this),ns(this))},xe.ab=function(){null!=this.v&&(this.v=null,$o(this),zo(this),Le(19))},xe.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Le(2)):(this.h.info("Failed to ping google.com"),Le(1))},(xe=Ka.prototype).xa=function(){},xe.wa=function(){},xe.va=function(){},xe.ua=function(){},xe.Oa=function(){},Js.prototype.g=function(r,e){return new eo(r,e)},wn(eo,Ii),eo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),nr(vt(r.hb,r,e))),Le(0),r.W=e,r.aa=t||{},r.N=r.X,r.F=_o(r,null,r.W),za(r)},eo.prototype.close=function(){fs(this.g)},eo.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,$a(this.g,e)}else this.v?((e={}).__data__=wi(r),$a(this.g,e)):$a(this.g,r)},eo.prototype.M=function(){this.g.j=null,delete this.j,fs(this.g),delete this.g,eo.Z.M.call(this)},wn(Wl,ji),wn(W,_s),wn(D,Ka),D.prototype.xa=function(){Nt(this.g,"a")},D.prototype.wa=function(r){Nt(this.g,new Wl(r))},D.prototype.va=function(r){Nt(this.g,new W(r))},D.prototype.ua=function(){Nt(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,eo.prototype.send=eo.prototype.u,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,Rn.COMPLETE="complete",Di.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",Ii.prototype.listen=Ii.prototype.N,Vr.prototype.listenOnce=Vr.prototype.O,Vr.prototype.getLastError=Vr.prototype.La,Vr.prototype.getLastErrorCode=Vr.prototype.Da,Vr.prototype.getStatus=Vr.prototype.ba,Vr.prototype.getResponseJson=Vr.prototype.Qa,Vr.prototype.getResponseText=Vr.prototype.ga,Vr.prototype.send=Vr.prototype.ea;var T=kt.createWebChannelTransport=function(){return new Js},B=kt.getStatEventTarget=function(){return Wi()},ie=kt.ErrorCode=Wt,he=kt.EventType=Rn,Ne=kt.Event=us,Ie=kt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ot=kt.FetchXmlHttpFactory=Es,Tt=kt.WebChannel=Di,_n=kt.XhrIo=Vr;const Tn="@firebase/firestore";class Vn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");let pi="9.6.11";const Fn=new _e.Yd("@firebase/firestore");function li(){return Fn.logLevel}function Lt(r,...e){if(Fn.logLevel<=_e.in.DEBUG){const t=e.map(hr);Fn.debug(`Firestore (${pi}): ${r}`,...t)}}function ai(r,...e){if(Fn.logLevel<=_e.in.ERROR){const t=e.map(hr);Fn.error(`Firestore (${pi}): ${r}`,...t)}}function Br(r,...e){if(Fn.logLevel<=_e.in.WARN){const t=e.map(hr);Fn.warn(`Firestore (${pi}): ${r}`,...t)}}function hr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function P(r="Unexpected state"){const e=`FIRESTORE (${pi}) INTERNAL ASSERTION FAILED: `+r;throw ai(e),new Error(e)}function M(r,e){r||P()}function k(r,e){return r}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class me{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Be{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Et{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vn.UNAUTHENTICATED))}shutdown(){}}class gn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vi{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let h=this.i;const y=oe=>this.i!==h?(h=this.i,t(oe)):Promise.resolve();let I=new me;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new me,e.enqueueRetryable(()=>y(this.currentUser))};const F=()=>{const oe=I;e.enqueueRetryable((0,Fe.Z)(function*(){yield oe.promise,yield y(o.currentUser)}))},ee=oe=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=oe,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(oe=>ee(oe)),setTimeout(()=>{if(!this.auth){const oe=this.t.getImmediate({optional:!0});oe?ee(oe):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new me)}},0),F()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(M("string"==typeof o.accessToken),new Be(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e),new Vn(e)}}class Pt{constructor(e,t,o){this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class cn{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Pt(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ci{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=y=>{null!=y.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const I=y.token!==this.p;return this.p=y.token,Lt("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?t(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>o(y))};const h=y=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.g.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.g.getImmediate({optional:!0});y?h(y):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(M("string"==typeof t.token),this.p=t.token,new rn(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class pr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function xr(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}pr.A=-1;class ps{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const h=xr(40);for(let y=0;y<h.length;++y)o.length<20&&h[y]<t&&(o+=e.charAt(h[y]%e.length))}return o}}function mn(r,e){return r<e?-1:r>e?1:0}function Na(r,e,t){return r.length===e.length&&r.every((o,h)=>t(o,e[h]))}function Dl(r){return r+"\0"}class Oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oi.fromMillis(Date.now())}static fromDate(e){return Oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Oi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jn(e)}static min(){return new jn(new Oi(0,0))}static max(){return new jn(new Oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ua(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Qi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Kl(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Gu{constructor(e,t,o){void 0===t?t=0:t>e.length&&P(),void 0===o?o=e.length-t:o>e.length-t&&P(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Gu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gu?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let h=0;h<o;h++){const y=e.get(h),I=t.get(h);if(y<I)return-1;if(y>I)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lr extends Gu{construct(e,t,o){return new lr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(h=>h.length>0))}return new lr(t)}static emptyPath(){return new lr([])}}const Cl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ss extends Gu{construct(e,t,o){return new Ss(e,t,o)}static isValidIdentifier(e){return Cl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ss.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ss(["__name__"])}static fromServerFormat(e){const t=[];let o="",h=0;const y=()=>{if(0===o.length)throw new X(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let I=!1;for(;h<e.length;){const F=e[h];if("\\"===F){if(h+1===e.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ee=e[h+1];if("\\"!==ee&&"."!==ee&&"`"!==ee)throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=ee,h+=2}else"`"===F?(I=!I,h++):"."!==F||I?(o+=F,h++):(y(),h++)}if(y(),I)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ss(t)}static emptyPath(){return new Ss([])}}class Il{constructor(e){this.fields=e,e.sort(Ss.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Kr(t)}static fromUint8Array(e){const t=function(o){let h="";for(let y=0;y<o.length;++y)h+=String.fromCharCode(o[y]);return h}(e);return new Kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const Nd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(r){if(M(!!r),"string"==typeof r){let e=0;const t=Nd.exec(r);if(M(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:os(r.seconds),nanos:os(r.nanos)}}function os(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Go(r){return"string"==typeof r?Kr.fromBase64String(r):Kr.fromUint8Array(r)}function fc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ql(r){const e=r.mapValue.fields.__previous_value__;return fc(e)?ql(e):e}function Us(r){const e=br(r.mapValue.fields.__local_write_time__.timestampValue);return new Oi(e.seconds,e.nanos)}class Xo{constructor(e,t,o,h,y,I,F,ee){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=h,this.ssl=y,this.forceLongPolling=I,this.autoDetectLongPolling=F,this.useFetchStreams=ee}}class Ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ea&&e.projectId===this.projectId&&e.database===this.database}}function lo(r){return null==r}function Ao(r){return 0===r&&1/r==-1/0}function ca(r){return"number"==typeof r&&Number.isInteger(r)&&!Ao(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class an{constructor(e){this.path=e}static fromPath(e){return new an(lr.fromString(e))}static fromName(e){return new an(lr.fromString(e).popFirst(5))}static empty(){return new an(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new an(new lr(e.slice()))}}const Zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mu={nullValue:"NULL_VALUE"};function qa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fc(r)?4:_u(r)?9:10:P()}function Jo(r,e){if(r===e)return!0;const t=qa(r);if(t!==qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Us(r).isEqual(Us(e));case 3:return function(o,h){if("string"==typeof o.timestampValue&&"string"==typeof h.timestampValue&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const y=br(o.timestampValue),I=br(h.timestampValue);return y.seconds===I.seconds&&y.nanos===I.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return h=e,Go(r.bytesValue).isEqual(Go(h.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return os(o.geoPointValue.latitude)===os(h.geoPointValue.latitude)&&os(o.geoPointValue.longitude)===os(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return os(o.integerValue)===os(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const y=os(o.doubleValue),I=os(h.doubleValue);return y===I?Ao(y)===Ao(I):isNaN(y)&&isNaN(I)}return!1}(r,e);case 9:return Na(r.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:return function(o,h){const y=o.mapValue.fields||{},I=h.mapValue.fields||{};if(ua(y)!==ua(I))return!1;for(const F in y)if(y.hasOwnProperty(F)&&(void 0===I[F]||!Jo(y[F],I[F])))return!1;return!0}(r,e);default:return P()}var h}function uo(r,e){return void 0!==(r.values||[]).find(t=>Jo(t,e))}function da(r,e){if(r===e)return 0;const t=qa(r),o=qa(e);if(t!==o)return mn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(r.booleanValue,e.booleanValue);case 2:return function(h,y){const I=os(h.integerValue||h.doubleValue),F=os(y.integerValue||y.doubleValue);return I<F?-1:I>F?1:I===F?0:isNaN(I)?isNaN(F)?0:-1:1}(r,e);case 3:return ol(r.timestampValue,e.timestampValue);case 4:return ol(Us(r),Us(e));case 5:return mn(r.stringValue,e.stringValue);case 6:return function(h,y){const I=Go(h),F=Go(y);return I.compareTo(F)}(r.bytesValue,e.bytesValue);case 7:return function(h,y){const I=h.split("/"),F=y.split("/");for(let ee=0;ee<I.length&&ee<F.length;ee++){const oe=mn(I[ee],F[ee]);if(0!==oe)return oe}return mn(I.length,F.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,y){const I=mn(os(h.latitude),os(y.latitude));return 0!==I?I:mn(os(h.longitude),os(y.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(h,y){const I=h.values||[],F=y.values||[];for(let ee=0;ee<I.length&&ee<F.length;++ee){const oe=da(I[ee],F[ee]);if(oe)return oe}return mn(I.length,F.length)}(r.arrayValue,e.arrayValue);case 10:return function(h,y){const I=h.fields||{},F=Object.keys(I),ee=y.fields||{},oe=Object.keys(ee);F.sort(),oe.sort();for(let we=0;we<F.length&&we<oe.length;++we){const Ge=mn(F[we],oe[we]);if(0!==Ge)return Ge;const wt=da(I[F[we]],ee[oe[we]]);if(0!==wt)return wt}return mn(F.length,oe.length)}(r.mapValue,e.mapValue);default:throw P()}}function ol(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return mn(r,e);const t=br(r),o=br(e),h=mn(t.seconds,o.seconds);return 0!==h?h:mn(t.nanos,o.nanos)}function al(r){return ka(r)}function ka(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const h=br(o);return`time(${h.seconds},${h.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Go(r.bytesValue).toBase64():"referenceValue"in r?an.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let h="[",y=!0;for(const I of o.values||[])y?y=!1:h+=",",h+=ka(I);return h+"]"}(r.arrayValue):"mapValue"in r?function(o){const h=Object.keys(o.fields||{}).sort();let y="{",I=!0;for(const F of h)I?I=!1:y+=",",y+=`${F}:${ka(o.fields[F])}`;return y+"}"}(r.mapValue):P();var e}function Rs(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function yu(r){return!!r&&"integerValue"in r}function ll(r){return!!r&&"arrayValue"in r}function Wo(r){return!!r&&"nullValue"in r}function pc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bo(r){return!!r&&"mapValue"in r}function Tl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Qi(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Tl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function _u(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wu(r){return"nullValue"in r?mu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Rs(Ea.empty(),an.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:P()}function wa(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Rs(Ea.empty(),an.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Zl:P()}function Sl(r,e){return void 0===r?e:void 0===e||da(r,e)>0?r:e}function vu(r,e){return void 0===r?e:void 0===e||da(r,e)<0?r:e}class j{constructor(e){this.value=e}static empty(){return new j({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Bo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Ss.emptyPath(),o={},h=[];e.forEach((I,F)=>{if(!t.isImmediateParentOf(F)){const ee=this.getFieldsMap(t);this.applyChanges(ee,o,h),o={},h=[],t=F.popLast()}I?o[F.lastSegment()]=Tl(I):h.push(F.lastSegment())});const y=this.getFieldsMap(t);this.applyChanges(y,o,h)}delete(e){const t=this.field(e.popLast());Bo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=t.mapValue.fields[e.get(o)];Bo(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,o){Qi(t,(h,y)=>e[h]=y);for(const h of o)delete e[h]}clone(){return new j(Tl(this.value))}}function Z(r){const e=[];return Qi(r.fields,(t,o)=>{const h=new Ss([t]);if(Bo(o)){const y=Z(o.mapValue).fields;if(0===y.length)e.push(h);else for(const I of y)e.push(h.child(I))}else e.push(h)}),new Il(e)}class re{constructor(e,t,o,h,y,I){this.key=e,this.documentType=t,this.version=o,this.readTime=h,this.data=y,this.documentState=I}static newInvalidDocument(e){return new re(e,0,jn.min(),jn.min(),j.empty(),0)}static newFoundDocument(e,t,o){return new re(e,1,t,jn.min(),o,0)}static newNoDocument(e,t){return new re(e,2,t,jn.min(),j.empty(),0)}static newUnknownDocument(e,t){return new re(e,3,t,jn.min(),j.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=j.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=j.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new re(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class De{constructor(e,t,o,h){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=h}}function nt(r){return r.fields.find(e=>2===e.kind)}function pt(r){return r.fields.filter(e=>2!==e.kind)}De.UNKNOWN_ID=-1;class Xt{constructor(e,t){this.fieldPath=e,this.kind=t}}class On{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new On(0,di.min())}}function Hn(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,h=jn.fromTimestamp(1e9===o?new Oi(t+1,0):new Oi(t,o));return new di(h,an.empty(),e)}function bi(r){return new di(r.readTime,r.key,-1)}class di{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new di(jn.min(),an.empty(),-1)}static max(){return new di(jn.max(),an.empty(),-1)}}function gi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=an.comparator(r.documentKey,e.documentKey),0!==t?t:mn(r.largestBatchId,e.largestBatchId))}class to{constructor(e,t=null,o=[],h=[],y=null,I=null,F=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=h,this.limit=y,this.startAt=I,this.endAt=F,this.P=null}}function As(r,e=null,t=[],o=[],h=null,y=null,I=null){return new to(r,e,t,o,h,y,I)}function ea(r){const e=k(r);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(h=o).field.canonicalString()+h.op.toString()+al(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),lo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>al(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>al(o)).join(",")),e.P=t}return e.P}function ws(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<r.orderBy.length;h++)if(!Ku(r.orderBy[h],e.orderBy[h]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let h=0;h<r.filters.length;h++)if((t=r.filters[h]).op!==(o=e.filters[h]).op||!t.field.isEqual(o.field)||!Jo(t.value,o.value))return!1;var t,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Cu(r.startAt,e.startAt)&&Cu(r.endAt,e.endAt)}function Uo(r){return an.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function ha(r,e){return r.filters.filter(t=>t instanceof vo&&t.field.isEqual(e))}function Za(r,e,t){let o,h=!0;for(const y of ha(r,e)){let I,F=!0;switch(y.op){case"<":case"<=":I=Wu(y.value);break;case"==":case"in":case">=":I=y.value;break;case">":I=y.value,F=!1;break;case"!=":case"not-in":I=mu}Sl(o,I)===I&&(o=I,h=F)}if(null!==t)for(let y=0;y<r.orderBy.length;++y)if(r.orderBy[y].field.isEqual(e)){const I=t.position[y];Sl(o,I)===I&&(o=I,h=t.inclusive);break}return{value:o,inclusive:h}}function Zc(r,e,t){let o,h=!0;for(const y of ha(r,e)){let I,F=!0;switch(y.op){case">=":case">":I=wa(y.value),F=!1;break;case"==":case"in":case"<=":I=y.value;break;case"<":I=y.value,F=!1;break;case"!=":case"not-in":I=Zl}vu(o,I)===I&&(o=I,h=F)}if(null!==t)for(let y=0;y<r.orderBy.length;++y)if(r.orderBy[y].field.isEqual(e)){const I=t.position[y];vu(o,I)===I&&(o=I,h=t.inclusive);break}return{value:o,inclusive:h}}class vo extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Eu(e,t,o):"array-contains"===t?new Yc(e,o):"in"===t?new Al(e,o):"not-in"===t?new Du(e,o):"array-contains-any"===t?new Ld(e,o):new vo(e,t,o)}static V(e,t,o){return"in"===t?new wu(e,o):new kd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(da(t,this.value)):null!==t&&qa(this.value)===qa(t)&&this.v(da(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Eu extends vo{constructor(e,t,o){super(e,t,o),this.key=an.fromName(o.referenceValue)}matches(e){const t=an.comparator(e.key,this.key);return this.v(t)}}class wu extends vo{constructor(e,t){super(e,"in",t),this.keys=Fd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kd extends vo{constructor(e,t){super(e,"not-in",t),this.keys=Fd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fd(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>an.fromName(o.referenceValue))}class Yc extends vo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ll(t)&&uo(t.arrayValue,this.value)}}class Al extends vo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uo(this.value.arrayValue,t)}}class Du extends vo{constructor(e,t){super(e,"not-in",t)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uo(this.value.arrayValue,t)}}class Ld extends vo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ll(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>uo(this.value.arrayValue,o))}}class xl{constructor(e,t){this.position=e,this.inclusive=t}}class Ml{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ku(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function gc(r,e,t){let o=0;for(let h=0;h<r.position.length;h++){const y=e[h],I=r.position[h];if(o=y.field.isKeyField()?an.comparator(an.fromName(I.referenceValue),t.key):da(I,t.data.field(y.field)),"desc"===y.dir&&(o*=-1),0!==o)break}return o}function Cu(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Jo(r.position[t],e.position[t]))return!1;return!0}class ul{constructor(e,t=null,o=[],h=[],y=null,I="F",F=null,ee=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=h,this.limit=y,this.limitType=I,this.startAt=F,this.endAt=ee,this.D=null,this.C=null}}function Qc(r,e,t,o,h,y,I,F){return new ul(r,e,t,o,h,y,I,F)}function cl(r){return new ul(r)}function Iu(r){return!lo(r.limit)&&"F"===r.limitType}function dl(r){return!lo(r.limit)&&"L"===r.limitType}function Xc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Tu(r){for(const e of r.filters)if(e.S())return e.field;return null}function Jc(r){return null!==r.collectionGroup}function Ya(r){const e=k(r);if(null===e.D){e.D=[];const t=Tu(e),o=Xc(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Ml(t)),e.D.push(new Ml(Ss.keyField(),"asc"));else{let h=!1;for(const y of e.explicitOrderBy)e.D.push(y),y.field.isKeyField()&&(h=!0);if(!h){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ml(Ss.keyField(),y))}}}return e.D}function ta(r){const e=k(r);if(!e.C)if("F"===e.limitType)e.C=As(e.path,e.collectionGroup,Ya(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const y of Ya(e))t.push(new Ml(y.field,"desc"===y.dir?"asc":"desc"));const o=e.endAt?new xl(e.endAt.position,!e.endAt.inclusive):null,h=e.startAt?new xl(e.startAt.position,!e.startAt.inclusive):null;e.C=As(e.path,e.collectionGroup,t,e.filters,e.limit,o,h)}return e.C}function mc(r,e,t){return new ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function hl(r,e){return ws(ta(r),ta(e))&&r.limitType===e.limitType}function qu(r){return`${ea(ta(r))}|lt:${r.limitType}`}function fl(r){return`Query(target=${function bu(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${al(o.value)}`;var o}).join(", ")}]`),lo(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>al(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>al(t)).join(",")),`Target(${e})`}(ta(r))}; limitType=${r.limitType})`}function ed(r,e){return e.isFoundDocument()&&function(t,o){const h=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):an.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(r,e)&&function(t,o){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1;return!0}(r,e)&&function(t,o){for(const h of t.filters)if(!h.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(h,y,I){const F=gc(h,y,I);return h.inclusive?F<=0:F<0}(t.startAt,Ya(t),o)||t.endAt&&!function(h,y,I){const F=gc(h,y,I);return h.inclusive?F>=0:F>0}(t.endAt,Ya(t),o)));var t,o}function Zu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function td(r){return(e,t)=>{let o=!1;for(const h of Ya(r)){const y=Qa(h,e,t);if(0!==y)return y;o=o||h.field.isKeyField()}return 0}}function Qa(r,e,t){const o=r.field.isKeyField()?an.comparator(e.key,t.key):function(h,y,I){const F=y.data.field(h),ee=I.data.field(h);return null!==F&&null!==ee?da(F,ee):P()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return P()}}function nd(r,e){if(r.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ao(e)?"-0":e}}function Da(r){return{integerValue:""+r}}function Yl(r,e){return ca(e)?Da(e):nd(r,e)}class Fa{constructor(){this._=void 0}}function id(r,e,t){return r instanceof Ql?function(o,h){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&(y.fields.__previous_value__=h),{mapValue:y}}(t,e):r instanceof La?yc(r,e):r instanceof Xl?Bd(r,e):function(o,h){const y=Vd(o,h),I=Ol(y)+Ol(o.k);return yu(y)&&yu(o.k)?Da(I):nd(o.M,I)}(r,e)}function rd(r,e,t){return r instanceof La?yc(r,e):r instanceof Xl?Bd(r,e):t}function Vd(r,e){return r instanceof Su?yu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Ql extends Fa{}class La extends Fa{constructor(e){super(),this.elements=e}}function yc(r,e){const t=gh(e);for(const o of r.elements)t.some(h=>Jo(h,o))||t.push(o);return{arrayValue:{values:t}}}class Xl extends Fa{constructor(e){super(),this.elements=e}}function Bd(r,e){let t=gh(e);for(const o of r.elements)t=t.filter(h=>!Jo(h,o));return{arrayValue:{values:t}}}class Su extends Fa{constructor(e,t){super(),this.M=e,this.k=t}}function Ol(r){return os(r.integerValue||r.doubleValue)}function gh(r){return ll(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Jl{constructor(e,t){this.field=e,this.transform=t}}class Ud{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pl(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Yu{}function tu(r,e,t){r instanceof nu?function(o,h,y){const I=o.value.clone(),F=sd(o.fieldTransforms,h,y.transformResults);I.setAll(F),h.convertToFoundDocument(y.version,I).setHasCommittedMutations()}(r,e,t):r instanceof pl?function(o,h,y){if(!Pl(o.precondition,h))return void h.convertToUnknownDocument(y.version);const I=sd(o.fieldTransforms,h,y.transformResults),F=h.data;F.setAll(vc(o)),F.setAll(I),h.convertToFoundDocument(y.version,F).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qu(r,e,t){var h;r instanceof nu?function(o,h,y){if(!Pl(o.precondition,h))return;const I=o.value.clone(),F=jd(o.fieldTransforms,y,h);I.setAll(F),h.convertToFoundDocument(Rl(h),I).setHasLocalMutations()}(r,e,t):r instanceof pl?function(o,h,y){if(!Pl(o.precondition,h))return;const I=jd(o.fieldTransforms,y,h),F=h.data;F.setAll(vc(o)),F.setAll(I),h.convertToFoundDocument(Rl(h),F).setHasLocalMutations()}(r,e,t):Pl(r.precondition,h=e)&&h.convertToNoDocument(jn.min())}function rf(r,e){let t=null;for(const o of r.fieldTransforms){const h=e.data.field(o.field),y=Vd(o.transform,h||null);null!=y&&(null==t&&(t=j.empty()),t.set(o.field,y))}return t||null}function _c(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Na(t,o,(h,y)=>function eu(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof La&&o instanceof La||t instanceof Xl&&o instanceof Xl?Na(t.elements,o.elements,Jo):t instanceof Su&&o instanceof Su?Jo(t.k,o.k):t instanceof Ql&&o instanceof Ql);var t,o}(h,y))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}function Rl(r){return r.isFoundDocument()?r.version:jn.min()}class nu extends Yu{constructor(e,t,o,h=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=h,this.type=0}}class pl extends Yu{constructor(e,t,o,h,y=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=h,this.fieldTransforms=y,this.type=1}}function vc(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function sd(r,e,t){const o=new Map;M(r.length===t.length);for(let h=0;h<t.length;h++){const y=r[h],I=y.transform,F=e.data.field(y.field);o.set(y.field,rd(I,F,t[h]))}return o}function jd(r,e,t){const o=new Map;for(const h of r){const y=h.transform,I=t.data.field(h.field);o.set(h.field,id(y,I,e))}return o}class Nl extends Yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Xu extends Yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class bc{constructor(e){this.count=e}}var Ns,rr;function od(r){switch(r){default:return P();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function Au(r){if(void 0===r)return ai("GRPC error has no .code"),L.UNKNOWN;switch(r){case Ns.OK:return L.OK;case Ns.CANCELLED:return L.CANCELLED;case Ns.UNKNOWN:return L.UNKNOWN;case Ns.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ns.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ns.INTERNAL:return L.INTERNAL;case Ns.UNAVAILABLE:return L.UNAVAILABLE;case Ns.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ns.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ns.NOT_FOUND:return L.NOT_FOUND;case Ns.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ns.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ns.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ns.ABORTED:return L.ABORTED;case Ns.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ns.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ns.DATA_LOSS:return L.DATA_LOSS;default:return P()}}(rr=Ns||(Ns={}))[rr.OK=0]="OK",rr[rr.CANCELLED=1]="CANCELLED",rr[rr.UNKNOWN=2]="UNKNOWN",rr[rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rr[rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rr[rr.NOT_FOUND=5]="NOT_FOUND",rr[rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",rr[rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",rr[rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",rr[rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rr[rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rr[rr.ABORTED=10]="ABORTED",rr[rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",rr[rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",rr[rr.INTERNAL=13]="INTERNAL",rr[rr.UNAVAILABLE=14]="UNAVAILABLE",rr[rr.DATA_LOSS=15]="DATA_LOSS";class fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[h,y]of o)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,t]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[t]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,o)=>{for(const[h,y]of o)e(h,y)})}isEmpty(){return Kl(this.inner)}size(){return this.innerSize}}class xs{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new xs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new xs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return t+o.left.size;h<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,t,o,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=t?o(e.key,t):1,t&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,t,o,h,y){this.key=e,this.value=t,this.color=null!=o?o:Xi.RED,this.left=null!=h?h:Xi.EMPTY,this.right=null!=y?y:Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,h,y){return new Xi(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=h?h:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let h=this;const y=o(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,t,o),null):0===y?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Xi.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(r,e,t,o,h){return this}insert(r,e,t){return new Xi(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jr{constructor(e){this.comparator=e,this.data=new xs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hd(this.data.getIterator())}getIteratorFrom(e){return new Hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,y=o.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jr(this.comparator);return t.data=e,t}}class Hd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xa(r){return r.hasNext()?r.getNext():void 0}const ad=new xs(an.comparator);function pa(){return ad}const wc=new xs(an.comparator);function ld(){return wc}function xu(){return new fa(r=>r.toString(),(r,e)=>r.isEqual(e))}const mh=new xs(an.comparator),sf=new jr(an.comparator);function Hr(...r){let e=sf;for(const t of r)e=e.add(t);return e}const Ju=new jr(mn);function co(){return Ju}class gl{constructor(e,t,o,h,y){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t)),new gl(jn.min(),o,co(),pa(),Hr())}}class kl{constructor(e,t,o,h,y){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,t){return new kl(Kr.EMPTY_BYTE_STRING,t,Hr(),Hr(),Hr())}}class iu{constructor(e,t,o,h){this.O=e,this.removedTargetIds=t,this.key=o,this.F=h}}class xo{constructor(e,t){this.targetId=e,this.$=t}}class Fl{constructor(e,t,o=Kr.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=h}}class Dc{constructor(){this.B=0,this.L=Ou(),this.U=Kr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Hr(),t=Hr(),o=Hr();return this.L.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:o=o.add(h);break;default:P()}}),new kl(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=Ou()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ga{constructor(e){this.nt=e,this.st=new Map,this.it=pa(),this.rt=Mu(),this.ot=new jr(mn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:P()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,h)=>{this.ft(h)&&t(h)})}_t(e){const t=e.targetId,o=e.$.count,h=this.wt(t);if(h){const y=h.target;if(Uo(y))if(0===o){const I=new an(y.path);this.ct(t,I,re.newNoDocument(I,jn.min()))}else M(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((y,I)=>{const F=this.wt(I);if(F){if(y.current&&Uo(F.target)){const ee=new an(F.target.path);null!==this.it.get(ee)||this.It(I,ee)||this.ct(I,ee,re.newNoDocument(ee,e))}y.j&&(t.set(I,y.H()),y.J())}});let o=Hr();this.rt.forEach((y,I)=>{let F=!0;I.forEachWhile(ee=>{const oe=this.wt(ee);return!oe||2===oe.purpose||(F=!1,!1)}),F&&(o=o.add(y))}),this.it.forEach((y,I)=>I.setReadTime(e));const h=new gl(e,t,this.ot,this.it,o);return this.it=pa(),this.rt=Mu(),this.ot=new jr(mn),h}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const h=this.lt(e);this.It(e,t)?h.Y(t,1):h.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Dc,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new jr(mn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Lt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Dc),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Mu(){return new xs(an.comparator)}function Ou(){return new xs(an.comparator)}const yh={asc:"ASCENDING",desc:"DESCENDING"},ec={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Cc{constructor(e,t){this.databaseId=e,this.N=t}}function Pu(r,e){return r.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ic(r,e){return r.N?e.toBase64():e.toUint8Array()}function _h(r,e){return Pu(r,e.toTimestamp())}function qr(r){return M(!!r),jn.fromTimestamp(function(e){const t=br(e);return new Oi(t.seconds,t.nanos)}(r))}function Tc(r,e){return(t=r,new lr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ud(r){const e=lr.fromString(r);return M(yn(e)),e}function ru(r,e){return Tc(r.databaseId,e.path)}function Ja(r,e){const t=ud(e);if(t.get(1)!==r.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new an(ou(t))}function Ru(r,e){return Tc(r.databaseId,e)}function bo(r){const e=ud(r);return 4===e.length?lr.emptyPath():ou(e)}function su(r){return new lr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ou(r){return M(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function $d(r,e,t){return{name:ru(r,e),fields:t.value.mapValue.fields}}function na(r,e,t){const o=Ja(r,e.name),h=qr(e.updateTime),y=new j({mapValue:{fields:e.fields}}),I=re.newFoundDocument(o,h,y);return t&&I.setHasCommittedMutations(),t?I.setHasCommittedMutations():I}function Nu(r,e){let t;if(e instanceof nu)t={update:$d(r,e.key,e.value)};else if(e instanceof Nl)t={delete:ru(r,e.key)};else if(e instanceof pl)t={update:$d(r,e.key,e.data),updateMask:St(e.fieldMask)};else{if(!(e instanceof Xu))return P();t={verify:ru(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(h,y){const I=y.transform;if(I instanceof Ql)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof La)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof Xl)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof Su)return{fieldPath:y.field.canonicalString(),increment:I.k};throw P()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:_h(r,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:P()),t;var h}function Sc(r,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Mr.updateTime(qr(h.updateTime)):void 0!==h.exists?Mr.exists(h.exists):Mr.none():Mr.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(y,I){let F=null;"setToServerValue"in I?(M("REQUEST_TIME"===I.setToServerValue),F=new Ql):"appendMissingElements"in I?F=new La(I.appendMissingElements.values||[]):"removeAllFromArray"in I?F=new Xl(I.removeAllFromArray.values||[]):"increment"in I?F=new Su(y,I.increment):P();const ee=Ss.fromServerFormat(I.fieldPath);return new Jl(ee,F)}(r,h)):[];var h;if(e.update){const h=Ja(r,e.update.name),y=new j({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Il((e.updateMask.fieldPaths||[]).map(oe=>Ss.fromServerFormat(oe)));return new pl(h,y,I,t,o)}return new nu(h,y,t,o)}if(e.delete){const h=Ja(r,e.delete);return new Nl(h,t)}if(e.verify){const h=Ja(r,e.verify);return new Xu(h,t)}return P()}function zd(r,e){return{documents:[Ru(r,e.path)]}}function Gd(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ru(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ru(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const h=function(ee){if(0===ee.length)return;const oe=ee.map(we=>function(Ge){if("=="===Ge.op){if(pc(Ge.value))return{unaryFilter:{field:O(Ge.field),op:"IS_NAN"}};if(Wo(Ge.value))return{unaryFilter:{field:O(Ge.field),op:"IS_NULL"}}}else if("!="===Ge.op){if(pc(Ge.value))return{unaryFilter:{field:O(Ge.field),op:"IS_NOT_NAN"}};if(Wo(Ge.value))return{unaryFilter:{field:O(Ge.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O(Ge.field),op:v(Ge.op),value:Ge.value}}}(we));return 1===oe.length?oe[0]:{compositeFilter:{op:"AND",filters:oe}}}(e.filters);h&&(t.structuredQuery.where=h);const y=function(ee){if(0!==ee.length)return ee.map(oe=>{return{field:O((we=oe).field),direction:m(we.dir)};var we})}(e.orderBy);y&&(t.structuredQuery.orderBy=y);const I=(oe=e.limit,r.N||lo(oe)?oe:{value:oe});var oe,F,ee;return null!==I&&(t.structuredQuery.limit=I),e.startAt&&(t.structuredQuery.startAt={before:(F=e.startAt).inclusive,values:F.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ee=e.endAt).inclusive,values:ee.position}),t}function Ac(r){let e=bo(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let h=null;if(o>0){M(1===o);const we=t.from[0];we.allDescendants?h=we.collectionId:e=e.child(we.collectionId)}let y=[];t.where&&(y=C(t.where));let I=[];t.orderBy&&(I=t.orderBy.map(we=>{return new Ml(J((Ge=we).field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ge.direction));var Ge}));let F=null;t.limit&&(F=function(we){let Ge;return Ge="object"==typeof we?we.value:we,lo(Ge)?null:Ge}(t.limit));let ee=null;var we;t.startAt&&(ee=new xl((we=t.startAt).values||[],!!we.before));let oe=null;return t.endAt&&(oe=function(we){return new xl(we.values||[],!we.before)}(t.endAt)),Qc(e,h,I,y,F,"F",ee,oe)}function C(r){return r?void 0!==r.unaryFilter?[et(r)]:void 0!==r.fieldFilter?[ce(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>C(e)).reduce((e,t)=>e.concat(t)):P():[]}function m(r){return yh[r]}function v(r){return ec[r]}function O(r){return{fieldPath:r.canonicalString()}}function J(r){return Ss.fromServerFormat(r.fieldPath)}function ce(r){return vo.create(J(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(r.fieldFilter.op),r.fieldFilter.value)}function et(r){switch(r.unaryFilter.op){case"IS_NAN":const e=J(r.unaryFilter.field);return vo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=J(r.unaryFilter.field);return vo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=J(r.unaryFilter.field);return vo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=J(r.unaryFilter.field);return vo.create(h,"!=",{nullValue:"NULL_VALUE"});default:return P()}}function St(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yn(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function En(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Jn(e)),e=ui(r.get(t),e);return Jn(e)}function ui(r,e){let t=e;const o=r.length;for(let h=0;h<o;h++){const y=r.charAt(h);switch(y){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=y}}return t}function Jn(r){return r+"\x01\x01"}function ur(r){const e=r.length;if(M(e>=2),2===e)return M("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),lr.emptyPath();const t=e-2,o=[];let h="";for(let y=0;y<e;){const I=r.indexOf("\x01",y);switch((I<0||I>t)&&P(),r.charAt(I+1)){case"\x01":const F=r.substring(y,I);let ee;0===h.length?ee=F:(h+=F,ee=h,h=""),o.push(ee);break;case"\x10":h+=r.substring(y,I),h+="\0";break;case"\x11":h+=r.substring(y,I+1);break;default:P()}y=I+2}return new lr(o)}const ma=["userId","batchId"];function ml(r,e){return[r,En(e)]}function Ll(r,e,t){return[r,En(e),t]}const au={},xc=["prefixPath","collectionGroup","readTime","documentId"],vh=["prefixPath","collectionGroup","documentId"],el=["collectionGroup","readTime","prefixPath","documentId"],ku=["canonicalId","targetId"],dd=["targetId","path"],Mc=["path","targetId"],Oc=["collectionId","parent"],bh=["indexId","uid"],hd=["uid","sequenceNumber"],Eh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],up=["indexId","uid","orderedDocumentKey"],cp=["userId","collectionPath","documentId"],dp=["userId","collectionPath","largestBatchId"],wh=["userId","collectionGroup","largestBatchId"],Kd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],of=[...Kd,"documentOverlays"],Fu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qd=[...Fu,"indexConfiguration","indexState","indexEntries"],ya="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mt((o,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(o,h)},this.catchCallback=y=>{this.wrapFailure(t,y).next(o,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Mt?t:Mt.resolve(t)}catch(t){return Mt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Mt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Mt.reject(t)}static resolve(e){return new Mt((t,o)=>{t(e)})}static reject(e){return new Mt((t,o)=>{o(e)})}static waitFor(e){return new Mt((t,o)=>{let h=0,y=0,I=!1;e.forEach(F=>{++h,F.next(()=>{++y,I&&y===h&&t()},ee=>o(ee))}),I=!0,y===h&&t()})}static or(e){let t=Mt.resolve(!1);for(const o of e)t=t.next(h=>h?Mt.resolve(h):o());return t}static forEach(e,t){const o=[];return e.forEach((h,y)=>{o.push(t.call(this,h,y))}),this.waitFor(o)}}class yl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new me,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Pc(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const h=Nc(o.target.error);this.At.reject(new Pc(e,h))}}static open(e,t,o,h){try{return new yl(t,e.transaction(h,o))}catch(y){throw new Pc(t,y)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lf(t)}}class tl{constructor(e,t,o){this.name=e,this.version=t,this.bt=o,12.2===tl.Vt((0,qe.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Lt("SimpleDb","Removing database:",e),Bl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,qe.hl)())return!1;if(tl.St())return!0;const e=(0,qe.z$)(),t=tl.Vt(e),o=0<t&&t<10,h=tl.Dt(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||y)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,Fe.Z)(function*(){return t.db||(Lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,h)=>{const y=indexedDB.open(t.name,t.version);y.onsuccess=I=>{o(I.target.result)},y.onblocked=()=>{h(new Pc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=I=>{const F=I.target.error;h("VersionError"===F.name?new X(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===F.name?new X(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+F):new Pc(e,F))},y.onupgradeneeded=I=>{Lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',I.oldVersion),t.bt.kt(I.target.result,y.transaction,I.oldVersion,t.version).next(()=>{Lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,h){var y=this;return(0,Fe.Z)(function*(){const I="readonly"===t;let F=0;for(;;){++F;try{y.db=yield y.Nt(e);const ee=yl.open(y.db,e,I?"readonly":"readwrite",o),oe=h(ee).next(we=>(ee.Pt(),we)).catch(we=>(ee.abort(we),Mt.reject(we))).toPromise();return oe.catch(()=>{}),yield ee.Rt,oe}catch(ee){const oe="FirebaseError"!==ee.name&&F<3;if(Lt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",oe),y.close(),!oe)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class af{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Bl(this.Ft.delete())}}class Pc extends X{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vl(r){return"IndexedDbTransactionError"===r.name}class lf{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Lt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Bl(o)}add(e){return Lt("SimpleDb","ADD",this.store.name,e,e),Bl(this.store.add(e))}get(e){return Bl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Lt("SimpleDb","DELETE",this.store.name,e),Bl(this.store.delete(e))}count(){return Lt("SimpleDb","COUNT",this.store.name),Bl(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const h=this.cursor(o),y=[];return this.Kt(h,(I,F)=>{y.push(F)}).next(()=>y)}{const h=this.store.getAll(o.range);return new Mt((y,I)=>{h.onerror=F=>{I(F.target.error)},h.onsuccess=F=>{y(F.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Mt((h,y)=>{o.onerror=I=>{y(I.target.error)},o.onsuccess=I=>{h(I.target.result)}})}Qt(e,t){Lt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const h=this.cursor(o);return this.Kt(h,(y,I,F)=>F.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const h=this.cursor(o);return this.Kt(h,t)}zt(e){const t=this.cursor({});return new Mt((o,h)=>{t.onerror=y=>{const I=Nc(y.target.error);h(I)},t.onsuccess=y=>{const I=y.target.result;I?e(I.primaryKey,I.value).next(F=>{F?I.continue():o()}):o()}})}Kt(e,t){const o=[];return new Mt((h,y)=>{e.onerror=I=>{y(I.target.error)},e.onsuccess=I=>{const F=I.target.result;if(!F)return void h();const ee=new af(F),oe=t(F.primaryKey,F.value,ee);if(oe instanceof Mt){const we=oe.catch(Ge=>(ee.done(),Mt.reject(Ge)));o.push(we)}ee.isDone?h():null===ee.Lt?F.continue():F.continue(ee.Lt)}}).next(()=>Mt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bl(r){return new Mt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const h=Nc(o.target.error);t(h)}})}let Rc=!1;function Nc(r){const e=tl.Vt((0,qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rc||(Rc=!0,setTimeout(()=>{throw o},0)),o}}return r}class Zd extends Dh{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Mo(r,e){const t=k(r);return tl.xt(t.Ht,e)}class kc{constructor(e,t,o,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&tu(y,e,o[h])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Qu(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Qu(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),h=o;this.applyToLocalView(h),o.isValidDocument()||h.convertToNoDocument(jn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hr())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(t,o)=>_c(t,o))&&Na(this.baseMutations,e.baseMutations,(t,o)=>_c(t,o))}}class u{constructor(e,t,o,h){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=h}static from(e,t,o){M(e.mutations.length===o.length);let h=mh;const y=e.mutations;for(let I=0;I<y.length;I++)h=h.insert(y[I].key,o[I].version);return new u(e,t,o,h)}}class l{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class a{constructor(e,t,o,h,y=jn.min(),I=jn.min(),F=Kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=F}withSequenceNumber(e){return new a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class c{constructor(e){this.Jt=e}}function g(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:ru(h=r.Jt,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:Pu(h,y.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:w(e.version)};else{if(!e.isUnknownDocument())return P();o.unknownDocument={path:t.path.toArray(),version:w(e.version)}}var h,y;return o}function _(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function w(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function A(r){const e=new Oi(r.seconds,r.nanoseconds);return jn.fromTimestamp(e)}function N(r,e){const t=(e.baseMutations||[]).map(y=>Sc(r.Jt,y));for(let y=0;y<e.mutations.length-1;++y){const I=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(I.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const o=e.mutations.map(y=>Sc(r.Jt,y)),h=Oi.fromMillis(e.localWriteTimeMs);return new kc(e.batchId,h,t,o)}function Y(r){const e=A(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?A(r.lastLimboFreeSnapshotVersion):jn.min();let o;var h;return void 0!==r.query.documents?(M(1===(h=r.query).documents.length),o=ta(cl(bo(h.documents[0])))):o=ta(Ac(r.query)),new a(o,r.targetId,0,r.lastListenSequenceNumber,e,t,Kr.fromBase64String(r.resumeToken))}function ne(r,e){const t=w(e.snapshotVersion),o=w(e.lastLimboFreeSnapshotVersion);let h;h=Uo(e.target)?zd(r.Jt,e.target):Gd(r.Jt,e.target);const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ea(e.target),readTime:t,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function de(r){const e=Ac({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?mc(e,e.limit,"L"):e}function Te(r,e){return new l(e.largestBatchId,Sc(r.Jt,e.overlayMutation))}function Ue(r,e){const t=e.path.lastSegment();return[r,En(e.path.popLast()),t]}class Ke{getBundleMetadata(e,t){return dt(e).get(t).next(o=>{if(o)return{id:(h=o).bundleId,createTime:A(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return dt(e).put({bundleId:(o=t).id,createTime:w(qr(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return gt(e).get(t).next(o=>{if(o)return{name:(h=o).name,query:de(h.bundledQuery),readTime:A(h.readTime)};var h})}saveNamedQuery(e,t){return gt(e).put({name:(o=t).name,readTime:w(qr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function dt(r){return Mo(r,"bundles")}function gt(r){return Mo(r,"namedQueries")}class Ut{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Ut(e,t.uid||"")}getOverlay(e,t){return tn(e).get(Ue(this.userId,t)).next(o=>o?Te(this.M,o):null)}saveOverlays(e,t,o){const h=[];return o.forEach((y,I)=>{const F=new l(t,I);h.push(this.Xt(e,F))}),Mt.waitFor(h)}removeOverlaysForBatchId(e,t,o){const h=new Set;t.forEach(I=>h.add(En(I.getCollectionPath())));const y=[];return h.forEach(I=>{const F=IDBKeyRange.bound([this.userId,I,o],[this.userId,I,o+1],!1,!0);y.push(tn(e).Qt("collectionPathOverlayIndex",F))}),Mt.waitFor(y)}getOverlaysForCollection(e,t,o){const h=xu(),y=En(t),I=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,Number.POSITIVE_INFINITY],!0);return tn(e).qt("collectionPathOverlayIndex",I).next(F=>{for(const ee of F){const oe=Te(this.M,ee);h.set(oe.getKey(),oe)}return h})}getOverlaysForCollectionGroup(e,t,o,h){const y=xu();let I;const F=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tn(e).Wt({index:"collectionGroupOverlayIndex",range:F},(ee,oe,we)=>{const Ge=Te(this.M,oe);y.size()<h||Ge.largestBatchId===I?(y.set(Ge.getKey(),Ge),I=Ge.largestBatchId):we.done()}).next(()=>y)}Xt(e,t){return tn(e).put(function(o,h,y){const[I,F,ee]=Ue(h,y.mutation.key);return{userId:h,collectionPath:F,documentId:ee,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Nu(o.Jt,y.mutation)}}(this.M,this.userId,t))}}function tn(r){return Mo(r,"documentOverlays")}class $t{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(os(e.integerValue));else if("doubleValue"in e){const o=os(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),Ao(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Go(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?_u(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):P()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const h of Object.keys(o))this.re(h,t),this.te(o[h],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const h of o)this.te(h,t)}ae(e,t){this.ne(t,37),an.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function jt(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Pn(r){const e=64-function(t){let o=0;for(let h=0;h<8;++h){const y=jt(255&t[h]);if(o+=y,8!==y)break}return o}(r);return Math.ceil(e/8)}$t.fe=new $t;class Nn{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const h=t.codePointAt(0);this._e(240|h>>>18),this._e(128|63&h>>>12),this._e(128|63&h>>>6),this._e(128|63&h)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const h=t.codePointAt(0);this.ge(240|h>>>18),this.ge(128|63&h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h)}}this.ye()}Te(e){const t=this.Ee(e),o=Pn(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let h=t.length-o;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Re(e){const t=this.Ee(e),o=Pn(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let h=t.length-o;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(h){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,h,!1),new Uint8Array(y.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let h=1;h<t.length;++h)t[h]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Yn{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class ii{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ir{constructor(){this.De=new Nn,this.Ce=new Yn(this.De),this.xe=new ii(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class $i{constructor(e,t,o,h){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=h}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new $i(this.indexId,this.documentKey,this.arrayValue,o)}}function Ki(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=ho(r.arrayValue,e.arrayValue),0!==t?t:(t=ho(r.directionalValue,e.directionalValue),0!==t?t:an.comparator(r.documentKey,e.documentKey)))}function ho(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class ei{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=nt(e);if(void 0!==t&&!this.Be(t))return!1;const o=pt(e);let h=0,y=0;for(;h<o.length&&this.Be(o[h]);++h);if(h===o.length)return!0;if(void 0!==this.Fe){const I=o[h];if(!this.Le(this.Fe,I)||!this.Ue(this.Me[y++],I))return!1;++h}for(;h<o.length;++h){const I=o[h];if(y>=this.Me.length||!this.Ue(this.Me[y++],I))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sr{constructor(){this.qe=new Zr}addToCollectionParentIndex(e,t){return this.qe.add(t),Mt.resolve()}getCollectionParents(e,t){return Mt.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Mt.resolve()}deleteFieldIndex(e,t){return Mt.resolve()}getDocumentsMatchingTarget(e,t){return Mt.resolve(null)}getFieldIndex(e,t){return Mt.resolve(null)}getFieldIndexes(e,t){return Mt.resolve([])}getNextCollectionGroupToUpdate(e){return Mt.resolve(null)}updateCollectionGroup(e,t,o){return Mt.resolve()}updateIndexEntries(e,t){return Mt.resolve()}}class Zr{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),h=this.index[t]||new jr(lr.comparator),y=!h.has(o);return this.index[t]=h.add(o),y}has(e){const t=e.lastSegment(),o=e.popLast(),h=this.index[t];return h&&h.has(o)}getEntries(e){return(this.index[e]||new jr(lr.comparator)).toArray()}}const _l=new Uint8Array(0);class Ul{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Zr,this.Ge=new fa(o=>ea(o),(o,h)=>ws(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const y={collectionId:o,parent:En(h)};return ra(e).put(y)}return Mt.resolve()}getCollectionParents(e,t){const o=[],h=IDBKeyRange.bound([t,""],[Dl(t),""],!1,!0);return ra(e).qt(h).next(y=>{for(const I of y){if(I.collectionId!==t)break;o.push(ur(I.parent))}return o})}addFieldIndex(e,t){const o=tc(e),h={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(I=>[I.fieldPath.canonicalString(),I.kind])};var y;return delete h.indexId,o.add(h).next()}deleteFieldIndex(e,t){const o=tc(e),h=bl(e),y=vl(e);return o.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=vl(e);let h=!0;const y=new Map;return Mt.forEach(this.Qe(t),I=>this.getFieldIndex(e,I).next(F=>{h&&(h=!!F),y.set(I,F)})).next(()=>{if(h){let I=Hr();const F=[];return Mt.forEach(y,(ee,oe)=>{var we;Lt("IndexedDbIndexManager",`Using index ${we=ee,`id=${we.indexId}|cg=${we.collectionGroup}|f=${we.fields.map(gs=>`${gs.fieldPath}:${gs.kind}`).join(",")}`} to execute ${ea(t)}`);const Ge=function(gs,no){const zs=nt(no);if(void 0===zs)return null;for(const fo of ha(gs,zs.fieldPath))switch(fo.op){case"array-contains-any":return fo.value.arrayValue.values||[];case"array-contains":return[fo.value]}return null}(oe,ee),wt=function(gs,no){const zs=new Map;for(const fo of pt(no))for(const Aa of ha(gs,fo.fieldPath))switch(Aa.op){case"==":case"in":zs.set(fo.fieldPath.canonicalString(),Aa.value);break;case"not-in":case"!=":return zs.set(fo.fieldPath.canonicalString(),Aa.value),Array.from(zs.values())}return null}(oe,ee),Gt=function(gs,no){const zs=[];let fo=!0;for(const Aa of pt(no)){const Rd=0===Aa.kind?Za(gs,Aa.fieldPath,gs.startAt):Zc(gs,Aa.fieldPath,gs.startAt);if(!Rd.value)return null;zs.push(Rd.value),fo&&(fo=Rd.inclusive)}return new xl(zs,fo)}(oe,ee),Yt=function(gs,no){const zs=[];let fo=!0;for(const Aa of pt(no)){const Rd=0===Aa.kind?Zc(gs,Aa.fieldPath,gs.endAt):Za(gs,Aa.fieldPath,gs.endAt);if(!Rd.value)return null;zs.push(Rd.value),fo&&(fo=Rd.inclusive)}return new xl(zs,fo)}(oe,ee),Ln=this.je(ee,oe,Gt),Mi=this.je(ee,oe,Yt),$s=this.We(ee,oe,wt),Ro=this.ze(ee.indexId,Ge,Ln,!!Gt&&Gt.inclusive,Mi,!!Yt&&Yt.inclusive,$s);return Mt.forEach(Ro,gs=>o.Gt(gs,t.limit).next(no=>{no.forEach(zs=>{const fo=an.fromSegments(zs.documentKey);I.has(fo)||(I=I.add(fo),F.push(fo))})}))}).next(()=>F)}return Mt.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,o,h,y,I,F){const ee=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=y?y.length:1),oe=ee/(null!=t?t.length:1),we=[];for(let Ge=0;Ge<ee;++Ge){const wt=t?this.He(t[Ge/oe]):_l,Gt=o?this.Je(e,wt,o[Ge%oe],h):this.Ye(e),Yt=y?this.Xe(e,wt,y[Ge%oe],I):this.Ye(e+1);we.push(...this.createRange(Gt,Yt,F.map(Ln=>this.Je(e,wt,Ln,!0))))}return we}Je(e,t,o,h){const y=new $i(e,an.empty(),t,o);return h?y:y.ke()}Xe(e,t,o,h){const y=new $i(e,an.empty(),t,o);return h?y.ke():y}Ye(e){return new $i(e,an.empty(),_l,_l)}getFieldIndex(e,t){const o=new ei(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{const I=y.filter(F=>o.$e(F));return I.sort((F,ee)=>ee.fields.length-F.fields.length),I.length>0?I[0]:null})}Ze(e,t){const o=new Ir;for(const h of pt(e)){const y=t.data.field(h.fieldPath);if(null==y)return null;const I=o.Ne(h.kind);$t.fe.Zt(y,I)}return o.Se()}He(e){const t=new Ir;return $t.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new Ir;return $t.fe.Zt(Rs(this.databaseId,t),o.Ne(function(h){const y=pt(h);return 0===y.length?0:y[y.length-1].kind}(e))),o.Se()}We(e,t,o){if(null===o)return[];let h=[];h.push(new Ir);let y=0;for(const I of pt(e)){const F=o[y++];for(const ee of h)if(this.en(t,I.fieldPath)&&ll(F))h=this.nn(h,I,F);else{const oe=ee.Ne(I.kind);$t.fe.Zt(F,oe)}}return this.sn(h)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const h=[...e],y=[];for(const I of o.arrayValue.values||[])for(const F of h){const ee=new Ir;ee.seed(F.Se()),$t.fe.Zt(I,ee.Ne(t.kind)),y.push(ee)}return y}en(e,t){return!!e.filters.find(o=>o instanceof vo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=tc(e),h=bl(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(y=>{const I=[];return Mt.forEach(y,F=>h.get([F.indexId,this.uid]).next(ee=>{I.push(function(oe,we){const Ge=we?new On(we.sequenceNumber,new di(A(we.readTime),new an(ur(we.documentKey)),we.largestBatchId)):On.empty(),wt=oe.fields.map(([Gt,Yt])=>new Xt(Ss.fromServerFormat(Gt),Yt));return new De(oe.indexId,oe.collectionGroup,wt,Ge)}(F,ee))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,h)=>{const y=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:mn(o.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const h=tc(e),y=bl(e);return this.rn(e).next(I=>h.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(F=>Mt.forEach(F,ee=>{return y.put({indexId:ee.indexId,uid:this.user.uid||"",sequenceNumber:I,readTime:w((wt=o).readTime),documentKey:En(wt.documentKey.path),largestBatchId:wt.largestBatchId});var wt})))}updateIndexEntries(e,t){const o=new Map;return Mt.forEach(t,(h,y)=>{const I=o.get(h.collectionGroup);return(I?Mt.resolve(I):this.getFieldIndexes(e,h.collectionGroup)).next(F=>(o.set(h.collectionGroup,F),Mt.forEach(F,ee=>this.on(e,h,ee).next(oe=>{const we=this.un(y,ee);return oe.isEqual(we)?Mt.resolve():this.an(e,y,ee,oe,we)}))))})}cn(e,t,o,h){return vl(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,h){return vl(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const h=vl(e);let y=new jr(Ki);return h.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(I,F)=>{y=y.add(new $i(o.indexId,t,F.arrayValue,F.directionalValue))}).next(()=>y)}un(e,t){let o=new jr(Ki);const h=this.Ze(t,e);if(null==h)return o;const y=nt(t);if(null!=y){const I=e.data.field(y.fieldPath);if(ll(I))for(const F of I.arrayValue.values||[])o=o.add(new $i(t.indexId,e.key,this.He(F),h))}else o=o.add(new $i(t.indexId,e.key,_l,h));return o}an(e,t,o,h,y){Lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const I=[];return function(F,ee,oe,we,Ge){const wt=F.getIterator(),Gt=ee.getIterator();let Yt=Xa(wt),Ln=Xa(Gt);for(;Yt||Ln;){let Mi=!1,$s=!1;if(Yt&&Ln){const Ro=oe(Yt,Ln);Ro<0?$s=!0:Ro>0&&(Mi=!0)}else null!=Yt?$s=!0:Mi=!0;Mi?(we(Ln),Ln=Xa(Gt)):$s?(Ge(Yt),Yt=Xa(wt)):(Yt=Xa(wt),Ln=Xa(Gt))}}(h,y,Ki,F=>{I.push(this.cn(e,t,o,F))},F=>{I.push(this.hn(e,t,o,F))}),Mt.waitFor(I)}rn(e){let t=1;return bl(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,y)=>{y.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((I,F)=>Ki(I,F)).filter((I,F,ee)=>!F||0!==Ki(I,ee[F-1]));const h=[];h.push(e);for(const I of o){const F=Ki(I,e),ee=Ki(I,t);if(0===F)h[0]=e.ke();else if(F>0&&ee<0)h.push(I),h.push(I.ke());else if(ee>0)break}h.push(t);const y=[];for(let I=0;I<h.length;I+=2)y.push(IDBKeyRange.bound([h[I].indexId,this.uid,h[I].arrayValue,h[I].directionalValue,_l,[]],[h[I+1].indexId,this.uid,h[I+1].arrayValue,h[I+1].directionalValue,_l,[]]));return y}}function ra(r){return Mo(r,"collectionParents")}function vl(r){return Mo(r,"indexEntries")}function tc(r){return Mo(r,"indexConfiguration")}function bl(r){return Mo(r,"indexState")}const Ca={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new jo(e,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fd(r,e,t){const o=r.store("mutations"),h=r.store("documentMutations"),y=[],I=IDBKeyRange.only(t.batchId);let F=0;const ee=o.Wt({range:I},(we,Ge,wt)=>(F++,wt.delete()));y.push(ee.next(()=>{M(1===F)}));const oe=[];for(const we of t.mutations){const Ge=Ll(e,we.key.path,t.batchId);y.push(h.delete(Ge)),oe.push(we.key)}return Mt.waitFor(y).next(()=>oe)}function Lu(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw P();e=r.noDocument}return JSON.stringify(e).length}jo.DEFAULT_COLLECTION_PERCENTILE=10,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jo.DEFAULT=new jo(41943040,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jo.DISABLED=new jo(-1,0,0);class zg{constructor(e,t,o,h){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=h,this.ln={}}static Yt(e,t,o,h){M(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new zg(y,t,o,h)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pd(e).Wt({index:"userMutationsIndex",range:o},(h,y,I)=>{t=!1,I.done()}).next(()=>t)}addMutationBatch(e,t,o,h){const y=nc(e),I=pd(e);return I.add({}).next(F=>{M("number"==typeof F);const ee=new kc(F,t,o,h),oe=function(wt,Gt,Yt){const Ln=Yt.baseMutations.map($s=>Nu(wt.Jt,$s)),Mi=Yt.mutations.map($s=>Nu(wt.Jt,$s));return{userId:Gt,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:Ln,mutations:Mi}}(this.M,this.userId,ee),we=[];let Ge=new jr((wt,Gt)=>mn(wt.canonicalString(),Gt.canonicalString()));for(const wt of h){const Gt=Ll(this.userId,wt.key.path,F);Ge=Ge.add(wt.key.path.popLast()),we.push(I.put(oe)),we.push(y.put(Gt,au))}return Ge.forEach(wt=>{we.push(this.indexManager.addToCollectionParentIndex(e,wt))}),e.addOnCommittedListener(()=>{this.ln[F]=ee.keys()}),Mt.waitFor(we).next(()=>ee)})}lookupMutationBatch(e,t){return pd(e).get(t).next(o=>o?(M(o.userId===this.userId),N(this.M,o)):null)}fn(e,t){return this.ln[t]?Mt.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const h=o.keys();return this.ln[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,h=IDBKeyRange.lowerBound([this.userId,o]);let y=null;return pd(e).Wt({index:"userMutationsIndex",range:h},(I,F,ee)=>{F.userId===this.userId&&(M(F.batchId>=o),y=N(this.M,F)),ee.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return pd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(h,y,I)=>{o=y.batchId,I.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pd(e).qt("userMutationsIndex",t).next(o=>o.map(h=>N(this.M,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=ml(this.userId,t.path),h=IDBKeyRange.lowerBound(o),y=[];return nc(e).Wt({range:h},(I,F,ee)=>{const[oe,we,Ge]=I,wt=ur(we);if(oe===this.userId&&t.path.isEqual(wt))return pd(e).get(Ge).next(Gt=>{if(!Gt)throw P();M(Gt.userId===this.userId),y.push(N(this.M,Gt))});ee.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new jr(mn);const h=[];return t.forEach(y=>{const I=ml(this.userId,y.path),F=IDBKeyRange.lowerBound(I),ee=nc(e).Wt({range:F},(oe,we,Ge)=>{const[wt,Gt,Yt]=oe,Ln=ur(Gt);wt===this.userId&&y.path.isEqual(Ln)?o=o.add(Yt):Ge.done()});h.push(ee)}),Mt.waitFor(h).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,h=o.length+1,y=ml(this.userId,o),I=IDBKeyRange.lowerBound(y);let F=new jr(mn);return nc(e).Wt({range:I},(ee,oe,we)=>{const[Ge,wt,Gt]=ee,Yt=ur(wt);Ge===this.userId&&o.isPrefixOf(Yt)?Yt.length===h&&(F=F.add(Gt)):we.done()}).next(()=>this.dn(e,F))}dn(e,t){const o=[],h=[];return t.forEach(y=>{h.push(pd(e).get(y).next(I=>{if(null===I)throw P();M(I.userId===this.userId),o.push(N(this.M,I))}))}),Mt.waitFor(h).next(()=>o)}removeMutationBatch(e,t){return fd(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Mt.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Mt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return nc(e).Wt({range:o},(y,I,F)=>{if(y[0]===this.userId){const ee=ur(y[1]);h.push(ee)}else F.done()}).next(()=>{M(0===h.length)})})}containsKey(e,t){return hp(e,this.userId,t)}wn(e){return Ch(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hp(r,e,t){const o=ml(e,t.path),h=o[1],y=IDBKeyRange.lowerBound(o);let I=!1;return nc(r).Wt({range:y,jt:!0},(F,ee,oe)=>{const[we,Ge,wt]=F;we===e&&Ge===h&&(I=!0),oe.done()}).next(()=>I)}function pd(r){return Mo(r,"mutations")}function nc(r){return Mo(r,"documentMutations")}function Ch(r){return Mo(r,"mutationQueues")}class ic{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ic(0)}static yn(){return new ic(-1)}}class fp{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new ic(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>jn.fromTimestamp(new Oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(h=>(h.highestListenSequenceNumber=t,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.In(e,h)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Fc(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(M(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let h=0;const y=[];return Fc(e).Wt((I,F)=>{const ee=Y(F);ee.sequenceNumber<=t&&null===o.get(ee.targetId)&&(h++,y.push(this.removeTargetData(e,ee)))}).next(()=>Mt.waitFor(y)).next(()=>h)}forEachTarget(e,t){return Fc(e).Wt((o,h)=>{const y=Y(h);t(y)})}pn(e){return Gy(e).get("targetGlobalKey").next(t=>(M(null!==t),t))}In(e,t){return Gy(e).put("targetGlobalKey",t)}Tn(e,t){return Fc(e).put(ne(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=ea(t),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let y=null;return Fc(e).Wt({range:h,index:"queryTargetsIndex"},(I,F,ee)=>{const oe=Y(F);ws(t,oe.target)&&(y=oe,ee.done())}).next(()=>y)}addMatchingKeys(e,t,o){const h=[],y=Lc(e);return t.forEach(I=>{const F=En(I.path);h.push(y.put({targetId:o,path:F})),h.push(this.referenceDelegate.addReference(e,o,I))}),Mt.waitFor(h)}removeMatchingKeys(e,t,o){const h=Lc(e);return Mt.forEach(t,y=>{const I=En(y.path);return Mt.waitFor([h.delete([o,I]),this.referenceDelegate.removeReference(e,o,y)])})}removeMatchingKeysForTargetId(e,t){const o=Lc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),h=Lc(e);let y=Hr();return h.Wt({range:o,jt:!0},(I,F,ee)=>{const oe=ur(I[1]),we=new an(oe);y=y.add(we)}).next(()=>y)}containsKey(e,t){const o=En(t.path),h=IDBKeyRange.bound([o],[Dl(o)],!1,!0);let y=0;return Lc(e).Wt({index:"documentTargetsIndex",jt:!0,range:h},([I,F],ee,oe)=>{0!==I&&(y++,oe.done())}).next(()=>y>0)}Et(e,t){return Fc(e).get(t).next(o=>o?Y(o):null)}}function Fc(r){return Mo(r,"targets")}function Gy(r){return Mo(r,"targetGlobal")}function Lc(r){return Mo(r,"targetDocuments")}function gd(r){return pp.apply(this,arguments)}function pp(){return pp=(0,Fe.Z)(function*(r){if(r.code!==L.FAILED_PRECONDITION||r.message!==ya)throw r;Lt("LocalStore","Unexpectedly lost primary lease")}),pp.apply(this,arguments)}function Gg([r,e],[t,o]){const h=mn(r,t);return 0===h?mn(e,o):h}class Wg{constructor(e){this.An=e,this.buffer=new jr(Gg),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Gg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $v{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;Lt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Fe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(h){Vl(h)?Lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield gd(h)}yield t.Sn(e)}))}}class Wy{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Mt.resolve(pr.A);const o=new Wg(t);return this.Dn.forEachTarget(e,h=>o.bn(h.sequenceNumber)).next(()=>this.Dn.xn(e,h=>o.bn(h))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(Ca)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ca):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,h,y,I,F,ee,oe;const we=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ge=>(Ge>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ge}`),h=this.params.maximumSequenceNumbersToCollect):h=Ge,I=Date.now(),this.nthSequenceNumber(e,h))).next(Ge=>(o=Ge,F=Date.now(),this.removeTargets(e,o,t))).next(Ge=>(y=Ge,ee=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ge=>(oe=Date.now(),li()<=_e.in.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-we}ms\n\tDetermined least recently used ${h} in `+(F-I)+`ms\n\tRemoved ${y} targets in `+(ee-F)+`ms\n\tRemoved ${Ge} documents in `+(oe-ee)+`ms\nTotal Duration: ${oe-we}ms`),Mt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:Ge})))}}class zv{constructor(e,t){this.db=e,this.garbageCollector=new Wy(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(h=>o+h))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,h)=>t(h))}addReference(e,t,o){return Ih(e,o)}removeReference(e,t,o){return Ih(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Ih(e,t)}On(e,t){return function(o,h){let y=!1;return Ch(o).zt(I=>hp(o,I,h).next(F=>(F&&(y=!0),Mt.resolve(!F)))).next(()=>y)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.Mn(e,(I,F)=>{if(F<=t){const ee=this.On(e,I).next(oe=>{if(!oe)return y++,o.getEntry(e,I).next(()=>(o.removeEntry(I,jn.min()),Lc(e).delete([0,En(I.path)])))});h.push(ee)}}).next(()=>Mt.waitFor(h)).next(()=>o.apply(e)).next(()=>y)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Ih(e,t)}Mn(e,t){const o=Lc(e);let h,y=pr.A;return o.Wt({index:"documentTargetsIndex"},([I,F],{path:ee,sequenceNumber:oe})=>{0===I?(y!==pr.A&&t(new an(ur(h)),y),y=oe,h=ee):y=pr.A}).next(()=>{y!==pr.A&&t(new an(ur(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ih(r,e){return Lc(r).put((o=r.currentSequenceNumber,{targetId:0,path:En(e.path),sequenceNumber:o}));var o}class gp{constructor(){this.changes=new fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,re.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Mt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ky{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Yd(e).put(o)}removeEntry(e,t,o){return Yd(e).delete(function(h,y){const I=h.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],_(y),I[I.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=re.newInvalidDocument(t);return Yd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(h,y)=>{o=this.$n(t,y)}).next(()=>o)}Bn(e,t){let o={size:0,document:re.newInvalidDocument(t)};return Yd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(h,y)=>{o={document:this.$n(t,y),size:Lu(y)}}).next(()=>o)}getEntries(e,t){let o=pa();return this.Ln(e,t,(h,y)=>{const I=this.$n(h,y);o=o.insert(h,I)}).next(()=>o)}Un(e,t){let o=pa(),h=new xs(an.comparator);return this.Ln(e,t,(y,I)=>{const F=this.$n(y,I);o=o.insert(y,F),h=h.insert(y,Lu(I))}).next(()=>({documents:o,qn:h}))}Ln(e,t,o){if(t.isEmpty())return Mt.resolve();let h=new jr(Yy);t.forEach(ee=>h=h.add(ee));const y=IDBKeyRange.bound(uf(h.first()),uf(h.last())),I=h.getIterator();let F=I.getNext();return Yd(e).Wt({index:"documentKeyIndex",range:y},(ee,oe,we)=>{const Ge=an.fromSegments([...oe.prefixPath,oe.collectionGroup,oe.documentId]);for(;F&&Yy(F,Ge)<0;)o(F,null),F=I.getNext();F&&F.isEqual(Ge)&&(o(F,oe),F=I.hasNext()?I.getNext():null),F?we.Ut(uf(F)):we.done()}).next(()=>{for(;F;)o(F,null),F=I.hasNext()?I.getNext():null})}getAllFromCollection(e,t,o){const h=[t.popLast().toArray(),t.lastSegment(),_(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],y=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yd(e).qt(IDBKeyRange.bound(h,y,!0)).next(I=>{let F=pa();for(const ee of I){const oe=this.$n(an.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);F=F.insert(oe.key,oe)}return F})}getAllFromCollectionGroup(e,t,o,h){let y=pa();const I=Zy(t,o),F=Zy(t,di.max());return Yd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,F,!0)},(ee,oe,we)=>{const Ge=this.$n(an.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);y=y.insert(Ge.key,Ge),y.size===h&&we.done()}).next(()=>y)}newChangeBuffer(e){return new mp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qy(e).get("remoteDocumentGlobalKey").next(t=>(M(!!t),t))}Fn(e,t){return qy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function f(r,e){let t;if(e.document)t=na(r.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=an.fromSegments(e.noDocument.path),h=A(e.noDocument.readTime);t=re.newNoDocument(o,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return P();{const o=an.fromSegments(e.unknownDocument.path),h=A(e.unknownDocument.version);t=re.newUnknownDocument(o,h)}}return e.readTime&&t.setReadTime(function(o){const h=new Oi(o[0],o[1]);return jn.fromTimestamp(h)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(jn.min()))return o}return re.newInvalidDocument(e)}}class mp extends gp{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new fa(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const t=[];let o=0,h=new jr((y,I)=>mn(y.canonicalString(),I.canonicalString()));return this.changes.forEach((y,I)=>{const F=this.Gn.get(y);if(t.push(this.Kn.removeEntry(e,y,F.readTime)),I.isValidDocument()){const ee=g(this.Kn.M,I);h=h.add(y.path.popLast()),o+=Lu(ee)-F.size,t.push(this.Kn.addEntry(e,y,ee))}else if(o-=F.size,this.trackRemovals){const ee=g(this.Kn.M,I.convertToNoDocument(jn.min()));t.push(this.Kn.addEntry(e,y,ee))}}),h.forEach(y=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,y))}),t.push(this.Kn.updateMetadata(e,o)),Mt.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:h})=>(h.forEach((y,I)=>{this.Gn.set(y,{size:I,readTime:o.get(y).readTime})}),o))}}function qy(r){return Mo(r,"remoteDocumentGlobal")}function Yd(r){return Mo(r,"remoteDocumentsV14")}function uf(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zy(r,e){const t=e.documentKey.path.toArray();return[r,_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Yy(r,e){const t=r.path.toArray(),o=e.path.toArray();let h=0;for(let y=0;y<t.length-2&&y<o.length-2;++y)if(h=mn(t[y],o[y]),h)return h;return h=mn(t.length,o.length),h||(h=mn(t[t.length-2],o[o.length-2]),h||mn(t[t.length-1],o[o.length-1]))}class Gv{constructor(e){this.M=e}kt(e,t,o,h){const y=new yl("createOrUpgrade",t);var F;o<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ma,{unique:!0}),F.createObjectStore("documentMutations"),Qy(e),function(F){F.createObjectStore("remoteDocuments")}(e));let I=Mt.resolve();return o<3&&h>=3&&(0!==o&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),Qy(e)),I=I.next(()=>function(F){const ee=F.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jn.min().toTimestamp(),targetCount:0};return ee.put("targetGlobalKey",oe)}(y))),o<4&&h>=4&&(0!==o&&(I=I.next(()=>function(F,ee){return ee.store("mutations").qt().next(oe=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ma,{unique:!0});const we=ee.store("mutations"),Ge=oe.map(wt=>we.put(wt));return Mt.waitFor(Ge)})}(e,y))),I=I.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(I=I.next(()=>this.Qn(y))),o<6&&h>=6&&(I=I.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.jn(y)))),o<7&&h>=7&&(I=I.next(()=>this.Wn(y))),o<8&&h>=8&&(I=I.next(()=>this.zn(e,y))),o<9&&h>=9&&(I=I.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(I=I.next(()=>this.Hn(y))),o<11&&h>=11&&(I=I.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(I=I.next(()=>{!function(F){const ee=F.createObjectStore("documentOverlays",{keyPath:cp});ee.createIndex("collectionPathOverlayIndex",dp,{unique:!1}),ee.createIndex("collectionGroupOverlayIndex",wh,{unique:!1})}(e)})),o<13&&h>=13&&(I=I.next(()=>function(F){const ee=F.createObjectStore("remoteDocumentsV14",{keyPath:xc});ee.createIndex("documentKeyIndex",vh),ee.createIndex("collectionGroupIndex",el)}(e)).next(()=>this.Jn(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(I=I.next(()=>{!function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:bh}).createIndex("sequenceNumberIndex",hd,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Eh}).createIndex("documentKeyIndex",up,{unique:!1})}(e)})),I}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,h)=>{t+=Lu(h)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(h=>Mt.forEach(h,y=>{const I=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",I).next(F=>Mt.forEach(F,ee=>{M(ee.userId===y.userId);const oe=N(this.M,ee);return fd(e,y.userId,oe).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return o.Wt((I,F)=>{const ee=new lr(I),oe=[0,En(ee)];y.push(t.get(oe).next(we=>we?Mt.resolve():t.put({targetId:0,path:En(ee),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Mt.waitFor(y))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Oc});const o=t.store("collectionParents"),h=new Zr,y=I=>{if(h.add(I)){const F=I.lastSegment(),ee=I.popLast();return o.put({collectionId:F,parent:En(ee)})}};return t.store("remoteDocuments").Wt({jt:!0},(I,F)=>{const ee=new lr(I);return y(ee.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([I,F,ee],oe)=>{const we=ur(F);return y(we.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,h)=>{const y=Y(h),I=ne(this.M,y);return t.put(I)})}Jn(e,t){const o=t.store("remoteDocuments"),h=[];return o.Wt((y,I)=>{const F=t.store("remoteDocumentsV14"),ee=(oe=I,oe.document?new an(lr.fromString(oe.document.name).popFirst(5)):oe.noDocument?an.fromSegments(oe.noDocument.path):oe.unknownDocument?an.fromSegments(oe.unknownDocument.path):P()).path.toArray();var oe;const we={prefixPath:ee.slice(0,ee.length-2),collectionGroup:ee[ee.length-2],documentId:ee[ee.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};h.push(F.put(we))}).next(()=>Mt.waitFor(h))}}function Qy(r){r.createObjectStore("targetDocuments",{keyPath:dd}).createIndex("documentTargetsIndex",Mc,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ku,{unique:!0}),r.createObjectStore("targetGlobal")}const Kg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qg{constructor(e,t,o,h,y,I,F,ee,oe,we,Ge=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=y,this.window=I,this.document=F,this.Xn=oe,this.Zn=we,this.ts=Ge,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=wt=>Promise.resolve(),!qg.vt())throw new X(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zv(this,h),this.hs=t+"main",this.M=new c(ee),this.ls=new tl(this.hs,this.ts,new Gv(this.M)),this.fs=new fp(this.referenceDelegate,this.M),this.ds=new Ky(this.M),this._s=new Ke,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===we&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(L.FAILED_PRECONDITION,Kg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new pr(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,Fe.Z)(function*(h){if(t.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Fe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Fe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Vl(e))return Lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return cf(e).get("owner").next(t=>Mt.resolve(this.bs(t)))}Vs(e){return lu(e).delete(this.clientId)}vs(){var e=this;return(0,Fe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Mo(o,"clientMetadata");return h.qt().next(y=>{const I=e.Ds(y,18e5),F=y.filter(ee=>-1===I.indexOf(ee));return Mt.forEach(F,ee=>h.delete(ee.clientId)).next(()=>F)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Mt.resolve(!0):cf(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new X(L.FAILED_PRECONDITION,Kg);return!1}}return!(!this.networkEnabled||!this.inForeground)||lu(e).qt().next(o=>void 0===this.Ds(o,5e3).find(h=>{if(this.clientId!==h.clientId){const I=!this.inForeground&&h.inForeground,F=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||I&&F)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Fe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Zd(t,pr.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>lu(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return zg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Ul(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Ut.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){Lt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",y=14===(I=this.ts)?qd:13===I?Fu:12===I?of:11===I?Kd:void P();var I;let F;return this.ls.runTransaction(e,h,y,ee=>(F=new Zd(ee,this.es?this.es.next():pr.A),"readwrite-primary"===t?this.Es(F).next(oe=>!!oe||this.As(F)).next(oe=>{if(!oe)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new X(L.FAILED_PRECONDITION,ya);return o(F)}).next(oe=>this.Ps(F).next(()=>oe)):this.$s(F).next(()=>o(F)))).then(ee=>(F.raiseOnCommittedEvent(),ee))}$s(e){return cf(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new X(L.FAILED_PRECONDITION,Kg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cf(e).put("owner",t)}static vt(){return tl.vt()}Rs(e){const t=cf(e);return t.get("owner").next(o=>this.bs(o)?(Lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Mt.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(ai(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,qe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Lt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ai("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cf(r){return Mo(r,"owner")}function lu(r){return Mo(r,"clientMetadata")}function Th(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Xy{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(h=>{for(const y of o)y.applyToLocalView(h);return h})}qs(e,t){e.forEach((o,h)=>{for(const y of t)y.applyToLocalView(h)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return an.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.js(e,t.path):Jc(t)?this.Ws(e,t,o):this.zs(e,t,o);var h}js(e,t){return this.Ls(e,new an(t)).next(o=>{let h=ld();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}Ws(e,t,o){const h=t.collectionGroup;let y=ld();return this.indexManager.getCollectionParents(e,h).next(I=>Mt.forEach(I,F=>{const ee=(oe=t,we=F.child(h),new ul(we,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,we;return this.zs(e,ee,o).next(oe=>{oe.forEach((we,Ge)=>{y=y.insert(we,Ge)})})}).next(()=>y))}zs(e,t,o){let h;return this.ds.getAllFromCollection(e,t.path,o).next(y=>(h=y,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(y=>{for(const I of y)for(const F of I.mutations){const ee=F.key;let oe=h.get(ee);null==oe&&(oe=re.newInvalidDocument(ee),h=h.insert(ee,oe)),Qu(F,oe,I.localWriteTime),oe.isFoundDocument()||(h=h.remove(ee))}}).next(()=>(h.forEach((y,I)=>{ed(t,I)||(h=h.remove(y))}),h))}}class df{constructor(e,t,o,h){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=h}static Ys(e,t){let o=Hr(),h=Hr();for(const y of t.docChanges)switch(y.type){case 0:o=o.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new df(e,t.fromCache,o,h)}}class hf{Xs(e){this.Zs=e}Qs(e,t,o,h){return 0===(y=t).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.explicitOrderBy.length||1===y.explicitOrderBy.length&&y.explicitOrderBy[0].field.isKeyField())||o.isEqual(jn.min())?this.ti(e,t):this.Zs.Ks(e,h).next(y=>{const I=this.ei(t,y);return(Iu(t)||dl(t))&&this.ni(t.limitType,I,h,o)?this.ti(e,t):(li()<=_e.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fl(t)),this.Zs.Qs(e,t,Hn(o,-1)).next(F=>(I.forEach(ee=>{F=F.insert(ee.key,ee)}),F)))});var y}ei(e,t){let o=new jr(td(e));return t.forEach((h,y)=>{ed(e,y)&&(o=o.add(y))}),o}ni(e,t,o,h){if(o.size!==t.size)return!0;const y="F"===e?t.last():t.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}ti(e,t){return li()<=_e.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",fl(t)),this.Zs.Qs(e,t,di.min())}}class Zg{constructor(e,t,o,h){this.persistence=e,this.si=t,this.M=h,this.ii=new xs(mn),this.ri=new fa(y=>ea(y),ws),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Xy(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function ff(r,e,t,o){return new Zg(r,e,t,o)}function Yg(r,e){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,Fe.Z)(function*(r,e){const t=k(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let h;return t.Bs.getAllMutationBatches(o).next(y=>(h=y,t.ai(e),t.Bs.getAllMutationBatches(o))).next(y=>{const I=[],F=[];let ee=Hr();for(const oe of h){I.push(oe.batchId);for(const we of oe.mutations)ee=ee.add(we.key)}for(const oe of y){F.push(oe.batchId);for(const we of oe.mutations)ee=ee.add(we.key)}return t.ci.Ks(o,ee).next(oe=>({hi:oe,removedBatchIds:I,addedBatchIds:F}))})})}),Vu.apply(this,arguments)}function Qg(r,e){const t=k(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),y=t.ui.newChangeBuffer({trackRemovals:!0});return function(I,F,ee,oe){const we=ee.batch,Ge=we.keys();let wt=Mt.resolve();return Ge.forEach(Gt=>{wt=wt.next(()=>oe.getEntry(F,Gt)).next(Yt=>{const Ln=ee.docVersions.get(Gt);M(null!==Ln),Yt.version.compareTo(Ln)<0&&(we.applyToRemoteDocument(Yt,ee),Yt.isValidDocument()&&(Yt.setReadTime(ee.commitVersion),oe.addEntry(Yt)))})}),wt.next(()=>I.Bs.removeMutationBatch(F,we))}(t,o,e,y).next(()=>y.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.ci.Ks(o,h))})}function Xg(r){const e=k(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function yp(r,e){const t=k(r),o=e.snapshotVersion;let h=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const I=t.ui.newChangeBuffer({trackRemovals:!0});h=t.ii;const F=[];e.targetChanges.forEach((oe,we)=>{const Ge=h.get(we);if(!Ge)return;F.push(t.fs.removeMatchingKeys(y,oe.removedDocuments,we).next(()=>t.fs.addMatchingKeys(y,oe.addedDocuments,we)));let wt=Ge.withSequenceNumber(y.currentSequenceNumber);var Gt,Yt,Ln;e.targetMismatches.has(we)?wt=wt.withResumeToken(Kr.EMPTY_BYTE_STRING,jn.min()).withLastLimboFreeSnapshotVersion(jn.min()):oe.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(oe.resumeToken,o)),h=h.insert(we,wt),Yt=wt,Ln=oe,(0===(Gt=Ge).resumeToken.approximateByteSize()||Yt.snapshotVersion.toMicroseconds()-Gt.snapshotVersion.toMicroseconds()>=3e8||Ln.addedDocuments.size+Ln.modifiedDocuments.size+Ln.removedDocuments.size>0)&&F.push(t.fs.updateTargetData(y,wt))});let ee=pa();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&F.push(t.persistence.referenceDelegate.updateLimboDocument(y,oe))}),F.push(Jg(y,I,e.documentUpdates).next(oe=>{ee=oe})),!o.isEqual(jn.min())){const oe=t.fs.getLastRemoteSnapshotVersion(y).next(we=>t.fs.setTargetsMetadata(y,y.currentSequenceNumber,o));F.push(oe)}return Mt.waitFor(F).next(()=>I.apply(y)).next(()=>t.ci.Gs(y,ee)).next(()=>ee)}).then(y=>(t.ii=h,y))}function Jg(r,e,t){let o=Hr();return t.forEach(h=>o=o.add(h)),e.getEntries(r,o).next(h=>{let y=pa();return t.forEach((I,F)=>{const ee=h.get(I);F.isNoDocument()&&F.version.isEqual(jn.min())?(e.removeEntry(I,F.readTime),y=y.insert(I,F)):!ee.isValidDocument()||F.version.compareTo(ee.version)>0||0===F.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(F),y=y.insert(I,F)):Lt("LocalStore","Ignoring outdated watch update for ",I,". Current version:",ee.version," Watch version:",F.version)}),y})}function em(r,e){const t=k(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function Qd(r,e){const t=k(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return t.fs.getTargetData(o,e).next(y=>y?(h=y,Mt.resolve(h)):t.fs.allocateTargetId(o).next(I=>(h=new a(e,I,0,o.currentSequenceNumber),t.fs.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=t.ii.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.ii=t.ii.insert(o.targetId,o),t.ri.set(e,o.targetId)),o})}function Xd(r,e,t){return md.apply(this,arguments)}function md(){return md=(0,Fe.Z)(function*(r,e,t){const o=k(r),h=o.ii.get(e),y=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",y,I=>o.persistence.referenceDelegate.removeTarget(I,h)))}catch(I){if(!Vl(I))throw I;Lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}o.ii=o.ii.remove(e),o.ri.delete(h.target)}),md.apply(this,arguments)}function rc(r,e,t){const o=k(r);let h=jn.min(),y=Hr();return o.persistence.runTransaction("Execute query","readonly",I=>function(F,ee,oe){const we=k(F),Ge=we.ri.get(oe);return void 0!==Ge?Mt.resolve(we.ii.get(Ge)):we.fs.getTargetData(ee,oe)}(o,I,ta(e)).next(F=>{if(F)return h=F.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(I,F.targetId).next(ee=>{y=ee})}).next(()=>o.si.Qs(I,e,t?h:jn.min(),t?y:Hr())).next(F=>(Jd(o,Zu(e),F),{documents:F,li:y})))}function pf(r,e){const t=k(r),o=k(t.fs),h=t.ii.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",y=>o.Et(y,e).next(I=>I?I.target:null))}function yd(r,e){const t=k(r),o=t.oi.get(e)||jn.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.ui.getAllFromCollectionGroup(h,e,Hn(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Jd(t,e,h),h))}function Jd(r,e,t){let o=jn.min();t.forEach((h,y)=>{y.readTime.compareTo(o)>0&&(o=y.readTime)}),r.oi.set(e,o)}function _p(){return _p=(0,Fe.Z)(function*(r,e,t,o){const h=k(r);let y=Hr(),I=pa();for(const oe of t){const we=e.fi(oe.metadata.name);oe.document&&(y=y.add(we));const Ge=e.di(oe);Ge.setReadTime(e._i(oe.metadata.readTime)),I=I.insert(we,Ge)}const F=h.ui.newChangeBuffer({trackRemovals:!0}),ee=yield Qd(h,(oe=o,ta(cl(lr.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",oe=>Jg(oe,F,I).next(we=>(F.apply(oe),we)).next(we=>h.fs.removeMatchingKeysForTargetId(oe,ee.targetId).next(()=>h.fs.addMatchingKeys(oe,y,ee.targetId)).next(()=>h.ci.Gs(oe,we)).next(()=>we)))}),_p.apply(this,arguments)}function tm(r,e){return gf.apply(this,arguments)}function gf(){return gf=(0,Fe.Z)(function*(r,e,t=Hr()){const o=yield Qd(r,ta(de(e.bundledQuery))),h=k(r);return h.persistence.runTransaction("Save named query","readwrite",y=>{const I=qr(e.readTime);if(o.snapshotVersion.compareTo(I)>=0)return h._s.saveNamedQuery(y,e);const F=o.withResumeToken(Kr.EMPTY_BYTE_STRING,I);return h.ii=h.ii.insert(F.targetId,F),h.fs.updateTargetData(y,F).next(()=>h.fs.removeMatchingKeysForTargetId(y,o.targetId)).next(()=>h.fs.addMatchingKeys(y,t,o.targetId)).next(()=>h._s.saveNamedQuery(y,e))})}),gf.apply(this,arguments)}class vp{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Mt.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var o;return this.wi.set(t.id,{id:(o=t).id,version:o.version,createTime:qr(o.createTime)}),Mt.resolve()}getNamedQuery(e,t){return Mt.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(o=t).name,query:de(o.bundledQuery),readTime:qr(o.readTime)}),Mt.resolve();var o}}class bp{constructor(){this.overlays=new xs(an.comparator),this.gi=new Map}getOverlay(e,t){return Mt.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((h,y)=>{this.Xt(e,t,y)}),Mt.resolve()}removeOverlaysForBatchId(e,t,o){const h=this.gi.get(o);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.gi.delete(o)),Mt.resolve()}getOverlaysForCollection(e,t,o){const h=xu(),y=t.length+1,I=new an(t.child("")),F=this.overlays.getIteratorFrom(I);for(;F.hasNext();){const ee=F.getNext().value,oe=ee.getKey();if(!t.isPrefixOf(oe.path))break;oe.path.length===y&&ee.largestBatchId>o&&h.set(ee.getKey(),ee)}return Mt.resolve(h)}getOverlaysForCollectionGroup(e,t,o,h){let y=new xs((oe,we)=>oe-we);const I=this.overlays.getIterator();for(;I.hasNext();){const oe=I.getNext().value;if(oe.getKey().getCollectionGroup()===t&&oe.largestBatchId>o){let we=y.get(oe.largestBatchId);null===we&&(we=xu(),y=y.insert(oe.largestBatchId,we)),we.set(oe.getKey(),oe)}}const F=xu(),ee=y.getIterator();for(;ee.hasNext()&&(ee.getNext().value.forEach((oe,we)=>F.set(oe,we)),!(F.size()>=h)););return Mt.resolve(F)}Xt(e,t,o){if(null===o)return;const h=this.overlays.get(o.key);if(null!==h){const I=this.gi.get(h.largestBatchId).delete(o.key);this.gi.set(h.largestBatchId,I)}this.overlays=this.overlays.insert(o.key,new l(t,o));let y=this.gi.get(t);void 0===y&&(y=Hr(),this.gi.set(t,y)),this.gi.set(t,y.add(o.key))}}class mf{constructor(){this.yi=new jr(Oo.pi),this.Ii=new jr(Oo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const o=new Oo(e,t);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ai(new Oo(e,t))}Ri(e,t){e.forEach(o=>this.removeReference(o,t))}Pi(e){const t=new an(new lr([])),o=new Oo(t,e),h=new Oo(t,e+1),y=[];return this.Ii.forEachInRange([o,h],I=>{this.Ai(I),y.push(I.key)}),y}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new an(new lr([])),o=new Oo(t,e),h=new Oo(t,e+1);let y=Hr();return this.Ii.forEachInRange([o,h],I=>{y=y.add(I.key)}),y}containsKey(e){const t=new Oo(e,0),o=this.yi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Oo{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return an.comparator(e.key,t.key)||mn(e.vi,t.vi)}static Ti(e,t){return mn(e.vi,t.vi)||an.comparator(e.key,t.key)}}class Jy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new jr(Oo.pi)}checkEmpty(e){return Mt.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,h){const y=this.Si;this.Si++;const I=new kc(y,t,o,h);this.Bs.push(I);for(const F of h)this.Di=this.Di.add(new Oo(F.key,y)),this.indexManager.addToCollectionParentIndex(e,F.key.path.popLast());return Mt.resolve(I)}lookupMutationBatch(e,t){return Mt.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.xi(t+1),y=h<0?0:h;return Mt.resolve(this.Bs.length>y?this.Bs[y]:null)}getHighestUnacknowledgedBatchId(){return Mt.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Mt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Oo(t,0),h=new Oo(t,Number.POSITIVE_INFINITY),y=[];return this.Di.forEachInRange([o,h],I=>{const F=this.Ci(I.vi);y.push(F)}),Mt.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new jr(mn);return t.forEach(h=>{const y=new Oo(h,0),I=new Oo(h,Number.POSITIVE_INFINITY);this.Di.forEachInRange([y,I],F=>{o=o.add(F.vi)})}),Mt.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,h=o.length+1;let y=o;an.isDocumentKey(y)||(y=y.child(""));const I=new Oo(new an(y),0);let F=new jr(mn);return this.Di.forEachWhile(ee=>{const oe=ee.key.path;return!!o.isPrefixOf(oe)&&(oe.length===h&&(F=F.add(ee.vi)),!0)},I),Mt.resolve(this.Ni(F))}Ni(e){const t=[];return e.forEach(o=>{const h=this.Ci(o);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){M(0===this.ki(t.batchId,"removed")),this.Bs.shift();let o=this.Di;return Mt.forEach(t.mutations,h=>{const y=new Oo(h.key,t.batchId);return o=o.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,t){const o=new Oo(t,0),h=this.Di.firstAfterOrEqual(o);return Mt.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Mt.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class nm{constructor(e){this.Mi=e,this.docs=new xs(an.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,h=this.docs.get(o),y=h?h.size:0,I=this.Mi(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:I}),this.size+=I-y,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Mt.resolve(o?o.document.mutableCopy():re.newInvalidDocument(t))}getEntries(e,t){let o=pa();return t.forEach(h=>{const y=this.docs.get(h);o=o.insert(h,y?y.document.mutableCopy():re.newInvalidDocument(h))}),Mt.resolve(o)}getAllFromCollection(e,t,o){let h=pa();const y=new an(t.child("")),I=this.docs.getIteratorFrom(y);for(;I.hasNext();){const{key:F,value:{document:ee}}=I.getNext();if(!t.isPrefixOf(F.path))break;F.path.length>t.length+1||gi(bi(ee),o)<=0||(h=h.insert(ee.key,ee.mutableCopy()))}return Mt.resolve(h)}getAllFromCollectionGroup(e,t,o,h){P()}Oi(e,t){return Mt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Wv(this)}getSize(e){return Mt.resolve(this.size)}}class Wv extends gp{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?t.push(this.Kn.addEntry(e,h)):this.Kn.removeEntry(o)}),Mt.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class im{constructor(e){this.persistence=e,this.Fi=new fa(t=>ea(t),ws),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new mf,this.targetCount=0,this.Li=ic.gn()}forEachTarget(e,t){return this.Fi.forEach((o,h)=>t(h)),Mt.resolve()}getLastRemoteSnapshotVersion(e){return Mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mt.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Mt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$i&&(this.$i=t),Mt.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new ic(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Mt.resolve()}updateTargetData(e,t){return this.Tn(t),Mt.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Mt.resolve()}removeTargets(e,t,o){let h=0;const y=[];return this.Fi.forEach((I,F)=>{F.sequenceNumber<=t&&null===o.get(F.targetId)&&(this.Fi.delete(I),y.push(this.removeMatchingKeysForTargetId(e,F.targetId)),h++)}),Mt.waitFor(y).next(()=>h)}getTargetCount(e){return Mt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Fi.get(t)||null;return Mt.resolve(o)}addMatchingKeys(e,t,o){return this.Bi.Ei(t,o),Mt.resolve()}removeMatchingKeys(e,t,o){this.Bi.Ri(t,o);const h=this.persistence.referenceDelegate,y=[];return h&&t.forEach(I=>{y.push(h.markPotentiallyOrphaned(e,I))}),Mt.waitFor(y)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Mt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Bi.Vi(t);return Mt.resolve(o)}containsKey(e,t){return Mt.resolve(this.Bi.containsKey(t))}}class rm{constructor(e,t){this.Ui={},this.overlays={},this.es=new pr(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new im(this),this.indexManager=new sr,this.ds=new nm(o=>this.referenceDelegate.qi(o)),this.M=new c(t),this._s=new vp(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ui[e.toKey()];return o||(o=new Jy(t,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){Lt("MemoryPersistence","Starting transaction:",e);const h=new e_(this.es.next());return this.referenceDelegate.Ki(),o(h).next(y=>this.referenceDelegate.Gi(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Qi(e,t){return Mt.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,t)))}}class e_ extends Dh{constructor(e){super(),this.currentSequenceNumber=e}}class yf{constructor(e){this.persistence=e,this.ji=new mf,this.Wi=null}static zi(e){return new yf(e)}get Hi(){if(this.Wi)return this.Wi;throw P()}addReference(e,t,o){return this.ji.addReference(o,t),this.Hi.delete(o.toString()),Mt.resolve()}removeReference(e,t,o){return this.ji.removeReference(o,t),this.Hi.add(o.toString()),Mt.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Mt.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(h=>this.Hi.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(y=>this.Hi.add(y.toString()))}).next(()=>o.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.Hi,o=>{const h=an.fromPath(o);return this.Ji(e,h).next(y=>{y||t.removeEntry(h,jn.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(o=>{o?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Mt.or([()=>Mt.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function sm(r,e){return`firestore_clients_${r}_${e}`}function om(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ba(r,e){return`firestore_targets_${r}_${e}`}class _f{constructor(e,t,o,h){this.user=e,this.batchId=t,this.state=o,this.error=h}static Yi(e,t,o){const h=JSON.parse(o);let y,I="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return I&&h.error&&(I="string"==typeof h.error.message&&"string"==typeof h.error.code,I&&(y=new X(h.error.code,h.error.message))),I?new _f(e,t,h.state,y):(ai("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sh{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Yi(e,t){const o=JSON.parse(t);let h,y="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return y&&o.error&&(y="string"==typeof o.error.message&&"string"==typeof o.error.code,y&&(h=new X(o.error.code,o.error.message))),y?new Sh(e,o.state,h):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ep{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const o=JSON.parse(t);let h="object"==typeof o&&o.activeTargetIds instanceof Array,y=co();for(let I=0;h&&I<o.activeTargetIds.length;++I)h=ca(o.activeTargetIds[I]),y=y.add(o.activeTargetIds[I]);return h?new Ep(e,y):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class am{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new am(t.clientId,t.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vf{constructor(){this.activeTargetIds=co()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lm{constructor(e,t,o,h,y){this.window=e,this.Yn=t,this.persistenceKey=o,this.er=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new xs(mn),this.started=!1,this.rr=[];const I=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ur=sm(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new vf),this.cr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const h of t){if(h===e.er)continue;const y=e.getItem(sm(e.persistenceKey,h));if(y){const I=Ep.Yi(h,y);I&&(e.ir=e.ir.insert(I.clientId,I))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const h=e.mr(o);h&&e.gr(h)}for(const h of e.rr)e.sr(h);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((o,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,o){this.pr(e,t,o),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ba(this.persistenceKey,e));if(o){const h=Sh.Yi(e,o);h&&(t=h.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ba(this.persistenceKey,e))}updateQueryState(e,t,o){this.Er(e,t,o)}handleUserChange(e,t,o){t.forEach(h=>{this.Ir(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Lt("SharedClientState","READ",e,t),t}setItem(e,t){Lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Lt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Fe.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const h=t.Pr(o.key);return t.br(h,null)}{const h=t.Vr(o.key,o.newValue);if(h)return t.br(h.clientId,h)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const h=t.vr(o.key,o.newValue);if(h)return t.Sr(h)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const h=t.Dr(o.key,o.newValue);if(h)return t.Cr(h)}}else if(o.key===t.dr){if(null!==o.newValue){const h=t.mr(o.newValue);if(h)return t.gr(h)}}else if(o.key===t.ar){const h=function(y){let I=pr.A;if(null!=y)try{const F=JSON.parse(y);M("number"==typeof F),I=F}catch(F){ai("SharedClientState","Failed to read sequence number from WebStorage",F)}return I}(o.newValue);h!==pr.A&&t.sequenceNumberHandler(h)}else if(o.key===t._r){const h=t.Nr(o.newValue);yield Promise.all(h.map(y=>t.syncEngine.kr(y)))}}else t.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,o){const h=new _f(this.currentUser,e,t,o),y=om(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Xi())}Ir(e){const t=om(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,o){const h=Ba(this.persistenceKey,e),y=new Sh(e,t,o);this.setItem(h,y.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.Pr(e);return Ep.Yi(o,t)}vr(e,t){const o=this.hr.exec(e),h=Number(o[1]);return _f.Yi(new Vn(void 0!==o[2]?o[2]:null),h,t)}Dr(e,t){const o=this.lr.exec(e),h=Number(o[1]);return Sh.Yi(h,t)}mr(e){return am.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.ir.insert(e,t):this.ir.remove(e),h=this.yr(this.ir),y=this.yr(o),I=[],F=[];return y.forEach(ee=>{h.has(ee)||I.push(ee)}),h.forEach(ee=>{y.has(ee)||F.push(ee)}),this.syncEngine.Fr(I,F).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=co();return e.forEach((o,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class um{constructor(){this.$r=new vf,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,o){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new vf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wp{Lr(e){}shutdown(){}}class Dp{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const t_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class n_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class i_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,o,h,y){const I=this.uo(e,t);Lt("RestConnection","Sending: ",I,o);const F={};return this.ao(F,h,y),this.co(e,I,F,o).then(ee=>(Lt("RestConnection","Received: ",ee),ee),ee=>{throw Br("RestConnection",`${e} failed with error: `,ee,"url: ",I,"request:",o),ee})}ho(e,t,o,h,y){return this.oo(e,t,o,h,y)}ao(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+pi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,y)=>e[y]=h),o&&o.headers.forEach((h,y)=>e[y]=h)}uo(e,t){return`${this.io}/v1/${t}:${t_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,h){return new Promise((y,I)=>{const F=new _n;F.listenOnce(he.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case ie.NO_ERROR:const oe=F.getResponseJson();Lt("Connection","XHR received:",JSON.stringify(oe)),y(oe);break;case ie.TIMEOUT:Lt("Connection",'RPC "'+e+'" timed out'),I(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case ie.HTTP_ERROR:const we=F.getStatus();if(Lt("Connection",'RPC "'+e+'" failed with status:',we,"response text:",F.getResponseText()),we>0){const Ge=F.getResponseJson().error;if(Ge&&Ge.status&&Ge.message){const wt=function(Gt){const Yt=Gt.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(Yt)>=0?Yt:L.UNKNOWN}(Ge.status);I(new X(wt,Ge.message))}else I(new X(L.UNKNOWN,"Server responded with status "+F.getStatus()))}else I(new X(L.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{Lt("Connection",'RPC "'+e+'" completed.')}});const ee=JSON.stringify(h);F.send(t,"POST",ee,o,15)})}lo(e,t,o){const h=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=T(),I=B(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(F.xmlHttpFactory=new ot({})),this.ao(F.initMessageHeaders,t,o),(0,qe.uI)()||(0,qe.b$)()||(0,qe.d)()||(0,qe.w1)()||(0,qe.Mn)()||(0,qe.ru)()||(F.httpHeadersOverwriteParam="$httpHeaders");const ee=h.join("");Lt("Connection","Creating WebChannel: "+ee,F);const oe=y.createWebChannel(ee,F);let we=!1,Ge=!1;const wt=new n_({Wr:Yt=>{Ge?Lt("Connection","Not sending because WebChannel is closed:",Yt):(we||(Lt("Connection","Opening WebChannel transport."),oe.open(),we=!0),Lt("Connection","WebChannel sending:",Yt),oe.send(Yt))},zr:()=>oe.close()}),Gt=(Yt,Ln,Mi)=>{Yt.listen(Ln,$s=>{try{Mi($s)}catch(Ro){setTimeout(()=>{throw Ro},0)}})};return Gt(oe,Tt.EventType.OPEN,()=>{Ge||Lt("Connection","WebChannel transport opened.")}),Gt(oe,Tt.EventType.CLOSE,()=>{Ge||(Ge=!0,Lt("Connection","WebChannel transport closed"),wt.no())}),Gt(oe,Tt.EventType.ERROR,Yt=>{Ge||(Ge=!0,Br("Connection","WebChannel transport errored:",Yt),wt.no(new X(L.UNAVAILABLE,"The operation could not be completed")))}),Gt(oe,Tt.EventType.MESSAGE,Yt=>{var Ln;if(!Ge){const Mi=Yt.data[0];M(!!Mi);const $s=Mi,Ro=$s.error||(null===(Ln=$s[0])||void 0===Ln?void 0:Ln.error);if(Ro){Lt("Connection","WebChannel received error:",Ro);const gs=Ro.status;let no=function(fo){const Aa=Ns[fo];if(void 0!==Aa)return Au(Aa)}(gs),zs=Ro.message;void 0===no&&(no=L.INTERNAL,zs="Unknown error status: "+gs+" with message "+Ro.message),Ge=!0,wt.no(new X(no,zs)),oe.close()}else Lt("Connection","WebChannel received:",Mi),wt.so(Mi)}}),Gt(I,Ne.STAT_EVENT,Yt=>{Yt.stat===Ie.PROXY?Lt("Connection","Detected buffering proxy"):Yt.stat===Ie.NOPROXY&&Lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{wt.eo()},0),wt}}function Cp(){return"undefined"!=typeof window?window:null}function bf(){return"undefined"!=typeof document?document:null}function th(r){return new Cc(r,!0)}class Ip{constructor(e,t,o=1e3,h=1.5,y=6e4){this.Yn=e,this.timerId=t,this.fo=o,this._o=h,this.wo=y,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),h=Math.max(0,t-o);h>0&&Lt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,h,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class cm{constructor(e,t,o,h,y,I,F,ee){this.Yn=e,this.Ro=o,this.Po=h,this.bo=y,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=F,this.listener=ee,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Ip(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Fe.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Fe.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var o=this;return(0,Fe.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):t&&t.code===L.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Vo===t&&this.qo(o,h)},o=>{e(()=>{const h=new X(L.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(h)})})}qo(e,t){const o=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(h=>{o(()=>this.Ko(h))}),this.stream.onMessage(h=>{o(()=>this.onMessage(h))})}No(){var e=this;this.state=5,this.Do.To((0,Fe.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dm extends cm{constructor(e,t,o,h,y,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,h,I),this.M=y}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Va(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(ee=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:P(),h=e.targetChange.targetIds||[],y=function(ee,oe){return ee.N?(M(void 0===oe||"string"==typeof oe),Kr.fromBase64String(oe||"")):(M(void 0===oe||oe instanceof Uint8Array),Kr.fromUint8Array(oe||new Uint8Array))}(r,e.targetChange.resumeToken),I=e.targetChange.cause,F=I&&function(ee){const oe=void 0===ee.code?L.UNKNOWN:Au(ee.code);return new X(oe,ee.message||"")}(I);t=new Fl(o,h,y,F||null)}else if("documentChange"in e){const o=e.documentChange,h=Ja(r,o.document.name),y=qr(o.document.updateTime),I=new j({mapValue:{fields:o.document.fields}}),F=re.newFoundDocument(h,y,I);t=new iu(o.targetIds||[],o.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const o=e.documentDelete,h=Ja(r,o.document),y=o.readTime?qr(o.readTime):jn.min(),I=re.newNoDocument(h,y);t=new iu([],o.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const o=e.documentRemove,h=Ja(r,o.document);t=new iu([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return P();{const o=e.filter,y=new bc(o.count||0);t=new xo(o.targetId,y)}}var ee;return t}(this.M,e),o=function(h){if(!("targetChange"in h))return jn.min();const y=h.targetChange;return y.targetIds&&y.targetIds.length?jn.min():y.readTime?qr(y.readTime):jn.min()}(e);return this.listener.Qo(t,o)}jo(e){const t={};t.database=su(this.M),t.addTarget=function(h,y){let I;const F=y.target;return I=Uo(F)?{documents:zd(h,F)}:{query:Gd(h,F)},I.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?I.resumeToken=Ic(h,y.resumeToken):y.snapshotVersion.compareTo(jn.min())>0&&(I.readTime=Pu(h,y.snapshotVersion.toTimestamp())),I}(this.M,e);const o=function Wd(r,e){const t=function(o,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=su(this.M),t.removeTarget=e,this.Fo(t)}}class hm extends cm{constructor(e,t,o,h,y,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,h,I),this.M=y,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(M(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function cd(r,e){return r&&r.length>0?(M(void 0!==e),r.map(t=>function(o,h){let y=qr(o.updateTime?o.updateTime:h);return y.isEqual(jn.min())&&(y=qr(h)),new Ud(y,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=qr(e.commitTime);return this.listener.Yo(o,t)}return M(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=su(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Nu(this.M,o))};this.Fo(t)}}class r_ extends class{}{constructor(e,t,o,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=h,this.tu=!1}eu(){if(this.tu)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.bo.oo(e,t,o,h,y)).catch(h=>{throw"FirebaseError"===h.name?(h.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new X(L.UNKNOWN,h.toString())})}ho(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.bo.ho(e,t,o,h,y)).catch(h=>{throw"FirebaseError"===h.name?(h.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new X(L.UNKNOWN,h.toString())})}terminate(){this.tu=!0}}class Bu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ai(t),this.iu=!1):Lt("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Tp{constructor(e,t,o,h,y){var I=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=y,this._u.Lr(F=>{o.enqueueAndForget((0,Fe.Z)(function*(){var ee;uu(I)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield(ee=(0,Fe.Z)(function*(oe){const we=k(oe);we.fu.add(4),yield xh(we),we.wu.set("Unknown"),we.fu.delete(4),yield Ah(we)}),function(oe){return ee.apply(this,arguments)})(I))}))}),this.wu=new Bu(o,h)}}function Ah(r){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Fe.Z)(function*(r){if(uu(r))for(const e of r.du)yield e(!0)}),Sp.apply(this,arguments)}function xh(r){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Fe.Z)(function*(r){for(const e of r.du)yield e(!1)}),Ef.apply(this,arguments)}function wf(r,e){const t=k(r);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Mp(t)?xp(t):bd(t).xo()&&Ap(t,e))}function Mh(r,e){const t=k(r),o=bd(t);t.lu.delete(e),o.xo()&&Df(t,e),0===t.lu.size&&(o.xo()?o.Mo():uu(t)&&t.wu.set("Unknown"))}function Ap(r,e){r.mu.Z(e.targetId),bd(r).jo(e)}function Df(r,e){r.mu.Z(e),bd(r).Wo(e)}function xp(r){r.mu=new ga({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.lu.get(e)||null}),bd(r).start(),r.wu.ru()}function Mp(r){return uu(r)&&!bd(r).Co()&&r.lu.size>0}function uu(r){return 0===k(r).fu.size}function Cf(r){r.mu=void 0}function s_(r){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,Fe.Z)(function*(r){r.lu.forEach((e,t)=>{Ap(r,e)})}),Oh.apply(this,arguments)}function Op(r,e){return If.apply(this,arguments)}function If(){return If=(0,Fe.Z)(function*(r,e){Cf(r),Mp(r)?(r.wu.au(e),xp(r)):r.wu.set("Unknown")}),If.apply(this,arguments)}function o_(r,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Fe.Z)(function*(r,e,t){if(r.wu.set("Online"),e instanceof Fl&&2===e.state&&e.cause)try{yield(o=(0,Fe.Z)(function*(h,y){const I=y.cause;for(const F of y.targetIds)h.lu.has(F)&&(yield h.remoteSyncer.rejectListen(F,I),h.lu.delete(F),h.mu.removeTarget(F))}),function(h,y){return o.apply(this,arguments)})(r,e)}catch(o){Lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield nh(r,o)}else if(e instanceof iu?r.mu.ut(e):e instanceof xo?r.mu._t(e):r.mu.ht(e),!t.isEqual(jn.min()))try{const o=yield Xg(r.localStore);t.compareTo(o)>=0&&(yield function(h,y){const I=h.mu.yt(y);return I.targetChanges.forEach((F,ee)=>{if(F.resumeToken.approximateByteSize()>0){const oe=h.lu.get(ee);oe&&h.lu.set(ee,oe.withResumeToken(F.resumeToken,y))}}),I.targetMismatches.forEach(F=>{const ee=h.lu.get(F);if(!ee)return;h.lu.set(F,ee.withResumeToken(Kr.EMPTY_BYTE_STRING,ee.snapshotVersion)),Df(h,F);const oe=new a(ee.target,F,1,ee.sequenceNumber);Ap(h,oe)}),h.remoteSyncer.applyRemoteEvent(I)}(r,t))}catch(o){Lt("RemoteStore","Failed to raise snapshot:",o),yield nh(r,o)}var o}),Pp.apply(this,arguments)}function nh(r,e,t){return fm.apply(this,arguments)}function fm(){return fm=(0,Fe.Z)(function*(r,e,t){if(!Vl(e))throw e;r.fu.add(1),yield xh(r),r.wu.set("Offline"),t||(t=()=>Xg(r.localStore)),r.asyncQueue.enqueueRetryable((0,Fe.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield t(),r.fu.delete(1),yield Ah(r)}))}),fm.apply(this,arguments)}function pm(r,e){return e().catch(t=>nh(r,t,e))}function _d(r){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Fe.Z)(function*(r){const e=k(r),t=Vc(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;gm(e);)try{const h=yield em(e.localStore,o);if(null===h){0===e.hu.length&&t.Mo();break}o=h.batchId,mm(e,h)}catch(h){yield nh(e,h)}Rp(e)&&Uu(e)}),Tf.apply(this,arguments)}function gm(r){return uu(r)&&r.hu.length<10}function mm(r,e){r.hu.push(e);const t=Vc(r);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Rp(r){return uu(r)&&!Vc(r).Co()&&r.hu.length>0}function Uu(r){Vc(r).start()}function Sf(r){return Np.apply(this,arguments)}function Np(){return Np=(0,Fe.Z)(function*(r){Vc(r).Zo()}),Np.apply(this,arguments)}function a_(r){return ym.apply(this,arguments)}function ym(){return ym=(0,Fe.Z)(function*(r){const e=Vc(r);for(const t of r.hu)e.Jo(t.mutations)}),ym.apply(this,arguments)}function kp(r,e,t){return Af.apply(this,arguments)}function Af(){return Af=(0,Fe.Z)(function*(r,e,t){const o=r.hu.shift(),h=u.from(o,e,t);yield pm(r,()=>r.remoteSyncer.applySuccessfulWrite(h)),yield _d(r)}),Af.apply(this,arguments)}function Fp(r,e){return vd.apply(this,arguments)}function vd(){return vd=(0,Fe.Z)(function*(r,e){var t;e&&Vc(r).Ho&&(yield(t=(0,Fe.Z)(function*(o,h){if(od(y=h.code)&&y!==L.ABORTED){const I=o.hu.shift();Vc(o).ko(),yield pm(o,()=>o.remoteSyncer.rejectFailedWrite(I.batchId,h)),yield _d(o)}var y}),function(o,h){return t.apply(this,arguments)})(r,e)),Rp(r)&&Uu(r)}),vd.apply(this,arguments)}function _m(r,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,Fe.Z)(function*(r,e){const t=k(r);t.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const o=uu(t);t.fu.add(3),yield xh(t),o&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Ah(t)}),Ph.apply(this,arguments)}function xf(r,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Fe.Z)(function*(r,e){const t=k(r);e?(t.fu.delete(2),yield Ah(t)):e||(t.fu.add(2),yield xh(t),t.wu.set("Unknown"))}),Mf.apply(this,arguments)}function bd(r){return r.gu||(r.gu=function(e,t,o){const h=k(e);return h.eu(),new dm(t,h.bo,h.authCredentials,h.appCheckCredentials,h.M,o)}(r.datastore,r.asyncQueue,{Hr:s_.bind(null,r),Yr:Op.bind(null,r),Qo:o_.bind(null,r)}),r.du.push(function(){var e=(0,Fe.Z)(function*(t){t?(r.gu.ko(),Mp(r)?xp(r):r.wu.set("Unknown")):(yield r.gu.stop(),Cf(r))});return function(t){return e.apply(this,arguments)}}())),r.gu}function Vc(r){return r.yu||(r.yu=function(e,t,o){const h=k(e);return h.eu(),new hm(t,h.bo,h.authCredentials,h.appCheckCredentials,h.M,o)}(r.datastore,r.asyncQueue,{Hr:Sf.bind(null,r),Yr:Fp.bind(null,r),Xo:a_.bind(null,r),Yo:kp.bind(null,r)}),r.du.push(function(){var e=(0,Fe.Z)(function*(t){t?(r.yu.ko(),yield _d(r)):(yield r.yu.stop(),r.hu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${r.hu.length} pending writes`),r.hu=[]))});return function(t){return e.apply(this,arguments)}}())),r.yu}class Rh{constructor(e,t,o,h,y){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=h,this.removalCallback=y,this.deferred=new me,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,t,o,h,y){const I=Date.now()+o,F=new Rh(e,t,I,h,y);return F.start(o),F}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ih(r,e){if(ai("AsyncQueue",`${e}: ${r}`),Vl(r))return new X(L.UNAVAILABLE,`${e}: ${r}`);throw r}class rh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||an.comparator(t.key,o.key):(t,o)=>an.comparator(t.key,o.key),this.keyedMap=ld(),this.sortedSet=new xs(this.comparator)}static emptySet(e){return new rh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,y=o.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new rh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Lp{constructor(){this.pu=new xs(an.comparator)}track(e){const t=e.doc.key,o=this.pu.get(t);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(t):1===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):P():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,o)=>{e.push(o)}),e}}class cu{constructor(e,t,o,h,y,I,F,ee){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=y,this.fromCache=I,this.syncStateChanged=F,this.excludesMetadataChanges=ee}static fromInitialDocuments(e,t,o,h){const y=[];return t.forEach(I=>{y.push({type:0,doc:I})}),new cu(e,t,rh.emptySet(t),y,o,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==o[h].type||!t[h].doc.isEqual(o[h].doc))return!1;return!0}}class vm{constructor(){this.Tu=void 0,this.listeners=[]}}class l_{constructor(){this.queries=new fa(e=>qu(e),hl),this.onlineState="Unknown",this.Eu=new Set}}function Vp(r,e){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,Fe.Z)(function*(r,e){const t=k(r),o=e.query;let h=!1,y=t.queries.get(o);if(y||(h=!0,y=new vm),h)try{y.Tu=yield t.onListen(o)}catch(I){const F=ih(I,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(F)}t.queries.set(o,y),y.listeners.push(e),e.Au(t.onlineState),y.Tu&&e.Ru(y.Tu)&&jl(t)}),Bc.apply(this,arguments)}function Bp(r,e){return Up.apply(this,arguments)}function Up(){return Up=(0,Fe.Z)(function*(r,e){const t=k(r),o=e.query;let h=!1;const y=t.queries.get(o);if(y){const I=y.listeners.indexOf(e);I>=0&&(y.listeners.splice(I,1),h=0===y.listeners.length)}if(h)return t.queries.delete(o),t.onUnlisten(o)}),Up.apply(this,arguments)}function u_(r,e){const t=k(r);let o=!1;for(const h of e){const I=t.queries.get(h.query);if(I){for(const F of I.listeners)F.Ru(h)&&(o=!0);I.Tu=h}}o&&jl(t)}function c_(r,e,t){const o=k(r),h=o.queries.get(e);if(h)for(const y of h.listeners)y.onError(t);o.queries.delete(e)}function jl(r){r.Eu.forEach(e=>{e.next()})}class Nh{constructor(e,t,o){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new cu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class bm{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class jp{constructor(e){this.M=e}fi(e){return Ja(this.M,e)}di(e){return e.metadata.exists?na(this.M,e.document,!1):re.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return qr(e)}}class Em{constructor(e,t,o){this.Nu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hp(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=lr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new jp(this.M);for(const h of e)if(h.metadata.queries){const y=o.fi(h.metadata.name);for(const I of h.metadata.queries){const F=(t.get(I)||Hr()).add(y);t.set(I,F)}}return t}complete(){var e=this;return(0,Fe.Z)(function*(){const t=yield function eh(r,e,t,o){return _p.apply(this,arguments)}(e.localStore,new jp(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const h of e.queries)yield tm(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function Hp(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class wm{constructor(e){this.key=e}}class Dm{constructor(e){this.key=e}}class Cm{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Hr(),this.mutatedKeys=Hr(),this.Uu=td(e),this.qu=new rh(this.Uu)}get Ku(){return this.$u}Gu(e,t){const o=t?t.Qu:new Lp,h=t?t.qu:this.qu;let y=t?t.mutatedKeys:this.mutatedKeys,I=h,F=!1;const ee=Iu(this.query)&&h.size===this.query.limit?h.last():null,oe=dl(this.query)&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((we,Ge)=>{const wt=h.get(we),Gt=ed(this.query,Ge)?Ge:null,Yt=!!wt&&this.mutatedKeys.has(wt.key),Ln=!!Gt&&(Gt.hasLocalMutations||this.mutatedKeys.has(Gt.key)&&Gt.hasCommittedMutations);let Mi=!1;wt&&Gt?wt.data.isEqual(Gt.data)?Yt!==Ln&&(o.track({type:3,doc:Gt}),Mi=!0):this.ju(wt,Gt)||(o.track({type:2,doc:Gt}),Mi=!0,(ee&&this.Uu(Gt,ee)>0||oe&&this.Uu(Gt,oe)<0)&&(F=!0)):!wt&&Gt?(o.track({type:0,doc:Gt}),Mi=!0):wt&&!Gt&&(o.track({type:1,doc:wt}),Mi=!0,(ee||oe)&&(F=!0)),Mi&&(Gt?(I=I.add(Gt),y=Ln?y.add(we):y.delete(we)):(I=I.delete(we),y=y.delete(we)))}),Iu(this.query)||dl(this.query))for(;I.size>this.query.limit;){const we=Iu(this.query)?I.last():I.first();I=I.delete(we.key),y=y.delete(we.key),o.track({type:1,doc:we})}return{qu:I,Qu:o,ni:F,mutatedKeys:y}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const h=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const y=e.Qu.Iu();y.sort((oe,we)=>function(Ge,wt){const Gt=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return Gt(Ge)-Gt(wt)}(oe.type,we.type)||this.Uu(oe.doc,we.doc)),this.Wu(o);const I=t?this.zu():[],F=0===this.Lu.size&&this.current?1:0,ee=F!==this.Bu;return this.Bu=F,0!==y.length||ee?{snapshot:new cu(this.query,e.qu,h,y,e.mutatedKeys,0===F,ee,!1),Hu:I}:{Hu:I}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Lp,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Hr(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const t=[];return e.forEach(o=>{this.Lu.has(o)||t.push(new Dm(o))}),this.Lu.forEach(o=>{e.has(o)||t.push(new wm(o))}),t}Yu(e){this.$u=e.li,this.Lu=Hr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return cu.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class d_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Im{constructor(e){this.key=e,this.Zu=!1}}class Kv{constructor(e,t,o,h,y,I){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=I,this.ta={},this.ea=new fa(F=>qu(F),hl),this.na=new Map,this.sa=new Set,this.ia=new xs(an.comparator),this.ra=new Map,this.oa=new mf,this.ua={},this.aa=new Map,this.ca=ic.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Tm(r,e){return $p.apply(this,arguments)}function $p(){return $p=(0,Fe.Z)(function*(r,e){const t=zc(r);let o,h;const y=t.ea.get(e);if(y)o=y.targetId,t.sharedClientState.addLocalQueryTarget(o),h=y.view.Xu();else{const I=yield Qd(t.localStore,ta(e));t.isPrimaryClient&&wf(t.remoteStore,I);const F=t.sharedClientState.addLocalQueryTarget(I.targetId);o=I.targetId,h=yield zp(t,e,o,"current"===F)}return h}),$p.apply(this,arguments)}function zp(r,e,t,o){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,Fe.Z)(function*(r,e,t,o){r.la=(we,Ge,wt)=>{return(Gt=(0,Fe.Z)(function*(Yt,Ln,Mi,$s){let Ro=Ln.view.Gu(Mi);Ro.ni&&(Ro=yield rc(Yt.localStore,Ln.query,!1).then(({documents:zs})=>Ln.view.Gu(zs,Ro)));const gs=$s&&$s.targetChanges.get(Ln.targetId),no=Ln.view.applyChanges(Ro,Yt.isPrimaryClient,gs);return qp(Yt,Ln.targetId,no.Hu),no.snapshot}),function(Yt,Ln,Mi,$s){return Gt.apply(this,arguments)})(r,we,Ge,wt);var Gt};const h=yield rc(r.localStore,e,!0),y=new Cm(e,h.li),I=y.Gu(h.documents),F=kl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState),ee=y.applyChanges(I,r.isPrimaryClient,F);qp(r,t,ee.Hu);const oe=new d_(e,t,y);return r.ea.set(e,oe),r.na.has(t)?r.na.get(t).push(e):r.na.set(t,[e]),ee.snapshot}),Sm.apply(this,arguments)}function qv(r,e){return kh.apply(this,arguments)}function kh(){return kh=(0,Fe.Z)(function*(r,e){const t=k(r),o=t.ea.get(e),h=t.na.get(o.targetId);if(h.length>1)return t.na.set(o.targetId,h.filter(y=>!hl(y,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Xd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Mh(t.remoteStore,o.targetId),Uc(t,o.targetId)}).catch(gd))):(Uc(t,o.targetId),yield Xd(t.localStore,o.targetId,!0))}),kh.apply(this,arguments)}function Of(){return Of=(0,Fe.Z)(function*(r,e,t){const o=Gc(r);try{const h=yield function(y,I){const F=k(y),ee=Oi.now(),oe=I.reduce((Ge,wt)=>Ge.add(wt.key),Hr());let we;return F.persistence.runTransaction("Locally write mutations","readwrite",Ge=>F.ci.Ks(Ge,oe).next(wt=>{we=wt;const Gt=[];for(const Yt of I){const Ln=rf(Yt,we.get(Yt.key));null!=Ln&&Gt.push(new pl(Yt.key,Ln,Z(Ln.value.mapValue),Mr.exists(!0)))}return F.Bs.addMutationBatch(Ge,ee,Gt,I)})).then(Ge=>(Ge.applyToLocalDocumentSet(we),{batchId:Ge.batchId,changes:we}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(y,I,F){let ee=y.ua[y.currentUser.toKey()];ee||(ee=new xs(mn)),ee=ee.insert(I,F),y.ua[y.currentUser.toKey()]=ee}(o,h.batchId,t),yield sc(o,h.changes),yield _d(o.remoteStore)}catch(h){const y=ih(h,"Failed to persist write");t.reject(y)}}),Of.apply(this,arguments)}function Gp(r,e){return Am.apply(this,arguments)}function Am(){return Am=(0,Fe.Z)(function*(r,e){const t=k(r);try{const o=yield yp(t.localStore,e);e.targetChanges.forEach((h,y)=>{const I=t.ra.get(y);I&&(M(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?I.Zu=!0:h.modifiedDocuments.size>0?M(I.Zu):h.removedDocuments.size>0&&(M(I.Zu),I.Zu=!1))}),yield sc(t,o,e)}catch(o){yield gd(o)}}),Am.apply(this,arguments)}function Hl(r,e,t){const o=k(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const h=[];o.ea.forEach((y,I)=>{const F=I.view.Au(e);F.snapshot&&h.push(F.snapshot)}),function(y,I){const F=k(y);F.onlineState=I;let ee=!1;F.queries.forEach((oe,we)=>{for(const Ge of we.listeners)Ge.Au(I)&&(ee=!0)}),ee&&jl(F)}(o.eventManager,e),h.length&&o.ta.Qo(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Zv(r,e,t){return xm.apply(this,arguments)}function xm(){return xm=(0,Fe.Z)(function*(r,e,t){const o=k(r);o.sharedClientState.updateQueryState(e,"rejected",t);const h=o.ra.get(e),y=h&&h.key;if(y){let I=new xs(an.comparator);I=I.insert(y,re.newNoDocument(y,jn.min()));const F=Hr().add(y),ee=new gl(jn.min(),new Map,new jr(mn),I,F);yield Gp(o,ee),o.ia=o.ia.remove(y),o.ra.delete(e),Zp(o)}else yield Xd(o.localStore,e,!1).then(()=>Uc(o,e,t)).catch(gd)}),xm.apply(this,arguments)}function Mm(r,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Fe.Z)(function*(r,e){const t=k(r),o=e.batch.batchId;try{const h=yield Qg(t.localStore,e);Kp(t,o,null),Fh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield sc(t,h)}catch(h){yield gd(h)}}),Pf.apply(this,arguments)}function Om(r,e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,Fe.Z)(function*(r,e,t){const o=k(r);try{const h=yield function(y,I){const F=k(y);return F.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let oe;return F.Bs.lookupMutationBatch(ee,I).next(we=>(M(null!==we),oe=we.keys(),F.Bs.removeMutationBatch(ee,we))).next(()=>F.Bs.performConsistencyCheck(ee)).next(()=>F.ci.Ks(ee,oe))})}(o.localStore,e);Kp(o,e,t),Fh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield sc(o,h)}catch(h){yield gd(h)}}),Wp.apply(this,arguments)}function Rf(){return Rf=(0,Fe.Z)(function*(r,e){const t=k(r);uu(t.remoteStore)||Lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(y){const I=k(y);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>I.Bs.getHighestUnacknowledgedBatchId(F))}(t.localStore);if(-1===o)return void e.resolve();const h=t.aa.get(o)||[];h.push(e),t.aa.set(o,h)}catch(o){const h=ih(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Rf.apply(this,arguments)}function Fh(r,e){(r.aa.get(e)||[]).forEach(t=>{t.resolve()}),r.aa.delete(e)}function Kp(r,e,t){const o=k(r);let h=o.ua[o.currentUser.toKey()];if(h){const y=h.get(e);y&&(t?y.reject(t):y.resolve(),h=h.remove(e)),o.ua[o.currentUser.toKey()]=h}}function Uc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.na.get(e))r.ea.delete(o),t&&r.ta.fa(o,t);r.na.delete(e),r.isPrimaryClient&&r.oa.Pi(e).forEach(o=>{r.oa.containsKey(o)||Pm(r,o)})}function Pm(r,e){r.sa.delete(e.path.canonicalString());const t=r.ia.get(e);null!==t&&(Mh(r.remoteStore,t),r.ia=r.ia.remove(e),r.ra.delete(t),Zp(r))}function qp(r,e,t){for(const o of t)o instanceof wm?(r.oa.addReference(o.key,e),f_(r,o)):o instanceof Dm?(Lt("SyncEngine","Document no longer in limbo: "+o.key),r.oa.removeReference(o.key,e),r.oa.containsKey(o.key)||Pm(r,o.key)):P()}function f_(r,e){const t=e.key,o=t.path.canonicalString();r.ia.get(t)||r.sa.has(o)||(Lt("SyncEngine","New document in limbo: "+t),r.sa.add(o),Zp(r))}function Zp(r){for(;r.sa.size>0&&r.ia.size<r.maxConcurrentLimboResolutions;){const e=r.sa.values().next().value;r.sa.delete(e);const t=new an(lr.fromString(e)),o=r.ca.next();r.ra.set(o,new Im(t)),r.ia=r.ia.insert(t,o),wf(r.remoteStore,new a(ta(cl(t.path)),o,2,pr.A))}}function sc(r,e,t){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,Fe.Z)(function*(r,e,t){const o=k(r),h=[],y=[],I=[];var F;o.ea.isEmpty()||(o.ea.forEach((F,ee)=>{I.push(o.la(ee,e,t).then(oe=>{if(oe){o.isPrimaryClient&&o.sharedClientState.updateQueryState(ee.targetId,oe.fromCache?"not-current":"current"),h.push(oe);const we=df.Ys(ee.targetId,oe);y.push(we)}}))}),yield Promise.all(I),o.ta.Qo(h),yield(F=(0,Fe.Z)(function*(ee,oe){const we=k(ee);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ge=>Mt.forEach(oe,wt=>Mt.forEach(wt.Hs,Gt=>we.persistence.referenceDelegate.addReference(Ge,wt.targetId,Gt)).next(()=>Mt.forEach(wt.Js,Gt=>we.persistence.referenceDelegate.removeReference(Ge,wt.targetId,Gt)))))}catch(Ge){if(!Vl(Ge))throw Ge;Lt("LocalStore","Failed to update sequence numbers: "+Ge)}for(const Ge of oe){const wt=Ge.targetId;if(!Ge.fromCache){const Gt=we.ii.get(wt),Ln=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);we.ii=we.ii.insert(wt,Ln)}}}),function(ee,oe){return F.apply(this,arguments)})(o.localStore,y))}),Yp.apply(this,arguments)}function Nf(r,e){return jc.apply(this,arguments)}function jc(){return jc=(0,Fe.Z)(function*(r,e){const t=k(r);if(!t.currentUser.isEqual(e)){Lt("SyncEngine","User change. New user:",e.toKey());const o=yield Yg(t.localStore,e);t.currentUser=e,(h=t).aa.forEach(I=>{I.forEach(F=>{F.reject(new X(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.aa.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield sc(t,o.hi)}var h}),jc.apply(this,arguments)}function p_(r,e){const t=k(r),o=t.ra.get(e);if(o&&o.Zu)return Hr().add(o.key);{let h=Hr();const y=t.na.get(e);if(!y)return h;for(const I of y){const F=t.ea.get(I);h=h.unionWith(F.view.Ku)}return h}}function Lh(r,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,Fe.Z)(function*(r,e){const t=k(r),o=yield rc(t.localStore,e.query,!0),h=e.view.Yu(o);return t.isPrimaryClient&&qp(t,e.targetId,h.Hu),h}),Qp.apply(this,arguments)}function g_(r,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,Fe.Z)(function*(r,e){const t=k(r);return yd(t.localStore,e).then(o=>sc(t,o))}),Vh.apply(this,arguments)}function ju(r,e,t,o){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Fe.Z)(function*(r,e,t,o){const h=k(r),y=yield function(I,F){const ee=k(I),oe=k(ee.Bs);return ee.persistence.runTransaction("Lookup mutation documents","readonly",we=>oe.fn(we,F).next(Ge=>Ge?ee.ci.Ks(we,Ge):Mt.resolve(null)))}(h.localStore,e);var F;null!==y?("pending"===t?yield _d(h.remoteStore):"acknowledged"===t||"rejected"===t?(Kp(h,e,o||null),Fh(h,e),F=e,k(k(h.localStore).Bs)._n(F)):P(),yield sc(h,y)):Lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ed.apply(this,arguments)}function oc(){return oc=(0,Fe.Z)(function*(r,e){const t=k(r);if(zc(t),Gc(t),!0===e&&!0!==t.ha){const o=t.sharedClientState.getAllActiveQueryTargets(),h=yield Bh(t,o.toArray());t.ha=!0,yield xf(t.remoteStore,!0);for(const y of h)wf(t.remoteStore,y)}else if(!1===e&&!1!==t.ha){const o=[];let h=Promise.resolve();t.na.forEach((y,I)=>{t.sharedClientState.isLocalQueryTarget(I)?o.push(I):h=h.then(()=>(Uc(t,I),Xd(t.localStore,I,!0))),Mh(t.remoteStore,I)}),yield h,yield Bh(t,o),function(y){const I=k(y);I.ra.forEach((F,ee)=>{Mh(I.remoteStore,ee)}),I.oa.bi(),I.ra=new Map,I.ia=new xs(an.comparator)}(t),t.ha=!1,yield xf(t.remoteStore,!1)}}),oc.apply(this,arguments)}function Bh(r,e,t){return nl.apply(this,arguments)}function nl(){return nl=(0,Fe.Z)(function*(r,e,t){const o=k(r),h=[],y=[];for(const I of e){let F;const ee=o.na.get(I);if(ee&&0!==ee.length){F=yield Qd(o.localStore,ta(ee[0]));for(const oe of ee){const we=o.ea.get(oe),Ge=yield Lh(o,we);Ge.snapshot&&y.push(Ge.snapshot)}}else{const oe=yield pf(o.localStore,I);F=yield Qd(o.localStore,oe),yield zp(o,kf(oe),I,!1)}h.push(F)}return o.ta.Qo(y),h}),nl.apply(this,arguments)}function kf(r){return Qc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function sh(r){const e=k(r);return k(k(e.localStore).persistence).Fs()}function oh(r,e,t,o){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,Fe.Z)(function*(r,e,t,o){const h=k(r);if(h.ha)return void Lt("SyncEngine","Ignoring unexpected query state notification.");const y=h.na.get(e);if(y&&y.length>0)switch(t){case"current":case"not-current":{const I=yield yd(h.localStore,Zu(y[0])),F=gl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield sc(h,I,F);break}case"rejected":yield Xd(h.localStore,e,!0),Uc(h,e,o);break;default:P()}}),Hc.apply(this,arguments)}function ah(r,e,t){return $c.apply(this,arguments)}function $c(){return $c=(0,Fe.Z)(function*(r,e,t){const o=zc(r);if(o.ha){for(const h of e){if(o.na.has(h)){Lt("SyncEngine","Adding an already active target "+h);continue}const y=yield pf(o.localStore,h),I=yield Qd(o.localStore,y);yield zp(o,kf(y),I.targetId,!1),wf(o.remoteStore,I)}for(const h of t)o.na.has(h)&&(yield Xd(o.localStore,h,!1).then(()=>{Mh(o.remoteStore,h),Uc(o,h)}).catch(gd))}}),$c.apply(this,arguments)}function zc(r){const e=k(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zv.bind(null,e),e.ta.Qo=u_.bind(null,e.eventManager),e.ta.fa=c_.bind(null,e.eventManager),e}function Gc(r){const e=k(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Om.bind(null,e),e}class wd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Fe.Z)(function*(){t.M=th(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return ff(this.persistence,new hf,e.initialUser,this.M)}wa(e){return new rm(yf.zi,this.M)}_a(e){return new um}terminate(){var e=this;return(0,Fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xp extends wd{constructor(e,t,o){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Fe.Z)(function*(){yield t().call(o,e),yield o.ya.initialize(o,e),yield Gc(o.ya.syncEngine),yield _d(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return ff(this.persistence,new hf,e.initialUser,this.M)}ma(e){return new $v(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=Th(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?jo.withCacheSize(this.cacheSizeBytes):jo.DEFAULT;return new qg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Cp(),bf(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new um}}class Rm extends Xp{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Fe.Z)(function*(){yield t().call(o,e);const h=o.ya.syncEngine;o.sharedClientState instanceof lm&&(o.sharedClientState.syncEngine={Mr:ju.bind(null,h),Or:oh.bind(null,h),Fr:ah.bind(null,h),Fs:sh.bind(null,h),kr:g_.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var y=(0,Fe.Z)(function*(I){yield function Ia(r,e){return oc.apply(this,arguments)}(o.ya.syncEngine,I),o.gcScheduler&&(I&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):I||o.gcScheduler.stop())});return function(I){return y.apply(this,arguments)}}())})()}_a(e){const t=Cp();if(!lm.vt(t))throw new X(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Th(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ff{initialize(e,t){var o=this;return(0,Fe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=h=>Hl(o.syncEngine,h,1),o.remoteStore.remoteSyncer.handleCredentialChange=Nf.bind(null,o.syncEngine),yield xf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new l_}createDatastore(e){const t=th(e.databaseInfo.databaseId),o=new i_(e.databaseInfo);return new r_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,h=e.asyncQueue,y=F=>Hl(this.syncEngine,F,0),I=Dp.vt()?new Dp:new wp,new Tp(t,o,h,y,I);var t,o,h,y,I}createSyncEngine(e,t){return function(o,h,y,I,F,ee,oe){const we=new Kv(o,h,y,I,F,ee);return oe&&(we.ha=!0),we}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Fe.Z)(function*(t){const o=k(t);Lt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield xh(o),o._u.shutdown(),o.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jp(r,e=10240){let t=0;return{read:()=>(0,Fe.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Uh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Nm{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new me,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Fe.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Fe.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const o=e.Ea.decode(t),h=Number(o);isNaN(h)&&e.Pa(`length string (${o}) is not valid number`);const y=yield e.ba(h);return new bm(JSON.parse(y),t.length+h)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Fe.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,Fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const o=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class km{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new X(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(h=(0,Fe.Z)(function*(y,I){const F=k(y),ee=su(F.M)+"/documents",oe={documents:I.map(Gt=>ru(F.M,Gt))},we=yield F.ho("BatchGetDocuments",ee,oe),Ge=new Map;we.forEach(Gt=>{const Yt=function ia(r,e){return"found"in e?function(t,o){M(!!o.found);const h=Ja(t,o.found.name),y=qr(o.found.updateTime),I=new j({mapValue:{fields:o.found.fields}});return re.newFoundDocument(h,y,I)}(r,e):"missing"in e?function(t,o){M(!!o.missing),M(!!o.readTime);const h=Ja(t,o.missing),y=qr(o.readTime);return re.newNoDocument(h,y)}(r,e):P()}(F.M,Gt);Ge.set(Yt.key.toString(),Yt)});const wt=[];return I.forEach(Gt=>{const Yt=Ge.get(Gt.toString());M(!!Yt),wt.push(Yt)}),wt}),function(y,I){return h.apply(this,arguments)})(t.datastore,e);var h;return o.forEach(h=>t.recordVersion(h)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,h)=>{const y=an.fromPath(h);e.mutations.push(new Xu(y,e.precondition(y)))}),yield(o=(0,Fe.Z)(function*(h,y){const I=k(h),F=su(I.M)+"/documents",ee={writes:y.map(oe=>Nu(I.M,oe))};yield I.oo("Commit",F,ee)}),function(h,y){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw P();t=jn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new X(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mr.updateTime(t):Mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jn.min()))throw new X(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(t)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fm{constructor(e,t,o,h){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=h,this.Sa=5,this.Do=new Ip(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Fe.Z)(function*(){const t=new km(e.datastore),o=e.Ca(t);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.xa(y)}))}).catch(h=>{e.xa(h)})}))}Ca(e){try{const t=this.updateFunction(e);return!lo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!od(t)}return!1}}class Lm{constructor(e,t,o,h){var y=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=h,this.user=Vn.UNAUTHENTICATED,this.clientId=ps.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var I=(0,Fe.Z)(function*(F){Lt("FirestoreClient","Received user=",F.uid),yield y.authCredentialListener(F),y.user=F});return function(F){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(o,I=>(Lt("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,Fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new me;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const h=ih(o,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Vm(r,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,Fe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var h=(0,Fe.Z)(function*(y){o.isEqual(y)||(yield Yg(e.localStore,y),o=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),Lf.apply(this,arguments)}function Bm(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,Fe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Vf(r);Lt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(h=>_m(e.remoteStore,h)),r.setAppCheckTokenChangeListener((h,y)=>_m(e.remoteStore,y)),r.onlineComponents=e}),eg.apply(this,arguments)}function Vf(r){return tg.apply(this,arguments)}function tg(){return tg=(0,Fe.Z)(function*(r){return r.offlineComponents||(Lt("FirestoreClient","Using default OfflineComponentProvider"),yield Vm(r,new wd)),r.offlineComponents}),tg.apply(this,arguments)}function Bf(r){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,Fe.Z)(function*(r){return r.onlineComponents||(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield Bm(r,new Ff)),r.onlineComponents}),Uf.apply(this,arguments)}function Um(r){return Vf(r).then(e=>e.persistence)}function jf(r){return Vf(r).then(e=>e.localStore)}function jm(r){return Bf(r).then(e=>e.remoteStore)}function ng(r){return Bf(r).then(e=>e.syncEngine)}function jh(r){return ig.apply(this,arguments)}function ig(){return ig=(0,Fe.Z)(function*(r){const e=yield Bf(r),t=e.eventManager;return t.onListen=Tm.bind(null,e.syncEngine),t.onUnlisten=qv.bind(null,e.syncEngine),t}),ig.apply(this,arguments)}function y_(r,e,t={}){const o=new me;return r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(h,y,I,F,ee){const oe=new Uh({next:Ge=>{y.enqueueAndForget(()=>Bp(h,we));const wt=Ge.docs.has(I);!wt&&Ge.fromCache?ee.reject(new X(L.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&Ge.fromCache&&F&&"server"===F.source?ee.reject(new X(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(Ge)},error:Ge=>ee.reject(Ge)}),we=new Nh(cl(I.path),oe,{includeMetadataChanges:!0,Cu:!0});return Vp(h,we)}(yield jh(r),r.asyncQueue,e,t,o)})),o.promise}function __(r,e,t={}){const o=new me;return r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(h,y,I,F,ee){const oe=new Uh({next:Ge=>{y.enqueueAndForget(()=>Bp(h,we)),Ge.fromCache&&"server"===F.source?ee.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(Ge)},error:Ge=>ee.reject(Ge)}),we=new Nh(I,oe,{includeMetadataChanges:!0,Cu:!0});return Vp(h,we)}(yield jh(r),r.asyncQueue,e,t,o)})),o.promise}const Dd=new Map;function og(r,e,t){if(!t)throw new X(L.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ag(r,e,t,o){if(!0===e&&!0===o)throw new X(L.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $m(r){if(!an.isDocumentKey(r))throw new X(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lg(r){if(an.isDocumentKey(r))throw new X(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Cd(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":P()}function Or(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cd(r);throw new X(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function ug(r,e){if(e<=0)throw new X(L.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class zm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ag("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zm({}),this._settingsFrozen=!1,e instanceof Ea?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ea(h.options.projectId)}(e))}get app(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Et;switch(t.type){case"gapi":const o=t.client;return M(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new cn(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new X(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Dd.get(e);t&&(Lt("ComponentProvider","Removing Datastore"),Dd.delete(e),t.terminate())}(this),Promise.resolve()}}class js{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new js(this.firestore,e,this._key)}}class Ta{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class du extends Ta{constructor(e,t,o){super(e,t,cl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new js(this.firestore,null,new an(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function Gm(r,e,...t){if(r=(0,qe.m9)(r),og("collection","path",e),r instanceof Hh){const o=lr.fromString(e,...t);return lg(o),new du(r,null,o)}{if(!(r instanceof js||r instanceof du))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(lr.fromString(e,...t));return lg(o),new du(r.firestore,null,o)}}function $h(r,e,...t){if(r=(0,qe.m9)(r),1===arguments.length&&(e=ps.R()),og("doc","path",e),r instanceof Hh){const o=lr.fromString(e,...t);return $m(o),new js(r,null,new an(o))}{if(!(r instanceof js||r instanceof du))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(lr.fromString(e,...t));return $m(o),new js(r.firestore,r instanceof du?r.converter:null,new an(o))}}function Hf(r,e){return r=(0,qe.m9)(r),e=(0,qe.m9)(e),(r instanceof js||r instanceof du)&&(e instanceof js||e instanceof du)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function w_(r,e){return r=(0,qe.m9)(r),e=(0,qe.m9)(e),r instanceof Ta&&e instanceof Ta&&r.firestore===e.firestore&&hl(r._query,e._query)&&r.converter===e.converter}class cg{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Ip(this,"async_queue_retry"),this.qa=()=>{const t=bf();t&&Lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new me;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Fe.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Vl(t))throw t;Lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,ai("INTERNAL UNHANDLED ERROR: ",function(y){let I=y.message||"";return y.stack&&(I=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),I}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=t,t}enqueueAfterDelay(e,t,o){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const h=Rh.createAndSchedule(this,e,t,o,y=>this.ja(y));return this.Fa.push(h),h}Ka(){this.$a&&P()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Fe.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function dg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const h of["next","error","complete"])if(h in o&&"function"==typeof o[h])return!0;return!1}(r)}class Jv{constructor(){this._progressObserver={},this._taskCompletionResolver=new me,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hs extends Hh{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new cg,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Gh(this),this._firestoreClient.terminate()}}function Ho(r){return r._firestoreClient||Gh(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Gh(r){var e;const t=r._freezeSettings(),o=(y=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Xo(r._databaseId,y,r._persistenceKey,(F=t).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var y,F;r._firestoreClient=new Lm(r._authCredentials,r._appCheckCredentials,r._queue,o)}function D_(r,e,t){const o=new me;return r.asyncQueue.enqueue((0,Fe.Z)(function*(){try{yield Vm(r,t),yield Bm(r,e),o.resolve()}catch(h){if(!("FirebaseError"===(y=h).name?y.code===L.FAILED_PRECONDITION||y.code===L.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),o.reject(h)}var y})).then(()=>o.promise)}function pg(r){if(r._initialized||r._terminated)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(Kr.fromBase64String(e))}catch(t){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hu(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wc{constructor(e){this._methodName=e}}class Wh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const gg=/^__.*__$/;class Qm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new pl(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class Xm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new pl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mg(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Kh{constructor(e,t,o,h,y,I){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=h,void 0===y&&this.Ya(),this.fieldTransforms=y||[],this.fieldMask=I||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Za({path:o,ec:!1});return h.nc(e),h}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Za({path:o,ec:!1});return h.Ya(),h}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Zh(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(mg(this.Xa)&&gg.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class yg{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||th(e)}ac(e,t,o,h=!1){return new Kh({Xa:e,methodName:t,uc:o,path:Ss.emptyPath(),ec:!1,oc:h},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ac(r){const e=r._freezeSettings(),t=th(r._databaseId);return new yg(r._databaseId,!!e.ignoreUndefinedProperties,t)}function qh(r,e,t,o,h,y={}){const I=r.ac(y.merge||y.mergeFields?2:0,e,t,h);Po("Data must be an object, but it was:",I,o);const F=vg(o,I);let ee,oe;if(y.merge)ee=new Il(I.fieldMask),oe=I.fieldTransforms;else if(y.mergeFields){const we=[];for(const Ge of y.mergeFields){const wt=qf(e,Ge,t);if(!I.contains(wt))throw new X(L.INVALID_ARGUMENT,`Field '${wt}' is specified in your field mask but missing from your input data.`);sy(we,wt)||we.push(wt)}ee=new Il(we),oe=I.fieldTransforms.filter(Ge=>ee.covers(Ge.field))}else ee=null,oe=I.fieldTransforms;return new Qm(new j(F),ee,oe)}class uh extends Wc{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uh}}function _g(r,e,t){return new Kh({Xa:3,uc:e.settings.uc,methodName:r._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Wf extends Wc{_toFieldTransform(e){return new Jl(e.path,new Ql)}isEqual(e){return e instanceof Wf}}class Jm extends Wc{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=_g(this,e,!0),o=this.cc.map(y=>Id(y,t)),h=new La(o);return new Jl(e.path,h)}isEqual(e){return this===e}}class ey extends Wc{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=_g(this,e,!0),o=this.cc.map(y=>Id(y,t)),h=new Xl(o);return new Jl(e.path,h)}isEqual(e){return this===e}}class ty extends Wc{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Su(e.M,Yl(e.M,this.hc));return new Jl(e.path,t)}isEqual(e){return this===e}}function Kf(r,e,t,o){const h=r.ac(1,e,t);Po("Data must be an object, but it was:",h,o);const y=[],I=j.empty();Qi(o,(ee,oe)=>{const we=Zf(e,ee,t);oe=(0,qe.m9)(oe);const Ge=h.sc(we);if(oe instanceof uh)y.push(we);else{const wt=Id(oe,Ge);null!=wt&&(y.push(we),I.set(we,wt))}});const F=new Il(y);return new Xm(I,F,h.fieldTransforms)}function ny(r,e,t,o,h,y){const I=r.ac(1,e,t),F=[qf(e,o,t)],ee=[h];if(y.length%2!=0)throw new X(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let wt=0;wt<y.length;wt+=2)F.push(qf(e,y[wt])),ee.push(y[wt+1]);const oe=[],we=j.empty();for(let wt=F.length-1;wt>=0;--wt)if(!sy(oe,F[wt])){const Gt=F[wt];let Yt=ee[wt];Yt=(0,qe.m9)(Yt);const Ln=I.sc(Gt);if(Yt instanceof uh)oe.push(Gt);else{const Mi=Id(Yt,Ln);null!=Mi&&(oe.push(Gt),we.set(Gt,Mi))}}const Ge=new Il(oe);return new Xm(we,Ge,I.fieldTransforms)}function iy(r,e,t,o=!1){return Id(t,r.ac(o?4:3,e))}function Id(r,e){if(ry(r=(0,qe.m9)(r)))return Po("Unsupported field value:",e,r),vg(r,e);if(r instanceof Wc)return function(t,o){if(!mg(o.Xa))throw o.rc(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,o){const h=[];let y=0;for(const I of t){let F=Id(I,o.ic(y));null==F&&(F={nullValue:"NULL_VALUE"}),h.push(F),y++}return{arrayValue:{values:h}}}(r,e)}return function(t,o){if(null===(t=(0,qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yl(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Oi.fromDate(t);return{timestampValue:Pu(o.M,h)}}if(t instanceof Oi){const h=new Oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pu(o.M,h)}}if(t instanceof Wh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hu)return{bytesValue:Ic(o.M,t._byteString)};if(t instanceof js){const h=o.databaseId,y=t.firestore._databaseId;if(!y.isEqual(h))throw o.rc(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Tc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.rc(`Unsupported field value: ${Cd(t)}`)}(r,e)}function vg(r,e){const t={};return Kl(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(r,(o,h)=>{const y=Id(h,e.tc(o));null!=y&&(t[o]=y)}),{mapValue:{fields:t}}}function ry(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Oi||r instanceof Wh||r instanceof Hu||r instanceof js||r instanceof Wc)}function Po(r,e,t){if(!ry(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Cd(t);throw e.rc("an object"===o?r+" a custom object":r+" "+o)}var o}function qf(r,e,t){if((e=(0,qe.m9)(e))instanceof hu)return e._internalPath;if("string"==typeof e)return Zf(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,t)}const S_=new RegExp("[~\\*/\\[\\]]");function Zf(r,e,t){if(e.search(S_)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new hu(...e.split("."))._internalPath}catch(o){throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Zh(r,e,t,o,h){const y=o&&!o.isEmpty(),I=void 0!==h;let F=`Function ${e}() called with invalid data`;t&&(F+=" (via `toFirestore()`)"),F+=". ";let ee="";return(y||I)&&(ee+=" (found",y&&(ee+=` in field ${o}`),I&&(ee+=` in document ${h}`),ee+=")"),new X(L.INVALID_ARGUMENT,F+r+ee)}function sy(r,e){return r.some(t=>t.isEqual(e))}class ch{constructor(e,t,o,h,y){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new js(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oy extends ch{data(){return super.data()}}function lc(r,e){return"string"==typeof e?Zf(r,e):e instanceof hu?e._internalPath:e._delegate._internalPath}class Td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uc extends ch{constructor(e,t,o,h,y,I){super(e,t,o,h,I),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(lc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class dh extends uc{data(e={}){return super.data(e)}}class Kc{constructor(e,t,o,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Td(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new dh(this._firestore,this._userDataWriter,o.key,o,new Td(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let y=0;return o._snapshot.docChanges.map(I=>({type:"added",doc:new dh(o._firestore,o._userDataWriter,I.doc.key,I.doc,new Td(o._snapshot.mutatedKeys.has(I.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:y++}))}{let y=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(I=>h||3!==I.type).map(I=>{const F=new dh(o._firestore,o._userDataWriter,I.doc.key,I.doc,new Td(o._snapshot.mutatedKeys.has(I.doc.key),o._snapshot.fromCache),o.query.converter);let ee=-1,oe=-1;return 0!==I.type&&(ee=y.indexOf(I.doc.key),y=y.delete(I.doc.key)),1!==I.type&&(y=y.add(I.doc),oe=y.indexOf(I.doc.key)),{type:ay(I.type),doc:F,oldIndex:ee,newIndex:oe}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ay(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function A_(r,e){return r instanceof uc&&e instanceof uc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Kc&&e instanceof Kc&&r._firestore===e._firestore&&w_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Yf(r){if(dl(r)&&0===r.explicitOrderBy.length)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sd{}function _a(r,...e){for(const t of e)r=t._apply(r);return r}class x_ extends Sd{constructor(e,t,o){super(),this.lc=e,this.fc=t,this.dc=o,this.type="where"}_apply(e){const t=ac(e.firestore),o=function(h,y,I,F,ee,oe,we){let Ge;if(ee.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new X(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){py(we,oe);const Gt=[];for(const Yt of we)Gt.push(Eg(F,h,Yt));Ge={arrayValue:{values:Gt}}}else Ge=Eg(F,h,we)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||py(we,oe),Ge=iy(I,"where",we,"in"===oe||"not-in"===oe);const wt=vo.create(ee,oe,Ge);return function(Gt,Yt){if(Yt.S()){const Mi=Tu(Gt);if(null!==Mi&&!Mi.isEqual(Yt.field))throw new X(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Mi.toString()}' and '${Yt.field.toString()}'`);const $s=Xc(Gt);null!==$s&&wg(0,Yt.field,$s)}const Ln=function(Mi,$s){for(const Ro of Mi.filters)if($s.indexOf(Ro.op)>=0)return Ro.op;return null}(Gt,function(Mi){switch(Mi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Yt.op));if(null!==Ln)throw new X(L.INVALID_ARGUMENT,Ln===Yt.op?`Invalid query. You cannot use more than one '${Yt.op.toString()}' filter.`:`Invalid query. You cannot use '${Yt.op.toString()}' filters with '${Ln.toString()}' filters.`)}(h,wt),wt}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Ta(e.firestore,e.converter,function(h,y){const I=h.filters.concat([y]);return new ul(h.path,h.collectionGroup,h.explicitOrderBy.slice(),I,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,o))}}class $u extends Sd{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(o,h,y){if(null!==o.startAt)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new Ml(h,y);return function(F,ee){if(null===Xc(F)){const oe=Tu(F);null!==oe&&wg(0,oe,ee.field)}}(o,I),I}(e._query,this.lc,this._c);return new Ta(e.firestore,e.converter,function(o,h){const y=o.explicitOrderBy.concat([h]);return new ul(o.path,o.collectionGroup,y,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class $l extends Sd{constructor(e,t,o){super(),this.type=e,this.wc=t,this.mc=o}_apply(e){return new Ta(e.firestore,e.converter,mc(e._query,this.wc,this.mc))}}class dy extends Sd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=fy(e,this.type,this.gc,this.yc);return new Ta(e.firestore,e.converter,(h=t,new ul((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)));var o,h}}class hy extends Sd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=fy(e,this.type,this.gc,this.yc);return new Ta(e.firestore,e.converter,(h=t,new ul((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,h)));var o,h}}function fy(r,e,t,o){if(t[0]=(0,qe.m9)(t[0]),t[0]instanceof ch)return function(h,y,I,F,ee){if(!F)throw new X(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const oe=[];for(const we of Ya(h))if(we.field.isKeyField())oe.push(Rs(y,F.key));else{const Ge=F.data.field(we.field);if(fc(Ge))throw new X(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ge){const wt=we.field.canonicalString();throw new X(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}oe.push(Ge)}return new xl(oe,ee)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const h=ac(r.firestore);return function(y,I,F,ee,oe,we){const Ge=y.explicitOrderBy;if(oe.length>Ge.length)throw new X(L.INVALID_ARGUMENT,`Too many arguments provided to ${ee}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let Gt=0;Gt<oe.length;Gt++){const Yt=oe[Gt];if(Ge[Gt].field.isKeyField()){if("string"!=typeof Yt)throw new X(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ee}(), but got a ${typeof Yt}`);if(!Jc(y)&&-1!==Yt.indexOf("/"))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ee}() must be a plain document ID, but '${Yt}' contains a slash.`);const Ln=y.path.child(lr.fromString(Yt));if(!an.isDocumentKey(Ln))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ee}() must result in a valid document path, but '${Ln}' is not because it contains an odd number of segments.`);const Mi=new an(Ln);wt.push(Rs(I,Mi))}else{const Ln=iy(F,ee,Yt);wt.push(Ln)}}return new xl(wt,we)}(r._query,r.firestore._databaseId,h,e,t,o)}}function Eg(r,e,t){if("string"==typeof(t=(0,qe.m9)(t))){if(""===t)throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jc(e)&&-1!==t.indexOf("/"))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(lr.fromString(t));if(!an.isDocumentKey(o))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Rs(r,new an(o))}if(t instanceof js)return Rs(r,t._key);throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(t)}.`)}function py(r,e){if(!Array.isArray(r)||0===r.length)throw new X(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new X(L.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wg(r,e,t){if(!t.isEqual(e))throw new X(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Qf{convertValue(e,t="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return os(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw P()}}convertObject(e,t){const o={};return Qi(e.fields,(h,y)=>{o[h]=this.convertValue(y,t)}),o}convertGeoPoint(e){return new Wh(os(e.latitude),os(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ql(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const t=br(e);return new Oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=lr.fromString(e);M(yn(o));const h=new Ea(o.get(1),o.get(3)),y=new an(o.popFirst(5));return h.isEqual(t)||ai(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),y}}function Ad(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class P_ extends Qf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new js(this.firestore,null,t)}}class Dg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ac(e)}set(e,t,o){this._verifyNotCommitted();const h=cc(e,this._firestore),y=Ad(h.converter,t,o),I=qh(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,o);return this._mutations.push(I.toMutation(h._key,Mr.none())),this}update(e,t,o,...h){this._verifyNotCommitted();const y=cc(e,this._firestore);let I;return I="string"==typeof(t=(0,qe.m9)(t))||t instanceof hu?ny(this._dataReader,"WriteBatch.update",y._key,t,o,h):Kf(this._dataReader,"WriteBatch.update",y._key,t),this._mutations.push(I.toMutation(y._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cc(e,this._firestore);return this._mutations=this._mutations.concat(new Nl(t._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new X(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cc(r,e){if((r=(0,qe.m9)(r)).firestore!==e)throw new X(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class zu extends Qf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new js(this.firestore,null,t)}}function Tg(r,e,t){r=Or(r,js);const o=Or(r.firestore,Hs),h=Ad(r.converter,e,t);return hh(o,[qh(ac(o),"setDoc",r._key,h,null!==r.converter,t).toMutation(r._key,Mr.none())])}function Sg(r,e,t,...o){r=Or(r,js);const h=Or(r.firestore,Hs),y=ac(h);let I;return I="string"==typeof(e=(0,qe.m9)(e))||e instanceof hu?ny(y,"updateDoc",r._key,e,t,o):Kf(y,"updateDoc",r._key,e),hh(h,[I.toMutation(r._key,Mr.exists(!0))])}function by(r,...e){var t,o,h;r=(0,qe.m9)(r);let y={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||dg(e[I])||(y=e[I],I++);const F={includeMetadataChanges:y.includeMetadataChanges};if(dg(e[I])){const Ge=e[I];e[I]=null===(t=Ge.next)||void 0===t?void 0:t.bind(Ge),e[I+1]=null===(o=Ge.error)||void 0===o?void 0:o.bind(Ge),e[I+2]=null===(h=Ge.complete)||void 0===h?void 0:h.bind(Ge)}let ee,oe,we;if(r instanceof js)oe=Or(r.firestore,Hs),we=cl(r._key.path),ee={next:Ge=>{e[I]&&e[I](Ag(oe,r,Ge))},error:e[I+1],complete:e[I+2]};else{const Ge=Or(r,Ta);oe=Or(Ge.firestore,Hs),we=Ge._query;const wt=new zu(oe);ee={next:Gt=>{e[I]&&e[I](new Kc(oe,wt,Ge,Gt))},error:e[I+1],complete:e[I+2]},Yf(r._query)}return function(Ge,wt,Gt,Yt){const Ln=new Uh(Yt),Mi=new Nh(wt,Ln,Gt);return Ge.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return Vp(yield jh(Ge),Mi)})),()=>{Ln.Ia(),Ge.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return Bp(yield jh(Ge),Mi)}))}}(Ho(oe),we,F,ee)}function hh(r,e){return function(t,o){const h=new me;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function h_(r,e,t){return Of.apply(this,arguments)}(yield ng(t),o,h)})),h.promise}(Ho(r),e)}function Ag(r,e,t){const o=t.docs.get(e._key),h=new zu(r);return new uc(r,h,e._key,o,new Td(t.hasPendingWrites,t.fromCache),e.converter)}class k_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ac(e)}get(e){const t=cc(e,this._firestore),o=new P_(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return P();const y=h[0];if(y.isFoundDocument())return new ch(this._firestore,o,y.key,y,t.converter);if(y.isNoDocument())return new ch(this._firestore,o,t._key,null,t.converter);throw P()})}set(e,t,o){const h=cc(e,this._firestore),y=Ad(h.converter,t,o),I=qh(this._dataReader,"Transaction.set",h._key,y,null!==h.converter,o);return this._transaction.set(h._key,I),this}update(e,t,o,...h){const y=cc(e,this._firestore);let I;return I="string"==typeof(t=(0,qe.m9)(t))||t instanceof hu?ny(this._dataReader,"Transaction.update",y._key,t,o,h):Kf(this._dataReader,"Transaction.update",y._key,t),this._transaction.update(y._key,I),this}delete(e){const t=cc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cc(e,this._firestore),o=new zu(this._firestore);return super.get(e).then(h=>new uc(this._firestore,o,t._key,h._document,new Td(!1,!1),t.converter))}}function xg(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new X("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Mg(){if("undefined"==typeof Uint8Array)throw new X("unimplemented","Uint8Arrays are not available in this environment.")}function Og(){if(!function So(){return"undefined"!=typeof atob}())throw new X("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){pi=qt.SDK_VERSION,(0,qt._registerComponent)(new at.wA("firestore",(t,{options:o})=>{const h=t.getProvider("app").getImmediate(),y=new Hs(h,new vi(t.getProvider("auth-internal")),new ci(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),y._setSettings(o),y},"PUBLIC")),(0,qt.registerVersion)(Tn,"3.4.8",r),(0,qt.registerVersion)(Tn,"3.4.8","esm2017")}();class fh{constructor(e){this._delegate=e}static fromBase64String(e){return Og(),new fh(Hu.fromBase64String(e))}static fromUint8Array(e){return Mg(),new fh(Hu.fromUint8Array(e))}toBase64(){return Og(),this._delegate.toBase64()}toUint8Array(){return Mg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xf(r){return function wy(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Dy{enableIndexedDbPersistence(e,t){return function $f(r,e){pg(r=Or(r,Hs));const t=Ho(r),o=r._freezeSettings(),h=new Ff;return D_(t,h,new Xp(h,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hg(r){pg(r=Or(r,Hs));const e=Ho(r),t=r._freezeSettings(),o=new Ff;return D_(e,o,new Rm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function C_(r){if(r._initialized&&!r._terminated)throw new X(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new me;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{yield(t=(0,Fe.Z)(function*(o){if(!tl.vt())return Promise.resolve();const h=o+"main";yield tl.delete(h)}),function(o){return t.apply(this,arguments)})(Th(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Pg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ea||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function E_(r,e,t,o={}){var h;const y=(r=Or(r,Hh))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&Br("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let I,F;if("string"==typeof o.mockUserToken)I=o.mockUserToken,F=Vn.MOCK_USER;else{I=(0,qe.Sg)(o.mockUserToken,null===(h=r._app)||void 0===h?void 0:h.options.projectId);const ee=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ee)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Vn(ee)}r._authCredentials=new gn(new Be(I,F))}}(this._delegate,e,t,o)}enableNetwork(){return function Gf(r){return function rg(r){return r.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield Um(r),t=yield jm(r);return e.setNetworkEnabled(!0),function(o){const h=k(o);return h.fu.delete(0),Ah(h)}(t)}))}(Ho(r=Or(r,Hs)))}(this._delegate)}disableNetwork(){return function Zm(r){return function sg(r){return r.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield Um(r),t=yield jm(r);return e.setNetworkEnabled(!1),(o=(0,Fe.Z)(function*(h){const y=k(h);y.fu.add(0),yield xh(y),y.wu.set("Offline")}),function(h){return o.apply(this,arguments)})(t);var o}))}(Ho(r=Or(r,Hs)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,ag("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zf(r){return function(e){const t=new me;return e.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function Yv(r,e){return Rf.apply(this,arguments)}(yield ng(e),t)})),t.promise}(Ho(r=Or(r,Hs)))}(this._delegate)}onSnapshotsInSync(e){return function N_(r,e){return function v_(r,e){const t=new Uh(e);return r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return o=yield jh(r),h=t,k(o).Eu.add(h),void h.next();var o,h})),()=>{t.Ia(),r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return o=yield jh(r),h=t,void k(o).Eu.delete(h);var o,h}))}}(Ho(r=Or(r,Hs)),dg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new X("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new si(this,Gm(this._delegate,e))}catch(t){throw Ua(t,"collection()","Firestore.collection()")}}doc(e){try{return new zl(this,$h(this._delegate,e))}catch(t){throw Ua(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sa(this,function Wm(r,e){if(r=Or(r,Hh),og("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ta(r,null,(t=e,new ul(lr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ua(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function F_(r,e){return function Hm(r,e){const t=new me;return r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){const o=yield(h=r,Bf(h).then(y=>y.datastore));var h;new Fm(r.asyncQueue,o,e,t).run()})),t.promise}(Ho(r=Or(r,Hs)),t=>e(new k_(r,t)))}(this._delegate,t=>e(new Rg(this,t)))}batch(){return Ho(this._delegate),new Jf(new Dg(this._delegate,e=>hh(this._delegate,e)))}loadBundle(e){return function fg(r,e){const t=Ho(r=Or(r,Hs)),o=new Jv;return function Xv(r,e,t,o){const h=function(y,I){let F;return F="string"==typeof y?(new TextEncoder).encode(y):y,ee=function(ee,oe){if(ee instanceof Uint8Array)return Jp(ee,void 0);if(ee instanceof ArrayBuffer)return Jp(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new Nm(ee,I);var ee}(t,th(e));r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){!function lh(r,e,t){const o=k(r);var h;(h=(0,Fe.Z)(function*(y,I,F){try{const ee=yield I.getMetadata();if(yield function(wt,Gt){const Yt=k(wt),Ln=qr(Gt.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",Mi=>Yt._s.getBundleMetadata(Mi,Gt.id)).then(Mi=>!!Mi&&Mi.createTime.compareTo(Ln)>=0)}(y.localStore,ee))return yield I.close(),F._completeWith({taskState:"Success",documentsLoaded:(wt=ee).totalDocuments,bytesLoaded:wt.totalBytes,totalDocuments:wt.totalDocuments,totalBytes:wt.totalBytes}),Promise.resolve(new Set);F._updateProgress(Hp(ee));const oe=new Em(ee,y.localStore,I.M);let we=yield I.da();for(;we;){const wt=yield oe.ku(we);wt&&F._updateProgress(wt),we=yield I.da()}const Ge=yield oe.complete();return yield sc(y,Ge.Fu,void 0),yield function(wt,Gt){const Yt=k(wt);return Yt.persistence.runTransaction("Save bundle","readwrite",Ln=>Yt._s.saveBundleMetadata(Ln,Gt))}(y.localStore,ee),F._completeWith(Ge.progress),Promise.resolve(Ge.Ou)}catch(ee){return Br("SyncEngine",`Loading bundle failed with ${ee}`),F._failWith(ee),Promise.resolve(new Set)}var wt}),function(y,I,F){return h.apply(this,arguments)})(o,e,t).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield ng(r),h,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Ym(r,e){return function b_(r,e){return r.asyncQueue.enqueue((0,Fe.Z)(function*(){return function(t,o){const h=k(t);return h.persistence.runTransaction("Get named query","readonly",y=>h._s.getNamedQuery(y,o))}(yield jf(r),e)}))}(Ho(r=Or(r,Hs)),e).then(t=>t?new Ta(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Sa(this,t):null)}}class Qh extends Qf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fh(new Hu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zl.forKey(t,this.firestore,null)}}class Rg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Qh(e)}get(e){const t=Od(e);return this._delegate.get(t).then(o=>new Md(this._firestore,new uc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const h=Od(e);return o?(xg("Transaction.set",o),this._delegate.set(h,t,o)):this._delegate.set(h,t),this}update(e,t,o,...h){const y=Od(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,o,...h),this}delete(e){const t=Od(e);return this._delegate.delete(t),this}}class Jf{constructor(e){this._delegate=e}set(e,t,o){const h=Od(e);return o?(xg("WriteBatch.set",o),this._delegate.set(h,t,o)):this._delegate.set(h,t),this}update(e,t,o,...h){const y=Od(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,o,...h),this}delete(e){const t=Od(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class El{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new dh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ep(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=El.INSTANCES;let h=o.get(e);h||(h=new WeakMap,o.set(e,h));let y=h.get(t);return y||(y=new El(e,new Qh(e),t),h.set(t,y)),y}}El.INSTANCES=new WeakMap;class zl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new X("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zl(t,new js(t._delegate,o,new an(e)))}static forKey(e,t,o){return new zl(t,new js(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new si(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new si(this.firestore,Gm(this._delegate,e))}catch(t){throw Ua(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qe.m9)(e))instanceof js&&Hf(this._delegate,e)}set(e,t){t=xg("DocumentReference.set",t);try{return t?Tg(this._delegate,e,t):Tg(this._delegate,e)}catch(o){throw Ua(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Sg(this._delegate,e):Sg(this._delegate,e,t,...o)}catch(h){throw Ua(h,"updateDoc()","DocumentReference.update()")}}delete(){return function vy(r){return hh(Or(r.firestore,Hs),[new Nl(r._key,Mr.none())])}(this._delegate)}onSnapshot(...e){const t=xd(e),o=z_(e,h=>new Md(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return by(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Ig(r){r=Or(r,js);const e=Or(r.firestore,Hs),t=Ho(e),o=new zu(e);return function m_(r,e){const t=new me;return r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(o=(0,Fe.Z)(function*(h,y,I){try{const F=yield function(ee,oe){const we=k(ee);return we.persistence.runTransaction("read document","readonly",Ge=>we.ci.Ls(Ge,oe))}(h,y);F.isFoundDocument()?I.resolve(F):F.isNoDocument()?I.resolve(null):I.reject(new X(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const ee=ih(F,`Failed to get document '${y} from cache`);I.reject(ee)}}),function(h,y,I){return o.apply(this,arguments)})(yield jf(r),e,t);var o})),t.promise}(t,r._key).then(h=>new uc(e,o,r._key,h,new Td(null!==h&&h.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function gy(r){r=Or(r,js);const e=Or(r.firestore,Hs);return y_(Ho(e),r._key,{source:"server"}).then(t=>Ag(e,r,t))}(this._delegate):function Cg(r){r=Or(r,js);const e=Or(r.firestore,Hs);return y_(Ho(e),r._key).then(t=>Ag(e,r,t))}(this._delegate),t.then(o=>new Md(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new zl(this.firestore,this._delegate.withConverter(e?El.getInstance(this.firestore,e):null))}}function Ua(r,e,t){return r.message=r.message.replace(e,t),r}function xd(r){for(const e of r)if("object"==typeof e&&!Xf(e))return e;return{}}function z_(r,e){var t,o;let h;return h=Xf(r[0])?r[0]:Xf(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:y=>{h.next&&h.next(e(y))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(o=h.complete)||void 0===o?void 0:o.bind(h)}}class Md{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return A_(this._delegate,e._delegate)}}class ep extends Md{data(e){const t=this._delegate.data(e);return function x(r,e){r||P()}(void 0!==t),t}}class Sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qh(e)}where(e,t,o){try{return new Sa(this.firestore,_a(this._delegate,function ly(r,e,t){const o=e,h=lc("where",r);return new x_(h,o,t)}(e,t,o)))}catch(h){throw Ua(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Sa(this.firestore,_a(this._delegate,function fu(r,e="asc"){const t=e,o=lc("orderBy",r);return new $u(o,t)}(e,t)))}catch(o){throw Ua(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sa(this.firestore,_a(this._delegate,function uy(r){return ug("limit",r),new $l("limit",r,"F")}(e)))}catch(t){throw Ua(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Sa(this.firestore,_a(this._delegate,function cy(r){return ug("limitToLast",r),new $l("limitToLast",r,"L")}(e)))}catch(t){throw Ua(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sa(this.firestore,_a(this._delegate,function M_(...r){return new dy("startAt",r,!0)}(...e)))}catch(t){throw Ua(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sa(this.firestore,_a(this._delegate,function O_(...r){return new dy("startAfter",r,!1)}(...e)))}catch(t){throw Ua(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sa(this.firestore,_a(this._delegate,function bg(...r){return new hy("endBefore",r,!1)}(...e)))}catch(t){throw Ua(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sa(this.firestore,_a(this._delegate,function Yh(...r){return new hy("endAt",r,!0)}(...e)))}catch(t){throw Ua(t,"endAt()","Query.endAt()")}}isEqual(e){return w_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function yy(r){r=Or(r,Ta);const e=Or(r.firestore,Hs),t=Ho(e),o=new zu(e);return function Qv(r,e){const t=new me;return r.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(o=(0,Fe.Z)(function*(h,y,I){try{const F=yield rc(h,y,!0),ee=new Cm(y,F.li),oe=ee.Gu(F.documents),we=ee.applyChanges(oe,!1);I.resolve(we.snapshot)}catch(F){const ee=ih(F,`Failed to execute query '${y} against cache`);I.reject(ee)}}),function(h,y,I){return o.apply(this,arguments)})(yield jf(r),e,t);var o})),t.promise}(t,r._query).then(h=>new Kc(e,o,r,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function _y(r){r=Or(r,Ta);const e=Or(r.firestore,Hs),t=Ho(e),o=new zu(e);return __(t,r._query,{source:"server"}).then(h=>new Kc(e,o,r,h))}(this._delegate):function my(r){r=Or(r,Ta);const e=Or(r.firestore,Hs),t=Ho(e),o=new zu(e);return Yf(r._query),__(t,r._query).then(h=>new Kc(e,o,r,h))}(this._delegate),t.then(o=>new Ty(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=xd(e),o=z_(e,h=>new Ty(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return by(this._delegate,t,o)}withConverter(e){return new Sa(this.firestore,this._delegate.withConverter(e?El.getInstance(this.firestore,e):null))}}class Iy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ep(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ty{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Sa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ep(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Iy(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new ep(this._firestore,o))})}isEqual(e){return A_(this._delegate,e._delegate)}}class si extends Sa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zl(this.firestore,e):null}doc(e){try{return new zl(this.firestore,void 0===e?$h(this._delegate):$h(this._delegate,e))}catch(t){throw Ua(t,"doc()","CollectionReference.doc()")}}add(e){return function R_(r,e){const t=Or(r.firestore,Hs),o=$h(r),h=Ad(r.converter,e);return hh(t,[qh(ac(r.firestore),"addDoc",o._key,h,null!==r.converter,{}).toMutation(o._key,Mr.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new zl(this.firestore,t))}isEqual(e){return Hf(this._delegate,e._delegate)}withConverter(e){return new si(this.firestore,this._delegate.withConverter(e?El.getInstance(this.firestore,e):null))}}function Od(r){return Or(r,js)}class Ng{constructor(...e){this._delegate=new hu(...e)}static documentId(){return new Ng(Ss.keyField().canonicalString())}isEqual(e){return(e=(0,qe.m9)(e))instanceof hu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Pd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function V_(){return new Wf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Pd(e)}static delete(){const e=function L_(){return new uh("deleteField")}();return e._methodName="FieldValue.delete",new Pd(e)}static arrayUnion(...e){const t=function B_(...r){return new Jm("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Pd(t)}static arrayRemove(...e){const t=function U_(...r){return new ey("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Pd(t)}static increment(e){const t=function j_(r){return new ty("increment",r)}(e);return t._methodName="FieldValue.increment",new Pd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tp={Firestore:Pg,GeoPoint:Wh,Timestamp:Oi,Blob:fh,Transaction:Rg,WriteBatch:Jf,DocumentReference:zl,DocumentSnapshot:Md,Query:Sa,QueryDocumentSnapshot:ep,QuerySnapshot:Ty,CollectionReference:si,FieldPath:Ng,FieldValue:Pd,setLogLevel:function Cy(r){!function Ui(r){Fn.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function np(r){(function G_(r,e){r.INTERNAL.registerComponent(new at.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(o,h)},"PUBLIC").setServiceProps(Object.assign({},tp)))})(r,(e,t)=>new Pg(e,t,new Dy)),r.registerVersion("@firebase/firestore-compat","0.1.17")}(ft.Z);var pu=K(1205),Eo=K(440),n0=K(127);function Ay(r,e){return function Sy(r,e=H.z){return new ue.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,e)}function ip(r,e){return Ay(r,e).pipe((0,pe.U)(t=>({payload:t,type:"query"})))}function Xh(r,e){return ip(r,e).pipe((0,ge.O)(void 0),tt(),(0,pe.U)(([t,o])=>{const h=o.payload.docChanges(),y=h.map(I=>({type:I.type,payload:I}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((I,F)=>{const ee=h.find(we=>we.doc.ref.isEqual(I.ref)),oe=null==t?void 0:t.payload.docs.find(we=>we.ref.isEqual(I.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(I.metadata)||!ee&&oe&&JSON.stringify(oe.metadata)===JSON.stringify(I.metadata)||y.push({type:"modified",payload:{oldIndex:F,newIndex:F,type:"modified",doc:I}})}),y}))}function kg(r,e,t){return Xh(r,t).pipe((0,Oe.R)((o,h)=>function xy(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function K_(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Fg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Fg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Fg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,h.map(y=>y.payload),e),[]),(0,xt.x)(),(0,pe.U)(o=>o.map(h=>({type:h.type,payload:h}))))}function Fg(r,e,t,...o){const h=r.slice();return h.splice(e,t,...o),h}function My(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class ph{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Xh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pe.U)(o=>o.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,ge.O)(void 0),tt(),(0,ht.h)(([o,h])=>h.length>0||!o),(0,pe.U)(([o,h])=>h),ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Oe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=My(e);return kg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return ip(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ke.iC)}get(e){return(0,be.D)(this.query.get(e)).pipe(ke.iC)}add(e){return this.ref.add(e)}doc(e){return new Oy(this.ref.doc(e),this.afs)}}class Oy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:h,query:y}=Lg(o,t);return new ph(h,y,this.afs)}snapshotChanges(){return function W_(r,e){return Ay(r,e).pipe((0,ge.O)(void 0),tt(),(0,pe.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,be.D)(this.ref.get(e)).pipe(ke.iC)}}class q_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Xh(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ht.h)(t=>t.length>0),ke.iC):Xh(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Oe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=My(e);return kg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return ip(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(o=>o.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),ke.iC)}get(e){return(0,be.D)(this.query.get(e)).pipe(ke.iC)}}const Py=new E.OlP("angularfire2.enableFirestorePersistence"),Jh=new E.OlP("angularfire2.firestore.persistenceSettings"),Ry=new E.OlP("angularfire2.firestore.settings"),Ny=new E.OlP("angularfire2.firestore.use-emulator");function Lg(r,e=(t=>t)){return{query:e(r),ref:r}}let ky=(()=>{class r{constructor(t,o,h,y,I,F,ee,oe,we,Ge,wt,Gt,Yt,Ln,Mi,$s,Ro){this.schedulers=ee;const gs=(0,it.on)(t,F,o),no=we;Ge&&(0,pu.nw)(gs,F,wt,Yt,Ln,Mi,Gt,$s),[this.firestore,this.persistenceEnabled$]=(0,it.cc)(`${gs.name}.firestore`,"AngularFirestore",gs.name,()=>{const zs=F.runOutsideAngular(()=>gs.firestore());if(y&&zs.settings(y),no&&zs.useEmulator(...no),h&&!(0,Ht.PM)(I)){const fo=()=>{try{return(0,be.D)(zs.enablePersistence(oe||void 0).then(()=>!0,()=>!1))}catch(Aa){return"undefined"!=typeof console&&console.warn(Aa),(0,Ee.of)(!1)}};return[zs,F.runOutsideAngular(fo)]}return[zs,(0,Ee.of)(!1)]},[y,no,h])}collection(t,o){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:y,query:I}=Lg(h,o),F=this.schedulers.ngZone.run(()=>y);return new ph(F,I,this)}collectionGroup(t,o){const h=o||(I=>I),y=this.firestore.collectionGroup(t);return new q_(h(y),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>o);return new Oy(h,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(E.LFG(it.Dh),E.LFG(it.xv,8),E.LFG(Py,8),E.LFG(Ry,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(ke.HU),E.LFG(Jh,8),E.LFG(Ny,8),E.LFG(pu.zQ,8),E.LFG(pu.Qv,8),E.LFG(pu.L6,8),E.LFG(pu._Q,8),E.LFG(pu.rT,8),E.LFG(pu.lh,8),E.LFG(pu.f7,8),E.LFG(Eo.nm,8))},r.\u0275prov=E.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),ef=(()=>{class r{constructor(){n0.Z.registerVersion("angularfire",ke.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Py,useValue:!0},{provide:Jh,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=E.oAB({type:r}),r.\u0275inj=E.cJS({providers:[ky]}),r})()},2011:(sn,st,K)=>{K.d(st,{Dh:()=>Ye,GT:()=>ke,cc:()=>ht,hO:()=>xt,on:()=>ge,pX:()=>Ee,xv:()=>tt});var E=K(5e3),H=K(127),ue=K(5813);sn=K.hmd(sn);const be=["ngOnDestroy"],Ee=(ft,Fe,qt,at={})=>new Proxy(ft,{get:(_e,qe)=>qt.runOutsideAngular(()=>{var Ot;if(ft[qe])return(null===(Ot=null==at?void 0:at.spy)||void 0===Ot?void 0:Ot.get)&&at.spy.get(qe,ft[qe]),ft[qe];if(be.indexOf(qe)>-1)return()=>{};const kt=Fe.toPromise().then(xe=>{const Me=xe&&xe[qe];return"function"==typeof Me?Me.bind(xe):Me&&Me.then?Me.then(Pe=>qt.run(()=>Pe)):qt.run(()=>Me)});return new Proxy(()=>{},{get:(xe,Me)=>kt[Me],apply:(xe,Me,Pe)=>kt.then(Ae=>{var Ze;const mt=Ae&&Ae(...Pe);return(null===(Ze=null==at?void 0:at.spy)||void 0===Ze?void 0:Ze.apply)&&at.spy.apply(qe,Pe,mt),mt})})})}),ke=(ft,Fe)=>{Fe.forEach(qt=>{Object.getOwnPropertyNames(qt.prototype||qt).forEach(at=>{Object.defineProperty(ft.prototype,at,Object.getOwnPropertyDescriptor(qt.prototype||qt,at))})})};class Je{constructor(Fe){return Fe}}const Ye=new E.OlP("angularfire2.app.options"),tt=new E.OlP("angularfire2.app.name");function ge(ft,Fe,qt){const _e="object"==typeof qt&&qt||{};_e.name=_e.name||"string"==typeof qt&&qt||"[DEFAULT]";const Ot=H.Z.apps.filter(kt=>kt&&kt.name===_e.name)[0]||Fe.runOutsideAngular(()=>H.Z.initializeApp(ft,_e));try{JSON.stringify(ft)!==JSON.stringify(Ot.options)&&pe("error",`${Ot.name} Firebase App already initialized with different options${sn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(kt){}return new Je(Ot)}const pe=(ft,...Fe)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[ft](...Fe)},Oe={provide:Je,useFactory:ge,deps:[Ye,E.R0b,[new E.FiY,tt]]};let xt=(()=>{class ft{constructor(qt){H.Z.registerVersion("angularfire",ue.q4.full,"core"),H.Z.registerVersion("angularfire",ue.q4.full,"app-compat"),H.Z.registerVersion("angular",E.q4F.full,qt.toString())}static initializeApp(qt,at){return{ngModule:ft,providers:[{provide:Ye,useValue:qt},{provide:tt,useValue:at}]}}}return ft.\u0275fac=function(qt){return new(qt||ft)(E.LFG(E.Lbi))},ft.\u0275mod=E.oAB({type:ft}),ft.\u0275inj=E.cJS({providers:[Oe]}),ft})();function ht(ft,Fe,qt,at,_e){const[,qe,Ot]=globalThis.\u0275AngularfireInstanceCache.find(kt=>kt[0]===ft)||[];if(qe)return function it(ft,Fe){try{return ft.toString()===Fe.toString()}catch(qt){return ft===Fe}}(_e,Ot)||(yt("error",`${Fe} was already initialized on the ${qt} Firebase App with different settings.${Ht?" You may need to reload as Firebase is not HMR aware.":""}`),yt("warn",{is:_e,was:Ot})),qe;{const kt=at();return globalThis.\u0275AngularfireInstanceCache.push([ft,kt,_e]),kt}}const Ht=!!sn.hot,yt=(ft,...Fe)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[ft](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(sn,st,K)=>{K.d(st,{q4:()=>Ea,iC:()=>Wu,HU:()=>ll,vb:()=>al,JM:()=>ol});var E=K(5e3),H=K(5867),ue=K(5861),be=K(9681),Ee=K(2090),ke=K(4859),Je=K(1877);const Ye="@firebase/installations",pe="w:0.5.8",Oe="FIS_v2",ft=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(j){return j instanceof Ee.ZR&&j.code.includes("request-failed")}function qt({projectId:j}){return`https://firebaseinstallations.googleapis.com/v1/projects/${j}/installations`}function at(j){return{token:j.token,requestStatus:2,expiresIn:Pe(j.expiresIn),creationTime:Date.now()}}function _e(j,Z){return qe.apply(this,arguments)}function qe(){return(qe=(0,ue.Z)(function*(j,Z){const De=(yield Z.json()).error;return ft.create("request-failed",{requestName:j,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function Ot({apiKey:j}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j})}function kt(j,{refreshToken:Z}){const re=Ot(j);return re.append("Authorization",function Ae(j){return`${Oe} ${j}`}(Z)),re}function xe(j){return Me.apply(this,arguments)}function Me(){return(Me=(0,ue.Z)(function*(j){const Z=yield j();return Z.status>=500&&Z.status<600?j():Z})).apply(this,arguments)}function Pe(j){return Number(j.replace("s","000"))}function Ze(j,Z){return mt.apply(this,arguments)}function mt(){return(mt=(0,ue.Z)(function*({appConfig:j,heartbeatServiceProvider:Z},{fid:re}){const De=qt(j),nt=Ot(j),pt=Z.getImmediate({optional:!0});if(pt){const bi=yield pt.getHeartbeatsHeader();bi&&nt.append("x-firebase-client",bi)}const On={method:"POST",headers:nt,body:JSON.stringify({fid:re,authVersion:Oe,appId:j.appId,sdkVersion:pe})},Hn=yield xe(()=>fetch(De,On));if(Hn.ok){const bi=yield Hn.json();return{fid:bi.fid||re,registrationStatus:2,refreshToken:bi.refreshToken,authToken:at(bi.authToken)}}throw yield _e("Create Installation",Hn)})).apply(this,arguments)}function lt(j){return new Promise(Z=>{setTimeout(Z,j)})}const pn=/^[cdef][\w-]{21}$/;function en(){try{const j=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(j),j[0]=112+j[0]%16;const re=function vt(j){return function vn(j){return btoa(String.fromCharCode(...j)).replace(/\+/g,"-").replace(/\//g,"_")}(j).substr(0,22)}(j);return pn.test(re)?re:""}catch(j){return""}}function on(j){return`${j.appName}!${j.appId}`}const wn=new Map;function Dt(j,Z){const re=on(j);Xe(re,Z),function Bt(j,Z){const re=function Un(){return!nn&&"BroadcastChannel"in self&&(nn=new BroadcastChannel("[Firebase] FID Change"),nn.onmessage=j=>{Xe(j.data.key,j.data.fid)}),nn}();re&&re.postMessage({key:j,fid:Z}),function Fi(){0===wn.size&&nn&&(nn.close(),nn=null)}()}(re,Z)}function Xe(j,Z){const re=wn.get(j);if(re)for(const De of re)De(Z)}let nn=null;const An="firebase-installations-store";let zi=null;function Ei(){return zi||(zi=(0,Ee.X3)("firebase-installations-database",1,(j,Z)=>{0===Z&&j.createObjectStore(An)})),zi}function dn(j,Z){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,ue.Z)(function*(j,Z){const re=on(j),nt=(yield Ei()).transaction(An,"readwrite"),pt=nt.objectStore(An),Xt=yield pt.get(re);return yield pt.put(Z,re),yield nt.complete,(!Xt||Xt.fid!==Z.fid)&&Dt(j,Z.fid),Z})).apply(this,arguments)}function Xn(j){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,ue.Z)(function*(j){const Z=on(j),De=(yield Ei()).transaction(An,"readwrite");yield De.objectStore(An).delete(Z),yield De.complete})).apply(this,arguments)}function Er(j,Z){return $r.apply(this,arguments)}function $r(){return($r=(0,ue.Z)(function*(j,Z){const re=on(j),nt=(yield Ei()).transaction(An,"readwrite"),pt=nt.objectStore(An),Xt=yield pt.get(re),On=Z(Xt);return void 0===On?yield pt.delete(re):yield pt.put(On,re),yield nt.complete,On&&(!Xt||Xt.fid!==On.fid)&&Dt(j,On.fid),On})).apply(this,arguments)}function oi(j){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,ue.Z)(function*(j){let Z;const re=yield Er(j.appConfig,De=>{const nt=Ni(De),pt=qi(j,nt);return Z=pt.registrationPromise,pt.installationEntry});return""===re.fid?{installationEntry:yield Z}:{installationEntry:re,registrationPromise:Z}})).apply(this,arguments)}function Ni(j){return ti(j||{fid:en(),registrationStatus:0})}function qi(j,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(ft.create("app-offline"))};const re={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},De=function Qt(j,Z){return Dn.apply(this,arguments)}(j,re);return{installationEntry:re,registrationPromise:De}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:In(j)}:{installationEntry:Z}}function Dn(){return(Dn=(0,ue.Z)(function*(j,Z){try{const re=yield Ze(j,Z);return dn(j.appConfig,re)}catch(re){throw Fe(re)&&409===re.customData.serverCode?yield Xn(j.appConfig):yield dn(j.appConfig,{fid:Z.fid,registrationStatus:0}),re}})).apply(this,arguments)}function In(j){return er.apply(this,arguments)}function er(){return(er=(0,ue.Z)(function*(j){let Z=yield gr(j.appConfig);for(;1===Z.registrationStatus;)yield lt(100),Z=yield gr(j.appConfig);if(0===Z.registrationStatus){const{installationEntry:re,registrationPromise:De}=yield oi(j);return De||re}return Z})).apply(this,arguments)}function gr(j){return Er(j,Z=>{if(!Z)throw ft.create("installation-not-found");return ti(Z)})}function ti(j){return function Rr(j){return 1===j.registrationStatus&&j.registrationTime+1e4<Date.now()}(j)?{fid:j.fid,registrationStatus:0}:j}function Zi(j,Z){return hi.apply(this,arguments)}function hi(){return(hi=(0,ue.Z)(function*({appConfig:j,heartbeatServiceProvider:Z},re){const De=bn(j,re),nt=kt(j,re),pt=Z.getImmediate({optional:!0});if(pt){const bi=yield pt.getHeartbeatsHeader();bi&&nt.append("x-firebase-client",bi)}const On={method:"POST",headers:nt,body:JSON.stringify({installation:{sdkVersion:pe,appId:j.appId}})},Hn=yield xe(()=>fetch(De,On));if(Hn.ok)return at(yield Hn.json());throw yield _e("Generate Auth Token",Hn)})).apply(this,arguments)}function bn(j,{fid:Z}){return`${qt(j)}/${Z}/authTokens:generate`}function cr(j){return kn.apply(this,arguments)}function kn(){return(kn=(0,ue.Z)(function*(j,Z=!1){let re;const De=yield Er(j.appConfig,pt=>{if(!$n(pt))throw ft.create("not-registered");const Xt=pt.authToken;if(!Z&&Re(Xt))return pt;if(1===Xt.requestStatus)return re=hn(j,Z),pt;{if(!navigator.onLine)throw ft.create("app-offline");const On=He(pt);return re=ln(j,On),On}});return re?yield re:De.authToken})).apply(this,arguments)}function hn(j,Z){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,ue.Z)(function*(j,Z){let re=yield un(j.appConfig);for(;1===re.authToken.requestStatus;)yield lt(100),re=yield un(j.appConfig);const De=re.authToken;return 0===De.requestStatus?cr(j,Z):De})).apply(this,arguments)}function un(j){return Er(j,Z=>{if(!$n(Z))throw ft.create("not-registered");return function _t(j){return 1===j.requestStatus&&j.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function ln(j,Z){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,ue.Z)(function*(j,Z){try{const re=yield Zi(j,Z),De=Object.assign(Object.assign({},Z),{authToken:re});return yield dn(j.appConfig,De),re}catch(re){if(!Fe(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const De=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield dn(j.appConfig,De)}else yield Xn(j.appConfig);throw re}})).apply(this,arguments)}function $n(j){return void 0!==j&&2===j.registrationStatus}function Re(j){return 2===j.requestStatus&&!function ve(j){const Z=Date.now();return Z<j.creationTime||j.creationTime+j.expiresIn<Z+36e5}(j)}function He(j){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},j),{authToken:Z})}function Zt(){return(Zt=(0,ue.Z)(function*(j){const Z=j,{installationEntry:re,registrationPromise:De}=yield oi(Z);return De?De.catch(console.error):cr(Z).catch(console.error),re.fid})).apply(this,arguments)}function Se(){return(Se=(0,ue.Z)(function*(j,Z=!1){const re=j;return yield fe(re),(yield cr(re,Z)).token})).apply(this,arguments)}function fe(j){return ze.apply(this,arguments)}function ze(){return(ze=(0,ue.Z)(function*(j){const{registrationPromise:Z}=yield oi(j);Z&&(yield Z)})).apply(this,arguments)}function Yi(j){return ft.create("missing-app-config-values",{valueName:j})}const Ur="installations",Nt=j=>{const Z=j.getProvider("app").getImmediate(),re=function Pi(j){if(!j||!j.options)throw Yi("App Configuration");if(!j.name)throw Yi("App Name");const Z=["projectId","apiKey","appId"];for(const re of Z)if(!j.options[re])throw Yi(re);return{appName:j.name,projectId:j.options.projectId,apiKey:j.options.apiKey,appId:j.options.appId}}(Z);return{app:Z,appConfig:re,heartbeatServiceProvider:(0,be._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},Wn=j=>{const Z=j.getProvider("app").getImmediate(),re=(0,be._getProvider)(Z,Ur).getImmediate();return{getId:()=>function Qe(j){return Zt.apply(this,arguments)}(re),getToken:nt=>function je(j){return Se.apply(this,arguments)}(re,nt)}};(function wi(){(0,be._registerComponent)(new ke.wA(Ur,Nt,"PUBLIC")),(0,be._registerComponent)(new ke.wA("installations-internal",Wn,"PRIVATE"))})(),(0,be.registerVersion)(Ye,"0.5.8"),(0,be.registerVersion)(Ye,"0.5.8","esm2017");const or="@firebase/remote-config",nr=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class po{constructor(Z,re,De,nt){this.client=Z,this.storage=re,this.storageCache=De,this.logger=nt}isCachedDataFresh(Z,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-re,nt=De<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${nt}.`),nt}fetch(Z){var re=this;return(0,ue.Z)(function*(){const[De,nt]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(nt&&re.isCachedDataFresh(Z.cacheMaxAgeMillis,De))return nt;Z.eTag=nt&&nt.eTag;const pt=yield re.client.fetch(Z),Xt=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pt.status&&Xt.push(re.storage.setLastSuccessfulFetchResponse(pt)),yield Promise.all(Xt),pt})()}}function us(j=navigator){return j.languages&&j.languages[0]||j.language}class No{constructor(Z,re,De,nt,pt,Xt){this.firebaseInstallations=Z,this.sdkVersion=re,this.namespace=De,this.projectId=nt,this.apiKey=pt,this.appId=Xt}fetch(Z){var re=this;return(0,ue.Z)(function*(){const[De,nt]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),Xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},Hn={sdk_version:re.sdkVersion,app_instance_id:De,app_instance_id_token:nt,app_id:re.appId,language_code:us()},bi={method:"POST",headers:On,body:JSON.stringify(Hn)},di=fetch(Xt,bi),gi=new Promise((Uo,ha)=>{Z.signal.addEventListener(()=>{const Za=new Error("The operation was aborted.");Za.name="AbortError",ha(Za)})});let to;try{yield Promise.race([di,gi]),to=yield di}catch(Uo){let ha="fetch-client-network";throw"AbortError"===Uo.name&&(ha="fetch-timeout"),nr.create(ha,{originalErrorMessage:Uo.message})}let As=to.status;const ea=to.headers.get("ETag")||void 0;let bu,ws;if(200===to.status){let Uo;try{Uo=yield to.json()}catch(ha){throw nr.create("fetch-client-parse",{originalErrorMessage:ha.message})}bu=Uo.entries,ws=Uo.state}if("INSTANCE_STATE_UNSPECIFIED"===ws?As=500:"NO_CHANGE"===ws?As=304:("NO_TEMPLATE"===ws||"EMPTY_CONFIG"===ws)&&(bu={}),304!==As&&200!==As)throw nr.create("fetch-status",{httpStatus:As});return{status:As,eTag:ea,config:bu}})()}}class ko{constructor(Z,re){this.client=Z,this.storage=re}fetch(Z){var re=this;return(0,ue.Z)(function*(){const De=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(Z,De)})()}attemptFetch(Z,{throttleEndTimeMillis:re,backoffCount:De}){var nt=this;return(0,ue.Z)(function*(){yield function Wi(j,Z){return new Promise((re,De)=>{const nt=Math.max(Z-Date.now(),0),pt=setTimeout(re,nt);j.addEventListener(()=>{clearTimeout(pt),De(nr.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,re);try{const pt=yield nt.client.fetch(Z);return yield nt.storage.deleteThrottleMetadata(),pt}catch(pt){if(!function ys(j){if(!(j instanceof Ee.ZR&&j.customData))return!1;const Z=Number(j.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(pt))throw pt;const Xt={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(De),backoffCount:De+1};return yield nt.storage.setThrottleMetadata(Xt),nt.attemptFetch(Z,Xt)}})()}}class ut{constructor(Z,re,De,nt,pt){this.app=Z,this._client=re,this._storageCache=De,this._storage=nt,this._logger=pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rt(j,Z){const re=j.target.error||void 0;return nr.create(Z,{originalErrorMessage:re&&re.message})}const Wt="app_namespace_store";class Di{constructor(Z,re,De,nt=function dr(){return new Promise((j,Z)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=De=>{Z(Rt(De,"storage-open"))},re.onsuccess=De=>{j(De.target.result)},re.onupgradeneeded=De=>{0===De.oldVersion&&De.target.result.createObjectStore(Wt,{keyPath:"compositeKey"})}}catch(re){Z(nr.create("storage-open",{originalErrorMessage:re}))}})}()){this.appId=Z,this.appName=re,this.namespace=De,this.openDbPromise=nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var re=this;return(0,ue.Z)(function*(){const De=yield re.openDbPromise;return new Promise((nt,pt)=>{const On=De.transaction([Wt],"readonly").objectStore(Wt),Hn=re.createCompositeKey(Z);try{const bi=On.get(Hn);bi.onerror=di=>{pt(Rt(di,"storage-get"))},bi.onsuccess=di=>{const gi=di.target.result;nt(gi?gi.value:void 0)}}catch(bi){pt(nr.create("storage-get",{originalErrorMessage:bi&&bi.message}))}})})()}set(Z,re){var De=this;return(0,ue.Z)(function*(){const nt=yield De.openDbPromise;return new Promise((pt,Xt)=>{const Hn=nt.transaction([Wt],"readwrite").objectStore(Wt),bi=De.createCompositeKey(Z);try{const di=Hn.put({compositeKey:bi,value:re});di.onerror=gi=>{Xt(Rt(gi,"storage-set"))},di.onsuccess=()=>{pt()}}catch(di){Xt(nr.create("storage-set",{originalErrorMessage:di&&di.message}))}})})()}delete(Z){var re=this;return(0,ue.Z)(function*(){const De=yield re.openDbPromise;return new Promise((nt,pt)=>{const On=De.transaction([Wt],"readwrite").objectStore(Wt),Hn=re.createCompositeKey(Z);try{const bi=On.delete(Hn);bi.onerror=di=>{pt(Rt(di,"storage-delete"))},bi.onsuccess=()=>{nt()}}catch(bi){pt(nr.create("storage-delete",{originalErrorMessage:bi&&bi.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class Li{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,ue.Z)(function*(){const re=Z.storage.getLastFetchStatus(),De=Z.storage.getLastSuccessfulFetchTimestampMillis(),nt=Z.storage.getActiveConfig(),pt=yield re;pt&&(Z.lastFetchStatus=pt);const Xt=yield De;Xt&&(Z.lastSuccessfulFetchTimestampMillis=Xt);const On=yield nt;On&&(Z.activeConfig=On)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function wr(){return qs.apply(this,arguments)}function qs(){return(qs=(0,ue.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(j){return!1}})).apply(this,arguments)}!function ji(){(0,be._registerComponent)(new ke.wA("remote-config",function j(Z,{instanceIdentifier:re}){const De=Z.getProvider("app").getImmediate(),nt=Z.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw nr.create("registration-window");if(!(0,Ee.hl)())throw nr.create("indexed-db-unavailable");const{projectId:pt,apiKey:Xt,appId:On}=De.options;if(!pt)throw nr.create("registration-project-id");if(!Xt)throw nr.create("registration-api-key");if(!On)throw nr.create("registration-app-id");const Hn=new Di(On,De.name,re=re||"firebase"),bi=new Li(Hn),di=new Je.Yd(or);di.logLevel=Je.in.ERROR;const gi=new No(nt,be.SDK_VERSION,re,pt,Xt,On),to=new ko(gi,Hn),As=new po(to,Hn,bi,di),ea=new ut(De,As,bi,Hn,di);return function Sr(j){const Z=(0,Ee.m9)(j);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(ea),ea},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(or,"0.3.7"),(0,be.registerVersion)(or,"0.3.7","esm2017")}();const vs="/firebase-messaging-sw.js",io="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ro="google.c.a.c_id",Zs="google.c.a.c_l",Fo="google.c.a.ts",Fs="google.c.a.e";var Dr=(()=>{return(j=Dr||(Dr={})).PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked",Dr;var j})();function is(j){const Z=new Uint8Array(j);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function so(j){const re=(j+"=".repeat((4-j.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(re),nt=new Uint8Array(De.length);for(let pt=0;pt<De.length;++pt)nt[pt]=De.charCodeAt(pt);return nt}const Ys="fcm_token_details_db",kr="fcm_token_object_Store";function go(j){return mo.apply(this,arguments)}function mo(){return mo=(0,ue.Z)(function*(j){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pt=>pt.name).includes(Ys))return null;let Z=null;return(yield(0,Ee.X3)(Ys,5,function(){var De=(0,ue.Z)(function*(nt,pt,Xt,On){var Hn;if(pt<2||!nt.objectStoreNames.contains(kr))return;const bi=On.objectStore(kr),di=yield bi.index("fcmSenderId").get(j);if(yield bi.clear(),di)if(2===pt){const gi=di;if(!gi.auth||!gi.p256dh||!gi.endpoint)return;Z={token:gi.fcmToken,createTime:null!==(Hn=gi.createTime)&&void 0!==Hn?Hn:Date.now(),subscriptionOptions:{auth:gi.auth,p256dh:gi.p256dh,endpoint:gi.endpoint,swScope:gi.swScope,vapidKey:"string"==typeof gi.vapidKey?gi.vapidKey:is(gi.vapidKey)}}}else if(3===pt){const gi=di;Z={token:gi.fcmToken,createTime:gi.createTime,subscriptionOptions:{auth:is(gi.auth),p256dh:is(gi.p256dh),endpoint:gi.endpoint,swScope:gi.swScope,vapidKey:is(gi.vapidKey)}}}else if(4===pt){const gi=di;Z={token:gi.fcmToken,createTime:gi.createTime,subscriptionOptions:{auth:is(gi.auth),p256dh:is(gi.p256dh),endpoint:gi.endpoint,swScope:gi.swScope,vapidKey:is(gi.vapidKey)}}}});return function(nt,pt,Xt,On){return De.apply(this,arguments)}}())).close(),yield(0,Ee.Lj)(Ys),yield(0,Ee.Lj)("fcm_vapid_details_db"),yield(0,Ee.Lj)("undefined"),yr(Z)?Z:null}),mo.apply(this,arguments)}function yr(j){if(!j||!j.subscriptionOptions)return!1;const{subscriptionOptions:Z}=j;return"number"==typeof j.createTime&&j.createTime>0&&"string"==typeof j.token&&j.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const Fr="firebase-messaging-store";let Lo=null;function Xs(){return Lo||(Lo=(0,Ee.X3)("firebase-messaging-database",1,(j,Z)=>{0===Z&&j.createObjectStore(Fr)})),Lo}function Ti(j){return G.apply(this,arguments)}function G(){return(G=(0,ue.Z)(function*(j){const Z=bt(j),De=yield(yield Xs()).transaction(Fr).objectStore(Fr).get(Z);if(De)return De;{const nt=yield go(j.appConfig.senderId);if(nt)return yield se(j,nt),nt}})).apply(this,arguments)}function se(j,Z){return z.apply(this,arguments)}function z(){return(z=(0,ue.Z)(function*(j,Z){const re=bt(j),nt=(yield Xs()).transaction(Fr,"readwrite");return yield nt.objectStore(Fr).put(Z,re),yield nt.complete,Z})).apply(this,arguments)}function le(j){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,ue.Z)(function*(j){const Z=bt(j),De=(yield Xs()).transaction(Fr,"readwrite");yield De.objectStore(Fr).delete(Z),yield De.complete})).apply(this,arguments)}function bt({appConfig:j}){return j.appId}const Jt=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _i(j,Z){return Si.apply(this,arguments)}function Si(){return(Si=(0,ue.Z)(function*(j,Z){const re=yield bs(j),De=Mn(Z),nt={method:"POST",headers:re,body:JSON.stringify(De)};let pt;try{pt=yield(yield fetch(Vi(j.appConfig),nt)).json()}catch(Xt){throw Jt.create("token-subscribe-failed",{errorInfo:Xt})}if(pt.error)throw Jt.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw Jt.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function ni(j,Z){return fi.apply(this,arguments)}function fi(){return(fi=(0,ue.Z)(function*(j,Z){const re=yield bs(j),De=Mn(Z.subscriptionOptions),nt={method:"PATCH",headers:re,body:JSON.stringify(De)};let pt;try{pt=yield(yield fetch(`${Vi(j.appConfig)}/${Z.token}`,nt)).json()}catch(Xt){throw Jt.create("token-update-failed",{errorInfo:Xt})}if(pt.error)throw Jt.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw Jt.create("token-update-no-token");return pt.token})).apply(this,arguments)}function _r(j,Z){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,ue.Z)(function*(j,Z){const De={method:"DELETE",headers:yield bs(j)};try{const pt=yield(yield fetch(`${Vi(j.appConfig)}/${Z}`,De)).json();if(pt.error)throw Jt.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(nt){throw Jt.create("token-unsubscribe-failed",{errorInfo:nt})}})).apply(this,arguments)}function Vi({projectId:j}){return`https://fcmregistrations.googleapis.com/v1/projects/${j}/registrations`}function bs(j){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,ue.Z)(function*({appConfig:j,installations:Z}){const re=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function Mn({p256dh:j,auth:Z,endpoint:re,vapidKey:De}){const nt={web:{endpoint:re,auth:Z,p256dh:j}};return De!==Wr&&(nt.web.applicationPubKey=De),nt}const oo=6048e5;function Is(j){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,ue.Z)(function*(j){const Z=yield Cn(j.swRegistration,j.vapidKey),re={vapidKey:j.vapidKey,swScope:j.swRegistration.scope,endpoint:Z.endpoint,auth:is(Z.getKey("auth")),p256dh:is(Z.getKey("p256dh"))},De=yield Ti(j.firebaseDependencies);if(De){if(vr(De.subscriptionOptions,re))return Date.now()>=De.createTime+oo?$(j,{token:De.token,createTime:Date.now(),subscriptionOptions:re}):De.token;try{yield _r(j.firebaseDependencies,De.token)}catch(nt){console.warn(nt)}return Q(j.firebaseDependencies,re)}return Q(j.firebaseDependencies,re)})).apply(this,arguments)}function ao(j){return q.apply(this,arguments)}function q(){return(q=(0,ue.Z)(function*(j){const Z=yield Ti(j.firebaseDependencies);Z&&(yield _r(j.firebaseDependencies,Z.token),yield le(j.firebaseDependencies));const re=yield j.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()})).apply(this,arguments)}function $(j,Z){return U.apply(this,arguments)}function U(){return(U=(0,ue.Z)(function*(j,Z){try{const re=yield ni(j.firebaseDependencies,Z),De=Object.assign(Object.assign({},Z),{token:re,createTime:Date.now()});return yield se(j.firebaseDependencies,De),re}catch(re){throw yield ao(j),re}})).apply(this,arguments)}function Q(j,Z){return rt.apply(this,arguments)}function rt(){return(rt=(0,ue.Z)(function*(j,Z){const De={token:yield _i(j,Z),createTime:Date.now(),subscriptionOptions:Z};return yield se(j,De),De.token})).apply(this,arguments)}function Cn(j,Z){return zn.apply(this,arguments)}function zn(){return(zn=(0,ue.Z)(function*(j,Z){return(yield j.pushManager.getSubscription())||j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:so(Z)})})).apply(this,arguments)}function vr(j,Z){return Z.vapidKey===j.vapidKey&&Z.endpoint===j.endpoint&&Z.auth===j.auth&&Z.p256dh===j.p256dh}function cs(j){const Z={from:j.from,collapseKey:j.collapse_key,messageId:j.fcmMessageId};return function rs(j,Z){if(!Z.notification)return;j.notification={};const re=Z.notification.title;re&&(j.notification.title=re);const De=Z.notification.body;De&&(j.notification.body=De);const nt=Z.notification.image;nt&&(j.notification.image=nt)}(Z,j),function wo(j,Z){!Z.data||(j.data=Z.data)}(Z,j),function Do(j,Z){if(!Z.fcmOptions)return;j.fcmOptions={};const re=Z.fcmOptions.link;re&&(j.fcmOptions.link=re);const De=Z.fcmOptions.analytics_label;De&&(j.fcmOptions.analyticsLabel=De)}(Z,j),Z}function Ko(j){return"object"==typeof j&&!!j&&ro in j}function il(j,Z){const re=[];for(let De=0;De<j.length;De++)re.push(j.charAt(De)),De<Z.length&&re.push(Z.charAt(De));return re.join("")}function Es(j){return Jt.create("missing-app-config-values",{valueName:j})}il("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),il("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ds{constructor(Z,re,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const nt=function qo(j){if(!j||!j.options)throw Es("App Configuration Object");if(!j.name)throw Es("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:re}=j;for(const De of Z)if(!re[De])throw Es(De);return{appName:j.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:nt,installations:re,analyticsProvider:De}}_delete(){return Promise.resolve()}}function Ls(j){return xa.apply(this,arguments)}function xa(){return(xa=(0,ue.Z)(function*(j){try{j.swRegistration=yield navigator.serviceWorker.register(vs,{scope:io}),j.swRegistration.update().catch(()=>{})}catch(Z){throw Jt.create("failed-service-worker-registration",{browserErrorMessage:Z.message})}})).apply(this,arguments)}function Ts(j,Z){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,ue.Z)(function*(j,Z){if(!Z&&!j.swRegistration&&(yield Ls(j)),Z||!j.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw Jt.create("invalid-sw-registration");j.swRegistration=Z}})).apply(this,arguments)}function Zo(j,Z){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,ue.Z)(function*(j,Z){Z?j.vapidKey=Z:j.vapidKey||(j.vapidKey=Wr)})).apply(this,arguments)}function rl(){return(rl=(0,ue.Z)(function*(j,Z){if(!navigator)throw Jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jt.create("permission-blocked");return yield Zo(j,null==Z?void 0:Z.vapidKey),yield Ts(j,null==Z?void 0:Z.serviceWorkerRegistration),Is(j)})).apply(this,arguments)}function sa(j,Z,re){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,ue.Z)(function*(j,Z,re){const De=oa(Z);(yield j.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:re[ro],message_name:re[Zs],message_time:re[Fo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oa(j){switch(j){case Dr.NOTIFICATION_CLICKED:return"notification_open";case Dr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function aa(){return(aa=(0,ue.Z)(function*(j,Z){const re=Z.data;if(!re.isFirebaseMessaging)return;j.onMessageHandler&&re.messageType===Dr.PUSH_RECEIVED&&("function"==typeof j.onMessageHandler?j.onMessageHandler(cs(re)):j.onMessageHandler.next(cs(re)));const De=re.data;Ko(De)&&"1"===De[Fs]&&(yield sa(j,re.messageType,De))})).apply(this,arguments)}const va="@firebase/messaging",Ma=j=>{const Z=new ds(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),j.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function ja(j,Z){return aa.apply(this,arguments)}(Z,re)),Z},Bs=j=>{const Z=j.getProvider("messaging").getImmediate();return{getToken:De=>function Yo(j,Z){return rl.apply(this,arguments)}(Z,De)}};function sl(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,ue.Z)(function*(){try{yield(0,Ee.eu)()}catch(j){return!1}return"undefined"!=typeof window&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ha(){(0,be._registerComponent)(new ke.wA("messaging",Ma,"PUBLIC")),(0,be._registerComponent)(new ke.wA("messaging-internal",Bs,"PRIVATE")),(0,be.registerVersion)(va,"0.9.12"),(0,be.registerVersion)(va,"0.9.12","esm2017")}();const Pa="analytics",Ga="firebase_id",zo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",la="https://www.googletagmanager.com/gtag/js",ns=new Je.Yd("@firebase/analytics");function ss(j){return Promise.all(j.map(Z=>Z.catch(re=>re)))}function Wa(j,Z){const re=document.createElement("script");re.src=`${la}?l=${j}&id=${Z}`,re.async=!0,document.head.appendChild(re)}function Ps(j,Z,re,De,nt,pt){return Io.apply(this,arguments)}function Io(){return(Io=(0,ue.Z)(function*(j,Z,re,De,nt,pt){const Xt=De[nt];try{if(Xt)yield Z[Xt];else{const Hn=(yield ss(re)).find(bi=>bi.measurementId===nt);Hn&&(yield Z[Hn.appId])}}catch(On){ns.error(On)}j("config",nt,pt)})).apply(this,arguments)}function _o(j,Z,re,De,nt){return To.apply(this,arguments)}function To(){return(To=(0,ue.Z)(function*(j,Z,re,De,nt){try{let pt=[];if(nt&&nt.send_to){let Xt=nt.send_to;Array.isArray(Xt)||(Xt=[Xt]);const On=yield ss(re);for(const Hn of Xt){const bi=On.find(gi=>gi.measurementId===Hn),di=bi&&Z[bi.appId];if(!di){pt=[];break}pt.push(di)}}0===pt.length&&(pt=Object.values(Z)),yield Promise.all(pt),j("event",De,nt||{})}catch(pt){ns.error(pt)}})).apply(this,arguments)}function eo(){const j=window.document.getElementsByTagName("script");for(const Z of Object.values(j))if(Z.src&&Z.src.includes(la))return Z;return null}const W=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ie=new class B{constructor(Z={},re=1e3){this.throttleMetadata=Z,this.intervalMillis=re}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,re){this.throttleMetadata[Z]=re}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function he(j){return new Headers({Accept:"application/json","x-goog-api-key":j})}function Ne(j){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,ue.Z)(function*(j){var Z;const{appId:re,apiKey:De}=j,nt={method:"GET",headers:he(De)},pt=zo.replace("{app-id}",re),Xt=yield fetch(pt,nt);if(200!==Xt.status&&304!==Xt.status){let On="";try{const Hn=yield Xt.json();(null===(Z=Hn.error)||void 0===Z?void 0:Z.message)&&(On=Hn.error.message)}catch(Hn){}throw W.create("config-fetch-failed",{httpStatus:Xt.status,responseMessage:On})}return Xt.json()})).apply(this,arguments)}function ot(j){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,ue.Z)(function*(j,Z=ie,re){const{appId:De,apiKey:nt,measurementId:pt}=j.options;if(!De)throw W.create("no-app-id");if(!nt){if(pt)return{measurementId:pt,appId:De};throw W.create("no-api-key")}const Xt=Z.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new Fn;return setTimeout((0,ue.Z)(function*(){On.abort()}),void 0!==re?re:6e4),_n({appId:De,apiKey:nt,measurementId:pt},Xt,On,Z)})).apply(this,arguments)}function _n(j,Z,re){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,ue.Z)(function*(j,{throttleEndTimeMillis:Z,backoffCount:re},De,nt=ie){const{appId:pt,measurementId:Xt}=j;try{yield Vn(De,Z)}catch(On){if(Xt)return ns.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xt} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:pt,measurementId:Xt};throw On}try{const On=yield Ne(j);return nt.deleteThrottleMetadata(pt),On}catch(On){if(!pi(On)){if(nt.deleteThrottleMetadata(pt),Xt)return ns.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xt} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:pt,measurementId:Xt};throw On}const Hn=503===Number(On.customData.httpStatus)?(0,Ee.$s)(re,nt.intervalMillis,30):(0,Ee.$s)(re,nt.intervalMillis),bi={throttleEndTimeMillis:Date.now()+Hn,backoffCount:re+1};return nt.setThrottleMetadata(pt,bi),ns.debug(`Calling attemptFetch again in ${Hn} millis`),_n(j,bi,De,nt)}})).apply(this,arguments)}function Vn(j,Z){return new Promise((re,De)=>{const nt=Math.max(Z-Date.now(),0),pt=setTimeout(re,nt);j.addEventListener(()=>{clearTimeout(pt),De(W.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function pi(j){if(!(j instanceof Ee.ZR&&j.customData))return!1;const Z=Number(j.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class Fn{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}function li(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,ue.Z)(function*(){if(!(0,Ee.hl)())return ns.warn(W.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(j){return ns.warn(W.create("indexeddb-unavailable",{errorInfo:j}).message),!1}return!0})).apply(this,arguments)}function ai(){return(ai=(0,ue.Z)(function*(j,Z,re,De,nt,pt,Xt){var On;const Hn=ot(j);Hn.then(As=>{re[As.measurementId]=As.appId,j.options.measurementId&&As.measurementId!==j.options.measurementId&&ns.warn(`The measurement ID in the local Firebase config (${j.options.measurementId}) does not match the measurement ID fetched from the server (${As.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(As=>ns.error(As)),Z.push(Hn);const bi=li().then(As=>{if(As)return De.getId()}),[di,gi]=yield Promise.all([Hn,bi]);eo()||Wa(pt,di.measurementId),nt("js",new Date);const to=null!==(On=null==Xt?void 0:Xt.config)&&void 0!==On?On:{};return to.origin="firebase",to.update=!0,null!=gi&&(to[Ga]=gi),nt("config",di.measurementId,to),di.measurementId})).apply(this,arguments)}class Br{constructor(Z){this.app=Z}_delete(){return delete hr[this.app.options.appId],Promise.resolve()}}let hr={},P=[];const M={};let L,X,x="dataLayer",me=!1;function gn(j,Z,re){!function Et(){const j=[];if((0,Ee.ru)()&&j.push("This is a browser extension environment."),(0,Ee.zI)()||j.push("Cookies are not available."),j.length>0){const Z=j.map((De,nt)=>`(${nt+1}) ${De}`).join(" "),re=W.create("invalid-analytics-context",{errorInfo:Z});ns.warn(re.message)}}();const De=j.options.appId;if(!De)throw W.create("no-app-id");if(!j.options.apiKey){if(!j.options.measurementId)throw W.create("no-api-key");ns.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${j.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hr[De])throw W.create("already-exists",{id:De});if(!me){!function yo(j){let Z=[];Array.isArray(window[j])?Z=window[j]:window[j]=Z}(x);const{wrappedGtag:pt,gtagCore:Xt}=function Js(j,Z,re,De,nt){let pt=function(...Xt){window[De].push(arguments)};return window[nt]&&"function"==typeof window[nt]&&(pt=window[nt]),window[nt]=function Ka(j,Z,re,De){function pt(){return(pt=(0,ue.Z)(function*(Xt,On,Hn){try{"event"===Xt?yield _o(j,Z,re,On,Hn):"config"===Xt?yield Ps(j,Z,re,De,On,Hn):j("set",On)}catch(bi){ns.error(bi)}})).apply(this,arguments)}return function nt(Xt,On,Hn){return pt.apply(this,arguments)}}(pt,j,Z,re),{gtagCore:pt,wrappedGtag:window[nt]}}(hr,P,M,x,"gtag");X=pt,L=Xt,me=!0}return hr[De]=function Lt(j,Z,re,De,nt,pt,Xt){return ai.apply(this,arguments)}(j,P,M,Z,L,x,re),new Br(j)}function Pt(){return(Pt=(0,ue.Z)(function*(j,Z,re,De,nt){if(nt&&nt.global)j("event",re,De);else{const pt=yield Z;j("event",re,Object.assign(Object.assign({},De),{send_to:pt}))}})).apply(this,arguments)}function Oi(){return jn.apply(this,arguments)}function jn(){return(jn=(0,ue.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(j){return!1}})).apply(this,arguments)}const Cl="@firebase/analytics";!function Il(){(0,be._registerComponent)(new ke.wA(Pa,(Z,{options:re})=>gn(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,be._registerComponent)(new ke.wA("analytics-internal",function j(Z){try{const re=Z.getProvider(Pa).getImmediate();return{logEvent:(De,nt,pt)=>function lr(j,Z,re,De){j=(0,Ee.m9)(j),function vi(j,Z,re,De,nt){return Pt.apply(this,arguments)}(X,hr[j.app.options.appId],Z,re,De).catch(nt=>ns.error(nt))}(re,De,nt,pt)}}catch(re){throw W.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,be.registerVersion)(Cl,"0.7.8"),(0,be.registerVersion)(Cl,"0.7.8","esm2017")}();var So=K(4408),Nd=K(7565);const os=new class br extends Nd.v{}(class Kr extends So.o{constructor(Z,re){super(Z,re),this.scheduler=Z,this.work=re}schedule(Z,re=0){return re>0?super.schedule(Z,re):(this.delay=re,this.state=Z,this.scheduler.flush(this),this)}execute(Z,re){return re>0||this.closed?super.execute(Z,re):this._execute(Z,re)}requestAsyncId(Z,re,De=0){return null!=De&&De>0||null==De&&this.delay>0?super.requestAsyncId(Z,re,De):Z.flush(this)}});var fc=K(4986),ql=K(8505),Us=K(9468),Xo=K(5363);const Ea=new E.GfV("7.3.0"),lo="__angularfire_symbol__analyticsIsSupportedValue",Ao="__angularfire_symbol__analyticsIsSupported",ca="__angularfire_symbol__remoteConfigIsSupportedValue",an="__angularfire_symbol__remoteConfigIsSupported",Zl="__angularfire_symbol__messagingIsSupportedValue",mu="__angularfire_symbol__messagingIsSupported";function ol(j,Z,re){if(Z){if(1===Z.length)return Z[0];const pt=Z.filter(Xt=>Xt.app===re);if(1===pt.length)return pt[0]}return re.container.getProvider(j).getImmediate({optional:!0})}globalThis[Ao]||(globalThis[Ao]=Oi().then(j=>globalThis[lo]=j).catch(()=>globalThis[lo]=!1)),globalThis[mu]||(globalThis[mu]=sl().then(j=>globalThis[Zl]=j).catch(()=>globalThis[Zl]=!1)),globalThis[an]||(globalThis[an]=wr().then(j=>globalThis[ca]=j).catch(()=>globalThis[ca]=!1));const al=(j,Z)=>{const re=Z?[Z]:(0,H.C6)(),De=[];return re.forEach(nt=>{nt.container.getProvider(j).instances.forEach(Xt=>{De.includes(Xt)||De.push(Xt)})}),De};function ka(){}class Rs{constructor(Z,re=os){this.zone=Z,this.delegate=re}now(){return this.delegate.now()}schedule(Z,re,De){const nt=this.zone;return this.delegate.schedule(function(Xt){nt.runGuarded(()=>{Z.apply(this,[Xt])})},re,De)}}class yu{constructor(Z){this.zone=Z,this.task=null}call(Z,re){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ka,{},ka,ka)),re.pipe((0,ql.b)({next:De,complete:De,error:De})).subscribe(Z).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ll=(()=>{class j{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new Rs(Zone.current)),this.insideAngular=re.run(()=>new Rs(Zone.current,fc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return j.\u0275fac=function(re){return new(re||j)(E.LFG(E.R0b))},j.\u0275prov=E.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function Wo(){const j=globalThis.\u0275AngularFireScheduler;if(!j)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return j}function Wu(j){return Wo(),function wa(j){return function(re){return(re=re.lift(new yu(j.ngZone))).pipe((0,Us.R)(j.outsideAngular),(0,Xo.Q)(j.insideAngular))}}(Wo())(j)}},2090:(sn,st,K)=>{K.d(st,{$s:()=>Rr,BH:()=>ht,DV:()=>Bt,Dv:()=>$r,G6:()=>xe,GJ:()=>Ve,L:()=>tt,LL:()=>vn,Lj:()=>Gn,Mn:()=>Ot,Pz:()=>vt,Sg:()=>it,UG:()=>ft,UI:()=>Un,US:()=>Je,Wj:()=>Ni,X3:()=>ln,Yr:()=>kt,ZB:()=>Oe,ZR:()=>lt,b$:()=>at,cI:()=>en,d:()=>_e,dS:()=>Qt,eu:()=>Pe,g5:()=>be,gK:()=>oi,gQ:()=>Ei,h$:()=>Ye,hl:()=>Me,hu:()=>ue,jU:()=>Fe,lb:()=>qi,m9:()=>bn,ne:()=>dn,p$:()=>pe,pd:()=>zi,r3:()=>Xe,ru:()=>qt,tV:()=>ge,uI:()=>yt,ug:()=>Dn,vZ:()=>Fi,w1:()=>qe,w9:()=>It,xO:()=>Ri,xb:()=>nn,z$:()=>Ht,zI:()=>Ae,zd:()=>An});var E=K(5861);const ue=function(Re,ve){if(!Re)throw be(ve)},be=function(Re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Re)},Ee=function(Re){const ve=[];let He=0;for(let _t=0;_t<Re.length;_t++){let Qe=Re.charCodeAt(_t);Qe<128?ve[He++]=Qe:Qe<2048?(ve[He++]=Qe>>6|192,ve[He++]=63&Qe|128):55296==(64512&Qe)&&_t+1<Re.length&&56320==(64512&Re.charCodeAt(_t+1))?(Qe=65536+((1023&Qe)<<10)+(1023&Re.charCodeAt(++_t)),ve[He++]=Qe>>18|240,ve[He++]=Qe>>12&63|128,ve[He++]=Qe>>6&63|128,ve[He++]=63&Qe|128):(ve[He++]=Qe>>12|224,ve[He++]=Qe>>6&63|128,ve[He++]=63&Qe|128)}return ve},Je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,ve){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const He=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,_t=[];for(let Qe=0;Qe<Re.length;Qe+=3){const Zt=Re[Qe],je=Qe+1<Re.length,Se=je?Re[Qe+1]:0,fe=Qe+2<Re.length,ze=fe?Re[Qe+2]:0;let xn=(15&Se)<<2|ze>>6,Ci=63&ze;fe||(Ci=64,je||(xn=64)),_t.push(He[Zt>>2],He[(3&Zt)<<4|Se>>4],He[xn],He[Ci])}return _t.join("")},encodeString(Re,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Re):this.encodeByteArray(Ee(Re),ve)},decodeString(Re,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Re):function(Re){const ve=[];let He=0,_t=0;for(;He<Re.length;){const Qe=Re[He++];if(Qe<128)ve[_t++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){const Zt=Re[He++];ve[_t++]=String.fromCharCode((31&Qe)<<6|63&Zt)}else if(Qe>239&&Qe<365){const fe=((7&Qe)<<18|(63&Re[He++])<<12|(63&Re[He++])<<6|63&Re[He++])-65536;ve[_t++]=String.fromCharCode(55296+(fe>>10)),ve[_t++]=String.fromCharCode(56320+(1023&fe))}else{const Zt=Re[He++],je=Re[He++];ve[_t++]=String.fromCharCode((15&Qe)<<12|(63&Zt)<<6|63&je)}}return ve.join("")}(this.decodeStringToByteArray(Re,ve))},decodeStringToByteArray(Re,ve){this.init_();const He=ve?this.charToByteMapWebSafe_:this.charToByteMap_,_t=[];for(let Qe=0;Qe<Re.length;){const Zt=He[Re.charAt(Qe++)],Se=Qe<Re.length?He[Re.charAt(Qe)]:0;++Qe;const ze=Qe<Re.length?He[Re.charAt(Qe)]:64;++Qe;const zt=Qe<Re.length?He[Re.charAt(Qe)]:64;if(++Qe,null==Zt||null==Se||null==ze||null==zt)throw Error();_t.push(Zt<<2|Se>>4),64!==ze&&(_t.push(Se<<4&240|ze>>2),64!==zt&&_t.push(ze<<6&192|zt))}return _t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}},Ye=function(Re){const ve=Ee(Re);return Je.encodeByteArray(ve,!0)},tt=function(Re){return Ye(Re).replace(/\./g,"")},ge=function(Re){try{return Je.decodeString(Re,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function pe(Re){return Oe(void 0,Re)}function Oe(Re,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return ve}for(const He in ve)!ve.hasOwnProperty(He)||!xt(He)||(Re[He]=Oe(Re[He],ve[He]));return Re}function xt(Re){return"__proto__"!==Re}class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,He)=>{this.resolve=ve,this.reject=He})}wrapCallback(ve){return(He,_t)=>{He?this.reject(He):this.resolve(_t),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(He):ve(He,_t))}}}function it(Re,ve){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _t=ve||"demo-project",Qe=Re.iat||0,Zt=Re.sub||Re.user_id;if(!Zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${_t}`,aud:_t,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:Zt,user_id:Zt,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[tt(JSON.stringify({alg:"none",type:"JWT"})),tt(JSON.stringify(je)),""].join(".")}function Ht(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Re){return!1}}function Fe(){return"object"==typeof self&&self.self===self}function qt(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function at(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Ht().indexOf("Electron/")>=0}function qe(){const Re=Ht();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function Ot(){return Ht().indexOf("MSAppHost/")>=0}function kt(){return!1}function xe(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){return"object"==typeof indexedDB}function Pe(){return new Promise((Re,ve)=>{try{let He=!0;const _t="validate-browser-context-for-indexeddb-analytics-module",Qe=self.indexedDB.open(_t);Qe.onsuccess=()=>{Qe.result.close(),He||self.indexedDB.deleteDatabase(_t),Re(!0)},Qe.onupgradeneeded=()=>{He=!1},Qe.onerror=()=>{var Zt;ve((null===(Zt=Qe.error)||void 0===Zt?void 0:Zt.message)||"")}}catch(He){ve(He)}})}function Ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class lt extends Error{constructor(ve,He,_t){super(He),this.code=ve,this.customData=_t,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}}class vn{constructor(ve,He,_t){this.service=ve,this.serviceName=He,this.errors=_t}create(ve,...He){const _t=He[0]||{},Qe=`${this.service}/${ve}`,Zt=this.errors[ve],je=Zt?function pn(Re,ve){return Re.replace(Bn,(He,_t)=>{const Qe=ve[_t];return null!=Qe?String(Qe):`<${_t}?>`})}(Zt,_t):"Error";return new lt(Qe,`${this.serviceName}: ${je} (${Qe}).`,_t)}}const Bn=/\{\$([^}]+)}/g;function en(Re){return JSON.parse(Re)}function vt(Re){return JSON.stringify(Re)}const on=function(Re){let ve={},He={},_t={},Qe="";try{const Zt=Re.split(".");ve=en(ge(Zt[0])||""),He=en(ge(Zt[1])||""),Qe=Zt[2],_t=He.d||{},delete He.d}catch(Zt){}return{header:ve,claims:He,data:_t,signature:Qe}},It=function(Re){const He=on(Re).claims;return!!He&&"object"==typeof He&&He.hasOwnProperty("iat")},Ve=function(Re){const ve=on(Re).claims;return"object"==typeof ve&&!0===ve.admin};function Xe(Re,ve){return Object.prototype.hasOwnProperty.call(Re,ve)}function Bt(Re,ve){if(Object.prototype.hasOwnProperty.call(Re,ve))return Re[ve]}function nn(Re){for(const ve in Re)if(Object.prototype.hasOwnProperty.call(Re,ve))return!1;return!0}function Un(Re,ve,He){const _t={};for(const Qe in Re)Object.prototype.hasOwnProperty.call(Re,Qe)&&(_t[Qe]=ve.call(He,Re[Qe],Qe,Re));return _t}function Fi(Re,ve){if(Re===ve)return!0;const He=Object.keys(Re),_t=Object.keys(ve);for(const Qe of He){if(!_t.includes(Qe))return!1;const Zt=Re[Qe],je=ve[Qe];if(yi(Zt)&&yi(je)){if(!Fi(Zt,je))return!1}else if(Zt!==je)return!1}for(const Qe of _t)if(!He.includes(Qe))return!1;return!0}function yi(Re){return null!==Re&&"object"==typeof Re}function Ri(Re){const ve=[];for(const[He,_t]of Object.entries(Re))Array.isArray(_t)?_t.forEach(Qe=>{ve.push(encodeURIComponent(He)+"="+encodeURIComponent(Qe))}):ve.push(encodeURIComponent(He)+"="+encodeURIComponent(_t));return ve.length?"&"+ve.join("&"):""}function An(Re){const ve={};return Re.replace(/^\?/,"").split("&").forEach(_t=>{if(_t){const[Qe,Zt]=_t.split("=");ve[decodeURIComponent(Qe)]=decodeURIComponent(Zt)}}),ve}function zi(Re){const ve=Re.indexOf("?");if(!ve)return"";const He=Re.indexOf("#",ve);return Re.substring(ve,He>0?He:void 0)}class Ei{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ve=1;ve<this.blockSize;++ve)this.pad_[ve]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ve,He){He||(He=0);const _t=this.W_;if("string"==typeof ve)for(let zt=0;zt<16;zt++)_t[zt]=ve.charCodeAt(He)<<24|ve.charCodeAt(He+1)<<16|ve.charCodeAt(He+2)<<8|ve.charCodeAt(He+3),He+=4;else for(let zt=0;zt<16;zt++)_t[zt]=ve[He]<<24|ve[He+1]<<16|ve[He+2]<<8|ve[He+3],He+=4;for(let zt=16;zt<80;zt++){const xn=_t[zt-3]^_t[zt-8]^_t[zt-14]^_t[zt-16];_t[zt]=4294967295&(xn<<1|xn>>>31)}let ze,At,Qe=this.chain_[0],Zt=this.chain_[1],je=this.chain_[2],Se=this.chain_[3],fe=this.chain_[4];for(let zt=0;zt<80;zt++){zt<40?zt<20?(ze=Se^Zt&(je^Se),At=1518500249):(ze=Zt^je^Se,At=1859775393):zt<60?(ze=Zt&je|Se&(Zt|je),At=2400959708):(ze=Zt^je^Se,At=3395469782);const xn=(Qe<<5|Qe>>>27)+ze+fe+At+_t[zt]&4294967295;fe=Se,Se=je,je=4294967295&(Zt<<30|Zt>>>2),Zt=Qe,Qe=xn}this.chain_[0]=this.chain_[0]+Qe&4294967295,this.chain_[1]=this.chain_[1]+Zt&4294967295,this.chain_[2]=this.chain_[2]+je&4294967295,this.chain_[3]=this.chain_[3]+Se&4294967295,this.chain_[4]=this.chain_[4]+fe&4294967295}update(ve,He){if(null==ve)return;void 0===He&&(He=ve.length);const _t=He-this.blockSize;let Qe=0;const Zt=this.buf_;let je=this.inbuf_;for(;Qe<He;){if(0===je)for(;Qe<=_t;)this.compress_(ve,Qe),Qe+=this.blockSize;if("string"==typeof ve){for(;Qe<He;)if(Zt[je]=ve.charCodeAt(Qe),++je,++Qe,je===this.blockSize){this.compress_(Zt),je=0;break}}else for(;Qe<He;)if(Zt[je]=ve[Qe],++je,++Qe,je===this.blockSize){this.compress_(Zt),je=0;break}}this.inbuf_=je,this.total_+=He}digest(){const ve=[];let He=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Qe=this.blockSize-1;Qe>=56;Qe--)this.buf_[Qe]=255&He,He/=256;this.compress_(this.buf_);let _t=0;for(let Qe=0;Qe<5;Qe++)for(let Zt=24;Zt>=0;Zt-=8)ve[_t]=this.chain_[Qe]>>Zt&255,++_t;return ve}}function dn(Re,ve){const He=new Qn(Re,ve);return He.subscribe.bind(He)}class Qn{constructor(ve,He){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=He,this.task.then(()=>{ve(this)}).catch(_t=>{this.error(_t)})}next(ve){this.forEachObserver(He=>{He.next(ve)})}error(ve){this.forEachObserver(He=>{He.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,He,_t){let Qe;if(void 0===ve&&void 0===He&&void 0===_t)throw new Error("Missing Observer.");Qe=function Zn(Re,ve){if("object"!=typeof Re||null===Re)return!1;for(const He of ve)if(He in Re&&"function"==typeof Re[He])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:He,complete:_t},void 0===Qe.next&&(Qe.next=Er),void 0===Qe.error&&(Qe.error=Er),void 0===Qe.complete&&(Qe.complete=Er);const Zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Qe.error(this.finalError):Qe.complete()}catch(je){}}),this.observers.push(Qe),Zt}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let He=0;He<this.observers.length;He++)this.sendOne(He,ve)}sendOne(ve,He){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{He(this.observers[ve])}catch(_t){"undefined"!=typeof console&&console.error&&console.error(_t)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}const $r=function(Re,ve,He,_t){let Qe;if(_t<ve?Qe="at least "+ve:_t>He&&(Qe=0===He?"none":"no more than "+He),Qe)throw new Error(Re+" failed: Was called with "+_t+(1===_t?" argument.":" arguments.")+" Expects "+Qe+".")};function oi(Re,ve){return`${Re} failed: ${ve} argument `}function Ni(Re,ve,He,_t){if((!_t||He)&&"function"!=typeof He)throw new Error(oi(Re,ve)+"must be a valid function.")}function qi(Re,ve,He,_t){if((!_t||He)&&("object"!=typeof He||null===He))throw new Error(oi(Re,ve)+"must be a valid context object.")}const Qt=function(Re){const ve=[];let He=0;for(let _t=0;_t<Re.length;_t++){let Qe=Re.charCodeAt(_t);if(Qe>=55296&&Qe<=56319){const Zt=Qe-55296;_t++,ue(_t<Re.length,"Surrogate pair missing trail surrogate."),Qe=65536+(Zt<<10)+(Re.charCodeAt(_t)-56320)}Qe<128?ve[He++]=Qe:Qe<2048?(ve[He++]=Qe>>6|192,ve[He++]=63&Qe|128):Qe<65536?(ve[He++]=Qe>>12|224,ve[He++]=Qe>>6&63|128,ve[He++]=63&Qe|128):(ve[He++]=Qe>>18|240,ve[He++]=Qe>>12&63|128,ve[He++]=Qe>>6&63|128,ve[He++]=63&Qe|128)}return ve},Dn=function(Re){let ve=0;for(let He=0;He<Re.length;He++){const _t=Re.charCodeAt(He);_t<128?ve++:_t<2048?ve+=2:_t>=55296&&_t<=56319?(ve+=4,He++):ve+=3}return ve};function Rr(Re,ve=1e3,He=2){const _t=ve*Math.pow(He,Re),Qe=Math.round(.5*_t*(Math.random()-.5)*2);return Math.min(144e5,_t+Qe)}function bn(Re){return Re&&Re._delegate?Re._delegate:Re}function cr(Re,ve){return new Promise((He,_t)=>{Re.onsuccess=Qe=>{He(Qe.target.result)},Re.onerror=Qe=>{var Zt;_t(`${ve}: ${null===(Zt=Qe.target.error)||void 0===Zt?void 0:Zt.message}`)}})}class kn{constructor(ve){this._db=ve,this.objectStoreNames=this._db.objectStoreNames}transaction(ve,He="readonly"){return new hn(this._db.transaction.call(this._db,ve,He))}createObjectStore(ve,He){return new Ct(this._db.createObjectStore(ve,He))}close(){this._db.close()}}class hn{constructor(ve){this._transaction=ve,this.complete=new Promise((He,_t)=>{this._transaction.oncomplete=function(){He()},this._transaction.onerror=()=>{_t(this._transaction.error)},this._transaction.onabort=()=>{_t(this._transaction.error)}})}objectStore(ve){return new Ct(this._transaction.objectStore(ve))}}class Ct{constructor(ve){this._store=ve}index(ve){return new un(this._store.index(ve))}createIndex(ve,He,_t){return new un(this._store.createIndex(ve,He,_t))}get(ve){return cr(this._store.get(ve),"Error reading from IndexedDB")}put(ve,He){return cr(this._store.put(ve,He),"Error writing to IndexedDB")}delete(ve){return cr(this._store.delete(ve),"Error deleting from IndexedDB")}clear(){return cr(this._store.clear(),"Error clearing IndexedDB object store")}}class un{constructor(ve){this._index=ve}get(ve){return cr(this._index.get(ve),"Error reading from IndexedDB")}}function ln(Re,ve,He){return new Promise((_t,Qe)=>{try{const Zt=indexedDB.open(Re,ve);Zt.onsuccess=je=>{_t(new kn(je.target.result))},Zt.onerror=je=>{var Se;Qe(`Error opening indexedDB: ${null===(Se=je.target.error)||void 0===Se?void 0:Se.message}`)},Zt.onupgradeneeded=je=>{He(new kn(Zt.result),je.oldVersion,je.newVersion,new hn(Zt.transaction))}}catch(Zt){Qe(`Error opening indexedDB: ${Zt.message}`)}})}function Gn(Re){return $n.apply(this,arguments)}function $n(){return($n=(0,E.Z)(function*(Re){return new Promise((ve,He)=>{try{const _t=indexedDB.deleteDatabase(Re);_t.onsuccess=()=>{ve()},_t.onerror=Qe=>{var Zt;He(`Error deleting indexedDB database "${Re}": ${null===(Zt=Qe.target.error)||void 0===Zt?void 0:Zt.message}`)}}catch(_t){He(`Error deleting indexedDB database "${Re}": ${_t.message}`)}})})).apply(this,arguments)}},7556:(sn,st,K)=>{K.d(st,{e:()=>Je});var E=K(5861),H=K(5e3),ue=K(1205),be=K(441),Ee=K(7898),ke=K(7562);let Je=(()=>{class Ye{constructor(ge,pe,Oe,xt){this.a=ge,this.router=pe,this.us=Oe,this.spinner=xt,this.boolean=!1,this.verifico=!1,this.estalogeado=!1,this.administrador=!1,this.especialista=!1,this.paciente=!1,this.quienes="Cl\xednica M\xe9dica"}login(ge,pe){return new Promise((Oe,xt)=>{this.a.signInWithEmailAndPassword(ge,pe).then(ht=>{var it;this.data=null===(it=ht.user)||void 0===it?void 0:it.email,Oe(ht)}).catch(ht=>xt(ht))})}deslogear(){this.a.signOut().then(ge=>{this.estalogeado=!1,this.quienes="Cl\xednica M\xe9dica",this.router.navigate([""])}).catch(ge=>{alert("No se pudo deslogear")})}enviarCorreo(){var ge=this;return(0,E.Z)(function*(){var pe;return null===(pe=yield ge.a.currentUser)||void 0===pe?void 0:pe.sendEmailVerification()})()}VerificarCorreo(){var ge=this;return(0,E.Z)(function*(){var pe;return null===(pe=yield ge.a.currentUser)||void 0===pe?void 0:pe.emailVerified})()}verificarlogeo(){return new Promise((ge,pe)=>{this.a.onAuthStateChanged(Oe=>{this.spinner.hide(),ge(Oe)})})}crearUsuario(ge,pe){return new Promise((Oe,xt)=>{this.a.createUserWithEmailAndPassword(ge,pe).then(ht=>{console.log("asd"),Oe(ht)}).catch(ht=>xt(ht))})}chegeneral(ge){return new Promise((pe,Oe)=>{this.us.getAll().get().subscribe(xt=>{xt.forEach(ht=>{ht.data().email==ge&&("especialista"==ht.data().perfil?(this.quienes="Especialista",this.especialista=!0,this.paciente=!1,this.administrador=!1):"paciente"==ht.data().perfil?(this.quienes="Paciente",this.paciente=!0,this.especialista=!1,this.administrador=!1):(this.quienes="Administrador",this.paciente=!1,this.especialista=!1,this.administrador=!0),pe(!0))})})})}}return Ye.\u0275fac=function(ge){return new(ge||Ye)(H.LFG(ue.zQ),H.LFG(be.F0),H.LFG(Ee.m),H.LFG(ke.t2))},Ye.\u0275prov=H.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})()},7898:(sn,st,K)=>{K.d(st,{m:()=>ue});var E=K(5e3),H=K(7407);let ue=(()=>{class be{constructor(ke){this.db=ke,this.dbPath="/registrarUsuario",this.MensajesRef=ke.collection(this.dbPath)}getAll(){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef}create(ke){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.add(Object.assign({},ke))}update(ke,Je){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(ke).update(Je)}delete(ke){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(ke).delete()}}return be.\u0275fac=function(ke){return new(ke||be)(E.LFG(H.ST))},be.\u0275prov=E.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},692:(sn,st,K)=>{var E=K(2313),H=K(5e3),ue=K(9808),be=K(1777);const Ee=!1;function Je(W){return new H.vHH(3e3,Ee)}function Xe(){return"undefined"!=typeof window&&void 0!==window.document}function Bt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function nn(W){switch(W.length){case 0:return new be.ZN;case 1:return W[0];default:return new be.ZE(W)}}function Un(W,D,T,B,ie={},he={}){const Ne=[],Ie=[];let ot=-1,Tt=null;if(B.forEach(_n=>{const Tn=_n.offset,Vn=Tn==ot,pi=Vn&&Tt||{};Object.keys(_n).forEach(Fn=>{let li=Fn,Ui=_n[Fn];if("offset"!==Fn)switch(li=D.normalizePropertyName(li,Ne),Ui){case be.k1:Ui=ie[Fn];break;case be.l3:Ui=he[Fn];break;default:Ui=D.normalizeStyleValue(Fn,li,Ui,Ne)}pi[li]=Ui}),Vn||Ie.push(pi),Tt=pi,ot=Tn}),Ne.length)throw function mt(W){return new H.vHH(3502,Ee)}();return Ie}function Fi(W,D,T,B){switch(D){case"start":W.onStart(()=>B(T&&yi(T,"start",W)));break;case"done":W.onDone(()=>B(T&&yi(T,"done",W)));break;case"destroy":W.onDestroy(()=>B(T&&yi(T,"destroy",W)))}}function yi(W,D,T){const B=T.totalTime,he=Ri(W.element,W.triggerName,W.fromState,W.toState,D||W.phaseName,null==B?W.totalTime:B,!!T.disabled),Ne=W._data;return null!=Ne&&(he._data=Ne),he}function Ri(W,D,T,B,ie="",he=0,Ne){return{element:W,triggerName:D,fromState:T,toState:B,phaseName:ie,totalTime:he,disabled:!!Ne}}function An(W,D,T){let B;return W instanceof Map?(B=W.get(D),B||W.set(D,B=T)):(B=W[D],B||(B=W[D]=T)),B}function zi(W){const D=W.indexOf(":");return[W.substring(1,D),W.substr(D+1)]}let Ei=(W,D)=>!1,dn=(W,D,T)=>[],Qn=null;function Xn(W){const D=W.parentNode||W.host;return D===Qn?null:D}(Bt()||"undefined"!=typeof Element)&&(Xe()?(Qn=(()=>document.documentElement)(),Ei=(W,D)=>{for(;D;){if(D===W)return!0;D=Xn(D)}return!1}):Ei=(W,D)=>W.contains(D),dn=(W,D,T)=>{if(T)return Array.from(W.querySelectorAll(D));const B=W.querySelector(D);return B?[B]:[]});let $r=null,oi=!1;function Ji(W){$r||($r=function Ni(){return"undefined"!=typeof document?document.body:null}()||{},oi=!!$r.style&&"WebkitAppearance"in $r.style);let D=!0;return $r.style&&!function Er(W){return"ebkit"==W.substring(1,6)}(W)&&(D=W in $r.style,!D&&oi&&(D="Webkit"+W.charAt(0).toUpperCase()+W.substr(1)in $r.style)),D}const qi=Ei,Qt=dn;let In=(()=>{class W{validateStyleProperty(T){return Ji(T)}matchesElement(T,B){return!1}containsElement(T,B){return qi(T,B)}getParentElement(T){return Xn(T)}query(T,B,ie){return Qt(T,B,ie)}computeStyle(T,B,ie){return ie||""}animate(T,B,ie,he,Ne,Ie=[],ot){return new be.ZN(ie,he)}}return W.\u0275fac=function(T){return new(T||W)},W.\u0275prov=H.Yz7({token:W,factory:W.\u0275fac}),W})(),er=(()=>{class W{}return W.NOOP=new In,W})();const Zi="ng-enter",hi="ng-leave",bn="ng-trigger",cr=".ng-trigger",kn="ng-animating",hn=".ng-animating";function Ct(W){if("number"==typeof W)return W;const D=W.match(/^(-?[\.\d]+)(m?s)/);return!D||D.length<2?0:un(parseFloat(D[1]),D[2])}function un(W,D){return"s"===D?1e3*W:W}function ln(W,D,T){return W.hasOwnProperty("duration")?W:function Gn(W,D,T){let ie,he=0,Ne="";if("string"==typeof W){const Ie=W.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return D.push(Je()),{duration:0,delay:0,easing:""};ie=un(parseFloat(Ie[1]),Ie[2]);const ot=Ie[3];null!=ot&&(he=un(parseFloat(ot),Ie[4]));const Tt=Ie[5];Tt&&(Ne=Tt)}else ie=W;if(!T){let Ie=!1,ot=D.length;ie<0&&(D.push(function Ye(){return new H.vHH(3100,Ee)}()),Ie=!0),he<0&&(D.push(function tt(){return new H.vHH(3101,Ee)}()),Ie=!0),Ie&&D.splice(ot,0,Je())}return{duration:ie,delay:he,easing:Ne}}(W,D,T)}function $n(W,D={}){return Object.keys(W).forEach(T=>{D[T]=W[T]}),D}function ve(W,D,T={}){if(D)for(let B in W)T[B]=W[B];else $n(W,T);return T}function He(W,D,T){return T?D+":"+T+";":""}function _t(W){let D="";for(let T=0;T<W.style.length;T++){const B=W.style.item(T);D+=He(0,B,W.style.getPropertyValue(B))}for(const T in W.style)W.style.hasOwnProperty(T)&&!T.startsWith("_")&&(D+=He(0,tr(T),W.style[T]));W.setAttribute("style",D)}function Qe(W,D,T){W.style&&(Object.keys(D).forEach(B=>{const ie=Ci(B);T&&!T.hasOwnProperty(B)&&(T[B]=W.style[ie]),W.style[ie]=D[B]}),Bt()&&_t(W))}function Zt(W,D){W.style&&(Object.keys(D).forEach(T=>{const B=Ci(T);W.style[B]=""}),Bt()&&_t(W))}function je(W){return Array.isArray(W)?1==W.length?W[0]:(0,be.vP)(W):W}const fe=new RegExp("{{\\s*(.+?)\\s*}}","g");function ze(W){let D=[];if("string"==typeof W){let T;for(;T=fe.exec(W);)D.push(T[1]);fe.lastIndex=0}return D}function At(W,D,T){const B=W.toString(),ie=B.replace(fe,(he,Ne)=>{let Ie=D[Ne];return D.hasOwnProperty(Ne)||(T.push(function pe(W){return new H.vHH(3003,Ee)}()),Ie=""),Ie.toString()});return ie==B?W:ie}function zt(W){const D=[];let T=W.next();for(;!T.done;)D.push(T.value),T=W.next();return D}const xn=/-+([a-z0-9])/g;function Ci(W){return W.replace(xn,(...D)=>D[1].toUpperCase())}function tr(W){return W.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pi(W,D,T){switch(D.type){case 7:return W.visitTrigger(D,T);case 0:return W.visitState(D,T);case 1:return W.visitTransition(D,T);case 2:return W.visitSequence(D,T);case 3:return W.visitGroup(D,T);case 4:return W.visitAnimate(D,T);case 5:return W.visitKeyframes(D,T);case 6:return W.visitStyle(D,T);case 8:return W.visitReference(D,T);case 9:return W.visitAnimateChild(D,T);case 10:return W.visitAnimateRef(D,T);case 11:return W.visitQuery(D,T);case 12:return W.visitStagger(D,T);default:throw function Oe(W){return new H.vHH(3004,Ee)}()}}function Yi(W,D){return window.getComputedStyle(W)[D]}function Yr(W,D){const T=[];return"string"==typeof W?W.split(/\s*,\s*/).forEach(B=>function Ai(W,D,T){if(":"==W[0]){const ot=function nr(W,D){switch(W){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,B)=>parseFloat(B)>parseFloat(T);case":decrement":return(T,B)=>parseFloat(B)<parseFloat(T);default:return D.push(function Me(W){return new H.vHH(3016,Ee)}()),"* => *"}}(W,T);if("function"==typeof ot)return void D.push(ot);W=ot}const B=W.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return T.push(function xe(W){return new H.vHH(3015,Ee)}()),D;const ie=B[1],he=B[2],Ne=B[3];D.push(Xr(ie,Ne));"<"==he[0]&&!("*"==ie&&"*"==Ne)&&D.push(Xr(Ne,ie))}(B,T,D)):T.push(W),T}const Qr=new Set(["true","1"]),Kn=new Set(["false","0"]);function Xr(W,D){const T=Qr.has(W)||Kn.has(W),B=Qr.has(D)||Kn.has(D);return(ie,he)=>{let Ne="*"==W||W==ie,Ie="*"==D||D==he;return!Ne&&T&&"boolean"==typeof ie&&(Ne=ie?Qr.has(W):Kn.has(W)),!Ie&&B&&"boolean"==typeof he&&(Ie=he?Qr.has(D):Kn.has(D)),Ne&&Ie}}const Ws=new RegExp("s*:selfs*,?","g");function Tr(W,D,T,B){return new ir(W).build(D,T,B)}class ir{constructor(D){this._driver=D}build(D,T,B){const ie=new xi(T);this._resetContextStyleTimingState(ie);const he=Pi(this,je(D),ie);return ie.unsupportedCSSPropertiesFound.size&&ie.unsupportedCSSPropertiesFound.keys(),he}_resetContextStyleTimingState(D){D.currentQuerySelector="",D.collectedStyles={},D.collectedStyles[""]={},D.currentTime=0}visitTrigger(D,T){let B=T.queryCount=0,ie=T.depCount=0;const he=[],Ne=[];return"@"==D.name.charAt(0)&&T.errors.push(function ht(){return new H.vHH(3006,Ee)}()),D.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(T),0==Ie.type){const ot=Ie,Tt=ot.name;Tt.toString().split(/\s*,\s*/).forEach(_n=>{ot.name=_n,he.push(this.visitState(ot,T))}),ot.name=Tt}else if(1==Ie.type){const ot=this.visitTransition(Ie,T);B+=ot.queryCount,ie+=ot.depCount,Ne.push(ot)}else T.errors.push(function it(){return new H.vHH(3007,Ee)}())}),{type:7,name:D.name,states:he,transitions:Ne,queryCount:B,depCount:ie,options:null}}visitState(D,T){const B=this.visitStyle(D.styles,T),ie=D.options&&D.options.params||null;if(B.containsDynamicStyles){const he=new Set,Ne=ie||{};B.styles.forEach(Ie=>{if(zr(Ie)){const ot=Ie;Object.keys(ot).forEach(Tt=>{ze(ot[Tt]).forEach(_n=>{Ne.hasOwnProperty(_n)||he.add(_n)})})}}),he.size&&(zt(he.values()),T.errors.push(function Ht(W,D){return new H.vHH(3008,Ee)}()))}return{type:0,name:D.name,style:B,options:ie?{params:ie}:null}}visitTransition(D,T){T.queryCount=0,T.depCount=0;const B=Pi(this,je(D.animation),T);return{type:1,matchers:Yr(D.expr,T.errors),animation:B,queryCount:T.queryCount,depCount:T.depCount,options:mr(D.options)}}visitSequence(D,T){return{type:2,steps:D.steps.map(B=>Pi(this,B,T)),options:mr(D.options)}}visitGroup(D,T){const B=T.currentTime;let ie=0;const he=D.steps.map(Ne=>{T.currentTime=B;const Ie=Pi(this,Ne,T);return ie=Math.max(ie,T.currentTime),Ie});return T.currentTime=ie,{type:3,steps:he,options:mr(D.options)}}visitAnimate(D,T){const B=function Ar(W,D){if(W.hasOwnProperty("duration"))return W;if("number"==typeof W)return ms(ln(W,D).duration,0,"");const T=W;if(T.split(/\s+/).some(he=>"{"==he.charAt(0)&&"{"==he.charAt(1))){const he=ms(0,0,"");return he.dynamic=!0,he.strValue=T,he}const ie=ln(T,D);return ms(ie.duration,ie.delay,ie.easing)}(D.timings,T.errors);T.currentAnimateTimings=B;let ie,he=D.styles?D.styles:(0,be.oB)({});if(5==he.type)ie=this.visitKeyframes(he,T);else{let Ne=D.styles,Ie=!1;if(!Ne){Ie=!0;const Tt={};B.easing&&(Tt.easing=B.easing),Ne=(0,be.oB)(Tt)}T.currentTime+=B.duration+B.delay;const ot=this.visitStyle(Ne,T);ot.isEmptyStep=Ie,ie=ot}return T.currentAnimateTimings=null,{type:4,timings:B,style:ie,options:null}}visitStyle(D,T){const B=this._makeStyleAst(D,T);return this._validateStyleAst(B,T),B}_makeStyleAst(D,T){const B=[];Array.isArray(D.styles)?D.styles.forEach(Ne=>{"string"==typeof Ne?Ne==be.l3?B.push(Ne):T.errors.push(function yt(W){return new H.vHH(3002,Ee)}()):B.push(Ne)}):B.push(D.styles);let ie=!1,he=null;return B.forEach(Ne=>{if(zr(Ne)){const Ie=Ne,ot=Ie.easing;if(ot&&(he=ot,delete Ie.easing),!ie)for(let Tt in Ie)if(Ie[Tt].toString().indexOf("{{")>=0){ie=!0;break}}}),{type:6,styles:B,easing:he,offset:D.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(D,T){const B=T.currentAnimateTimings;let ie=T.currentTime,he=T.currentTime;B&&he>0&&(he-=B.duration+B.delay),D.styles.forEach(Ne=>{"string"!=typeof Ne&&Object.keys(Ne).forEach(Ie=>{if(!this._driver.validateStyleProperty(Ie))return delete Ne[Ie],void T.unsupportedCSSPropertiesFound.add(Ie);const ot=T.collectedStyles[T.currentQuerySelector],Tt=ot[Ie];let _n=!0;Tt&&(he!=ie&&he>=Tt.startTime&&ie<=Tt.endTime&&(T.errors.push(function Fe(W,D,T,B,ie){return new H.vHH(3010,Ee)}()),_n=!1),he=Tt.startTime),_n&&(ot[Ie]={startTime:he,endTime:ie}),T.options&&function Se(W,D,T){const B=D.params||{},ie=ze(W);ie.length&&ie.forEach(he=>{B.hasOwnProperty(he)||T.push(function ge(W){return new H.vHH(3001,Ee)}())})}(Ne[Ie],T.options,T.errors)})})}visitKeyframes(D,T){const B={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function qt(){return new H.vHH(3011,Ee)}()),B;let he=0;const Ne=[];let Ie=!1,ot=!1,Tt=0;const _n=D.steps.map(Lt=>{const ai=this._makeStyleAst(Lt,T);let Br=null!=ai.offset?ai.offset:function ri(W){if("string"==typeof W)return null;let D=null;if(Array.isArray(W))W.forEach(T=>{if(zr(T)&&T.hasOwnProperty("offset")){const B=T;D=parseFloat(B.offset),delete B.offset}});else if(zr(W)&&W.hasOwnProperty("offset")){const T=W;D=parseFloat(T.offset),delete T.offset}return D}(ai.styles),hr=0;return null!=Br&&(he++,hr=ai.offset=Br),ot=ot||hr<0||hr>1,Ie=Ie||hr<Tt,Tt=hr,Ne.push(hr),ai});ot&&T.errors.push(function at(){return new H.vHH(3012,Ee)}()),Ie&&T.errors.push(function _e(){return new H.vHH(3200,Ee)}());const Tn=D.steps.length;let Vn=0;he>0&&he<Tn?T.errors.push(function qe(){return new H.vHH(3202,Ee)}()):0==he&&(Vn=1/(Tn-1));const pi=Tn-1,Fn=T.currentTime,li=T.currentAnimateTimings,Ui=li.duration;return _n.forEach((Lt,ai)=>{const Br=Vn>0?ai==pi?1:Vn*ai:Ne[ai],hr=Br*Ui;T.currentTime=Fn+li.delay+hr,li.duration=hr,this._validateStyleAst(Lt,T),Lt.offset=Br,B.styles.push(Lt)}),B}visitReference(D,T){return{type:8,animation:Pi(this,je(D.animation),T),options:mr(D.options)}}visitAnimateChild(D,T){return T.depCount++,{type:9,options:mr(D.options)}}visitAnimateRef(D,T){return{type:10,animation:this.visitReference(D.animation,T),options:mr(D.options)}}visitQuery(D,T){const B=T.currentQuerySelector,ie=D.options||{};T.queryCount++,T.currentQuery=D;const[he,Ne]=function ar(W){const D=!!W.split(/\s*,\s*/).find(T=>":self"==T);return D&&(W=W.replace(Ws,"")),W=W.replace(/@\*/g,cr).replace(/@\w+/g,T=>cr+"-"+T.substr(1)).replace(/:animating/g,hn),[W,D]}(D.selector);T.currentQuerySelector=B.length?B+" "+he:he,An(T.collectedStyles,T.currentQuerySelector,{});const Ie=Pi(this,je(D.animation),T);return T.currentQuery=null,T.currentQuerySelector=B,{type:11,selector:he,limit:ie.limit||0,optional:!!ie.optional,includeSelf:Ne,animation:Ie,originalSelector:D.selector,options:mr(D.options)}}visitStagger(D,T){T.currentQuery||T.errors.push(function Ot(){return new H.vHH(3013,Ee)}());const B="full"===D.timings?{duration:0,delay:0,easing:"full"}:ln(D.timings,T.errors,!0);return{type:12,animation:Pi(this,je(D.animation),T),timings:B,options:null}}}class xi{constructor(D){this.errors=D,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zr(W){return!Array.isArray(W)&&"object"==typeof W}function mr(W){return W?(W=$n(W)).params&&(W.params=function Sr(W){return W?$n(W):null}(W.params)):W={},W}function ms(W,D,T){return{duration:W,delay:D,easing:T}}function Cs(W,D,T,B,ie,he,Ne=null,Ie=!1){return{type:1,element:W,keyframes:D,preStyleProps:T,postStyleProps:B,duration:ie,delay:he,totalTime:ie+he,easing:Ne,subTimeline:Ie}}class Jr{constructor(){this._map=new Map}get(D){return this._map.get(D)||[]}append(D,T){let B=this._map.get(D);B||this._map.set(D,B=[]),B.push(...T)}has(D){return this._map.has(D)}clear(){this._map.clear()}}const us=new RegExp(":enter","g"),Wi=new RegExp(":leave","g");function ys(W,D,T,B,ie,he={},Ne={},Ie,ot,Tt=[]){return(new ko).buildKeyframes(W,D,T,B,ie,he,Ne,Ie,ot,Tt)}class ko{buildKeyframes(D,T,B,ie,he,Ne,Ie,ot,Tt,_n=[]){Tt=Tt||new Jr;const Tn=new Le(D,T,Tt,ie,he,_n,[]);Tn.options=ot,Tn.currentTimeline.setStyles([Ne],null,Tn.errors,ot),Pi(this,B,Tn);const Vn=Tn.timelines.filter(pi=>pi.containsAnimation());if(Object.keys(Ie).length){let pi;for(let Fn=Vn.length-1;Fn>=0;Fn--){const li=Vn[Fn];if(li.element===T){pi=li;break}}pi&&!pi.allowOnlyTimelineStyles()&&pi.setStyles([Ie],null,Tn.errors,ot)}return Vn.length?Vn.map(pi=>pi.buildKeyframes()):[Cs(T,[],[],[],0,0,"",!1)]}visitTrigger(D,T){}visitState(D,T){}visitTransition(D,T){}visitAnimateChild(D,T){const B=T.subInstructions.get(T.element);if(B){const ie=T.createSubContext(D.options),he=T.currentTimeline.currentTime,Ne=this._visitSubInstructions(B,ie,ie.options);he!=Ne&&T.transformIntoNewTimeline(Ne)}T.previousNode=D}visitAnimateRef(D,T){const B=T.createSubContext(D.options);B.transformIntoNewTimeline(),this.visitReference(D.animation,B),T.transformIntoNewTimeline(B.currentTimeline.currentTime),T.previousNode=D}_visitSubInstructions(D,T,B){let he=T.currentTimeline.currentTime;const Ne=null!=B.duration?Ct(B.duration):null,Ie=null!=B.delay?Ct(B.delay):null;return 0!==Ne&&D.forEach(ot=>{const Tt=T.appendInstructionToTimeline(ot,Ne,Ie);he=Math.max(he,Tt.duration+Tt.delay)}),he}visitReference(D,T){T.updateOptions(D.options,!0),Pi(this,D.animation,T),T.previousNode=D}visitSequence(D,T){const B=T.subContextCount;let ie=T;const he=D.options;if(he&&(he.params||he.delay)&&(ie=T.createSubContext(he),ie.transformIntoNewTimeline(),null!=he.delay)){6==ie.previousNode.type&&(ie.currentTimeline.snapshotCurrentStyles(),ie.previousNode=We);const Ne=Ct(he.delay);ie.delayNextStep(Ne)}D.steps.length&&(D.steps.forEach(Ne=>Pi(this,Ne,ie)),ie.currentTimeline.applyStylesToKeyframe(),ie.subContextCount>B&&ie.transformIntoNewTimeline()),T.previousNode=D}visitGroup(D,T){const B=[];let ie=T.currentTimeline.currentTime;const he=D.options&&D.options.delay?Ct(D.options.delay):0;D.steps.forEach(Ne=>{const Ie=T.createSubContext(D.options);he&&Ie.delayNextStep(he),Pi(this,Ne,Ie),ie=Math.max(ie,Ie.currentTimeline.currentTime),B.push(Ie.currentTimeline)}),B.forEach(Ne=>T.currentTimeline.mergeTimelineCollectedStyles(Ne)),T.transformIntoNewTimeline(ie),T.previousNode=D}_visitTiming(D,T){if(D.dynamic){const B=D.strValue;return ln(T.params?At(B,T.params,T.errors):B,T.errors)}return{duration:D.duration,delay:D.delay,easing:D.easing}}visitAnimate(D,T){const B=T.currentAnimateTimings=this._visitTiming(D.timings,T),ie=T.currentTimeline;B.delay&&(T.incrementTime(B.delay),ie.snapshotCurrentStyles());const he=D.style;5==he.type?this.visitKeyframes(he,T):(T.incrementTime(B.duration),this.visitStyle(he,T),ie.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=D}visitStyle(D,T){const B=T.currentTimeline,ie=T.currentAnimateTimings;!ie&&B.getCurrentStyleProperties().length&&B.forwardFrame();const he=ie&&ie.easing||D.easing;D.isEmptyStep?B.applyEmptyStep(he):B.setStyles(D.styles,he,T.errors,T.options),T.previousNode=D}visitKeyframes(D,T){const B=T.currentAnimateTimings,ie=T.currentTimeline.duration,he=B.duration,Ie=T.createSubContext().currentTimeline;Ie.easing=B.easing,D.styles.forEach(ot=>{Ie.forwardTime((ot.offset||0)*he),Ie.setStyles(ot.styles,ot.easing,T.errors,T.options),Ie.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(Ie),T.transformIntoNewTimeline(ie+he),T.previousNode=D}visitQuery(D,T){const B=T.currentTimeline.currentTime,ie=D.options||{},he=ie.delay?Ct(ie.delay):0;he&&(6===T.previousNode.type||0==B&&T.currentTimeline.getCurrentStyleProperties().length)&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=We);let Ne=B;const Ie=T.invokeQuery(D.selector,D.originalSelector,D.limit,D.includeSelf,!!ie.optional,T.errors);T.currentQueryTotal=Ie.length;let ot=null;Ie.forEach((Tt,_n)=>{T.currentQueryIndex=_n;const Tn=T.createSubContext(D.options,Tt);he&&Tn.delayNextStep(he),Tt===T.element&&(ot=Tn.currentTimeline),Pi(this,D.animation,Tn),Tn.currentTimeline.applyStylesToKeyframe(),Ne=Math.max(Ne,Tn.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(Ne),ot&&(T.currentTimeline.mergeTimelineCollectedStyles(ot),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=D}visitStagger(D,T){const B=T.parentContext,ie=T.currentTimeline,he=D.timings,Ne=Math.abs(he.duration),Ie=Ne*(T.currentQueryTotal-1);let ot=Ne*T.currentQueryIndex;switch(he.duration<0?"reverse":he.easing){case"reverse":ot=Ie-ot;break;case"full":ot=B.currentStaggerTime}const _n=T.currentTimeline;ot&&_n.delayNextStep(ot);const Tn=_n.currentTime;Pi(this,D.animation,T),T.previousNode=D,B.currentStaggerTime=ie.currentTime-Tn+(ie.startTime-B.currentTimeline.startTime)}}const We={};class Le{constructor(D,T,B,ie,he,Ne,Ie,ot){this._driver=D,this.element=T,this.subInstructions=B,this._enterClassName=ie,this._leaveClassName=he,this.errors=Ne,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=We,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ot||new ut(this._driver,T,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(D,T){if(!D)return;const B=D;let ie=this.options;null!=B.duration&&(ie.duration=Ct(B.duration)),null!=B.delay&&(ie.delay=Ct(B.delay));const he=B.params;if(he){let Ne=ie.params;Ne||(Ne=this.options.params={}),Object.keys(he).forEach(Ie=>{(!T||!Ne.hasOwnProperty(Ie))&&(Ne[Ie]=At(he[Ie],Ne,this.errors))})}}_copyOptions(){const D={};if(this.options){const T=this.options.params;if(T){const B=D.params={};Object.keys(T).forEach(ie=>{B[ie]=T[ie]})}}return D}createSubContext(D=null,T,B){const ie=T||this.element,he=new Le(this._driver,ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ie,B||0));return he.previousNode=this.previousNode,he.currentAnimateTimings=this.currentAnimateTimings,he.options=this._copyOptions(),he.updateOptions(D),he.currentQueryIndex=this.currentQueryIndex,he.currentQueryTotal=this.currentQueryTotal,he.parentContext=this,this.subContextCount++,he}transformIntoNewTimeline(D){return this.previousNode=We,this.currentTimeline=this.currentTimeline.fork(this.element,D),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(D,T,B){const ie={duration:null!=T?T:D.duration,delay:this.currentTimeline.currentTime+(null!=B?B:0)+D.delay,easing:""},he=new Rt(this._driver,D.element,D.keyframes,D.preStyleProps,D.postStyleProps,ie,D.stretchStartingKeyframe);return this.timelines.push(he),ie}incrementTime(D){this.currentTimeline.forwardTime(this.currentTimeline.duration+D)}delayNextStep(D){D>0&&this.currentTimeline.delayNextStep(D)}invokeQuery(D,T,B,ie,he,Ne){let Ie=[];if(ie&&Ie.push(this.element),D.length>0){D=(D=D.replace(us,"."+this._enterClassName)).replace(Wi,"."+this._leaveClassName);let Tt=this._driver.query(this.element,D,1!=B);0!==B&&(Tt=B<0?Tt.slice(Tt.length+B,Tt.length):Tt.slice(0,B)),Ie.push(...Tt)}return!he&&0==Ie.length&&Ne.push(function kt(W){return new H.vHH(3014,Ee)}()),Ie}}class ut{constructor(D,T,B,ie){this._driver=D,this.element=T,this.startTime=B,this._elementTimelineStylesLookup=ie,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(D){const T=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||T?(this.forwardTime(this.currentTime+D),T&&this.snapshotCurrentStyles()):this.startTime+=D}fork(D,T){return this.applyStylesToKeyframe(),new ut(this._driver,D,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(D){this.applyStylesToKeyframe(),this.duration=D,this._loadKeyframe()}_updateStyle(D,T){this._localTimelineStyles[D]=T,this._globalTimelineStyles[D]=T,this._styleSummary[D]={time:this.currentTime,value:T}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(D){D&&(this._previousKeyframe.easing=D),Object.keys(this._globalTimelineStyles).forEach(T=>{this._backFill[T]=this._globalTimelineStyles[T]||be.l3,this._currentKeyframe[T]=be.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(D,T,B,ie){T&&(this._previousKeyframe.easing=T);const he=ie&&ie.params||{},Ne=function Rn(W,D){const T={};let B;return W.forEach(ie=>{"*"===ie?(B=B||Object.keys(D),B.forEach(he=>{T[he]=be.l3})):ve(ie,!1,T)}),T}(D,this._globalTimelineStyles);Object.keys(Ne).forEach(Ie=>{const ot=At(Ne[Ie],he,B);this._pendingStyles[Ie]=ot,this._localTimelineStyles.hasOwnProperty(Ie)||(this._backFill[Ie]=this._globalTimelineStyles.hasOwnProperty(Ie)?this._globalTimelineStyles[Ie]:be.l3),this._updateStyle(Ie,ot)})}applyStylesToKeyframe(){const D=this._pendingStyles,T=Object.keys(D);0!=T.length&&(this._pendingStyles={},T.forEach(B=>{this._currentKeyframe[B]=D[B]}),Object.keys(this._localTimelineStyles).forEach(B=>{this._currentKeyframe.hasOwnProperty(B)||(this._currentKeyframe[B]=this._localTimelineStyles[B])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(D=>{const T=this._localTimelineStyles[D];this._pendingStyles[D]=T,this._updateStyle(D,T)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const D=[];for(let T in this._currentKeyframe)D.push(T);return D}mergeTimelineCollectedStyles(D){Object.keys(D._styleSummary).forEach(T=>{const B=this._styleSummary[T],ie=D._styleSummary[T];(!B||ie.time>B.time)&&this._updateStyle(T,ie.value)})}buildKeyframes(){this.applyStylesToKeyframe();const D=new Set,T=new Set,B=1===this._keyframes.size&&0===this.duration;let ie=[];this._keyframes.forEach((Ie,ot)=>{const Tt=ve(Ie,!0);Object.keys(Tt).forEach(_n=>{const Tn=Tt[_n];Tn==be.k1?D.add(_n):Tn==be.l3&&T.add(_n)}),B||(Tt.offset=ot/this.duration),ie.push(Tt)});const he=D.size?zt(D.values()):[],Ne=T.size?zt(T.values()):[];if(B){const Ie=ie[0],ot=$n(Ie);Ie.offset=0,ot.offset=1,ie=[Ie,ot]}return Cs(this.element,ie,he,Ne,this.duration,this.startTime,this.easing,!1)}}class Rt extends ut{constructor(D,T,B,ie,he,Ne,Ie=!1){super(D,T,Ne.delay),this.keyframes=B,this.preStyleProps=ie,this.postStyleProps=he,this._stretchStartingKeyframe=Ie,this.timings={duration:Ne.duration,delay:Ne.delay,easing:Ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let D=this.keyframes,{delay:T,duration:B,easing:ie}=this.timings;if(this._stretchStartingKeyframe&&T){const he=[],Ne=B+T,Ie=T/Ne,ot=ve(D[0],!1);ot.offset=0,he.push(ot);const Tt=ve(D[0],!1);Tt.offset=Wt(Ie),he.push(Tt);const _n=D.length-1;for(let Tn=1;Tn<=_n;Tn++){let Vn=ve(D[Tn],!1);Vn.offset=Wt((T+Vn.offset*B)/Ne),he.push(Vn)}B=Ne,T=0,ie="",D=he}return Cs(this.element,D,this.preStyleProps,this.postStyleProps,B,T,ie,!0)}}function Wt(W,D=3){const T=Math.pow(10,D-1);return Math.round(W*T)/T}class dr{}class Li extends dr{normalizePropertyName(D,T){return Ci(D)}normalizeStyleValue(D,T,B,ie){let he="";const Ne=B.toString().trim();if(ji[T]&&0!==B&&"0"!==B)if("number"==typeof B)he="px";else{const Ie=B.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&ie.push(function xt(W,D){return new H.vHH(3005,Ee)}())}return Ne+he}}const ji=(()=>function _s(W){const D={};return W.forEach(T=>D[T]=!0),D}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ks(W,D,T,B,ie,he,Ne,Ie,ot,Tt,_n,Tn,Vn){return{type:0,element:W,triggerName:D,isRemovalTransition:ie,fromState:T,fromStyles:he,toState:B,toStyles:Ne,timelines:Ie,queriedElements:ot,preStyleProps:Tt,postStyleProps:_n,totalTime:Tn,errors:Vn}}const wr={};class qs{constructor(D,T,B){this._triggerName=D,this.ast=T,this._stateStyles=B}match(D,T,B,ie){return function vs(W,D,T,B,ie){return W.some(he=>he(D,T,B,ie))}(this.ast.matchers,D,T,B,ie)}buildStyles(D,T,B){const ie=this._stateStyles["*"],he=this._stateStyles[D],Ne=ie?ie.buildStyles(T,B):{};return he?he.buildStyles(T,B):Ne}build(D,T,B,ie,he,Ne,Ie,ot,Tt,_n){const Tn=[],Vn=this.ast.options&&this.ast.options.params||wr,Fn=this.buildStyles(B,Ie&&Ie.params||wr,Tn),li=ot&&ot.params||wr,Ui=this.buildStyles(ie,li,Tn),Lt=new Set,ai=new Map,Br=new Map,hr="void"===ie,P={params:Object.assign(Object.assign({},Vn),li)},M=_n?[]:ys(D,T,this.ast.animation,he,Ne,Fn,Ui,P,Tt,Tn);let x=0;if(M.forEach(L=>{x=Math.max(L.duration+L.delay,x)}),Tn.length)return Ks(T,this._triggerName,B,ie,hr,Fn,Ui,[],[],ai,Br,x,Tn);M.forEach(L=>{const X=L.element,me=An(ai,X,{});L.preStyleProps.forEach(Et=>me[Et]=!0);const Be=An(Br,X,{});L.postStyleProps.forEach(Et=>Be[Et]=!0),X!==T&&Lt.add(X)});const k=zt(Lt.values());return Ks(T,this._triggerName,B,ie,hr,Fn,Ui,M,k,ai,Br,x)}}class io{constructor(D,T,B){this.styles=D,this.defaultParams=T,this.normalizer=B}buildStyles(D,T){const B={},ie=$n(this.defaultParams);return Object.keys(D).forEach(he=>{const Ne=D[he];null!=Ne&&(ie[he]=Ne)}),this.styles.styles.forEach(he=>{if("string"!=typeof he){const Ne=he;Object.keys(Ne).forEach(Ie=>{let ot=Ne[Ie];ot.length>1&&(ot=At(ot,ie,T));const Tt=this.normalizer.normalizePropertyName(Ie,T);ot=this.normalizer.normalizeStyleValue(Ie,Tt,ot,T),B[Tt]=ot})}}),B}}class ks{constructor(D,T,B){this.name=D,this.ast=T,this._normalizer=B,this.transitionFactories=[],this.states={},T.states.forEach(ie=>{this.states[ie.name]=new io(ie.style,ie.options&&ie.options.params||{},B)}),Zs(this.states,"true","1"),Zs(this.states,"false","0"),T.transitions.forEach(ie=>{this.transitionFactories.push(new qs(D,ie,this.states))}),this.fallbackTransition=function ro(W,D,T){return new qs(W,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ne,Ie)=>!0],options:null,queryCount:0,depCount:0},D)}(D,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(D,T,B,ie){return this.transitionFactories.find(Ne=>Ne.match(D,T,B,ie))||null}matchStyles(D,T,B){return this.fallbackTransition.buildStyles(D,T,B)}}function Zs(W,D,T){W.hasOwnProperty(D)?W.hasOwnProperty(T)||(W[T]=W[D]):W.hasOwnProperty(T)&&(W[D]=W[T])}const Fo=new Jr;class Fs{constructor(D,T,B){this.bodyNode=D,this._driver=T,this._normalizer=B,this._animations={},this._playersById={},this.players=[]}register(D,T){const B=[],he=Tr(this._driver,T,B,[]);if(B.length)throw function lt(W){return new H.vHH(3503,Ee)}();this._animations[D]=he}_buildPlayer(D,T,B){const ie=D.element,he=Un(0,this._normalizer,0,D.keyframes,T,B);return this._driver.animate(ie,he,D.duration,D.delay,D.easing,[],!0)}create(D,T,B={}){const ie=[],he=this._animations[D];let Ne;const Ie=new Map;if(he?(Ne=ys(this._driver,T,he,Zi,hi,{},{},B,Fo,ie),Ne.forEach(_n=>{const Tn=An(Ie,_n.element,{});_n.postStyleProps.forEach(Vn=>Tn[Vn]=null)})):(ie.push(function vn(){return new H.vHH(3300,Ee)}()),Ne=[]),ie.length)throw function pn(W){return new H.vHH(3504,Ee)}();Ie.forEach((_n,Tn)=>{Object.keys(_n).forEach(Vn=>{_n[Vn]=this._driver.computeStyle(Tn,Vn,be.l3)})});const Tt=nn(Ne.map(_n=>{const Tn=Ie.get(_n.element);return this._buildPlayer(_n,{},Tn)}));return this._playersById[D]=Tt,Tt.onDestroy(()=>this.destroy(D)),this.players.push(Tt),Tt}destroy(D){const T=this._getPlayer(D);T.destroy(),delete this._playersById[D];const B=this.players.indexOf(T);B>=0&&this.players.splice(B,1)}_getPlayer(D){const T=this._playersById[D];if(!T)throw function Bn(W){return new H.vHH(3301,Ee)}();return T}listen(D,T,B,ie){const he=Ri(T,"","","");return Fi(this._getPlayer(D),B,he,ie),()=>{}}command(D,T,B,ie){if("register"==B)return void this.register(D,ie[0]);if("create"==B)return void this.create(D,T,ie[0]||{});const he=this._getPlayer(D);switch(B){case"play":he.play();break;case"pause":he.pause();break;case"reset":he.reset();break;case"restart":he.restart();break;case"finish":he.finish();break;case"init":he.init();break;case"setPosition":he.setPosition(parseFloat(ie[0]));break;case"destroy":this.destroy(D)}}}const Os="ng-animate-queued",is="ng-animate-disabled",kr=[],go={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yr="__ng_removed";class Qs{constructor(D,T=""){this.namespaceId=T;const B=D&&D.hasOwnProperty("value");if(this.value=function se(W){return null!=W?W:null}(B?D.value:D),B){const he=$n(D);delete he.value,this.options=he}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(D){const T=D.params;if(T){const B=this.options.params;Object.keys(T).forEach(ie=>{null==B[ie]&&(B[ie]=T[ie])})}}}const es="void",Fr=new Qs(es);class Lo{constructor(D,T,B){this.id=D,this.hostElement=T,this._engine=B,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+D,Jt(T,this._hostClassName)}listen(D,T,B,ie){if(!this._triggers.hasOwnProperty(T))throw function en(W,D){return new H.vHH(3302,Ee)}();if(null==B||0==B.length)throw function vt(W){return new H.vHH(3303,Ee)}();if(!function le(W){return"start"==W||"done"==W}(B))throw function on(W,D){return new H.vHH(3400,Ee)}();const he=An(this._elementListeners,D,[]),Ne={name:T,phase:B,callback:ie};he.push(Ne);const Ie=An(this._engine.statesByElement,D,{});return Ie.hasOwnProperty(T)||(Jt(D,bn),Jt(D,bn+"-"+T),Ie[T]=Fr),()=>{this._engine.afterFlush(()=>{const ot=he.indexOf(Ne);ot>=0&&he.splice(ot,1),this._triggers[T]||delete Ie[T]})}}register(D,T){return!this._triggers[D]&&(this._triggers[D]=T,!0)}_getTrigger(D){const T=this._triggers[D];if(!T)throw function wn(W){return new H.vHH(3401,Ee)}();return T}trigger(D,T,B,ie=!0){const he=this._getTrigger(T),Ne=new Ti(this.id,T,D);let Ie=this._engine.statesByElement.get(D);Ie||(Jt(D,bn),Jt(D,bn+"-"+T),this._engine.statesByElement.set(D,Ie={}));let ot=Ie[T];const Tt=new Qs(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&ot&&Tt.absorbOptions(ot.options),Ie[T]=Tt,ot||(ot=Fr),Tt.value!==es&&ot.value===Tt.value){if(!function _r(W,D){const T=Object.keys(W),B=Object.keys(D);if(T.length!=B.length)return!1;for(let ie=0;ie<T.length;ie++){const he=T[ie];if(!D.hasOwnProperty(he)||W[he]!==D[he])return!1}return!0}(ot.params,Tt.params)){const li=[],Ui=he.matchStyles(ot.value,ot.params,li),Lt=he.matchStyles(Tt.value,Tt.params,li);li.length?this._engine.reportError(li):this._engine.afterFlush(()=>{Zt(D,Ui),Qe(D,Lt)})}return}const Vn=An(this._engine.playersByElement,D,[]);Vn.forEach(li=>{li.namespaceId==this.id&&li.triggerName==T&&li.queued&&li.destroy()});let pi=he.matchTransition(ot.value,Tt.value,D,Tt.params),Fn=!1;if(!pi){if(!ie)return;pi=he.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:T,transition:pi,fromState:ot,toState:Tt,player:Ne,isFallbackTransition:Fn}),Fn||(Jt(D,Os),Ne.onStart(()=>{_i(D,Os)})),Ne.onDone(()=>{let li=this.players.indexOf(Ne);li>=0&&this.players.splice(li,1);const Ui=this._engine.playersByElement.get(D);if(Ui){let Lt=Ui.indexOf(Ne);Lt>=0&&Ui.splice(Lt,1)}}),this.players.push(Ne),Vn.push(Ne),Ne}deregister(D){delete this._triggers[D],this._engine.statesByElement.forEach((T,B)=>{delete T[D]}),this._elementListeners.forEach((T,B)=>{this._elementListeners.set(B,T.filter(ie=>ie.name!=D))})}clearElementCache(D){this._engine.statesByElement.delete(D),this._elementListeners.delete(D);const T=this._engine.playersByElement.get(D);T&&(T.forEach(B=>B.destroy()),this._engine.playersByElement.delete(D))}_signalRemovalForInnerTriggers(D,T){const B=this._engine.driver.query(D,cr,!0);B.forEach(ie=>{if(ie[yr])return;const he=this._engine.fetchNamespacesByElement(ie);he.size?he.forEach(Ne=>Ne.triggerLeaveAnimation(ie,T,!1,!0)):this.clearElementCache(ie)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(ie=>this.clearElementCache(ie)))}triggerLeaveAnimation(D,T,B,ie){const he=this._engine.statesByElement.get(D),Ne=new Map;if(he){const Ie=[];if(Object.keys(he).forEach(ot=>{if(Ne.set(ot,he[ot].value),this._triggers[ot]){const Tt=this.trigger(D,ot,es,ie);Tt&&Ie.push(Tt)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,D,!0,T,Ne),B&&nn(Ie).onDone(()=>this._engine.processLeaveNode(D)),!0}return!1}prepareLeaveAnimationListeners(D){const T=this._elementListeners.get(D),B=this._engine.statesByElement.get(D);if(T&&B){const ie=new Set;T.forEach(he=>{const Ne=he.name;if(ie.has(Ne))return;ie.add(Ne);const ot=this._triggers[Ne].fallbackTransition,Tt=B[Ne]||Fr,_n=new Qs(es),Tn=new Ti(this.id,Ne,D);this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:Ne,transition:ot,fromState:Tt,toState:_n,player:Tn,isFallbackTransition:!0})})}}removeNode(D,T){const B=this._engine;if(D.childElementCount&&this._signalRemovalForInnerTriggers(D,T),this.triggerLeaveAnimation(D,T,!0))return;let ie=!1;if(B.totalAnimations){const he=B.players.length?B.playersByQueriedElement.get(D):[];if(he&&he.length)ie=!0;else{let Ne=D;for(;Ne=Ne.parentNode;)if(B.statesByElement.get(Ne)){ie=!0;break}}}if(this.prepareLeaveAnimationListeners(D),ie)B.markElementAsRemoved(this.id,D,!1,T);else{const he=D[yr];(!he||he===go)&&(B.afterFlush(()=>this.clearElementCache(D)),B.destroyInnerAnimations(D),B._onRemovalComplete(D,T))}}insertNode(D,T){Jt(D,this._hostClassName)}drainQueuedTransitions(D){const T=[];return this._queue.forEach(B=>{const ie=B.player;if(ie.destroyed)return;const he=B.element,Ne=this._elementListeners.get(he);Ne&&Ne.forEach(Ie=>{if(Ie.name==B.triggerName){const ot=Ri(he,B.triggerName,B.fromState.value,B.toState.value);ot._data=D,Fi(B.player,Ie.phase,ot,Ie.callback)}}),ie.markedForDestroy?this._engine.afterFlush(()=>{ie.destroy()}):T.push(B)}),this._queue=[],T.sort((B,ie)=>{const he=B.transition.ast.depCount,Ne=ie.transition.ast.depCount;return 0==he||0==Ne?he-Ne:this._engine.driver.containsElement(B.element,ie.element)?1:-1})}destroy(D){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,D)}elementContainsData(D){let T=!1;return this._elementListeners.has(D)&&(T=!0),T=!!this._queue.find(B=>B.element===D)||T,T}}class Xs{constructor(D,T,B){this.bodyNode=D,this.driver=T,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ie,he)=>{}}_onRemovalComplete(D,T){this.onRemovalComplete(D,T)}get queuedPlayers(){const D=[];return this._namespaceList.forEach(T=>{T.players.forEach(B=>{B.queued&&D.push(B)})}),D}createNamespace(D,T){const B=new Lo(D,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(B,T):(this.newHostElements.set(T,B),this.collectEnterElement(T)),this._namespaceLookup[D]=B}_balanceNamespaceList(D,T){const B=this._namespaceList,ie=this.namespacesByHostElement,he=B.length-1;if(he>=0){let Ne=!1;if(void 0!==this.driver.getParentElement){let Ie=this.driver.getParentElement(T);for(;Ie;){const ot=ie.get(Ie);if(ot){const Tt=B.indexOf(ot);B.splice(Tt+1,0,D),Ne=!0;break}Ie=this.driver.getParentElement(Ie)}}else for(let Ie=he;Ie>=0;Ie--)if(this.driver.containsElement(B[Ie].hostElement,T)){B.splice(Ie+1,0,D),Ne=!0;break}Ne||B.unshift(D)}else B.push(D);return ie.set(T,D),D}register(D,T){let B=this._namespaceLookup[D];return B||(B=this.createNamespace(D,T)),B}registerTrigger(D,T,B){let ie=this._namespaceLookup[D];ie&&ie.register(T,B)&&this.totalAnimations++}destroy(D,T){if(!D)return;const B=this._fetchNamespace(D);this.afterFlush(()=>{this.namespacesByHostElement.delete(B.hostElement),delete this._namespaceLookup[D];const ie=this._namespaceList.indexOf(B);ie>=0&&this._namespaceList.splice(ie,1)}),this.afterFlushAnimationsDone(()=>B.destroy(T))}_fetchNamespace(D){return this._namespaceLookup[D]}fetchNamespacesByElement(D){const T=new Set,B=this.statesByElement.get(D);if(B){const ie=Object.keys(B);for(let he=0;he<ie.length;he++){const Ne=B[ie[he]].namespaceId;if(Ne){const Ie=this._fetchNamespace(Ne);Ie&&T.add(Ie)}}}return T}trigger(D,T,B,ie){if(z(T)){const he=this._fetchNamespace(D);if(he)return he.trigger(T,B,ie),!0}return!1}insertNode(D,T,B,ie){if(!z(T))return;const he=T[yr];if(he&&he.setForRemoval){he.setForRemoval=!1,he.setForMove=!0;const Ne=this.collectedLeaveElements.indexOf(T);Ne>=0&&this.collectedLeaveElements.splice(Ne,1)}if(D){const Ne=this._fetchNamespace(D);Ne&&Ne.insertNode(T,B)}ie&&this.collectEnterElement(T)}collectEnterElement(D){this.collectedEnterElements.push(D)}markElementAsDisabled(D,T){T?this.disabledNodes.has(D)||(this.disabledNodes.add(D),Jt(D,is)):this.disabledNodes.has(D)&&(this.disabledNodes.delete(D),_i(D,is))}removeNode(D,T,B,ie){if(z(T)){const he=D?this._fetchNamespace(D):null;if(he?he.removeNode(T,ie):this.markElementAsRemoved(D,T,!1,ie),B){const Ne=this.namespacesByHostElement.get(T);Ne&&Ne.id!==D&&Ne.removeNode(T,ie)}}else this._onRemovalComplete(T,ie)}markElementAsRemoved(D,T,B,ie,he){this.collectedLeaveElements.push(T),T[yr]={namespaceId:D,setForRemoval:ie,hasAnimation:B,removedBeforeQueried:!1,previousTriggersValues:he}}listen(D,T,B,ie,he){return z(T)?this._fetchNamespace(D).listen(T,B,ie,he):()=>{}}_buildInstruction(D,T,B,ie,he){return D.transition.build(this.driver,D.element,D.fromState.value,D.toState.value,B,ie,D.fromState.options,D.toState.options,T,he)}destroyInnerAnimations(D){let T=this.driver.query(D,cr,!0);T.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(D,hn,!0),T.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(D){const T=this.playersByElement.get(D);T&&T.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(D){const T=this.playersByQueriedElement.get(D);T&&T.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(D=>{if(this.players.length)return nn(this.players).onDone(()=>D());D()})}processLeaveNode(D){var T;const B=D[yr];if(B&&B.setForRemoval){if(D[yr]=go,B.namespaceId){this.destroyInnerAnimations(D);const ie=this._fetchNamespace(B.namespaceId);ie&&ie.clearElementCache(D)}this._onRemovalComplete(D,B.setForRemoval)}(null===(T=D.classList)||void 0===T?void 0:T.contains(is))&&this.markElementAsDisabled(D,!1),this.driver.query(D,".ng-animate-disabled",!0).forEach(ie=>{this.markElementAsDisabled(ie,!1)})}flush(D=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,ie)=>this._balanceNamespaceList(B,ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)Jt(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{T=this._flushAnimations(B,D)}finally{for(let ie=0;ie<B.length;ie++)B[ie]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],T.length?nn(T).onDone(()=>{B.forEach(ie=>ie())}):B.forEach(ie=>ie())}}reportError(D){throw function Dt(W){return new H.vHH(3402,Ee)}()}_flushAnimations(D,T){const B=new Jr,ie=[],he=new Map,Ne=[],Ie=new Map,ot=new Map,Tt=new Map,_n=new Set;this.disabledNodes.forEach(Pt=>{_n.add(Pt);const cn=this.driver.query(Pt,".ng-animate-queued",!0);for(let rn=0;rn<cn.length;rn++)_n.add(cn[rn])});const Tn=this.bodyNode,Vn=Array.from(this.statesByElement.keys()),pi=Ft(Vn,this.collectedEnterElements),Fn=new Map;let li=0;pi.forEach((Pt,cn)=>{const rn=Zi+li++;Fn.set(cn,rn),Pt.forEach(ci=>Jt(ci,rn))});const Ui=[],Lt=new Set,ai=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const cn=this.collectedLeaveElements[Pt],rn=cn[yr];rn&&rn.setForRemoval&&(Ui.push(cn),Lt.add(cn),rn.hasAnimation?this.driver.query(cn,".ng-star-inserted",!0).forEach(ci=>Lt.add(ci)):ai.add(cn))}const Br=new Map,hr=Ft(Vn,Array.from(Lt));hr.forEach((Pt,cn)=>{const rn=hi+li++;Br.set(cn,rn),Pt.forEach(ci=>Jt(ci,rn))}),D.push(()=>{pi.forEach((Pt,cn)=>{const rn=Fn.get(cn);Pt.forEach(ci=>_i(ci,rn))}),hr.forEach((Pt,cn)=>{const rn=Br.get(cn);Pt.forEach(ci=>_i(ci,rn))}),Ui.forEach(Pt=>{this.processLeaveNode(Pt)})});const P=[],M=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(T).forEach(rn=>{const ci=rn.player,fr=rn.element;if(P.push(ci),this.collectedEnterElements.length){const Oi=fr[yr];if(Oi&&Oi.setForMove){if(Oi.previousTriggersValues&&Oi.previousTriggersValues.has(rn.triggerName)){const jn=Oi.previousTriggersValues.get(rn.triggerName),ua=this.statesByElement.get(rn.element);ua&&ua[rn.triggerName]&&(ua[rn.triggerName].value=jn)}return void ci.destroy()}}const pr=!Tn||!this.driver.containsElement(Tn,fr),xr=Br.get(fr),ps=Fn.get(fr),mn=this._buildInstruction(rn,B,ps,xr,pr);if(mn.errors&&mn.errors.length)return void M.push(mn);if(pr)return ci.onStart(()=>Zt(fr,mn.fromStyles)),ci.onDestroy(()=>Qe(fr,mn.toStyles)),void ie.push(ci);if(rn.isFallbackTransition)return ci.onStart(()=>Zt(fr,mn.fromStyles)),ci.onDestroy(()=>Qe(fr,mn.toStyles)),void ie.push(ci);const Na=[];mn.timelines.forEach(Oi=>{Oi.stretchStartingKeyframe=!0,this.disabledNodes.has(Oi.element)||Na.push(Oi)}),mn.timelines=Na,B.append(fr,mn.timelines),Ne.push({instruction:mn,player:ci,element:fr}),mn.queriedElements.forEach(Oi=>An(Ie,Oi,[]).push(ci)),mn.preStyleProps.forEach((Oi,jn)=>{const ua=Object.keys(Oi);if(ua.length){let Qi=ot.get(jn);Qi||ot.set(jn,Qi=new Set),ua.forEach(Kl=>Qi.add(Kl))}}),mn.postStyleProps.forEach((Oi,jn)=>{const ua=Object.keys(Oi);let Qi=Tt.get(jn);Qi||Tt.set(jn,Qi=new Set),ua.forEach(Kl=>Qi.add(Kl))})});if(M.length){const Pt=[];M.forEach(cn=>{Pt.push(function Ve(W,D){return new H.vHH(3505,Ee)}())}),P.forEach(cn=>cn.destroy()),this.reportError(Pt)}const x=new Map,k=new Map;Ne.forEach(Pt=>{const cn=Pt.element;B.has(cn)&&(k.set(cn,cn),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,x))}),ie.forEach(Pt=>{const cn=Pt.element;this._getPreviousPlayers(cn,!1,Pt.namespaceId,Pt.triggerName,null).forEach(ci=>{An(x,cn,[]).push(ci),ci.destroy()})});const L=Ui.filter(Pt=>Hi(Pt,ot,Tt)),X=new Map;bt(X,this.driver,ai,Tt,be.l3).forEach(Pt=>{Hi(Pt,ot,Tt)&&L.push(Pt)});const Be=new Map;pi.forEach((Pt,cn)=>{bt(Be,this.driver,new Set(Pt),ot,be.k1)}),L.forEach(Pt=>{const cn=X.get(Pt),rn=Be.get(Pt);X.set(Pt,Object.assign(Object.assign({},cn),rn))});const Et=[],gn=[],vi={};Ne.forEach(Pt=>{const{element:cn,player:rn,instruction:ci}=Pt;if(B.has(cn)){if(_n.has(cn))return rn.onDestroy(()=>Qe(cn,ci.toStyles)),rn.disabled=!0,rn.overrideTotalTime(ci.totalTime),void ie.push(rn);let fr=vi;if(k.size>1){let xr=cn;const ps=[];for(;xr=xr.parentNode;){const mn=k.get(xr);if(mn){fr=mn;break}ps.push(xr)}ps.forEach(mn=>k.set(mn,fr))}const pr=this._buildAnimation(rn.namespaceId,ci,x,he,Be,X);if(rn.setRealPlayer(pr),fr===vi)Et.push(rn);else{const xr=this.playersByElement.get(fr);xr&&xr.length&&(rn.parentPlayer=nn(xr)),ie.push(rn)}}else Zt(cn,ci.fromStyles),rn.onDestroy(()=>Qe(cn,ci.toStyles)),gn.push(rn),_n.has(cn)&&ie.push(rn)}),gn.forEach(Pt=>{const cn=he.get(Pt.element);if(cn&&cn.length){const rn=nn(cn);Pt.setRealPlayer(rn)}}),ie.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<Ui.length;Pt++){const cn=Ui[Pt],rn=cn[yr];if(_i(cn,hi),rn&&rn.hasAnimation)continue;let ci=[];if(Ie.size){let pr=Ie.get(cn);pr&&pr.length&&ci.push(...pr);let xr=this.driver.query(cn,hn,!0);for(let ps=0;ps<xr.length;ps++){let mn=Ie.get(xr[ps]);mn&&mn.length&&ci.push(...mn)}}const fr=ci.filter(pr=>!pr.destroyed);fr.length?Si(this,cn,fr):this.processLeaveNode(cn)}return Ui.length=0,Et.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const cn=this.players.indexOf(Pt);this.players.splice(cn,1)}),Pt.play()}),Et}elementContainsData(D,T){let B=!1;const ie=T[yr];return ie&&ie.setForRemoval&&(B=!0),this.playersByElement.has(T)&&(B=!0),this.playersByQueriedElement.has(T)&&(B=!0),this.statesByElement.has(T)&&(B=!0),this._fetchNamespace(D).elementContainsData(T)||B}afterFlush(D){this._flushFns.push(D)}afterFlushAnimationsDone(D){this._whenQuietFns.push(D)}_getPreviousPlayers(D,T,B,ie,he){let Ne=[];if(T){const Ie=this.playersByQueriedElement.get(D);Ie&&(Ne=Ie)}else{const Ie=this.playersByElement.get(D);if(Ie){const ot=!he||he==es;Ie.forEach(Tt=>{Tt.queued||!ot&&Tt.triggerName!=ie||Ne.push(Tt)})}}return(B||ie)&&(Ne=Ne.filter(Ie=>!(B&&B!=Ie.namespaceId||ie&&ie!=Ie.triggerName))),Ne}_beforeAnimationBuild(D,T,B){const he=T.element,Ne=T.isRemovalTransition?void 0:D,Ie=T.isRemovalTransition?void 0:T.triggerName;for(const ot of T.timelines){const Tt=ot.element,_n=Tt!==he,Tn=An(B,Tt,[]);this._getPreviousPlayers(Tt,_n,Ne,Ie,T.toState).forEach(pi=>{const Fn=pi.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),pi.destroy(),Tn.push(pi)})}Zt(he,T.fromStyles)}_buildAnimation(D,T,B,ie,he,Ne){const Ie=T.triggerName,ot=T.element,Tt=[],_n=new Set,Tn=new Set,Vn=T.timelines.map(Fn=>{const li=Fn.element;_n.add(li);const Ui=li[yr];if(Ui&&Ui.removedBeforeQueried)return new be.ZN(Fn.duration,Fn.delay);const Lt=li!==ot,ai=function ni(W){const D=[];return fi(W,D),D}((B.get(li)||kr).map(x=>x.getRealPlayer())).filter(x=>!!x.element&&x.element===li),Br=he.get(li),hr=Ne.get(li),P=Un(0,this._normalizer,0,Fn.keyframes,Br,hr),M=this._buildPlayer(Fn,P,ai);if(Fn.subTimeline&&ie&&Tn.add(li),Lt){const x=new Ti(D,Ie,li);x.setRealPlayer(M),Tt.push(x)}return M});Tt.forEach(Fn=>{An(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function G(W,D,T){let B;if(W instanceof Map){if(B=W.get(D),B){if(B.length){const ie=B.indexOf(T);B.splice(ie,1)}0==B.length&&W.delete(D)}}else if(B=W[D],B){if(B.length){const ie=B.indexOf(T);B.splice(ie,1)}0==B.length&&delete W[D]}return B}(this.playersByQueriedElement,Fn.element,Fn))}),_n.forEach(Fn=>Jt(Fn,kn));const pi=nn(Vn);return pi.onDestroy(()=>{_n.forEach(Fn=>_i(Fn,kn)),Qe(ot,T.toStyles)}),Tn.forEach(Fn=>{An(ie,Fn,[]).push(pi)}),pi}_buildPlayer(D,T,B){return T.length>0?this.driver.animate(D.element,T,D.duration,D.delay,D.easing,B):new be.ZN(D.duration,D.delay)}}class Ti{constructor(D,T,B){this.namespaceId=D,this.triggerName=T,this.element=B,this._player=new be.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(D){this._containsRealPlayer||(this._player=D,Object.keys(this._queuedCallbacks).forEach(T=>{this._queuedCallbacks[T].forEach(B=>Fi(D,T,void 0,B))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(D.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(D){this.totalTime=D}syncPlayerEvents(D){const T=this._player;T.triggerCallback&&D.onStart(()=>T.triggerCallback("start")),D.onDone(()=>this.finish()),D.onDestroy(()=>this.destroy())}_queueEvent(D,T){An(this._queuedCallbacks,D,[]).push(T)}onDone(D){this.queued&&this._queueEvent("done",D),this._player.onDone(D)}onStart(D){this.queued&&this._queueEvent("start",D),this._player.onStart(D)}onDestroy(D){this.queued&&this._queueEvent("destroy",D),this._player.onDestroy(D)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(D){this.queued||this._player.setPosition(D)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(D){const T=this._player;T.triggerCallback&&T.triggerCallback(D)}}function z(W){return W&&1===W.nodeType}function Ce(W,D){const T=W.style.display;return W.style.display=null!=D?D:"none",T}function bt(W,D,T,B,ie){const he=[];T.forEach(ot=>he.push(Ce(ot)));const Ne=[];B.forEach((ot,Tt)=>{const _n={};ot.forEach(Tn=>{const Vn=_n[Tn]=D.computeStyle(Tt,Tn,ie);(!Vn||0==Vn.length)&&(Tt[yr]=mo,Ne.push(Tt))}),W.set(Tt,_n)});let Ie=0;return T.forEach(ot=>Ce(ot,he[Ie++])),Ne}function Ft(W,D){const T=new Map;if(W.forEach(Ie=>T.set(Ie,[])),0==D.length)return T;const ie=new Set(D),he=new Map;function Ne(Ie){if(!Ie)return 1;let ot=he.get(Ie);if(ot)return ot;const Tt=Ie.parentNode;return ot=T.has(Tt)?Tt:ie.has(Tt)?1:Ne(Tt),he.set(Ie,ot),ot}return D.forEach(Ie=>{const ot=Ne(Ie);1!==ot&&T.get(ot).push(Ie)}),T}function Jt(W,D){var T;null===(T=W.classList)||void 0===T||T.add(D)}function _i(W,D){var T;null===(T=W.classList)||void 0===T||T.remove(D)}function Si(W,D,T){nn(T).onDone(()=>W.processLeaveNode(D))}function fi(W,D){for(let T=0;T<W.length;T++){const B=W[T];B instanceof be.ZE?fi(B.players,D):D.push(B)}}function Hi(W,D,T){const B=T.get(W);if(!B)return!1;let ie=D.get(W);return ie?B.forEach(he=>ie.add(he)):D.set(W,B),T.delete(W),!0}class Vi{constructor(D,T,B){this.bodyNode=D,this._driver=T,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(ie,he)=>{},this._transitionEngine=new Xs(D,T,B),this._timelineEngine=new Fs(D,T,B),this._transitionEngine.onRemovalComplete=(ie,he)=>this.onRemovalComplete(ie,he)}registerTrigger(D,T,B,ie,he){const Ne=D+"-"+ie;let Ie=this._triggerCache[Ne];if(!Ie){const ot=[],_n=Tr(this._driver,he,ot,[]);if(ot.length)throw function Ze(W,D){return new H.vHH(3404,Ee)}();Ie=function Wr(W,D,T){return new ks(W,D,T)}(ie,_n,this._normalizer),this._triggerCache[Ne]=Ie}this._transitionEngine.registerTrigger(T,ie,Ie)}register(D,T){this._transitionEngine.register(D,T)}destroy(D,T){this._transitionEngine.destroy(D,T)}onInsert(D,T,B,ie){this._transitionEngine.insertNode(D,T,B,ie)}onRemove(D,T,B,ie){this._transitionEngine.removeNode(D,T,ie||!1,B)}disableAnimations(D,T){this._transitionEngine.markElementAsDisabled(D,T)}process(D,T,B,ie){if("@"==B.charAt(0)){const[he,Ne]=zi(B);this._timelineEngine.command(he,T,Ne,ie)}else this._transitionEngine.trigger(D,T,B,ie)}listen(D,T,B,ie,he){if("@"==B.charAt(0)){const[Ne,Ie]=zi(B);return this._timelineEngine.listen(Ne,T,Ie,he)}return this._transitionEngine.listen(D,T,B,ie,he)}flush(D=-1){this._transitionEngine.flush(D)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Cr=(()=>{class W{constructor(T,B,ie){this._element=T,this._startStyles=B,this._endStyles=ie,this._state=0;let he=W.initialStylesByElement.get(T);he||W.initialStylesByElement.set(T,he={}),this._initialStyles=he}start(){this._state<1&&(this._startStyles&&Qe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qe(this._element,this._initialStyles),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(W.initialStylesByElement.delete(this._element),this._startStyles&&(Zt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zt(this._element,this._endStyles),this._endStyles=null),Qe(this._element,this._initialStyles),this._state=3)}}return W.initialStylesByElement=new WeakMap,W})();function Mn(W){let D=null;const T=Object.keys(W);for(let B=0;B<T.length;B++){const ie=T[B];oo(ie)&&(D=D||{},D[ie]=W[ie])}return D}function oo(W){return"display"===W||"position"===W}class Is{constructor(D,T,B,ie){this.element=D,this.keyframes=T,this.options=B,this._specialStyles=ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const D=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,D,this.options),this._finalKeyframe=D.length?D[D.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(D,T,B){return D.animate(T,B)}onStart(D){this._onStartFns.push(D)}onDone(D){this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(D=>D()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}setPosition(D){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=D*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const D={};if(this.hasStarted()){const T=this._finalKeyframe;Object.keys(T).forEach(B=>{"offset"!=B&&(D[B]=this._finished?T[B]:Yi(this.element,B))})}this.currentSnapshot=D}triggerCallback(D){const T="start"==D?this._onStartFns:this._onDoneFns;T.forEach(B=>B()),T.length=0}}class Vo{validateStyleProperty(D){return Ji(D)}matchesElement(D,T){return!1}containsElement(D,T){return qi(D,T)}getParentElement(D){return Xn(D)}query(D,T,B){return Qt(D,T,B)}computeStyle(D,T,B){return window.getComputedStyle(D)[T]}animate(D,T,B,ie,he,Ne=[]){const ot={duration:B,delay:ie,fill:0==ie?"both":"forwards"};he&&(ot.easing=he);const Tt={},_n=Ne.filter(Vn=>Vn instanceof Is);(function Gs(W,D){return 0===W||0===D})(B,ie)&&_n.forEach(Vn=>{let pi=Vn.currentSnapshot;Object.keys(pi).forEach(Fn=>Tt[Fn]=pi[Fn])}),T=function as(W,D,T){const B=Object.keys(T);if(B.length&&D.length){let he=D[0],Ne=[];if(B.forEach(Ie=>{he.hasOwnProperty(Ie)||Ne.push(Ie),he[Ie]=T[Ie]}),Ne.length)for(var ie=1;ie<D.length;ie++){let Ie=D[ie];Ne.forEach(function(ot){Ie[ot]=Yi(W,ot)})}}return D}(D,T=T.map(Vn=>ve(Vn,!1)),Tt);const Tn=function bs(W,D){let T=null,B=null;return Array.isArray(D)&&D.length?(T=Mn(D[0]),D.length>1&&(B=Mn(D[D.length-1]))):D&&(T=Mn(D)),T||B?new Cr(W,T,B):null}(D,T);return new Is(D,T,ot,Tn)}}let ao=(()=>{class W extends be._j{constructor(T,B){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(B.body,{id:"0",encapsulation:H.ifc.None,styles:[],data:{animation:[]}})}build(T){const B=this._nextAnimationId.toString();this._nextAnimationId++;const ie=Array.isArray(T)?(0,be.vP)(T):T;return U(this._renderer,null,B,"register",[ie]),new q(B,this._renderer)}}return W.\u0275fac=function(T){return new(T||W)(H.LFG(H.FYo),H.LFG(ue.K0))},W.\u0275prov=H.Yz7({token:W,factory:W.\u0275fac}),W})();class q extends be.LC{constructor(D,T){super(),this._id=D,this._renderer=T}create(D,T){return new $(this._id,D,T||{},this._renderer)}}class ${constructor(D,T,B,ie){this.id=D,this.element=T,this._renderer=ie,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",B)}_listen(D,T){return this._renderer.listen(this.element,`@@${this.id}:${D}`,T)}_command(D,...T){return U(this._renderer,this.element,this.id,D,T)}onDone(D){this._listen("done",D)}onStart(D){this._listen("start",D)}onDestroy(D){this._listen("destroy",D)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(D){this._command("setPosition",D)}getPosition(){var D,T;return null!==(T=null===(D=this._renderer.engine.players[+this.id])||void 0===D?void 0:D.getPosition())&&void 0!==T?T:0}}function U(W,D,T,B,ie){return W.setProperty(D,`@@${T}:${B}`,ie)}const Q="@",rt="@.disabled";let Cn=(()=>{class W{constructor(T,B,ie){this.delegate=T,this.engine=B,this._zone=ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),B.onRemovalComplete=(he,Ne)=>{const Ie=null==Ne?void 0:Ne.parentNode(he);Ie&&Ne.removeChild(Ie,he)}}createRenderer(T,B){const he=this.delegate.createRenderer(T,B);if(!(T&&B&&B.data&&B.data.animation)){let _n=this._rendererCache.get(he);return _n||(_n=new zn("",he,this.engine),this._rendererCache.set(he,_n)),_n}const Ne=B.id,Ie=B.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,T);const ot=_n=>{Array.isArray(_n)?_n.forEach(ot):this.engine.registerTrigger(Ne,Ie,T,_n.name,_n)};return B.data.animation.forEach(ot),new vr(this,Ie,he,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(T,B,ie){T>=0&&T<this._microtaskId?this._zone.run(()=>B(ie)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(he=>{const[Ne,Ie]=he;Ne(Ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([B,ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return W.\u0275fac=function(T){return new(T||W)(H.LFG(H.FYo),H.LFG(Vi),H.LFG(H.R0b))},W.\u0275prov=H.Yz7({token:W,factory:W.\u0275fac}),W})();class zn{constructor(D,T,B){this.namespaceId=D,this.delegate=T,this.engine=B,this.destroyNode=this.delegate.destroyNode?ie=>T.destroyNode(ie):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(D,T){return this.delegate.createElement(D,T)}createComment(D){return this.delegate.createComment(D)}createText(D){return this.delegate.createText(D)}appendChild(D,T){this.delegate.appendChild(D,T),this.engine.onInsert(this.namespaceId,T,D,!1)}insertBefore(D,T,B,ie=!0){this.delegate.insertBefore(D,T,B),this.engine.onInsert(this.namespaceId,T,D,ie)}removeChild(D,T,B){this.engine.onRemove(this.namespaceId,T,this.delegate,B)}selectRootElement(D,T){return this.delegate.selectRootElement(D,T)}parentNode(D){return this.delegate.parentNode(D)}nextSibling(D){return this.delegate.nextSibling(D)}setAttribute(D,T,B,ie){this.delegate.setAttribute(D,T,B,ie)}removeAttribute(D,T,B){this.delegate.removeAttribute(D,T,B)}addClass(D,T){this.delegate.addClass(D,T)}removeClass(D,T){this.delegate.removeClass(D,T)}setStyle(D,T,B,ie){this.delegate.setStyle(D,T,B,ie)}removeStyle(D,T,B){this.delegate.removeStyle(D,T,B)}setProperty(D,T,B){T.charAt(0)==Q&&T==rt?this.disableAnimations(D,!!B):this.delegate.setProperty(D,T,B)}setValue(D,T){this.delegate.setValue(D,T)}listen(D,T,B){return this.delegate.listen(D,T,B)}disableAnimations(D,T){this.engine.disableAnimations(D,T)}}class vr extends zn{constructor(D,T,B,ie){super(T,B,ie),this.factory=D,this.namespaceId=T}setProperty(D,T,B){T.charAt(0)==Q?"."==T.charAt(1)&&T==rt?this.disableAnimations(D,B=void 0===B||!!B):this.engine.process(this.namespaceId,D,T.substr(1),B):this.delegate.setProperty(D,T,B)}listen(D,T,B){if(T.charAt(0)==Q){const ie=function cs(W){switch(W){case"body":return document.body;case"document":return document;case"window":return window;default:return W}}(D);let he=T.substr(1),Ne="";return he.charAt(0)!=Q&&([he,Ne]=function rs(W){const D=W.indexOf(".");return[W.substring(0,D),W.substr(D+1)]}(he)),this.engine.listen(this.namespaceId,ie,he,Ne,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,B,Ie)})}return this.delegate.listen(D,T,B)}}let wo=(()=>{class W extends Vi{constructor(T,B,ie){super(T.body,B,ie)}ngOnDestroy(){this.flush()}}return W.\u0275fac=function(T){return new(T||W)(H.LFG(ue.K0),H.LFG(er),H.LFG(dr))},W.\u0275prov=H.Yz7({token:W,factory:W.\u0275fac}),W})();const il=new H.OlP("AnimationModuleType"),qo=[{provide:be._j,useClass:ao},{provide:dr,useFactory:function Do(){return new Li}},{provide:Vi,useClass:wo},{provide:H.FYo,useFactory:function Ko(W,D,T){return new Cn(W,D,T)},deps:[E.se,Vi,H.R0b]}],Es=[{provide:er,useFactory:()=>new Vo},{provide:il,useValue:"BrowserAnimations"},...qo],ds=[{provide:er,useClass:In},{provide:il,useValue:"NoopAnimations"},...qo];let Ls=(()=>{class W{static withConfig(T){return{ngModule:W,providers:T.disableAnimations?ds:Es}}}return W.\u0275fac=function(T){return new(T||W)},W.\u0275mod=H.oAB({type:W}),W.\u0275inj=H.cJS({providers:Es,imports:[E.b2]}),W})();var Ts=K(7562),Lr=K(441),Zo=K(2290);let Vr=(()=>{class W{constructor(T,B){this.ToastrSvc=T,this.spinner=B,this.spinner.show()}ngOnInit(){}}return W.\u0275fac=function(T){return new(T||W)(H.Y36(Zo._W),H.Y36(Ts.t2))},W.\u0275cmp=H.Xpm({type:W,selectors:[["app-bienvenida"]],decls:34,vars:0,consts:[["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active",2,"background-image","url('https://source.unsplash.com/LAaSoL0LrYs/1920x1080')"],[1,"carousel-caption"],[1,"carousel-item",2,"background-image","url('https://source.unsplash.com/bF2vsubyHcQ/1920x1080')"],[1,"carousel-item",2,"background-image","url('https://source.unsplash.com/szFUQoyvrxM/1920x1080')"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"bg-dark"]],template:function(T,B){1&T&&(H.TgZ(0,"header")(1,"div",0)(2,"div",1),H._UZ(3,"button",2)(4,"button",3)(5,"button",4),H.qZA(),H.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5"),H._uU(10,"First slide label"),H.qZA(),H.TgZ(11,"p"),H._uU(12,"Some representative placeholder content for the first slide."),H.qZA()()(),H.TgZ(13,"div",8)(14,"div",7)(15,"h5"),H._uU(16,"Second slide label"),H.qZA(),H.TgZ(17,"p"),H._uU(18,"Some representative placeholder content for the second slide."),H.qZA()()(),H.TgZ(19,"div",9)(20,"div",7)(21,"h5"),H._uU(22,"Third slide label"),H.qZA(),H.TgZ(23,"p"),H._uU(24,"Some representative placeholder content for the third slide."),H.qZA()()()(),H.TgZ(25,"button",10),H._UZ(26,"span",11),H.TgZ(27,"span",12),H._uU(28,"Previous"),H.qZA()(),H.TgZ(29,"button",13),H._UZ(30,"span",14),H.TgZ(31,"span",12),H._uU(32,"Next"),H.qZA()()()(),H._UZ(33,"section",15))},styles:[".carousel-item[_ngcontent-%COMP%]{height:75vh;min-height:350px;background:no-repeat center center scroll;background-size:cover}header[_ngcontent-%COMP%]{max-height:75vh}section[_ngcontent-%COMP%]{min-height:115px}"]}),W})();var Yo=K(7556);let rl=(()=>{class W{constructor(T,B){this.auth=T,this.router=B}canActivate(T,B){return this.auth.verifico=!0,!0}}return W.\u0275fac=function(T){return new(T||W)(H.LFG(Yo.e),H.LFG(Lr.F0))},W.\u0275prov=H.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();var sa=K(7898);let Vs=(()=>{class W{constructor(T,B,ie,he){this.auth=T,this.router=B,this.ToastrSvc=ie,this.us=he}canActivate(T,B){return this.auth.verificarlogeo().then(ie=>null!=ie?(this.auth.correologeado=ie.email,this.auth.chegeneral(ie.email).then(he=>(this.auth.estalogeado=!0,this.auth.verifico=!0,!0))):(this.auth.verifico=!0,this.router.navigateByUrl("/ingreso/login"),!1))}}return W.\u0275fac=function(T){return new(T||W)(H.LFG(Yo.e),H.LFG(Lr.F0),H.LFG(Zo._W),H.LFG(sa.m))},W.\u0275prov=H.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const oa=function(){return["/miperfil"]},ja=function(){return["/turnos"]},aa=function(){return["/misturnos"]};function va(W,D){1&W&&(H.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"div",3)(4,"button",4),H._uU(5,"Mi Perfil"),H.qZA()(),H.TgZ(6,"div",3)(7,"button",4),H._uU(8,"Pedir turno"),H.qZA()(),H.TgZ(9,"div",3)(10,"button",4),H._uU(11,"Mis turnos"),H.qZA()()()()()),2&W&&(H.xp6(4),H.Q6J("routerLink",H.DdM(3,oa)),H.xp6(3),H.Q6J("routerLink",H.DdM(4,ja)),H.xp6(3),H.Q6J("routerLink",H.DdM(5,aa)))}const hs=function(){return["/pacientes"]};function Ma(W,D){1&W&&(H.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"div",3)(4,"button",4),H._uU(5,"Mi Perfil"),H.qZA()(),H.TgZ(6,"div",3)(7,"button",4),H._uU(8,"Mis turnos"),H.qZA()(),H.TgZ(9,"div",3)(10,"button",4),H._uU(11,"Pacientes"),H.qZA()()()()()),2&W&&(H.xp6(4),H.Q6J("routerLink",H.DdM(3,oa)),H.xp6(3),H.Q6J("routerLink",H.DdM(4,aa)),H.xp6(3),H.Q6J("routerLink",H.DdM(5,hs)))}const Bs=function(){return["/ingreso/registrar"]},Ha=function(){return["/altas/altaAdministrador"]},sl=function(){return["/habilitarCuenta"]},Qo=function(){return["/logs"]},ba=function(){return["/listarUsuarios"]};function Oa(W,D){1&W&&(H.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"div",3)(4,"button",4),H._uU(5,"Alta Paciente/Especialista"),H.qZA()(),H.TgZ(6,"div",3)(7,"button",4),H._uU(8,"Alta Administrador"),H.qZA()(),H.TgZ(9,"div",3)(10,"button",5),H._uU(11,"Habilitar/Inhabilitar Cuentas"),H.qZA()(),H.TgZ(12,"div",3)(13,"button",6),H._uU(14,"Solicitar Turno"),H.qZA()(),H.TgZ(15,"div",3)(16,"button",4),H._uU(17,"Logs"),H.qZA()(),H.TgZ(18,"div",3)(19,"button",4),H._uU(20,"Mi perfil"),H.qZA()(),H.TgZ(21,"div",3)(22,"button",4),H._uU(23,"Usuarios"),H.qZA()(),H.TgZ(24,"div",3)(25,"button",4),H._uU(26,"Turnos"),H.qZA()()()()()),2&W&&(H.xp6(4),H.Q6J("routerLink",H.DdM(7,Bs)),H.xp6(3),H.Q6J("routerLink",H.DdM(8,Ha)),H.xp6(3),H.Q6J("routerLink",H.DdM(9,sl)),H.xp6(6),H.Q6J("routerLink",H.DdM(10,Qo)),H.xp6(3),H.Q6J("routerLink",H.DdM(11,oa)),H.xp6(3),H.Q6J("routerLink",H.DdM(12,ba)),H.xp6(3),H.Q6J("routerLink",H.DdM(13,aa)))}let fs=(()=>{class W{constructor(T,B,ie){this.us=T,this.auth=B,this.router=ie}ngOnInit(){}}return W.\u0275fac=function(T){return new(T||W)(H.Y36(sa.m),H.Y36(Yo.e),H.Y36(Lr.F0))},W.\u0275cmp=H.Xpm({type:W,selectors:[["app-home"]],decls:3,vars:3,consts:[["class","general d-flex justify-content-center align-items-center",4,"ngIf"],[1,"general","d-flex","justify-content-center","align-items-center"],[1,"tama\xf1o","d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","mt-2"],[1,"btn","btn-primary",3,"routerLink"],["routerLinkActive","router-link-active",1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-primary"]],template:function(T,B){1&T&&(H.YNc(0,va,12,6,"div",0),H.YNc(1,Ma,12,6,"div",0),H.YNc(2,Oa,27,14,"div",0)),2&T&&(H.Q6J("ngIf",B.auth.paciente),H.xp6(1),H.Q6J("ngIf",B.auth.especialista),H.xp6(1),H.Q6J("ngIf",B.auth.administrador))},directives:[ue.O5,Lr.rH,Lr.Od],styles:[".tama\\f1o[_ngcontent-%COMP%]{min-height:300px;min-width:400px;background-color:#faebd7;border-radius:20px}.general[_ngcontent-%COMP%]{min-height:100vh;background-image:url(clinica.20e2a967a59c9bc2.jpg);background-repeat:no-repeat;background-size:cover;background-position:center}button[_ngcontent-%COMP%]{min-width:320px;border-radius:10px;font-size:20px}#cuadrado[_ngcontent-%COMP%]{display:inline-block;min-width:100%;min-height:200px;background:#aaa;animation-name:mianimacion;animation-duration:3s;position:relative;animation-direction:reverse;animation-timing-function:linear}"]}),W})();var $o=K(9356);const $a=[{path:"",redirectTo:"/ingreso/login",pathMatch:"full"},{path:"ingreso",loadChildren:()=>Promise.all([K.e(226),K.e(592),K.e(345)]).then(K.bind(K,6345)).then(W=>W.IngresoModule)},{path:"turnos",loadChildren:()=>Promise.all([K.e(378),K.e(592),K.e(741)]).then(K.bind(K,741)).then(W=>W.GenerarTurnosModule),canActivate:[Vs]},{path:"altas",loadChildren:()=>Promise.all([K.e(226),K.e(592),K.e(871)]).then(K.bind(K,4871)).then(W=>W.AltasModule),canActivate:[rl]},{path:"aprobarCuenta",loadChildren:()=>Promise.all([K.e(592),K.e(107)]).then(K.bind(K,9107)).then(W=>W.AprobarCuentasModule),canActivate:[Vs]},{path:"miperfil",loadChildren:()=>Promise.all([K.e(583),K.e(592),K.e(652)]).then(K.bind(K,3652)).then(W=>W.MiperfilModule),canActivate:[Vs]},{path:"habilitarCuenta",loadChildren:()=>K.e(907).then(K.bind(K,6907)).then(W=>W.HabilitarCuentasModule),canActivate:[Vs]},{path:"listarUsuarios",loadChildren:()=>Promise.all([K.e(583),K.e(771),K.e(60)]).then(K.bind(K,60)).then(W=>W.UsuariosModule),canActivate:[Vs]},{path:"misturnos",loadChildren:()=>Promise.all([K.e(226),K.e(378),K.e(184)]).then(K.bind(K,9184)).then(W=>W.MisturnosModule),canActivate:[Vs]},{path:"pacientes",loadChildren:()=>Promise.all([K.e(583),K.e(771),K.e(43)]).then(K.bind(K,1043)).then(W=>W.PacientesModule),canActivate:[Vs]},{path:"logs",loadChildren:()=>Promise.all([K.e(583),K.e(592),K.e(738)]).then(K.bind(K,9738)).then(W=>W.LogsModule),canActivate:[Vs]},{path:"bienvenida",component:Vr},{path:"pepe",component:(()=>{class W{constructor(){this.arre=[],this.arre.push("ROJO"),this.arre.push("AZUL"),this.arre.push("VIOLETA"),this.arre.push("BORDO")}ngOnInit(){}ngAfterViewInit(){this.ctx=document.getElementById("myChart"),this.ctx.width="200",this.ctx.height="200",new $o.Z(this.ctx,{type:"pie",data:{labels:this.arre,datasets:[{label:"My First Dataset",data:[300,50,100,400],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(100, 203, 86)","rgb(255, 203, 86)","rgb(255, 100, 35)","rgb(0, 0, 35)","rgb(100, 100, 100,100)","rgb(200, 200, 200)"],hoverOffset:4}]},options:{scales:{y:{beginAtZero:!0}}}})}}return W.\u0275fac=function(T){return new(T||W)},W.\u0275cmp=H.Xpm({type:W,selectors:[["app-pepe"]],decls:2,vars:0,consts:[[1,"d"],["id","myChart",2,"width","100%","max-width","700px","height","100%","max-height","400px"]],template:function(T,B){1&T&&(H.TgZ(0,"div",0),H._UZ(1,"canvas",1),H.qZA())},styles:["#c[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.tamanio[_ngcontent-%COMP%]{height:600px;width:600px}.d[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}"]}),W})()},{path:"home",component:fs,canActivate:[Vs]}];let za=(()=>{class W{}return W.\u0275fac=function(T){return new(T||W)},W.\u0275mod=H.oAB({type:W}),W.\u0275inj=H.cJS({imports:[[Lr.Bz.forRoot($a)],Lr.Bz]}),W})();const Gl=(0,be.X$)("slideInAnimation",[(0,be.eR)("* <=> *",[(0,be.IO)(":enter, :leave",(0,be.oB)({position:"fixed",width:"100%",zIndex:2}),{optional:!0}),(0,be.ru)([(0,be.IO)(":enter",[(0,be.oB)({transform:"translateX(100%)"}),(0,be.jt)("0.5s ease-out",(0,be.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,be.IO)(":leave",[(0,be.oB)({transform:"translateX(0%)"}),(0,be.jt)("0.5s ease-out",(0,be.oB)({transform:"translateX(-100%)"}))],{optional:!0})])])]);let Pa=(()=>{class W{constructor(T){this.el=T,this.el.nativeElement.style.color="orange"}}return W.\u0275fac=function(T){return new(T||W)(H.Y36(H.SBq))},W.\u0275dir=H.lG2({type:W,selectors:[["","appCambiarColor",""]]}),W})();const Ga=function(){return["/ingreso/login"]};function Ra(W,D){1&W&&(H.TgZ(0,"a",12),H._uU(1,"Login "),H.qZA()),2&W&&H.Q6J("routerLink",H.DdM(1,Ga))}const Co=function(){return["/ingreso/registrar"]};function zo(W,D){1&W&&(H.TgZ(0,"a",12),H._uU(1,"Registro"),H.qZA()),2&W&&H.Q6J("routerLink",H.DdM(1,Co))}function la(W,D){1&W&&(H.TgZ(0,"a",13),H._uU(1,"Mis Turnos"),H.qZA())}function ns(W,D){1&W&&(H.TgZ(0,"a",13),H._uU(1,"Mis Horarios"),H.qZA())}function ss(W,D){if(1&W){const T=H.EpF();H.TgZ(0,"a",14),H.NdJ("click",function(){return H.CHM(T),H.oxw(2).cerrar()}),H._uU(1,"LogOut"),H.qZA()}}const Wa=function(){return["/home"]};function yo(W,D){if(1&W&&(H.TgZ(0,"nav",1)(1,"div",2)(2,"a",3),H._uU(3),H.qZA(),H.TgZ(4,"button",4),H._UZ(5,"span",5),H.qZA(),H.TgZ(6,"div",6),H._UZ(7,"span",7),H.TgZ(8,"div",8),H.YNc(9,Ra,2,2,"a",9),H.YNc(10,zo,2,2,"a",9),H.YNc(11,la,2,0,"a",10),H.YNc(12,ns,2,0,"a",10),H.YNc(13,ss,2,0,"a",11),H.qZA()()()()),2&W){const T=H.oxw();H.xp6(2),H.Q6J("routerLink",H.DdM(7,Wa)),H.xp6(1),H.Oqu(T.auth.quienes),H.xp6(6),H.Q6J("ngIf",0==T.auth.estalogeado),H.xp6(1),H.Q6J("ngIf",0==T.auth.estalogeado),H.xp6(1),H.Q6J("ngIf",1==T.auth.estalogeado&&(T.auth.especialista||T.auth.paciente)),H.xp6(1),H.Q6J("ngIf",1==T.auth.estalogeado&&T.auth.administrador),H.xp6(1),H.Q6J("ngIf",1==T.auth.estalogeado)}}let Ps=(()=>{class W{constructor(T,B,ie,he){this.auth=T,this.router=B,this.sv=ie,this.spinner=he,this.color="red",this.evento=new H.vpe,this.spinner.show(),this.auth.verificarlogeo().then(Ne=>{null!=Ne&&(this.auth.estalogeado=!0,this.sv.getAll().get().subscribe(Ie=>Ie.forEach(ot=>{ot.data().email==Ne.email&&(this.auth.quienes="administrador"==ot.data().perfil?"Administrador":"paciente"==ot.data().perfil?"Paciente":"Especialista")})))})}ngOnInit(){}cerrar(){this.auth.estalogeado=!1,this.auth.deslogear()}efe(T){this.auth.quienes=T,alert("entro")}}return W.\u0275fac=function(T){return new(T||W)(H.Y36(Yo.e),H.Y36(Lr.F0),H.Y36(sa.m),H.Y36(Ts.t2))},W.\u0275cmp=H.Xpm({type:W,selectors:[["app-navbar"]],outputs:{evento:"evento"},decls:1,vars:1,consts:[["class","navbar navbar-expand-lg navbar-light bg-dark",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-dark"],[1,"container-fluid"],["NegritaDirective","","appCambiarColor","","id","pepe",1,"navbar-brand",3,"routerLink"],["id","blanquito","type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"avbar-nav","me-auto","mb-2","mb-lg-0"],["id","navbarText",1,"navbar-nav"],["class","navbar-brand esa","id","pepe",3,"routerLink",4,"ngIf"],["class","navbar-brand esa","id","pepe",4,"ngIf"],["class","navbar-brand esa","id","pepe",3,"click",4,"ngIf"],["id","pepe",1,"navbar-brand","esa",3,"routerLink"],["id","pepe",1,"navbar-brand","esa"],["id","pepe",1,"navbar-brand","esa",3,"click"]],template:function(T,B){1&T&&H.YNc(0,yo,14,8,"nav",0),2&T&&H.Q6J("ngIf",B.auth.verifico)},directives:[ue.O5,Lr.yS,Pa],styles:["#pepe[_ngcontent-%COMP%]{color:#fff}nav[_ngcontent-%COMP%]{margin-bottom:0%;margin-top:0%;padding-top:0%;padding-bottom:0%;min-height:44px}#navbarText[_ngcontent-%COMP%]{min-height:100%}#blanquito[_ngcontent-%COMP%]{background-color:#fff}a[_ngcontent-%COMP%]{margin:0% 5px 0% 0%;padding:0%;height:100%;font-size:22px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}a[_ngcontent-%COMP%]:hover{background-color:gray}.esa[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;min-width:90px;min-height:48px;text-align:center;margin-bottom:0}.ancho[_ngcontent-%COMP%]{width:100%}"]}),W})(),Io=(()=>{class W{constructor(T,B){this.ToastrSvc=T,this.spinner=B,this.title="tpfinal"}llego(T){this.spinner.hide()}prepareRoute(T){return T&&T.activatedRouteData&&T.activatedRouteData.animation}}return W.\u0275fac=function(T){return new(T||W)(H.Y36(Zo._W),H.Y36(Ts.t2))},W.\u0275cmp=H.Xpm({type:W,selectors:[["app-root"]],decls:6,vars:0,consts:[[3,"evento"],["bdColor","rgba(0,0,0)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"]],template:function(T,B){1&T&&(H.TgZ(0,"app-navbar",0),H.NdJ("evento",function(he){return B.llego(he)}),H.qZA(),H.TgZ(1,"div"),H._UZ(2,"router-outlet"),H.qZA(),H.TgZ(3,"ngx-spinner",1)(4,"p",2),H._uU(5,"Loading..."),H.qZA()())},directives:[Ps,Lr.lC,Ts.Ro],styles:[""],data:{animation:[Gl]}}),W})();var _o=K(2011),To=K(1205),Ka=K(7407);const Js_firebaseConfig={apiKey:"AIzaSyBhC3MHRAZC3j1MYvW1aPz4wwOcxGeGuRY",authDomain:"tpfinal-c50ae.firebaseapp.com",projectId:"tpfinal-c50ae",storageBucket:"tpfinal-c50ae.appspot.com",messagingSenderId:"950218147480",appId:"1:950218147480:web:05200a4214e0da3285f2ed"};var eo=K(2382);let Wl=(()=>{class W{}return W.\u0275fac=function(T){return new(T||W)},W.\u0275mod=H.oAB({type:W,bootstrap:[Io]}),W.\u0275inj=H.cJS({providers:[Vs],imports:[[E.b2,Ls,Ts.ef,Zo.Rh.forRoot(),ue.ez,eo.UX,za,eo.u5,_o.hO.initializeApp(Js_firebaseConfig),To.ww,Ka.yb]]}),W})();(0,H.G48)(),E.q6().bootstrapModule(Wl).catch(W=>console.error(W))},9356:(sn,st,K)=>{K.d(st,{Z:()=>kc});const H="undefined"==typeof window?function(u){return u()}:window.requestAnimationFrame;function ue(u,l,a){const c=a||(_=>Array.prototype.slice.call(_));let f=!1,g=[];return function(..._){g=c(_),f||(f=!0,H.call(window,()=>{f=!1,u.apply(l,g)}))}}const Ee=u=>"start"===u?"left":"end"===u?"right":"center",ke=(u,l,a)=>"start"===u?l:"end"===u?a:(l+a)/2;function Ye(){}const tt=function(){let u=0;return function(){return u++}}();function ge(u){return null==u}function pe(u){if(Array.isArray&&Array.isArray(u))return!0;const l=Object.prototype.toString.call(u);return"[object"===l.slice(0,7)&&"Array]"===l.slice(-6)}function Oe(u){return null!==u&&"[object Object]"===Object.prototype.toString.call(u)}const xt=u=>("number"==typeof u||u instanceof Number)&&isFinite(+u);function ht(u,l){return xt(u)?u:l}function it(u,l){return void 0===u?l:u}const yt=(u,l)=>"string"==typeof u&&u.endsWith("%")?parseFloat(u)/100*l:+u;function ft(u,l,a){if(u&&"function"==typeof u.call)return u.apply(a,l)}function Fe(u,l,a,c){let f,g,_;if(pe(u))if(g=u.length,c)for(f=g-1;f>=0;f--)l.call(a,u[f],f);else for(f=0;f<g;f++)l.call(a,u[f],f);else if(Oe(u))for(_=Object.keys(u),g=_.length,f=0;f<g;f++)l.call(a,u[_[f]],_[f])}function qt(u,l){let a,c,f,g;if(!u||!l||u.length!==l.length)return!1;for(a=0,c=u.length;a<c;++a)if(f=u[a],g=l[a],f.datasetIndex!==g.datasetIndex||f.index!==g.index)return!1;return!0}function at(u){if(pe(u))return u.map(at);if(Oe(u)){const l=Object.create(null),a=Object.keys(u),c=a.length;let f=0;for(;f<c;++f)l[a[f]]=at(u[a[f]]);return l}return u}function _e(u){return-1===["__proto__","prototype","constructor"].indexOf(u)}function qe(u,l,a,c){if(!_e(u))return;const f=l[u],g=a[u];Oe(f)&&Oe(g)?Ot(f,g,c):l[u]=at(g)}function Ot(u,l,a){const c=pe(l)?l:[l],f=c.length;if(!Oe(u))return u;const g=(a=a||{}).merger||qe;for(let _=0;_<f;++_){if(!Oe(l=c[_]))continue;const w=Object.keys(l);for(let A=0,N=w.length;A<N;++A)g(w[A],u,l,a)}return u}function kt(u,l){return Ot(u,l,{merger:xe})}function xe(u,l,a){if(!_e(u))return;const c=l[u],f=a[u];Oe(c)&&Oe(f)?kt(c,f):Object.prototype.hasOwnProperty.call(l,u)||(l[u]=at(f))}function Ze(u,l){const a=u.indexOf(".",l);return-1===a?u.length:a}function mt(u,l){if(""===l)return u;let a=0,c=Ze(l,a);for(;u&&c>a;)u=u[l.slice(a,c)],a=c+1,c=Ze(l,a);return u}function lt(u){return u.charAt(0).toUpperCase()+u.slice(1)}const vn=u=>void 0!==u,pn=u=>"function"==typeof u,Bn=(u,l)=>{if(u.size!==l.size)return!1;for(const a of u)if(!l.has(a))return!1;return!0},vt=Math.PI,on=2*vt,wn=on+vt,Dt=Number.POSITIVE_INFINITY,It=vt/180,Ve=vt/2,Xe=vt/4,Bt=2*vt/3,nn=Math.log10,Un=Math.sign;function Fi(u){const l=Math.round(u);u=An(u,l,u/1e3)?l:u;const a=Math.pow(10,Math.floor(nn(u))),c=u/a;return(c<=1?1:c<=2?2:c<=5?5:10)*a}function Ri(u){return!isNaN(parseFloat(u))&&isFinite(u)}function An(u,l,a){return Math.abs(u-l)<a}function Ei(u,l,a){let c,f,g;for(c=0,f=u.length;c<f;c++)g=u[c][a],isNaN(g)||(l.min=Math.min(l.min,g),l.max=Math.max(l.max,g))}function dn(u){return u*(vt/180)}function Qn(u){return u*(180/vt)}function Xn(u){if(!xt(u))return;let l=1,a=0;for(;Math.round(u*l)/l!==u;)l*=10,a++;return a}function Zn(u,l){const a=l.x-u.x,c=l.y-u.y,f=Math.sqrt(a*a+c*c);let g=Math.atan2(c,a);return g<-.5*vt&&(g+=on),{angle:g,distance:f}}function Er(u,l){return Math.sqrt(Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2))}function $r(u,l){return(u-l+wn)%on-vt}function oi(u){return(u%on+on)%on}function Ji(u,l,a,c){const f=oi(u),g=oi(l),_=oi(a),w=oi(g-f),A=oi(_-f),N=oi(f-g),Y=oi(f-_);return f===g||f===_||c&&g===_||w>A&&N<Y}function Ni(u,l,a){return Math.max(l,Math.min(a,u))}function Qt(u,l,a,c=1e-6){return u>=Math.min(l,a)-c&&u<=Math.max(l,a)+c}const Dn=u=>0===u||1===u,In=(u,l,a)=>-Math.pow(2,10*(u-=1))*Math.sin((u-l)*on/a),er=(u,l,a)=>Math.pow(2,-10*u)*Math.sin((u-l)*on/a)+1,gr={linear:u=>u,easeInQuad:u=>u*u,easeOutQuad:u=>-u*(u-2),easeInOutQuad:u=>(u/=.5)<1?.5*u*u:-.5*(--u*(u-2)-1),easeInCubic:u=>u*u*u,easeOutCubic:u=>(u-=1)*u*u+1,easeInOutCubic:u=>(u/=.5)<1?.5*u*u*u:.5*((u-=2)*u*u+2),easeInQuart:u=>u*u*u*u,easeOutQuart:u=>-((u-=1)*u*u*u-1),easeInOutQuart:u=>(u/=.5)<1?.5*u*u*u*u:-.5*((u-=2)*u*u*u-2),easeInQuint:u=>u*u*u*u*u,easeOutQuint:u=>(u-=1)*u*u*u*u+1,easeInOutQuint:u=>(u/=.5)<1?.5*u*u*u*u*u:.5*((u-=2)*u*u*u*u+2),easeInSine:u=>1-Math.cos(u*Ve),easeOutSine:u=>Math.sin(u*Ve),easeInOutSine:u=>-.5*(Math.cos(vt*u)-1),easeInExpo:u=>0===u?0:Math.pow(2,10*(u-1)),easeOutExpo:u=>1===u?1:1-Math.pow(2,-10*u),easeInOutExpo:u=>Dn(u)?u:u<.5?.5*Math.pow(2,10*(2*u-1)):.5*(2-Math.pow(2,-10*(2*u-1))),easeInCirc:u=>u>=1?u:-(Math.sqrt(1-u*u)-1),easeOutCirc:u=>Math.sqrt(1-(u-=1)*u),easeInOutCirc:u=>(u/=.5)<1?-.5*(Math.sqrt(1-u*u)-1):.5*(Math.sqrt(1-(u-=2)*u)+1),easeInElastic:u=>Dn(u)?u:In(u,.075,.3),easeOutElastic:u=>Dn(u)?u:er(u,.075,.3),easeInOutElastic:u=>Dn(u)?u:u<.5?.5*In(2*u,.1125,.45):.5+.5*er(2*u-1,.1125,.45),easeInBack:u=>u*u*(2.70158*u-1.70158),easeOutBack:u=>(u-=1)*u*(2.70158*u+1.70158)+1,easeInOutBack(u){let l=1.70158;return(u/=.5)<1?u*u*((1+(l*=1.525))*u-l)*.5:.5*((u-=2)*u*((1+(l*=1.525))*u+l)+2)},easeInBounce:u=>1-gr.easeOutBounce(1-u),easeOutBounce:u=>u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375,easeInOutBounce:u=>u<.5?.5*gr.easeInBounce(2*u):.5*gr.easeOutBounce(2*u-1)+.5};function ti(u){return u+.5|0}const Rr=(u,l,a)=>Math.max(Math.min(u,a),l);function Zi(u){return Rr(ti(2.55*u),0,255)}function hi(u){return Rr(ti(255*u),0,255)}function bn(u){return Rr(ti(u/2.55)/100,0,1)}function cr(u){return Rr(ti(100*u),0,100)}const kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hn=[..."0123456789ABCDEF"],Ct=u=>hn[15&u],un=u=>hn[(240&u)>>4]+hn[15&u],ln=u=>(240&u)>>4==(15&u);const He=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _t(u,l,a){const c=l*Math.min(a,1-a),f=(g,_=(g+u/30)%12)=>a-c*Math.max(Math.min(_-3,9-_,1),-1);return[f(0),f(8),f(4)]}function Qe(u,l,a){const c=(f,g=(f+u/60)%6)=>a-a*l*Math.max(Math.min(g,4-g,1),0);return[c(5),c(3),c(1)]}function Zt(u,l,a){const c=_t(u,1,.5);let f;for(l+a>1&&(f=1/(l+a),l*=f,a*=f),f=0;f<3;f++)c[f]*=1-l-a,c[f]+=l;return c}function Se(u){const a=u.r/255,c=u.g/255,f=u.b/255,g=Math.max(a,c,f),_=Math.min(a,c,f),w=(g+_)/2;let A,N,Y;return g!==_&&(Y=g-_,N=w>.5?Y/(2-g-_):Y/(g+_),A=function je(u,l,a,c,f){return u===f?(l-a)/c+(l<a?6:0):l===f?(a-u)/c+2:(u-l)/c+4}(a,c,f,Y,g),A=60*A+.5),[0|A,N||0,w]}function fe(u,l,a,c){return(Array.isArray(l)?u(l[0],l[1],l[2]):u(l,a,c)).map(hi)}function ze(u,l,a){return fe(_t,u,l,a)}function xn(u){return(u%360+360)%360}const as={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pi={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ur;const Nt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,or=u=>u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055,ls=u=>u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4);function Yr(u,l,a){if(u){let c=Se(u);c[l]=Math.max(0,Math.min(c[l]+c[l]*a,0===l?360:1)),c=ze(c),u.r=c[0],u.g=c[1],u.b=c[2]}}function Ai(u,l){return u&&Object.assign(l||{},u)}function nr(u){var l={r:0,g:0,b:0,a:255};return Array.isArray(u)?u.length>=3&&(l={r:u[0],g:u[1],b:u[2],a:255},u.length>3&&(l.a=hi(u[3]))):(l=Ai(u,{r:0,g:0,b:0,a:1})).a=hi(l.a),l}function Qr(u){return"r"===u.charAt(0)?function Wn(u){const l=Nt.exec(u);let c,f,g,a=255;if(l){if(l[7]!==c){const _=+l[7];a=l[8]?Zi(_):Rr(255*_,0,255)}return c=+l[1],f=+l[3],g=+l[5],c=255&(l[2]?Zi(c):Rr(c,0,255)),f=255&(l[4]?Zi(f):Rr(f,0,255)),g=255&(l[6]?Zi(g):Rr(g,0,255)),{r:c,g:f,b:g,a}}}(u):function Ci(u){const l=He.exec(u);let c,a=255;if(!l)return;l[5]!==c&&(a=l[6]?Zi(+l[5]):hi(+l[5]));const f=xn(+l[2]),g=+l[3]/100,_=+l[4]/100;return c="hwb"===l[1]?function At(u,l,a){return fe(Zt,u,l,a)}(f,g,_):"hsv"===l[1]?function zt(u,l,a){return fe(Qe,u,l,a)}(f,g,_):ze(f,g,_),{r:c[0],g:c[1],b:c[2],a}}(u)}class Kn{constructor(l){if(l instanceof Kn)return l;const a=typeof l;let c;"object"===a?c=nr(l):"string"===a&&(c=function $n(u){var a,l=u.length;return"#"===u[0]&&(4===l||5===l?a={r:255&17*kn[u[1]],g:255&17*kn[u[2]],b:255&17*kn[u[3]],a:5===l?17*kn[u[4]]:255}:(7===l||9===l)&&(a={r:kn[u[1]]<<4|kn[u[2]],g:kn[u[3]]<<4|kn[u[4]],b:kn[u[5]]<<4|kn[u[6]],a:9===l?kn[u[7]]<<4|kn[u[8]]:255})),a}(l)||function Ii(u){Ur||(Ur=function Yi(){const u={},l=Object.keys(Pi),a=Object.keys(as);let c,f,g,_,w;for(c=0;c<l.length;c++){for(_=w=l[c],f=0;f<a.length;f++)g=a[f],w=w.replace(g,as[g]);g=parseInt(Pi[_],16),u[w]=[g>>16&255,g>>8&255,255&g]}return u}(),Ur.transparent=[0,0,0,0]);const l=Ur[u.toLowerCase()];return l&&{r:l[0],g:l[1],b:l[2],a:4===l.length?l[3]:255}}(l)||Qr(l)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var l=Ai(this._rgb);return l&&(l.a=bn(l.a)),l}set rgb(l){this._rgb=nr(l)}rgbString(){return this._valid?function wi(u){return u&&(u.a<255?`rgba(${u.r}, ${u.g}, ${u.b}, ${bn(u.a)})`:`rgb(${u.r}, ${u.g}, ${u.b})`)}(this._rgb):void 0}hexString(){return this._valid?function ve(u){var l=(u=>ln(u.r)&&ln(u.g)&&ln(u.b)&&ln(u.a))(u)?Ct:un;return u?"#"+l(u.r)+l(u.g)+l(u.b)+((u,l)=>u<255?l(u):"")(u.a,l):void 0}(this._rgb):void 0}hslString(){return this._valid?function Gs(u){if(!u)return;const l=Se(u),a=l[0],c=cr(l[1]),f=cr(l[2]);return u.a<255?`hsla(${a}, ${c}%, ${f}%, ${bn(u.a)})`:`hsl(${a}, ${c}%, ${f}%)`}(this._rgb):void 0}mix(l,a){if(l){const c=this.rgb,f=l.rgb;let g;const _=a===g?.5:a,w=2*_-1,A=c.a-f.a,N=((w*A==-1?w:(w+A)/(1+w*A))+1)/2;g=1-N,c.r=255&N*c.r+g*f.r+.5,c.g=255&N*c.g+g*f.g+.5,c.b=255&N*c.b+g*f.b+.5,c.a=_*c.a+(1-_)*f.a,this.rgb=c}return this}interpolate(l,a){return l&&(this._rgb=function Gi(u,l,a){const c=ls(bn(u.r)),f=ls(bn(u.g)),g=ls(bn(u.b));return{r:hi(or(c+a*(ls(bn(l.r))-c))),g:hi(or(f+a*(ls(bn(l.g))-f))),b:hi(or(g+a*(ls(bn(l.b))-g))),a:u.a+a*(l.a-u.a)}}(this._rgb,l._rgb,a)),this}clone(){return new Kn(this.rgb)}alpha(l){return this._rgb.a=hi(l),this}clearer(l){return this._rgb.a*=1-l,this}greyscale(){const l=this._rgb,a=ti(.3*l.r+.59*l.g+.11*l.b);return l.r=l.g=l.b=a,this}opaquer(l){return this._rgb.a*=1+l,this}negate(){const l=this._rgb;return l.r=255-l.r,l.g=255-l.g,l.b=255-l.b,this}lighten(l){return Yr(this._rgb,2,l),this}darken(l){return Yr(this._rgb,2,-l),this}saturate(l){return Yr(this._rgb,1,l),this}desaturate(l){return Yr(this._rgb,1,-l),this}rotate(l){return function tr(u,l){var a=Se(u);a[0]=xn(a[0]+l),a=ze(a),u.r=a[0],u.g=a[1],u.b=a[2]}(this._rgb,l),this}}function Xr(u){return new Kn(u)}function Ms(u){if(u&&"object"==typeof u){const l=u.toString();return"[object CanvasPattern]"===l||"[object CanvasGradient]"===l}return!1}function Ws(u){return Ms(u)?u:Xr(u)}function Tr(u){return Ms(u)?u:Xr(u).saturate(.5).darken(.1).hexString()}const Bi=Object.create(null),ir=Object.create(null);function ar(u,l){if(!l)return u;const a=l.split(".");for(let c=0,f=a.length;c<f;++c){const g=a[c];u=u[g]||(u[g]=Object.create(null))}return u}function Sr(u,l,a){return"string"==typeof l?Ot(ar(u,l),a):Ot(ar(u,""),l)}var ri=new class xi{constructor(l){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,c)=>Tr(c.backgroundColor),this.hoverBorderColor=(a,c)=>Tr(c.borderColor),this.hoverColor=(a,c)=>Tr(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(l)}set(l,a){return Sr(this,l,a)}get(l){return ar(this,l)}describe(l,a){return Sr(ir,l,a)}override(l,a){return Sr(Bi,l,a)}route(l,a,c,f){const g=ar(this,l),_=ar(this,c),w="_"+a;Object.defineProperties(g,{[w]:{value:g[a],writable:!0},[a]:{enumerable:!0,get(){const A=this[w],N=_[f];return Oe(A)?Object.assign({},N,A):it(A,N)},set(A){this[w]=A}}})}}({_scriptable:u=>!u.startsWith("on"),_indexable:u=>"events"!==u,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ar(u,l,a,c,f){let g=l[f];return g||(g=l[f]=u.measureText(f).width,a.push(f)),g>c&&(c=g),c}function mr(u,l,a,c){let f=(c=c||{}).data=c.data||{},g=c.garbageCollect=c.garbageCollect||[];c.font!==l&&(f=c.data={},g=c.garbageCollect=[],c.font=l),u.save(),u.font=l;let _=0;const w=a.length;let A,N,Y,ne,de;for(A=0;A<w;A++)if(ne=a[A],null!=ne&&!0!==pe(ne))_=Ar(u,f,g,_,ne);else if(pe(ne))for(N=0,Y=ne.length;N<Y;N++)de=ne[N],null!=de&&!pe(de)&&(_=Ar(u,f,g,_,de));u.restore();const Te=g.length/2;if(Te>a.length){for(A=0;A<Te;A++)delete f[g[A]];g.splice(0,Te)}return _}function ms(u,l,a){const c=u.currentDevicePixelRatio,f=0!==a?Math.max(a/2,.5):0;return Math.round((l-f)*c)/c+f}function Cs(u,l){(l=l||u.getContext("2d")).save(),l.resetTransform(),l.clearRect(0,0,u.width,u.height),l.restore()}function Jr(u,l,a,c){let f,g,_,w,A;const N=l.pointStyle,Y=l.rotation,ne=l.radius;let de=(Y||0)*It;if(N&&"object"==typeof N&&(f=N.toString(),"[object HTMLImageElement]"===f||"[object HTMLCanvasElement]"===f))return u.save(),u.translate(a,c),u.rotate(de),u.drawImage(N,-N.width/2,-N.height/2,N.width,N.height),void u.restore();if(!(isNaN(ne)||ne<=0)){switch(u.beginPath(),N){default:u.arc(a,c,ne,0,on),u.closePath();break;case"triangle":u.moveTo(a+Math.sin(de)*ne,c-Math.cos(de)*ne),de+=Bt,u.lineTo(a+Math.sin(de)*ne,c-Math.cos(de)*ne),de+=Bt,u.lineTo(a+Math.sin(de)*ne,c-Math.cos(de)*ne),u.closePath();break;case"rectRounded":A=.516*ne,w=ne-A,g=Math.cos(de+Xe)*w,_=Math.sin(de+Xe)*w,u.arc(a-g,c-_,A,de-vt,de-Ve),u.arc(a+_,c-g,A,de-Ve,de),u.arc(a+g,c+_,A,de,de+Ve),u.arc(a-_,c+g,A,de+Ve,de+vt),u.closePath();break;case"rect":if(!Y){w=Math.SQRT1_2*ne,u.rect(a-w,c-w,2*w,2*w);break}de+=Xe;case"rectRot":g=Math.cos(de)*ne,_=Math.sin(de)*ne,u.moveTo(a-g,c-_),u.lineTo(a+_,c-g),u.lineTo(a+g,c+_),u.lineTo(a-_,c+g),u.closePath();break;case"crossRot":de+=Xe;case"cross":g=Math.cos(de)*ne,_=Math.sin(de)*ne,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_),u.moveTo(a+_,c-g),u.lineTo(a-_,c+g);break;case"star":g=Math.cos(de)*ne,_=Math.sin(de)*ne,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_),u.moveTo(a+_,c-g),u.lineTo(a-_,c+g),de+=Xe,g=Math.cos(de)*ne,_=Math.sin(de)*ne,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_),u.moveTo(a+_,c-g),u.lineTo(a-_,c+g);break;case"line":g=Math.cos(de)*ne,_=Math.sin(de)*ne,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_);break;case"dash":u.moveTo(a,c),u.lineTo(a+Math.cos(de)*ne,c+Math.sin(de)*ne)}u.fill(),l.borderWidth>0&&u.stroke()}}function Gr(u,l,a){return a=a||.5,!l||u&&u.x>l.left-a&&u.x<l.right+a&&u.y>l.top-a&&u.y<l.bottom+a}function po(u,l){u.save(),u.beginPath(),u.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),u.clip()}function us(u){u.restore()}function No(u,l,a,c,f){if(!l)return u.lineTo(a.x,a.y);if("middle"===f){const g=(l.x+a.x)/2;u.lineTo(g,l.y),u.lineTo(g,a.y)}else"after"===f!=!!c?u.lineTo(l.x,a.y):u.lineTo(a.x,l.y);u.lineTo(a.x,a.y)}function Wi(u,l,a,c){if(!l)return u.lineTo(a.x,a.y);u.bezierCurveTo(c?l.cp1x:l.cp2x,c?l.cp1y:l.cp2y,c?a.cp2x:a.cp1x,c?a.cp2y:a.cp1y,a.x,a.y)}function ys(u,l,a,c,f,g={}){const _=pe(l)?l:[l],w=g.strokeWidth>0&&""!==g.strokeColor;let A,N;for(u.save(),u.font=f.string,function ko(u,l){l.translation&&u.translate(l.translation[0],l.translation[1]),ge(l.rotation)||u.rotate(l.rotation),l.color&&(u.fillStyle=l.color),l.textAlign&&(u.textAlign=l.textAlign),l.textBaseline&&(u.textBaseline=l.textBaseline)}(u,g),A=0;A<_.length;++A)N=_[A],w&&(g.strokeColor&&(u.strokeStyle=g.strokeColor),ge(g.strokeWidth)||(u.lineWidth=g.strokeWidth),u.strokeText(N,a,c,g.maxWidth)),u.fillText(N,a,c,g.maxWidth),We(u,a,c,N,g),c+=f.lineHeight;u.restore()}function We(u,l,a,c,f){if(f.strikethrough||f.underline){const g=u.measureText(c),_=l-g.actualBoundingBoxLeft,w=l+g.actualBoundingBoxRight,A=a-g.actualBoundingBoxAscent,N=a+g.actualBoundingBoxDescent,Y=f.strikethrough?(A+N)/2:N;u.strokeStyle=u.fillStyle,u.beginPath(),u.lineWidth=f.decorationWidth||2,u.moveTo(_,Y),u.lineTo(w,Y),u.stroke()}}function Le(u,l){const{x:a,y:c,w:f,h:g,radius:_}=l;u.arc(a+_.topLeft,c+_.topLeft,_.topLeft,-Ve,vt,!0),u.lineTo(a,c+g-_.bottomLeft),u.arc(a+_.bottomLeft,c+g-_.bottomLeft,_.bottomLeft,vt,Ve,!0),u.lineTo(a+f-_.bottomRight,c+g),u.arc(a+f-_.bottomRight,c+g-_.bottomRight,_.bottomRight,Ve,0,!0),u.lineTo(a+f,c+_.topRight),u.arc(a+f-_.topRight,c+_.topRight,_.topRight,0,-Ve,!0),u.lineTo(a+_.topLeft,c)}const ut=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Rt=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Wt(u,l){const a=(""+u).match(ut);if(!a||"normal"===a[1])return 1.2*l;switch(u=+a[2],a[3]){case"px":return u;case"%":u/=100}return l*u}const Rn=u=>+u||0;function ki(u,l){const a={},c=Oe(l),f=c?Object.keys(l):l,g=Oe(u)?c?_=>it(u[_],u[l[_]]):_=>u[_]:()=>u;for(const _ of f)a[_]=Rn(g(_));return a}function dr(u){return ki(u,{top:"y",right:"x",bottom:"y",left:"x"})}function Di(u){return ki(u,["topLeft","topRight","bottomLeft","bottomRight"])}function Li(u){const l=dr(u);return l.width=l.left+l.right,l.height=l.top+l.bottom,l}function ji(u,l){let a=it((u=u||{}).size,(l=l||ri.font).size);"string"==typeof a&&(a=parseInt(a,10));let c=it(u.style,l.style);c&&!(""+c).match(Rt)&&(console.warn('Invalid font style specified: "'+c+'"'),c="");const f={family:it(u.family,l.family),lineHeight:Wt(it(u.lineHeight,l.lineHeight),a),size:a,style:c,weight:it(u.weight,l.weight),string:""};return f.string=function zr(u){return!u||ge(u.size)||ge(u.family)?null:(u.style?u.style+" ":"")+(u.weight?u.weight+" ":"")+u.size+"px "+u.family}(f),f}function _s(u,l,a,c){let g,_,w,f=!0;for(g=0,_=u.length;g<_;++g)if(w=u[g],void 0!==w&&(void 0!==l&&"function"==typeof w&&(w=w(l),f=!1),void 0!==a&&pe(w)&&(w=w[a%w.length],f=!1),void 0!==w))return c&&!f&&(c.cacheable=!1),w}function wr(u,l){return Object.assign(Object.create(u),l)}function qs(u,l,a){a=a||(_=>u[_]<l);let g,c=u.length-1,f=0;for(;c-f>1;)g=f+c>>1,a(g)?f=g:c=g;return{lo:f,hi:c}}const vs=(u,l,a)=>qs(u,a,c=>u[c][l]<a),io=(u,l,a)=>qs(u,a,c=>u[c][l]>=a),ks=["push","pop","shift","splice","unshift"];function Zs(u,l){const a=u._chartjs;if(!a)return;const c=a.listeners,f=c.indexOf(l);-1!==f&&c.splice(f,1),!(c.length>0)&&(ks.forEach(g=>{delete u[g]}),delete u._chartjs)}function Fo(u){const l=new Set;let a,c;for(a=0,c=u.length;a<c;++a)l.add(u[a]);return l.size===c?u:Array.from(l)}function Fs(u,l=[""],a=u,c,f=(()=>u[0])){vn(c)||(c=Ti("_fallback",u));const g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:u,_rootScopes:a,_fallback:c,_getTarget:f,override:_=>Fs([_,...u],l,a,c)};return new Proxy(g,{deleteProperty:(_,w)=>(delete _[w],delete _._keys,delete u[0][w],!0),get:(_,w)=>Ys(_,w,()=>function Xs(u,l,a,c){let f;for(const g of l)if(f=Ti(is(g,u),a),vn(f))return so(u,f)?es(a,c,u,f):f}(w,l,u,_)),getOwnPropertyDescriptor:(_,w)=>Reflect.getOwnPropertyDescriptor(_._scopes[0],w),getPrototypeOf:()=>Reflect.getPrototypeOf(u[0]),has:(_,w)=>G(_).includes(w),ownKeys:_=>G(_),set(_,w,A){const N=_._storage||(_._storage=f());return _[w]=N[w]=A,delete _._keys,!0}})}function Os(u,l,a,c){const f={_cacheable:!1,_proxy:u,_context:l,_subProxy:a,_stack:new Set,_descriptors:Dr(u,c),setContext:g=>Os(u,g,a,c),override:g=>Os(u.override(g),l,a,c)};return new Proxy(f,{deleteProperty:(g,_)=>(delete g[_],delete u[_],!0),get:(g,_,w)=>Ys(g,_,()=>function Nr(u,l,a){const{_proxy:c,_context:f,_subProxy:g,_descriptors:_}=u;let w=c[l];return pn(w)&&_.isScriptable(l)&&(w=function kr(u,l,a,c){const{_proxy:f,_context:g,_subProxy:_,_stack:w}=a;if(w.has(u))throw new Error("Recursion detected: "+Array.from(w).join("->")+"->"+u);return w.add(u),l=l(g,_||c),w.delete(u),so(u,l)&&(l=es(f._scopes,f,u,l)),l}(l,w,u,a)),pe(w)&&w.length&&(w=function go(u,l,a,c){const{_proxy:f,_context:g,_subProxy:_,_descriptors:w}=a;if(vn(g.index)&&c(u))l=l[g.index%l.length];else if(Oe(l[0])){const A=l,N=f._scopes.filter(Y=>Y!==A);l=[];for(const Y of A){const ne=es(N,f,u,Y);l.push(Os(ne,g,_&&_[u],w))}}return l}(l,w,u,_.isIndexable)),so(l,w)&&(w=Os(w,f,g&&g[l],_)),w}(g,_,w)),getOwnPropertyDescriptor:(g,_)=>g._descriptors.allKeys?Reflect.has(u,_)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(u,_),getPrototypeOf:()=>Reflect.getPrototypeOf(u),has:(g,_)=>Reflect.has(u,_),ownKeys:()=>Reflect.ownKeys(u),set:(g,_,w)=>(u[_]=w,delete g[_],!0)})}function Dr(u,l={scriptable:!0,indexable:!0}){const{_scriptable:a=l.scriptable,_indexable:c=l.indexable,_allKeys:f=l.allKeys}=u;return{allKeys:f,scriptable:a,indexable:c,isScriptable:pn(a)?a:()=>a,isIndexable:pn(c)?c:()=>c}}const is=(u,l)=>u?u+lt(l):l,so=(u,l)=>Oe(l)&&"adapters"!==u&&(null===Object.getPrototypeOf(l)||l.constructor===Object);function Ys(u,l,a){if(Object.prototype.hasOwnProperty.call(u,l))return u[l];const c=a();return u[l]=c,c}function mo(u,l,a){return pn(u)?u(l,a):u}const yr=(u,l)=>!0===u?l:"string"==typeof u?mt(l,u):void 0;function Qs(u,l,a,c,f){for(const g of l){const _=yr(a,g);if(_){u.add(_);const w=mo(_._fallback,a,f);if(vn(w)&&w!==a&&w!==c)return w}else if(!1===_&&vn(c)&&a!==c)return null}return!1}function es(u,l,a,c){const f=l._rootScopes,g=mo(l._fallback,a,c),_=[...u,...f],w=new Set;w.add(c);let A=Fr(w,_,a,g||a,c);return!(null===A||vn(g)&&g!==a&&(A=Fr(w,_,g,A,c),null===A))&&Fs(Array.from(w),[""],f,g,()=>function Lo(u,l,a){const c=u._getTarget();l in c||(c[l]={});const f=c[l];return pe(f)&&Oe(a)?a:f}(l,a,c))}function Fr(u,l,a,c,f){for(;a;)a=Qs(u,l,a,c,f);return a}function Ti(u,l){for(const a of l){if(!a)continue;const c=a[u];if(vn(c))return c}}function G(u){let l=u._keys;return l||(l=u._keys=function se(u){const l=new Set;for(const a of u)for(const c of Object.keys(a).filter(f=>!f.startsWith("_")))l.add(c);return Array.from(l)}(u._scopes)),l}function z(u,l,a,c){const{iScale:f}=u,{key:g="r"}=this._parsing,_=new Array(c);let w,A,N,Y;for(w=0,A=c;w<A;++w)N=w+a,Y=l[N],_[w]={r:f.parse(mt(Y,g),N)};return _}const le=Number.EPSILON||1e-14,Ce=(u,l)=>l<u.length&&!u[l].skip&&u[l],bt=u=>"x"===u?"y":"x";function Ft(u,l,a,c){const f=u.skip?l:u,g=l,_=a.skip?l:a,w=Er(g,f),A=Er(_,g);let N=w/(w+A),Y=A/(w+A);N=isNaN(N)?0:N,Y=isNaN(Y)?0:Y;const ne=c*N,de=c*Y;return{previous:{x:g.x-ne*(_.x-f.x),y:g.y-ne*(_.y-f.y)},next:{x:g.x+de*(_.x-f.x),y:g.y+de*(_.y-f.y)}}}function ni(u,l,a){return Math.max(Math.min(u,a),l)}function _r(u,l,a,c,f){let g,_,w,A;if(l.spanGaps&&(u=u.filter(N=>!N.skip)),"monotone"===l.cubicInterpolationMode)!function Si(u,l="x"){const a=bt(l),c=u.length,f=Array(c).fill(0),g=Array(c);let _,w,A,N=Ce(u,0);for(_=0;_<c;++_)if(w=A,A=N,N=Ce(u,_+1),A){if(N){const Y=N[l]-A[l];f[_]=0!==Y?(N[a]-A[a])/Y:0}g[_]=w?N?Un(f[_-1])!==Un(f[_])?0:(f[_-1]+f[_])/2:f[_-1]:f[_]}(function Jt(u,l,a){const c=u.length;let f,g,_,w,A,N=Ce(u,0);for(let Y=0;Y<c-1;++Y)if(A=N,N=Ce(u,Y+1),A&&N){if(An(l[Y],0,le)){a[Y]=a[Y+1]=0;continue}f=a[Y]/l[Y],g=a[Y+1]/l[Y],w=Math.pow(f,2)+Math.pow(g,2),!(w<=9)&&(_=3/Math.sqrt(w),a[Y]=f*_*l[Y],a[Y+1]=g*_*l[Y])}})(u,f,g),function _i(u,l,a="x"){const c=bt(a),f=u.length;let g,_,w,A=Ce(u,0);for(let N=0;N<f;++N){if(_=w,w=A,A=Ce(u,N+1),!w)continue;const Y=w[a],ne=w[c];_&&(g=(Y-_[a])/3,w[`cp1${a}`]=Y-g,w[`cp1${c}`]=ne-g*l[N]),A&&(g=(A[a]-Y)/3,w[`cp2${a}`]=Y+g,w[`cp2${c}`]=ne+g*l[N])}}(u,g,l)}(u,f);else{let N=c?u[u.length-1]:u[0];for(g=0,_=u.length;g<_;++g)w=u[g],A=Ft(N,w,u[Math.min(g+1,_-(c?0:1))%_],l.tension),w.cp1x=A.previous.x,w.cp1y=A.previous.y,w.cp2x=A.next.x,w.cp2y=A.next.y,N=w}l.capBezierPoints&&function fi(u,l){let a,c,f,g,_,w=Gr(u[0],l);for(a=0,c=u.length;a<c;++a)_=g,g=w,w=a<c-1&&Gr(u[a+1],l),g&&(f=u[a],_&&(f.cp1x=ni(f.cp1x,l.left,l.right),f.cp1y=ni(f.cp1y,l.top,l.bottom)),w&&(f.cp2x=ni(f.cp2x,l.left,l.right),f.cp2y=ni(f.cp2y,l.top,l.bottom)))}(u,a)}function Hi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Vi(u){let l=u.parentNode;return l&&"[object ShadowRoot]"===l.toString()&&(l=l.host),l}function bs(u,l,a){let c;return"string"==typeof u?(c=parseInt(u,10),-1!==u.indexOf("%")&&(c=c/100*l.parentNode[a])):c=u,c}const Cr=u=>window.getComputedStyle(u,null),oo=["top","right","bottom","left"];function Is(u,l,a){const c={};a=a?"-"+a:"";for(let f=0;f<4;f++){const g=oo[f];c[g]=parseFloat(u[l+"-"+g+a])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function q(u,l){if("native"in u)return u;const{canvas:a,currentDevicePixelRatio:c}=l,f=Cr(a),g="border-box"===f.boxSizing,_=Is(f,"padding"),w=Is(f,"border","width"),{x:A,y:N,box:Y}=function ao(u,l){const a=u.touches,c=a&&a.length?a[0]:u,{offsetX:f,offsetY:g}=c;let w,A,_=!1;if(((u,l,a)=>(u>0||l>0)&&(!a||!a.shadowRoot))(f,g,u.target))w=f,A=g;else{const N=l.getBoundingClientRect();w=c.clientX-N.left,A=c.clientY-N.top,_=!0}return{x:w,y:A,box:_}}(u,a),ne=_.left+(Y&&w.left),de=_.top+(Y&&w.top);let{width:Te,height:Ue}=l;return g&&(Te-=_.width+w.width,Ue-=_.height+w.height),{x:Math.round((A-ne)/Te*a.width/c),y:Math.round((N-de)/Ue*a.height/c)}}const U=u=>Math.round(10*u)/10;function rt(u,l,a){const c=l||1,f=Math.floor(u.height*c),g=Math.floor(u.width*c);u.height=f/c,u.width=g/c;const _=u.canvas;return _.style&&(a||!_.style.height&&!_.style.width)&&(_.style.height=`${u.height}px`,_.style.width=`${u.width}px`),(u.currentDevicePixelRatio!==c||_.height!==f||_.width!==g)&&(u.currentDevicePixelRatio=c,_.height=f,_.width=g,u.ctx.setTransform(c,0,0,c,0,0),!0)}const Cn=function(){let u=!1;try{const l={get passive(){return u=!0,!1}};window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch(l){}return u}();function zn(u,l){const a=function Mn(u,l){return Cr(u).getPropertyValue(l)}(u,l),c=a&&a.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function vr(u,l,a,c){return{x:u.x+a*(l.x-u.x),y:u.y+a*(l.y-u.y)}}function cs(u,l,a,c){return{x:u.x+a*(l.x-u.x),y:"middle"===c?a<.5?u.y:l.y:"after"===c?a<1?u.y:l.y:a>0?l.y:u.y}}function rs(u,l,a,c){const f={x:u.cp2x,y:u.cp2y},g={x:l.cp1x,y:l.cp1y},_=vr(u,f,a),w=vr(f,g,a),A=vr(g,l,a),N=vr(_,w,a),Y=vr(w,A,a);return vr(N,Y,a)}const wo=new Map;function Ko(u,l,a){return function Do(u,l){l=l||{};const a=u+JSON.stringify(l);let c=wo.get(a);return c||(c=new Intl.NumberFormat(u,l),wo.set(a,c)),c}(l,a).format(u)}function Es(u,l,a){return u?function(u,l){return{x:a=>u+u+l-a,setWidth(a){l=a},textAlign:a=>"center"===a?a:"right"===a?"left":"right",xPlus:(a,c)=>a-c,leftForLtr:(a,c)=>a-c}}(l,a):{x:u=>u,setWidth(u){},textAlign:u=>u,xPlus:(u,l)=>u+l,leftForLtr:(u,l)=>u}}function ds(u,l){let a,c;("ltr"===l||"rtl"===l)&&(a=u.canvas.style,c=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",l,"important"),u.prevTextDirection=c)}function Ls(u,l){void 0!==l&&(delete u.prevTextDirection,u.canvas.style.setProperty("direction",l[0],l[1]))}function xa(u){return"angle"===u?{between:Ji,compare:$r,normalize:oi}:{between:Qt,compare:(l,a)=>l-a,normalize:l=>l}}function Ts({start:u,end:l,count:a,loop:c,style:f}){return{start:u%a,end:l%a,loop:c&&(l-u+1)%a==0,style:f}}function Zo(u,l,a){if(!a)return[u];const{property:c,start:f,end:g}=a,_=l.length,{compare:w,between:A,normalize:N}=xa(c),{start:Y,end:ne,loop:de,style:Te}=function Lr(u,l,a){const{property:c,start:f,end:g}=a,{between:_,normalize:w}=xa(c),A=l.length;let de,Te,{start:N,end:Y,loop:ne}=u;if(ne){for(N+=A,Y+=A,de=0,Te=A;de<Te&&_(w(l[N%A][c]),f,g);++de)N--,Y--;N%=A,Y%=A}return Y<N&&(Y+=A),{start:N,end:Y,loop:ne,style:u.style}}(u,l,a),Ue=[];let gt,Ut,tn,Ke=!1,dt=null;for(let Yn=Y,ii=Y;Yn<=ne;++Yn)Ut=l[Yn%_],!Ut.skip&&(gt=N(Ut[c]),gt!==tn&&(Ke=A(gt,f,g),null===dt&&(Ke||A(f,tn,gt)&&0!==w(f,tn))&&(dt=0===w(gt,f)?Yn:ii),null!==dt&&(!Ke||0===w(g,gt)||A(g,tn,gt))&&(Ue.push(Ts({start:dt,end:Yn,loop:de,count:_,style:Te})),dt=null),ii=Yn,tn=gt));return null!==dt&&Ue.push(Ts({start:dt,end:ne,loop:de,count:_,style:Te})),Ue}function Vr(u,l){const a=[],c=u.segments;for(let f=0;f<c.length;f++){const g=Zo(c[f],u.points,l);g.length&&a.push(...g)}return a}function ja(u){return{backgroundColor:u.backgroundColor,borderCapStyle:u.borderCapStyle,borderDash:u.borderDash,borderDashOffset:u.borderDashOffset,borderJoinStyle:u.borderJoinStyle,borderWidth:u.borderWidth,borderColor:u.borderColor}}function aa(u,l){return l&&JSON.stringify(u)!==JSON.stringify(l)}var hs=new class va{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(l,a,c,f){const _=a.duration;a.listeners[f].forEach(w=>w({chart:l,initial:a.initial,numSteps:_,currentStep:Math.min(c-a.start,_)}))}_refresh(){this._request||(this._running=!0,this._request=H.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(l=Date.now()){let a=0;this._charts.forEach((c,f)=>{if(!c.running||!c.items.length)return;const g=c.items;let A,_=g.length-1,w=!1;for(;_>=0;--_)A=g[_],A._active?(A._total>c.duration&&(c.duration=A._total),A.tick(l),w=!0):(g[_]=g[g.length-1],g.pop());w&&(f.draw(),this._notify(f,c,l,"progress")),g.length||(c.running=!1,this._notify(f,c,l,"complete"),c.initial=!1),a+=g.length}),this._lastDate=l,0===a&&(this._running=!1)}_getAnims(l){const a=this._charts;let c=a.get(l);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(l,c)),c}listen(l,a,c){this._getAnims(l).listeners[a].push(c)}add(l,a){!a||!a.length||this._getAnims(l).items.push(...a)}has(l){return this._getAnims(l).items.length>0}start(l){const a=this._charts.get(l);!a||(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((c,f)=>Math.max(c,f._duration),0),this._refresh())}running(l){if(!this._running)return!1;const a=this._charts.get(l);return!(!a||!a.running||!a.items.length)}stop(l){const a=this._charts.get(l);if(!a||!a.items.length)return;const c=a.items;let f=c.length-1;for(;f>=0;--f)c[f].cancel();a.items=[],this._notify(l,a,Date.now(),"complete")}remove(l){return this._charts.delete(l)}};const Ma="transparent",Bs={boolean:(u,l,a)=>a>.5?l:u,color(u,l,a){const c=Ws(u||Ma),f=c.valid&&Ws(l||Ma);return f&&f.valid?f.mix(c,a).hexString():l},number:(u,l,a)=>u+(l-u)*a};class Ha{constructor(l,a,c,f){const g=a[c];f=_s([l.to,f,g,l.from]);const _=_s([l.from,g,f]);this._active=!0,this._fn=l.fn||Bs[l.type||typeof _],this._easing=gr[l.easing]||gr.linear,this._start=Math.floor(Date.now()+(l.delay||0)),this._duration=this._total=Math.floor(l.duration),this._loop=!!l.loop,this._target=a,this._prop=c,this._from=_,this._to=f,this._promises=void 0}active(){return this._active}update(l,a,c){if(this._active){this._notify(!1);const f=this._target[this._prop],g=c-this._start,_=this._duration-g;this._start=c,this._duration=Math.floor(Math.max(_,l.duration)),this._total+=g,this._loop=!!l.loop,this._to=_s([l.to,a,f,l.from]),this._from=_s([l.from,f,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(l){const a=l-this._start,c=this._duration,f=this._prop,g=this._from,_=this._loop,w=this._to;let A;if(this._active=g!==w&&(_||a<c),!this._active)return this._target[f]=w,void this._notify(!0);a<0?this._target[f]=g:(A=a/c%2,A=_&&A>1?2-A:A,A=this._easing(Math.min(1,Math.max(0,A))),this._target[f]=this._fn(g,w,A))}wait(){const l=this._promises||(this._promises=[]);return new Promise((a,c)=>{l.push({res:a,rej:c})})}_notify(l){const a=l?"res":"rej",c=this._promises||[];for(let f=0;f<c.length;f++)c[f][a]()}}ri.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const ba=Object.keys(ri.animation);ri.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:u=>"onProgress"!==u&&"onComplete"!==u&&"fn"!==u}),ri.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ri.describe("animations",{_fallback:"animation"}),ri.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:u=>0|u}}}});class Oa{constructor(l,a){this._chart=l,this._properties=new Map,this.configure(a)}configure(l){if(!Oe(l))return;const a=this._properties;Object.getOwnPropertyNames(l).forEach(c=>{const f=l[c];if(!Oe(f))return;const g={};for(const _ of ba)g[_]=f[_];(pe(f.properties)&&f.properties||[c]).forEach(_=>{(_===c||!a.has(_))&&a.set(_,g)})})}_animateOptions(l,a){const c=a.options,f=function $o(u,l){if(!l)return;let a=u.options;if(a)return a.$shared&&(u.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a;u.options=l}(l,c);if(!f)return[];const g=this._createAnimations(f,c);return c.$shared&&function fs(u,l){const a=[],c=Object.keys(l);for(let f=0;f<c.length;f++){const g=u[c[f]];g&&g.active()&&a.push(g.wait())}return Promise.all(a)}(l.options.$animations,c).then(()=>{l.options=c},()=>{}),g}_createAnimations(l,a){const c=this._properties,f=[],g=l.$animations||(l.$animations={}),_=Object.keys(a),w=Date.now();let A;for(A=_.length-1;A>=0;--A){const N=_[A];if("$"===N.charAt(0))continue;if("options"===N){f.push(...this._animateOptions(l,a));continue}const Y=a[N];let ne=g[N];const de=c.get(N);if(ne){if(de&&ne.active()){ne.update(de,Y,w);continue}ne.cancel()}de&&de.duration?(g[N]=ne=new Ha(de,l,N,Y),f.push(ne)):l[N]=Y}return f}update(l,a){if(0===this._properties.size)return void Object.assign(l,a);const c=this._createAnimations(l,a);return c.length?(hs.add(this._chart,c),!0):void 0}}function ts(u,l){const a=u&&u.options||{},c=a.reverse,f=void 0===a.min?l:0,g=void 0===a.max?l:0;return{start:c?g:f,end:c?f:g}}function Gl(u,l){const a=[],c=u._getSortedDatasetMetas(l);let f,g;for(f=0,g=c.length;f<g;++f)a.push(c[f].index);return a}function Pa(u,l,a,c={}){const f=u.keys,g="single"===c.mode;let _,w,A,N;if(null!==l){for(_=0,w=f.length;_<w;++_){if(A=+f[_],A===a){if(c.all)continue;break}N=u.values[A],xt(N)&&(g||0===l||Un(l)===Un(N))&&(l+=N)}return l}}function Ra(u,l){const a=u&&u.options.stacked;return a||void 0===a&&void 0!==l.stack}function la(u,l,a){const c=u[l]||(u[l]={});return c[a]||(c[a]={})}function ns(u,l,a,c){for(const f of l.getMatchingVisibleMetas(c).reverse()){const g=u[f.index];if(a&&g>0||!a&&g<0)return f.index}return null}function ss(u,l){const{chart:a,_cachedMeta:c}=u,f=a._stacks||(a._stacks={}),{iScale:g,vScale:_,index:w}=c,A=g.axis,N=_.axis,Y=function Co(u,l,a){return`${u.id}.${l.id}.${a.stack||a.type}`}(g,_,c),ne=l.length;let de;for(let Te=0;Te<ne;++Te){const Ue=l[Te],{[A]:Ke,[N]:dt}=Ue;de=(Ue._stacks||(Ue._stacks={}))[N]=la(f,Y,Ke),de[w]=dt,de._top=ns(de,_,!0,c.type),de._bottom=ns(de,_,!1,c.type)}}function Wa(u,l){const a=u.scales;return Object.keys(a).filter(c=>a[c].axis===l).shift()}function Io(u,l){const a=u.controller.index,c=u.vScale&&u.vScale.axis;if(c){l=l||u._parsed;for(const f of l){const g=f._stacks;if(!g||void 0===g[c]||void 0===g[c][a])return;delete g[c][a]}}}const _o=u=>"reset"===u||"none"===u,To=(u,l)=>l?u:Object.assign({},u);let Js=(()=>{class u{constructor(a,c){this.chart=a,this._ctx=a.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=Ra(a.vScale,a),this.addElements()}updateIndex(a){this.index!==a&&Io(this._cachedMeta),this.index=a}linkScales(){const a=this.chart,c=this._cachedMeta,f=this.getDataset(),g=(de,Te,Ue,Ke)=>"x"===de?Te:"r"===de?Ke:Ue,_=c.xAxisID=it(f.xAxisID,Wa(a,"x")),w=c.yAxisID=it(f.yAxisID,Wa(a,"y")),A=c.rAxisID=it(f.rAxisID,Wa(a,"r")),N=c.indexAxis,Y=c.iAxisID=g(N,_,w,A),ne=c.vAxisID=g(N,w,_,A);c.xScale=this.getScaleForId(_),c.yScale=this.getScaleForId(w),c.rScale=this.getScaleForId(A),c.iScale=this.getScaleForId(Y),c.vScale=this.getScaleForId(ne)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(a){const c=this._cachedMeta;return a===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){const a=this._cachedMeta;this._data&&Zs(this._data,this),a._stacked&&Io(a)}_dataCheck(){const a=this.getDataset(),c=a.data||(a.data=[]),f=this._data;if(Oe(c))this._data=function Ga(u){const l=Object.keys(u),a=new Array(l.length);let c,f,g;for(c=0,f=l.length;c<f;++c)g=l[c],a[c]={x:g,y:u[g]};return a}(c);else if(f!==c){if(f){Zs(f,this);const g=this._cachedMeta;Io(g),g._parsed=[]}c&&Object.isExtensible(c)&&function ro(u,l){u._chartjs?u._chartjs.listeners.push(l):(Object.defineProperty(u,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[l]}}),ks.forEach(a=>{const c="_onData"+lt(a),f=u[a];Object.defineProperty(u,a,{configurable:!0,enumerable:!1,value(...g){const _=f.apply(this,g);return u._chartjs.listeners.forEach(w=>{"function"==typeof w[c]&&w[c](...g)}),_}})}))}(c,this),this._syncList=[],this._data=c}}addElements(){const a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(a){const c=this._cachedMeta,f=this.getDataset();let g=!1;this._dataCheck();const _=c._stacked;c._stacked=Ra(c.vScale,c),c.stack!==f.stack&&(g=!0,Io(c),c.stack=f.stack),this._resyncElements(a),(g||_!==c._stacked)&&ss(this,c._parsed)}configure(){const a=this.chart.config,c=a.datasetScopeKeys(this._type),f=a.getOptionScopes(this.getDataset(),c,!0);this.options=a.createResolver(f,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(a,c){const{_cachedMeta:f,_data:g}=this,{iScale:_,_stacked:w}=f,A=_.axis;let ne,de,Te,N=0===a&&c===g.length||f._sorted,Y=a>0&&f._parsed[a-1];if(!1===this._parsing)f._parsed=g,f._sorted=!0,Te=g;else{Te=pe(g[a])?this.parseArrayData(f,g,a,c):Oe(g[a])?this.parseObjectData(f,g,a,c):this.parsePrimitiveData(f,g,a,c);const Ue=()=>null===de[A]||Y&&de[A]<Y[A];for(ne=0;ne<c;++ne)f._parsed[ne+a]=de=Te[ne],N&&(Ue()&&(N=!1),Y=de);f._sorted=N}w&&ss(this,Te)}parsePrimitiveData(a,c,f,g){const{iScale:_,vScale:w}=a,A=_.axis,N=w.axis,Y=_.getLabels(),ne=_===w,de=new Array(g);let Te,Ue,Ke;for(Te=0,Ue=g;Te<Ue;++Te)Ke=Te+f,de[Te]={[A]:ne||_.parse(Y[Ke],Ke),[N]:w.parse(c[Ke],Ke)};return de}parseArrayData(a,c,f,g){const{xScale:_,yScale:w}=a,A=new Array(g);let N,Y,ne,de;for(N=0,Y=g;N<Y;++N)ne=N+f,de=c[ne],A[N]={x:_.parse(de[0],ne),y:w.parse(de[1],ne)};return A}parseObjectData(a,c,f,g){const{xScale:_,yScale:w}=a,{xAxisKey:A="x",yAxisKey:N="y"}=this._parsing,Y=new Array(g);let ne,de,Te,Ue;for(ne=0,de=g;ne<de;++ne)Te=ne+f,Ue=c[Te],Y[ne]={x:_.parse(mt(Ue,A),Te),y:w.parse(mt(Ue,N),Te)};return Y}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,c,f){const _=this._cachedMeta,w=c[a.axis];return Pa({keys:Gl(this.chart,!0),values:c._stacks[a.axis]},w,_.index,{mode:f})}updateRangeFromParsed(a,c,f,g){const _=f[c.axis];let w=null===_?NaN:_;const A=g&&f._stacks[c.axis];g&&A&&(g.values=A,w=Pa(g,_,this._cachedMeta.index)),a.min=Math.min(a.min,w),a.max=Math.max(a.max,w)}getMinMax(a,c){const f=this._cachedMeta,g=f._parsed,_=f._sorted&&a===f.iScale,w=g.length,A=this._getOtherScale(a),N=((u,l,a)=>u&&!l.hidden&&l._stacked&&{keys:Gl(this.chart,!0),values:null})(c,f),Y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ne,max:de}=function zo(u){const{min:l,max:a,minDefined:c,maxDefined:f}=u.getUserBounds();return{min:c?l:Number.NEGATIVE_INFINITY,max:f?a:Number.POSITIVE_INFINITY}}(A);let Te,Ue;function Ke(){Ue=g[Te];const dt=Ue[A.axis];return!xt(Ue[a.axis])||ne>dt||de<dt}for(Te=0;Te<w&&(Ke()||(this.updateRangeFromParsed(Y,a,Ue,N),!_));++Te);if(_)for(Te=w-1;Te>=0;--Te)if(!Ke()){this.updateRangeFromParsed(Y,a,Ue,N);break}return Y}getAllParsedValues(a){const c=this._cachedMeta._parsed,f=[];let g,_,w;for(g=0,_=c.length;g<_;++g)w=c[g][a.axis],xt(w)&&f.push(w);return f}getMaxOverflow(){return!1}getLabelAndValue(a){const c=this._cachedMeta,f=c.iScale,g=c.vScale,_=this.getParsed(a);return{label:f?""+f.getLabelForValue(_[f.axis]):"",value:g?""+g.getLabelForValue(_[g.axis]):""}}_update(a){const c=this._cachedMeta;this.update(a||"default"),c._clip=function za(u){let l,a,c,f;return Oe(u)?(l=u.top,a=u.right,c=u.bottom,f=u.left):l=a=c=f=u,{top:l,right:a,bottom:c,left:f,disabled:!1===u}}(it(this.options.clip,function $a(u,l,a){if(!1===a)return!1;const c=ts(u,a),f=ts(l,a);return{top:f.end,right:c.end,bottom:f.start,left:c.start}}(c.xScale,c.yScale,this.getMaxOverflow())))}update(a){}draw(){const a=this._ctx,f=this._cachedMeta,g=f.data||[],_=this.chart.chartArea,w=[],A=this._drawStart||0,N=this._drawCount||g.length-A,Y=this.options.drawActiveElementsOnTop;let ne;for(f.dataset&&f.dataset.draw(a,_,A,N),ne=A;ne<A+N;++ne){const de=g[ne];de.hidden||(de.active&&Y?w.push(de):de.draw(a,_))}for(ne=0;ne<w.length;++ne)w[ne].draw(a,_)}getStyle(a,c){const f=c?"active":"default";return void 0===a&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(f):this.resolveDataElementOptions(a||0,f)}getContext(a,c,f){const g=this.getDataset();let _;if(a>=0&&a<this._cachedMeta.data.length){const w=this._cachedMeta.data[a];_=w.$context||(w.$context=function Ps(u,l,a){return wr(u,{active:!1,dataIndex:l,parsed:void 0,raw:void 0,element:a,index:l,mode:"default",type:"data"})}(this.getContext(),a,w)),_.parsed=this.getParsed(a),_.raw=g.data[a],_.index=_.dataIndex=a}else _=this.$context||(this.$context=function yo(u,l){return wr(u,{active:!1,dataset:void 0,datasetIndex:l,index:l,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),_.dataset=g,_.index=_.datasetIndex=this.index;return _.active=!!c,_.mode=f,_}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,c){return this._resolveElementOptions(this.dataElementType.id,c,a)}_resolveElementOptions(a,c="default",f){const g="active"===c,_=this._cachedDataOpts,w=a+"-"+c,A=_[w],N=this.enableOptionSharing&&vn(f);if(A)return To(A,N);const Y=this.chart.config,ne=Y.datasetElementScopeKeys(this._type,a),de=g?[`${a}Hover`,"hover",a,""]:[a,""],Te=Y.getOptionScopes(this.getDataset(),ne),Ue=Object.keys(ri.elements[a]),dt=Y.resolveNamedOptions(Te,Ue,()=>this.getContext(f,g),de);return dt.$shared&&(dt.$shared=N,_[w]=Object.freeze(To(dt,N))),dt}_resolveAnimations(a,c,f){const g=this.chart,_=this._cachedDataOpts,w=`animation-${c}`,A=_[w];if(A)return A;let N;if(!1!==g.options.animation){const ne=this.chart.config,de=ne.datasetAnimationScopeKeys(this._type,c),Te=ne.getOptionScopes(this.getDataset(),de);N=ne.createResolver(Te,this.getContext(a,f,c))}const Y=new Oa(g,N&&N.animations);return N&&N._cacheable&&(_[w]=Object.freeze(Y)),Y}getSharedOptions(a){if(a.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,c){return!c||_o(a)||this.chart._animationsDisabled}updateElement(a,c,f,g){_o(g)?Object.assign(a,f):this._resolveAnimations(c,g).update(a,f)}updateSharedOptions(a,c,f){a&&!_o(c)&&this._resolveAnimations(void 0,c).update(a,f)}_setStyle(a,c,f,g){a.active=g;const _=this.getStyle(c,g);this._resolveAnimations(c,f,g).update(a,{options:!g&&this.getSharedOptions(_)||_})}removeHoverStyle(a,c,f){this._setStyle(a,f,"active",!1)}setHoverStyle(a,c,f){this._setStyle(a,f,"active",!0)}_removeDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(a){const c=this._data,f=this._cachedMeta.data;for(const[A,N,Y]of this._syncList)this[A](N,Y);this._syncList=[];const g=f.length,_=c.length,w=Math.min(_,g);w&&this.parse(0,w),_>g?this._insertElements(g,_-g,a):_<g&&this._removeElements(_,g-_)}_insertElements(a,c,f=!0){const g=this._cachedMeta,_=g.data,w=a+c;let A;const N=Y=>{for(Y.length+=c,A=Y.length-1;A>=w;A--)Y[A]=Y[A-c]};for(N(_),A=a;A<w;++A)_[A]=new this.dataElementType;this._parsing&&N(g._parsed),this.parse(a,c),f&&this.updateElements(_,a,c,"reset")}updateElements(a,c,f,g){}_removeElements(a,c){const f=this._cachedMeta;if(this._parsing){const g=f._parsed.splice(a,c);f._stacked&&Io(f,g)}f.data.splice(a,c)}_sync(a){if(this._parsing)this._syncList.push(a);else{const[c,f,g]=a;this[c](f,g)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){const a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,c){c&&this._sync(["_removeElements",a,c]);const f=arguments.length-2;f&&this._sync(["_insertElements",a,f])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return u.defaults={},u})();function Wl(u){const l=u.iScale,a=function eo(u,l){if(!u._cache.$bar){const a=u.getMatchingVisibleMetas(l);let c=[];for(let f=0,g=a.length;f<g;f++)c=c.concat(a[f].controller.getAllParsedValues(u));u._cache.$bar=Fo(c.sort((f,g)=>f-g))}return u._cache.$bar}(l,u.type);let f,g,_,w,c=l._length;const A=()=>{32767===_||-32768===_||(vn(w)&&(c=Math.min(c,Math.abs(_-w)||c)),w=_)};for(f=0,g=a.length;f<g;++f)_=l.getPixelForValue(a[f]),A();for(w=void 0,f=0,g=l.ticks.length;f<g;++f)_=l.getPixelForTick(f),A();return c}function B(u,l,a,c){return pe(u)?function T(u,l,a,c){const f=a.parse(u[0],c),g=a.parse(u[1],c),_=Math.min(f,g),w=Math.max(f,g);let A=_,N=w;Math.abs(_)>Math.abs(w)&&(A=w,N=_),l[a.axis]=N,l._custom={barStart:A,barEnd:N,start:f,end:g,min:_,max:w}}(u,l,a,c):l[a.axis]=a.parse(u,c),l}function ie(u,l,a,c){const f=u.iScale,g=u.vScale,_=f.getLabels(),w=f===g,A=[];let N,Y,ne,de;for(N=a,Y=a+c;N<Y;++N)de=l[N],ne={},ne[f.axis]=w||f.parse(_[N],N),A.push(B(de,ne,g,N));return A}function he(u){return u&&void 0!==u.barStart&&void 0!==u.barEnd}function ot(u,l,a,c){let f=l.borderSkipped;const g={};if(!f)return void(u.borderSkipped=g);const{start:_,end:w,reverse:A,top:N,bottom:Y}=function Ie(u){let l,a,c,f,g;return u.horizontal?(l=u.base>u.x,a="left",c="right"):(l=u.base<u.y,a="bottom",c="top"),l?(f="end",g="start"):(f="start",g="end"),{start:a,end:c,reverse:l,top:f,bottom:g}}(u);"middle"===f&&a&&(u.enableBorderRadius=!0,(a._top||0)===c?f=N:(a._bottom||0)===c?f=Y:(g[Tt(Y,_,w,A)]=!0,f=N)),g[Tt(f,_,w,A)]=!0,u.borderSkipped=g}function Tt(u,l,a,c){return c?(u=function _n(u,l,a){return u===l?a:u===a?l:u}(u,l,a),u=Tn(u,a,l)):u=Tn(u,l,a),u}function Tn(u,l,a){return"start"===u?l:"end"===u?a:u}function Vn(u,{inflateAmount:l},a){u.inflateAmount="auto"===l?1===a?.33:0:l}Js.prototype.datasetElementType=null,Js.prototype.dataElementType=null;let pi=(()=>{class u extends Js{parsePrimitiveData(a,c,f,g){return ie(a,c,f,g)}parseArrayData(a,c,f,g){return ie(a,c,f,g)}parseObjectData(a,c,f,g){const{iScale:_,vScale:w}=a,{xAxisKey:A="x",yAxisKey:N="y"}=this._parsing,Y="x"===_.axis?A:N,ne="x"===w.axis?A:N,de=[];let Te,Ue,Ke,dt;for(Te=f,Ue=f+g;Te<Ue;++Te)dt=c[Te],Ke={},Ke[_.axis]=_.parse(mt(dt,Y),Te),de.push(B(mt(dt,ne),Ke,w,Te));return de}updateRangeFromParsed(a,c,f,g){super.updateRangeFromParsed(a,c,f,g);const _=f._custom;_&&c===this._cachedMeta.vScale&&(a.min=Math.min(a.min,_.min),a.max=Math.max(a.max,_.max))}getMaxOverflow(){return 0}getLabelAndValue(a){const c=this._cachedMeta,{iScale:f,vScale:g}=c,_=this.getParsed(a),w=_._custom,A=he(w)?"["+w.start+", "+w.end+"]":""+g.getLabelForValue(_[g.axis]);return{label:""+f.getLabelForValue(_[f.axis]),value:A}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(a){const c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,a)}updateElements(a,c,f,g){const _="reset"===g,{index:w,_cachedMeta:{vScale:A}}=this,N=A.getBasePixel(),Y=A.isHorizontal(),ne=this._getRuler(),de=this.resolveDataElementOptions(c,g),Te=this.getSharedOptions(de),Ue=this.includeOptions(g,Te);this.updateSharedOptions(Te,g,de);for(let Ke=c;Ke<c+f;Ke++){const dt=this.getParsed(Ke),gt=_||ge(dt[A.axis])?{base:N,head:N}:this._calculateBarValuePixels(Ke),Ut=this._calculateBarIndexPixels(Ke,ne),tn=(dt._stacks||{})[A.axis],$t={horizontal:Y,base:gt.base,enableBorderRadius:!tn||he(dt._custom)||w===tn._top||w===tn._bottom,x:Y?gt.head:Ut.center,y:Y?Ut.center:gt.head,height:Y?Ut.size:Math.abs(gt.size),width:Y?Math.abs(gt.size):Ut.size};Ue&&($t.options=Te||this.resolveDataElementOptions(Ke,a[Ke].active?"active":g));const jt=$t.options||a[Ke].options;ot($t,jt,tn,w),Vn($t,jt,ne.ratio),this.updateElement(a[Ke],Ke,$t,g)}}_getStacks(a,c){const g=this._cachedMeta.iScale,_=g.getMatchingVisibleMetas(this._type),w=g.options.stacked,A=_.length,N=[];let Y,ne;for(Y=0;Y<A;++Y)if(ne=_[Y],ne.controller.options.grouped){if(void 0!==c){const de=ne.controller.getParsed(c)[ne.controller._cachedMeta.vScale.axis];if(ge(de)||isNaN(de))continue}if((!1===w||-1===N.indexOf(ne.stack)||void 0===w&&void 0===ne.stack)&&N.push(ne.stack),ne.index===a)break}return N.length||N.push(void 0),N}_getStackCount(a){return this._getStacks(void 0,a).length}_getStackIndex(a,c,f){const g=this._getStacks(a,f),_=void 0!==c?g.indexOf(c):-1;return-1===_?g.length-1:_}_getRuler(){const a=this.options,c=this._cachedMeta,f=c.iScale,g=[];let _,w;for(_=0,w=c.data.length;_<w;++_)g.push(f.getPixelForValue(this.getParsed(_)[f.axis],_));const A=a.barThickness;return{min:A||Wl(c),pixels:g,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:a.grouped,ratio:A?1:a.categoryPercentage*a.barPercentage}}_calculateBarValuePixels(a){const{_cachedMeta:{vScale:c,_stacked:f},options:{base:g,minBarLength:_}}=this,w=g||0,A=this.getParsed(a),N=A._custom,Y=he(N);let Ue,Ke,ne=A[c.axis],de=0,Te=f?this.applyStack(c,A,f):ne;Te!==ne&&(de=Te-ne,Te=ne),Y&&(ne=N.barStart,Te=N.barEnd-N.barStart,0!==ne&&Un(ne)!==Un(N.barEnd)&&(de=0),de+=ne);const dt=ge(g)||Y?de:g;let gt=c.getPixelForValue(dt);if(Ue=this.chart.getDataVisibility(a)?c.getPixelForValue(de+Te):gt,Ke=Ue-gt,Math.abs(Ke)<_){Ke=function Ne(u,l,a){return 0!==u?Un(u):(l.isHorizontal()?1:-1)*(l.min>=a?1:-1)}(Ke,c,w)*_,ne===w&&(gt-=Ke/2);const Ut=c.getPixelForDecimal(0),tn=c.getPixelForDecimal(1),$t=Math.min(Ut,tn),jt=Math.max(Ut,tn);gt=Math.max(Math.min(gt,jt),$t),Ue=gt+Ke}if(gt===c.getPixelForValue(w)){const Ut=Un(Ke)*c.getLineWidthForValue(w)/2;gt+=Ut,Ke-=Ut}return{size:Ke,base:gt,head:Ue,center:Ue+Ke/2}}_calculateBarIndexPixels(a,c){const f=c.scale,g=this.options,_=g.skipNull,w=it(g.maxBarThickness,1/0);let A,N;if(c.grouped){const Y=_?this._getStackCount(a):c.stackCount,ne="flex"===g.barThickness?function D(u,l,a,c){const f=l.pixels,g=f[u];let _=u>0?f[u-1]:null,w=u<f.length-1?f[u+1]:null;const A=a.categoryPercentage;null===_&&(_=g-(null===w?l.end-l.start:w-g)),null===w&&(w=g+g-_);const N=g-(g-Math.min(_,w))/2*A;return{chunk:Math.abs(w-_)/2*A/c,ratio:a.barPercentage,start:N}}(a,c,g,Y):function W(u,l,a,c){const f=a.barThickness;let g,_;return ge(f)?(g=l.min*a.categoryPercentage,_=a.barPercentage):(g=f*c,_=1),{chunk:g/c,ratio:_,start:l.pixels[u]-g/2}}(a,c,g,Y),de=this._getStackIndex(this.index,this._cachedMeta.stack,_?a:void 0);A=ne.start+ne.chunk*de+ne.chunk/2,N=Math.min(w,ne.chunk*ne.ratio)}else A=f.getPixelForValue(this.getParsed(a)[f.axis],a),N=Math.min(w,c.min*c.ratio);return{base:A-N/2,head:A+N/2,center:A,size:N}}draw(){const a=this._cachedMeta,c=a.vScale,f=a.data,g=f.length;let _=0;for(;_<g;++_)null!==this.getParsed(_)[c.axis]&&f[_].draw(this._ctx)}}return u.id="bar",u.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},u.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},u})(),Fn=(()=>{class u extends Js{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(a,c,f,g){const _=super.parsePrimitiveData(a,c,f,g);for(let w=0;w<_.length;w++)_[w]._custom=this.resolveDataElementOptions(w+f).radius;return _}parseArrayData(a,c,f,g){const _=super.parseArrayData(a,c,f,g);for(let w=0;w<_.length;w++)_[w]._custom=it(c[f+w][2],this.resolveDataElementOptions(w+f).radius);return _}parseObjectData(a,c,f,g){const _=super.parseObjectData(a,c,f,g);for(let w=0;w<_.length;w++){const A=c[f+w];_[w]._custom=it(A&&A.r&&+A.r,this.resolveDataElementOptions(w+f).radius)}return _}getMaxOverflow(){const a=this._cachedMeta.data;let c=0;for(let f=a.length-1;f>=0;--f)c=Math.max(c,a[f].size(this.resolveDataElementOptions(f))/2);return c>0&&c}getLabelAndValue(a){const c=this._cachedMeta,{xScale:f,yScale:g}=c,_=this.getParsed(a),w=f.getLabelForValue(_.x),A=g.getLabelForValue(_.y),N=_._custom;return{label:c.label,value:"("+w+", "+A+(N?", "+N:"")+")"}}update(a){const c=this._cachedMeta.data;this.updateElements(c,0,c.length,a)}updateElements(a,c,f,g){const _="reset"===g,{iScale:w,vScale:A}=this._cachedMeta,N=this.resolveDataElementOptions(c,g),Y=this.getSharedOptions(N),ne=this.includeOptions(g,Y),de=w.axis,Te=A.axis;for(let Ue=c;Ue<c+f;Ue++){const Ke=a[Ue],dt=!_&&this.getParsed(Ue),gt={},Ut=gt[de]=_?w.getPixelForDecimal(.5):w.getPixelForValue(dt[de]),tn=gt[Te]=_?A.getBasePixel():A.getPixelForValue(dt[Te]);gt.skip=isNaN(Ut)||isNaN(tn),ne&&(gt.options=this.resolveDataElementOptions(Ue,Ke.active?"active":g),_&&(gt.options.radius=0)),this.updateElement(Ke,Ue,gt,g)}this.updateSharedOptions(Y,g,N)}resolveDataElementOptions(a,c){const f=this.getParsed(a);let g=super.resolveDataElementOptions(a,c);g.$shared&&(g=Object.assign({},g,{$shared:!1}));const _=g.radius;return"active"!==c&&(g.radius=0),g.radius+=it(f&&f._custom,_),g}}return u.id="bubble",u.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},u.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},u})(),Ui=(()=>{class u extends Js{constructor(a,c){super(a,c),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(a,c){const f=this.getDataset().data,g=this._cachedMeta;if(!1===this._parsing)g._parsed=f;else{let w,A,_=N=>+f[N];if(Oe(f[a])){const{key:N="value"}=this._parsing;_=Y=>+mt(f[Y],N)}for(w=a,A=a+c;w<A;++w)g._parsed[w]=_(w)}}_getRotation(){return dn(this.options.rotation-90)}_getCircumference(){return dn(this.options.circumference)}_getRotationExtents(){let a=on,c=-on;for(let f=0;f<this.chart.data.datasets.length;++f)if(this.chart.isDatasetVisible(f)){const g=this.chart.getDatasetMeta(f).controller,_=g._getRotation(),w=g._getCircumference();a=Math.min(a,_),c=Math.max(c,_+w)}return{rotation:a,circumference:c-a}}update(a){const c=this.chart,{chartArea:f}=c,g=this._cachedMeta,_=g.data,w=this.getMaxBorderWidth()+this.getMaxOffset(_)+this.options.spacing,A=Math.max((Math.min(f.width,f.height)-w)/2,0),N=Math.min(((u,l)=>"string"==typeof u&&u.endsWith("%")?parseFloat(u)/100:u/l)(this.options.cutout,A),1),Y=this._getRingWeight(this.index),{circumference:ne,rotation:de}=this._getRotationExtents(),{ratioX:Te,ratioY:Ue,offsetX:Ke,offsetY:dt}=function li(u,l,a){let c=1,f=1,g=0,_=0;if(l<on){const w=u,A=w+l,N=Math.cos(w),Y=Math.sin(w),ne=Math.cos(A),de=Math.sin(A),Te=(tn,$t,jt)=>Ji(tn,w,A,!0)?1:Math.max($t,$t*a,jt,jt*a),Ue=(tn,$t,jt)=>Ji(tn,w,A,!0)?-1:Math.min($t,$t*a,jt,jt*a),Ke=Te(0,N,ne),dt=Te(Ve,Y,de),gt=Ue(vt,N,ne),Ut=Ue(vt+Ve,Y,de);c=(Ke-gt)/2,f=(dt-Ut)/2,g=-(Ke+gt)/2,_=-(dt+Ut)/2}return{ratioX:c,ratioY:f,offsetX:g,offsetY:_}}(de,ne,N),tn=Math.max(Math.min((f.width-w)/Te,(f.height-w)/Ue)/2,0),$t=yt(this.options.radius,tn),Pn=($t-Math.max($t*N,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Ke*$t,this.offsetY=dt*$t,g.total=this.calculateTotal(),this.outerRadius=$t-Pn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Pn*Y,0),this.updateElements(_,0,_.length,a)}_circumference(a,c){const f=this.options,g=this._cachedMeta,_=this._getCircumference();return c&&f.animation.animateRotate||!this.chart.getDataVisibility(a)||null===g._parsed[a]||g.data[a].hidden?0:this.calculateCircumference(g._parsed[a]*_/on)}updateElements(a,c,f,g){const _="reset"===g,w=this.chart,A=w.chartArea,ne=(A.left+A.right)/2,de=(A.top+A.bottom)/2,Te=_&&w.options.animation.animateScale,Ue=Te?0:this.innerRadius,Ke=Te?0:this.outerRadius,dt=this.resolveDataElementOptions(c,g),gt=this.getSharedOptions(dt),Ut=this.includeOptions(g,gt);let $t,tn=this._getRotation();for($t=0;$t<c;++$t)tn+=this._circumference($t,_);for($t=c;$t<c+f;++$t){const jt=this._circumference($t,_),Pn=a[$t],Nn={x:ne+this.offsetX,y:de+this.offsetY,startAngle:tn,endAngle:tn+jt,circumference:jt,outerRadius:Ke,innerRadius:Ue};Ut&&(Nn.options=gt||this.resolveDataElementOptions($t,Pn.active?"active":g)),tn+=jt,this.updateElement(Pn,$t,Nn,g)}this.updateSharedOptions(gt,g,dt)}calculateTotal(){const a=this._cachedMeta,c=a.data;let g,f=0;for(g=0;g<c.length;g++){const _=a._parsed[g];null!==_&&!isNaN(_)&&this.chart.getDataVisibility(g)&&!c[g].hidden&&(f+=Math.abs(_))}return f}calculateCircumference(a){const c=this._cachedMeta.total;return c>0&&!isNaN(a)?on*(Math.abs(a)/c):0}getLabelAndValue(a){const f=this.chart,g=f.data.labels||[],_=Ko(this._cachedMeta._parsed[a],f.options.locale);return{label:g[a]||"",value:_}}getMaxBorderWidth(a){let c=0;const f=this.chart;let g,_,w,A,N;if(!a)for(g=0,_=f.data.datasets.length;g<_;++g)if(f.isDatasetVisible(g)){w=f.getDatasetMeta(g),a=w.data,A=w.controller;break}if(!a)return 0;for(g=0,_=a.length;g<_;++g)N=A.resolveDataElementOptions(g),"inner"!==N.borderAlign&&(c=Math.max(c,N.borderWidth||0,N.hoverBorderWidth||0));return c}getMaxOffset(a){let c=0;for(let f=0,g=a.length;f<g;++f){const _=this.resolveDataElementOptions(f);c=Math.max(c,_.offset||0,_.hoverOffset||0)}return c}_getRingWeightOffset(a){let c=0;for(let f=0;f<a;++f)this.chart.isDatasetVisible(f)&&(c+=this._getRingWeight(f));return c}_getRingWeight(a){return Math.max(it(this.chart.data.datasets[a].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return u.id="doughnut",u.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},u.descriptors={_scriptable:l=>"spacing"!==l,_indexable:l=>"spacing"!==l},u.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const a=l.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:c}}=l.legend.options;return a.labels.map((f,g)=>{const w=l.getDatasetMeta(0).controller.getStyle(g);return{text:f,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,lineWidth:w.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(g),index:g}})}return[]}},onClick(l,a,c){c.chart.toggleDataVisibility(a.index),c.chart.update()}},tooltip:{callbacks:{title:()=>"",label(l){let a=l.label;const c=": "+l.formattedValue;return pe(a)?(a=a.slice(),a[0]+=c):a+=c,a}}}}},u})(),Lt=(()=>{class u extends Js{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(a){const c=this._cachedMeta,{dataset:f,data:g=[],_dataset:_}=c,w=this.chart._animationsDisabled;let{start:A,count:N}=function ai(u,l,a){const c=l.length;let f=0,g=c;if(u._sorted){const{iScale:_,_parsed:w}=u,A=_.axis,{min:N,max:Y,minDefined:ne,maxDefined:de}=_.getUserBounds();ne&&(f=Ni(Math.min(vs(w,_.axis,N).lo,a?c:vs(l,A,_.getPixelForValue(N)).lo),0,c-1)),g=de?Ni(Math.max(vs(w,_.axis,Y).hi+1,a?0:vs(l,A,_.getPixelForValue(Y)).hi+1),f,c)-f:c-f}return{start:f,count:g}}(c,g,w);this._drawStart=A,this._drawCount=N,function Br(u){const{xScale:l,yScale:a,_scaleRanges:c}=u,f={xmin:l.min,xmax:l.max,ymin:a.min,ymax:a.max};if(!c)return u._scaleRanges=f,!0;const g=c.xmin!==l.min||c.xmax!==l.max||c.ymin!==a.min||c.ymax!==a.max;return Object.assign(c,f),g}(c)&&(A=0,N=g.length),f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!_._decimated,f.points=g;const Y=this.resolveDatasetElementOptions(a);this.options.showLine||(Y.borderWidth=0),Y.segment=this.options.segment,this.updateElement(f,void 0,{animated:!w,options:Y},a),this.updateElements(g,A,N,a)}updateElements(a,c,f,g){const _="reset"===g,{iScale:w,vScale:A,_stacked:N,_dataset:Y}=this._cachedMeta,ne=this.resolveDataElementOptions(c,g),de=this.getSharedOptions(ne),Te=this.includeOptions(g,de),Ue=w.axis,Ke=A.axis,{spanGaps:dt,segment:gt}=this.options,Ut=Ri(dt)?dt:Number.POSITIVE_INFINITY,tn=this.chart._animationsDisabled||_||"none"===g;let $t=c>0&&this.getParsed(c-1);for(let jt=c;jt<c+f;++jt){const Pn=a[jt],Nn=this.getParsed(jt),Yn=tn?Pn:{},ii=ge(Nn[Ke]),Ir=Yn[Ue]=w.getPixelForValue(Nn[Ue],jt),$i=Yn[Ke]=_||ii?A.getBasePixel():A.getPixelForValue(N?this.applyStack(A,Nn,N):Nn[Ke],jt);Yn.skip=isNaN(Ir)||isNaN($i)||ii,Yn.stop=jt>0&&Math.abs(Nn[Ue]-$t[Ue])>Ut,gt&&(Yn.parsed=Nn,Yn.raw=Y.data[jt]),Te&&(Yn.options=de||this.resolveDataElementOptions(jt,Pn.active?"active":g)),tn||this.updateElement(Pn,jt,Yn,g),$t=Nn}this.updateSharedOptions(de,g,ne)}getMaxOverflow(){const a=this._cachedMeta,c=a.dataset,f=c.options&&c.options.borderWidth||0,g=a.data||[];if(!g.length)return f;const _=g[0].size(this.resolveDataElementOptions(0)),w=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(f,_,w)/2}draw(){const a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}}return u.id="line",u.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},u.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},u})();var k=Object.freeze({__proto__:null,BarController:pi,BubbleController:Fn,DoughnutController:Ui,LineController:Lt,PolarAreaController:(()=>{class u extends Js{constructor(a,c){super(a,c),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){const f=this.chart,g=f.data.labels||[],_=Ko(this._cachedMeta._parsed[a].r,f.options.locale);return{label:g[a]||"",value:_}}parseObjectData(a,c,f,g){return z.bind(this)(a,c,f,g)}update(a){const c=this._cachedMeta.data;this._updateRadius(),this.updateElements(c,0,c.length,a)}getMinMax(){const c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((f,g)=>{const _=this.getParsed(g).r;!isNaN(_)&&this.chart.getDataVisibility(g)&&(_<c.min&&(c.min=_),_>c.max&&(c.max=_))}),c}_updateRadius(){const a=this.chart,c=a.chartArea,f=a.options,g=Math.min(c.right-c.left,c.bottom-c.top),_=Math.max(g/2,0),A=(_-Math.max(f.cutoutPercentage?_/100*f.cutoutPercentage:1,0))/a.getVisibleDatasetCount();this.outerRadius=_-A*this.index,this.innerRadius=this.outerRadius-A}updateElements(a,c,f,g){const _="reset"===g,w=this.chart,N=w.options.animation,Y=this._cachedMeta.rScale,ne=Y.xCenter,de=Y.yCenter,Te=Y.getIndexAngle(0)-.5*vt;let Ke,Ue=Te;const dt=360/this.countVisibleElements();for(Ke=0;Ke<c;++Ke)Ue+=this._computeAngle(Ke,g,dt);for(Ke=c;Ke<c+f;Ke++){const gt=a[Ke];let Ut=Ue,tn=Ue+this._computeAngle(Ke,g,dt),$t=w.getDataVisibility(Ke)?Y.getDistanceFromCenterForValue(this.getParsed(Ke).r):0;Ue=tn,_&&(N.animateScale&&($t=0),N.animateRotate&&(Ut=tn=Te));const jt={x:ne,y:de,innerRadius:0,outerRadius:$t,startAngle:Ut,endAngle:tn,options:this.resolveDataElementOptions(Ke,gt.active?"active":g)};this.updateElement(gt,Ke,jt,g)}}countVisibleElements(){let c=0;return this._cachedMeta.data.forEach((f,g)=>{!isNaN(this.getParsed(g).r)&&this.chart.getDataVisibility(g)&&c++}),c}_computeAngle(a,c,f){return this.chart.getDataVisibility(a)?dn(this.resolveDataElementOptions(a,c).angle||f):0}}return u.id="polarArea",u.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},u.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const a=l.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:c}}=l.legend.options;return a.labels.map((f,g)=>{const w=l.getDatasetMeta(0).controller.getStyle(g);return{text:f,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,lineWidth:w.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(g),index:g}})}return[]}},onClick(l,a,c){c.chart.toggleDataVisibility(a.index),c.chart.update()}},tooltip:{callbacks:{title:()=>"",label:l=>l.chart.data.labels[l.dataIndex]+": "+l.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},u})(),PieController:(()=>{class u extends Ui{}return u.id="pie",u.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},u})(),RadarController:(()=>{class u extends Js{getLabelAndValue(a){const c=this._cachedMeta.vScale,f=this.getParsed(a);return{label:c.getLabels()[a],value:""+c.getLabelForValue(f[c.axis])}}parseObjectData(a,c,f,g){return z.bind(this)(a,c,f,g)}update(a){const c=this._cachedMeta,f=c.dataset,g=c.data||[],_=c.iScale.getLabels();if(f.points=g,"resize"!==a){const w=this.resolveDatasetElementOptions(a);this.options.showLine||(w.borderWidth=0),this.updateElement(f,void 0,{_loop:!0,_fullLoop:_.length===g.length,options:w},a)}this.updateElements(g,0,g.length,a)}updateElements(a,c,f,g){const _=this._cachedMeta.rScale,w="reset"===g;for(let A=c;A<c+f;A++){const N=a[A],Y=this.resolveDataElementOptions(A,N.active?"active":g),ne=_.getPointPositionForValue(A,this.getParsed(A).r),de=w?_.xCenter:ne.x,Te=w?_.yCenter:ne.y,Ue={x:de,y:Te,angle:ne.angle,skip:isNaN(de)||isNaN(Te),options:Y};this.updateElement(N,A,Ue,g)}}}return u.id="radar",u.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},u.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},u})(),ScatterController:(()=>{class u extends Lt{}return u.id="scatter",u.defaults={showLine:!1,fill:!1},u.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:l=>"("+l.label+", "+l.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},u})()});function L(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var me={_date:(()=>{class u{constructor(a){this.options=a||{}}formats(){return L()}parse(a,c){return L()}format(a,c){return L()}add(a,c,f){return L()}diff(a,c,f){return L()}startOf(a,c,f){return L()}endOf(a,c){return L()}}return u.override=function(l){Object.assign(u.prototype,l)},u})()};function Be(u,l,a,c){const{controller:f,data:g,_sorted:_}=u,w=f._cachedMeta.iScale;if(w&&l===w.axis&&"r"!==l&&_&&g.length){const A=w._reversePixels?io:vs;if(!c)return A(g,l,a);if(f._sharedOptions){const N=g[0],Y="function"==typeof N.getRange&&N.getRange(l);if(Y){const ne=A(g,l,a-Y),de=A(g,l,a+Y);return{lo:ne.lo,hi:de.hi}}}}return{lo:0,hi:g.length-1}}function Et(u,l,a,c,f){const g=u.getSortedVisibleDatasetMetas(),_=a[l];for(let w=0,A=g.length;w<A;++w){const{index:N,data:Y}=g[w],{lo:ne,hi:de}=Be(g[w],l,_,f);for(let Te=ne;Te<=de;++Te){const Ue=Y[Te];Ue.skip||c(Ue,N,Te)}}}function vi(u,l,a,c,f){const g=[];return!f&&!u.isPointInArea(l)||Et(u,a,l,function(w,A,N){!f&&!Gr(w,u.chartArea,0)||w.inRange(l.x,l.y,c)&&g.push({element:w,datasetIndex:A,index:N})},!0),g}function rn(u,l,a,c,f,g){return g||u.isPointInArea(l)?"r"!==a||c?function cn(u,l,a,c,f,g){let _=[];const w=function gn(u){const l=-1!==u.indexOf("x"),a=-1!==u.indexOf("y");return function(c,f){const g=l?Math.abs(c.x-f.x):0,_=a?Math.abs(c.y-f.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(_,2))}}(a);let A=Number.POSITIVE_INFINITY;return Et(u,a,l,function N(Y,ne,de){const Te=Y.inRange(l.x,l.y,f);if(c&&!Te)return;const Ue=Y.getCenterPoint(f);if(!g&&!u.isPointInArea(Ue)&&!Te)return;const dt=w(l,Ue);dt<A?(_=[{element:Y,datasetIndex:ne,index:de}],A=dt):dt===A&&_.push({element:Y,datasetIndex:ne,index:de})}),_}(u,l,a,c,f,g):function Pt(u,l,a,c){let f=[];return Et(u,a,l,function g(_,w,A){const{startAngle:N,endAngle:Y}=_.getProps(["startAngle","endAngle"],c),{angle:ne}=Zn(_,{x:l.x,y:l.y});Ji(ne,N,Y)&&f.push({element:_,datasetIndex:w,index:A})}),f}(u,l,a,f):[]}function ci(u,l,a,c,f){const g=[],_="x"===a?"inXRange":"inYRange";let w=!1;return Et(u,a,l,(A,N,Y)=>{A[_](l[a],f)&&(g.push({element:A,datasetIndex:N,index:Y}),w=w||A.inRange(l.x,l.y,f))}),c&&!w?[]:g}var fr={evaluateInteractionItems:Et,modes:{index(u,l,a,c){const f=q(l,u),g=a.axis||"x",_=a.includeInvisible||!1,w=a.intersect?vi(u,f,g,c,_):rn(u,f,g,!1,c,_),A=[];return w.length?(u.getSortedVisibleDatasetMetas().forEach(N=>{const Y=w[0].index,ne=N.data[Y];ne&&!ne.skip&&A.push({element:ne,datasetIndex:N.index,index:Y})}),A):[]},dataset(u,l,a,c){const f=q(l,u),g=a.axis||"xy",_=a.includeInvisible||!1;let w=a.intersect?vi(u,f,g,c,_):rn(u,f,g,!1,c,_);if(w.length>0){const A=w[0].datasetIndex,N=u.getDatasetMeta(A).data;w=[];for(let Y=0;Y<N.length;++Y)w.push({element:N[Y],datasetIndex:A,index:Y})}return w},point:(u,l,a,c)=>vi(u,q(l,u),a.axis||"xy",c,a.includeInvisible||!1),nearest:(u,l,a,c)=>rn(u,q(l,u),a.axis||"xy",a.intersect,c,a.includeInvisible||!1),x:(u,l,a,c)=>ci(u,q(l,u),"x",a.intersect,c),y:(u,l,a,c)=>ci(u,q(l,u),"y",a.intersect,c)}};const pr=["left","top","right","bottom"];function xr(u,l){return u.filter(a=>a.pos===l)}function ps(u,l){return u.filter(a=>-1===pr.indexOf(a.pos)&&a.box.axis===l)}function mn(u,l){return u.sort((a,c)=>{const f=l?c:a,g=l?a:c;return f.weight===g.weight?f.index-g.index:f.weight-g.weight})}function ua(u,l,a,c){return Math.max(u[a],l[a])+Math.max(u[c],l[c])}function Qi(u,l){u.top=Math.max(u.top,l.top),u.left=Math.max(u.left,l.left),u.bottom=Math.max(u.bottom,l.bottom),u.right=Math.max(u.right,l.right)}function Kl(u,l,a,c){const{pos:f,box:g}=a,_=u.maxPadding;if(!Oe(f)){a.size&&(u[f]-=a.size);const ne=c[a.stack]||{size:0,count:1};ne.size=Math.max(ne.size,a.horizontal?g.height:g.width),a.size=ne.size/ne.count,u[f]+=a.size}g.getPadding&&Qi(_,g.getPadding());const w=Math.max(0,l.outerWidth-ua(_,u,"left","right")),A=Math.max(0,l.outerHeight-ua(_,u,"top","bottom")),N=w!==u.w,Y=A!==u.h;return u.w=w,u.h=A,a.horizontal?{same:N,other:Y}:{same:Y,other:N}}function lr(u,l){const a=l.maxPadding;return function c(f){const g={left:0,top:0,right:0,bottom:0};return f.forEach(_=>{g[_]=Math.max(l[_],a[_])}),g}(u?["left","right"]:["top","bottom"])}function Cl(u,l,a,c){const f=[];let g,_,w,A,N,Y;for(g=0,_=u.length,N=0;g<_;++g){w=u[g],A=w.box,A.update(w.width||l.w,w.height||l.h,lr(w.horizontal,l));const{same:ne,other:de}=Kl(l,a,w,c);N|=ne&&f.length,Y=Y||de,A.fullSize||f.push(w)}return N&&Cl(f,l,a,c)||Y}function Ss(u,l,a,c,f){u.top=a,u.left=l,u.right=l+c,u.bottom=a+f,u.width=c,u.height=f}function Il(u,l,a,c){const f=a.padding;let{x:g,y:_}=l;for(const w of u){const A=w.box,N=c[w.stack]||{count:1,placed:0,weight:1},Y=w.stackWeight/N.weight||1;if(w.horizontal){const ne=l.w*Y,de=N.size||A.height;vn(N.start)&&(_=N.start),A.fullSize?Ss(A,f.left,_,a.outerWidth-f.right-f.left,de):Ss(A,l.left+N.placed,_,ne,de),N.start=_,N.placed+=ne,_=A.bottom}else{const ne=l.h*Y,de=N.size||A.width;vn(N.start)&&(g=N.start),A.fullSize?Ss(A,g,f.top,de,a.outerHeight-f.bottom-f.top):Ss(A,g,l.top+N.placed,de,ne),N.start=g,N.placed+=ne,g=A.right}}l.x=g,l.y=_}ri.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var So={addBox(u,l){u.boxes||(u.boxes=[]),l.fullSize=l.fullSize||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw(a){l.draw(a)}}]},u.boxes.push(l)},removeBox(u,l){const a=u.boxes?u.boxes.indexOf(l):-1;-1!==a&&u.boxes.splice(a,1)},configure(u,l,a){l.fullSize=a.fullSize,l.position=a.position,l.weight=a.weight},update(u,l,a,c){if(!u)return;const f=Li(u.options.layout.padding),g=Math.max(l-f.width,0),_=Math.max(a-f.height,0),w=function jn(u){const l=function Na(u){const l=[];let a,c,f,g,_,w;for(a=0,c=(u||[]).length;a<c;++a)f=u[a],({position:g,options:{stack:_,stackWeight:w=1}}=f),l.push({index:a,box:f,pos:g,horizontal:f.isHorizontal(),weight:f.weight,stack:_&&g+_,stackWeight:w});return l}(u),a=mn(l.filter(N=>N.box.fullSize),!0),c=mn(xr(l,"left"),!0),f=mn(xr(l,"right")),g=mn(xr(l,"top"),!0),_=mn(xr(l,"bottom")),w=ps(l,"x"),A=ps(l,"y");return{fullSize:a,leftAndTop:c.concat(g),rightAndBottom:f.concat(A).concat(_).concat(w),chartArea:xr(l,"chartArea"),vertical:c.concat(f).concat(A),horizontal:g.concat(_).concat(w)}}(u.boxes),A=w.vertical,N=w.horizontal;Fe(u.boxes,Ke=>{"function"==typeof Ke.beforeLayout&&Ke.beforeLayout()});const Y=A.reduce((Ke,dt)=>dt.box.options&&!1===dt.box.options.display?Ke:Ke+1,0)||1,ne=Object.freeze({outerWidth:l,outerHeight:a,padding:f,availableWidth:g,availableHeight:_,vBoxMaxWidth:g/2/Y,hBoxMaxHeight:_/2}),de=Object.assign({},f);Qi(de,Li(c));const Te=Object.assign({maxPadding:de,w:g,h:_,x:f.left,y:f.top},f),Ue=function Oi(u,l){const a=function Dl(u){const l={};for(const a of u){const{stack:c,pos:f,stackWeight:g}=a;if(!c||!pr.includes(f))continue;const _=l[c]||(l[c]={count:0,placed:0,weight:0,size:0});_.count++,_.weight+=g}return l}(u),{vBoxMaxWidth:c,hBoxMaxHeight:f}=l;let g,_,w;for(g=0,_=u.length;g<_;++g){w=u[g];const{fullSize:A}=w.box,N=a[w.stack],Y=N&&w.stackWeight/N.weight;w.horizontal?(w.width=Y?Y*c:A&&l.availableWidth,w.height=f):(w.width=c,w.height=Y?Y*f:A&&l.availableHeight)}return a}(A.concat(N),ne);Cl(w.fullSize,Te,ne,Ue),Cl(A,Te,ne,Ue),Cl(N,Te,ne,Ue)&&Cl(A,Te,ne,Ue),function Gu(u){const l=u.maxPadding;function a(c){const f=Math.max(l[c]-u[c],0);return u[c]+=f,f}u.y+=a("top"),u.x+=a("left"),a("right"),a("bottom")}(Te),Il(w.leftAndTop,Te,ne,Ue),Te.x+=Te.w,Te.y+=Te.h,Il(w.rightAndBottom,Te,ne,Ue),u.chartArea={left:Te.left,top:Te.top,right:Te.left+Te.w,bottom:Te.top+Te.h,height:Te.h,width:Te.w},Fe(w.chartArea,Ke=>{const dt=Ke.box;Object.assign(dt,u.chartArea),dt.update(Te.w,Te.h,{left:0,top:0,right:0,bottom:0})})}};class Kr{acquireContext(l,a){}releaseContext(l){return!1}addEventListener(l,a,c){}removeEventListener(l,a,c){}getDevicePixelRatio(){return 1}getMaximumSize(l,a,c,f){return a=Math.max(0,a||l.width),c=c||l.height,{width:a,height:Math.max(0,f?Math.floor(a/f):c)}}isAttached(l){return!0}updateConfig(l){}}class Nd extends Kr{acquireContext(l){return l&&l.getContext&&l.getContext("2d")||null}updateConfig(l){l.options.animation=!1}}const br="$chartjs",os={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Go=u=>null===u||""===u,ql=!!Cn&&{passive:!0};function Xo(u,l,a){u.canvas.removeEventListener(l,a,ql)}function lo(u,l){for(const a of u)if(a===l||a.contains(l))return!0}function Ao(u,l,a){const c=u.canvas,f=new MutationObserver(g=>{let _=!1;for(const w of g)_=_||lo(w.addedNodes,c),_=_&&!lo(w.removedNodes,c);_&&a()});return f.observe(document,{childList:!0,subtree:!0}),f}function ca(u,l,a){const c=u.canvas,f=new MutationObserver(g=>{let _=!1;for(const w of g)_=_||lo(w.removedNodes,c),_=_&&!lo(w.addedNodes,c);_&&a()});return f.observe(document,{childList:!0,subtree:!0}),f}const an=new Map;let Zl=0;function mu(){const u=window.devicePixelRatio;u!==Zl&&(Zl=u,an.forEach((l,a)=>{a.currentDevicePixelRatio!==u&&l()}))}function uo(u,l,a){const c=u.canvas,f=c&&Vi(c);if(!f)return;const g=ue((w,A)=>{const N=f.clientWidth;a(w,A),N<f.clientWidth&&a()},window),_=new ResizeObserver(w=>{const A=w[0],N=A.contentRect.width,Y=A.contentRect.height;0===N&&0===Y||g(N,Y)});return _.observe(f),function qa(u,l){an.size||window.addEventListener("resize",mu),an.set(u,l)}(u,g),_}function da(u,l,a){a&&a.disconnect(),"resize"===l&&function Jo(u){an.delete(u),an.size||window.removeEventListener("resize",mu)}(u)}function ol(u,l,a){const c=u.canvas,f=ue(g=>{null!==u.ctx&&a(function Ea(u,l){const a=os[u.type]||u.type,{x:c,y:f}=q(u,l);return{type:a,chart:l,native:u,x:void 0!==c?c:null,y:void 0!==f?f:null}}(g,u))},u,g=>{const _=g[0];return[_,_.offsetX,_.offsetY]});return function Us(u,l,a){u.addEventListener(l,a,ql)}(c,l,f),f}class al extends Kr{acquireContext(l,a){const c=l&&l.getContext&&l.getContext("2d");return c&&c.canvas===l?(function fc(u,l){const a=u.style,c=u.getAttribute("height"),f=u.getAttribute("width");if(u[br]={initial:{height:c,width:f,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",Go(f)){const g=zn(u,"width");void 0!==g&&(u.width=g)}if(Go(c))if(""===u.style.height)u.height=u.width/(l||2);else{const g=zn(u,"height");void 0!==g&&(u.height=g)}}(l,a),c):null}releaseContext(l){const a=l.canvas;if(!a[br])return!1;const c=a[br].initial;["height","width"].forEach(g=>{const _=c[g];ge(_)?a.removeAttribute(g):a.setAttribute(g,_)});const f=c.style||{};return Object.keys(f).forEach(g=>{a.style[g]=f[g]}),a.width=a.width,delete a[br],!0}addEventListener(l,a,c){this.removeEventListener(l,a),(l.$proxies||(l.$proxies={}))[a]=({attach:Ao,detach:ca,resize:uo}[a]||ol)(l,a,c)}removeEventListener(l,a){const c=l.$proxies||(l.$proxies={}),f=c[a];f&&(({attach:da,detach:da,resize:da}[a]||Xo)(l,a,f),c[a]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(l,a,c,f){return function Q(u,l,a,c){const f=Cr(u),g=Is(f,"margin"),_=bs(f.maxWidth,u,"clientWidth")||Dt,w=bs(f.maxHeight,u,"clientHeight")||Dt,A=function $(u,l,a){let c,f;if(void 0===l||void 0===a){const g=Vi(u);if(g){const _=g.getBoundingClientRect(),w=Cr(g),A=Is(w,"border","width"),N=Is(w,"padding");l=_.width-N.width-A.width,a=_.height-N.height-A.height,c=bs(w.maxWidth,g,"clientWidth"),f=bs(w.maxHeight,g,"clientHeight")}else l=u.clientWidth,a=u.clientHeight}return{width:l,height:a,maxWidth:c||Dt,maxHeight:f||Dt}}(u,l,a);let{width:N,height:Y}=A;if("content-box"===f.boxSizing){const ne=Is(f,"border","width"),de=Is(f,"padding");N-=de.width+ne.width,Y-=de.height+ne.height}return N=Math.max(0,N-g.width),Y=Math.max(0,c?Math.floor(N/c):Y-g.height),N=U(Math.min(N,_,A.maxWidth)),Y=U(Math.min(Y,w,A.maxHeight)),N&&!Y&&(Y=U(N/2)),{width:N,height:Y}}(l,a,c,f)}isAttached(l){const a=Vi(l);return!(!a||!a.isConnected)}}class Rs{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(l){const{x:a,y:c}=this.getProps(["x","y"],l);return{x:a,y:c}}hasValue(){return Ri(this.x)&&Ri(this.y)}getProps(l,a){const c=this.$animations;if(!a||!c)return this;const f={};return l.forEach(g=>{f[g]=c[g]&&c[g].active()?c[g]._to:this[g]}),f}}Rs.defaults={},Rs.defaultRoutes=void 0;const yu={values:u=>pe(u)?u:""+u,numeric(u,l,a){if(0===u)return"0";const c=this.chart.options.locale;let f,g=u;if(a.length>1){const N=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(N<1e-4||N>1e15)&&(f="scientific"),g=function ll(u,l){let a=l.length>3?l[2].value-l[1].value:l[1].value-l[0].value;return Math.abs(a)>=1&&u!==Math.floor(u)&&(a=u-Math.floor(u)),a}(u,a)}const _=nn(Math.abs(g)),w=Math.max(Math.min(-1*Math.floor(_),20),0),A={notation:f,minimumFractionDigits:w,maximumFractionDigits:w};return Object.assign(A,this.options.ticks.format),Ko(u,c,A)},logarithmic(u,l,a){if(0===u)return"0";const c=u/Math.pow(10,Math.floor(nn(u)));return 1===c||2===c||5===c?yu.numeric.call(this,u,l,a):""}};var Wo={formatters:yu};function wa(u,l,a,c,f){const g=it(c,0),_=Math.min(it(f,u.length),u.length);let A,N,Y,w=0;for(a=Math.ceil(a),f&&(A=f-c,a=A/Math.floor(A/a)),Y=g;Y<0;)w++,Y=Math.round(g+w*a);for(N=Math.max(g,0);N<_;N++)N===Y&&(l.push(u[N]),w++,Y=Math.round(g+w*a))}ri.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(u,l)=>l.lineWidth,tickColor:(u,l)=>l.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ri.route("scale.ticks","color","","color"),ri.route("scale.grid","color","","borderColor"),ri.route("scale.grid","borderColor","","borderColor"),ri.route("scale.title","color","","color"),ri.describe("scale",{_fallback:!1,_scriptable:u=>!u.startsWith("before")&&!u.startsWith("after")&&"callback"!==u&&"parser"!==u,_indexable:u=>"borderDash"!==u&&"tickBorderDash"!==u}),ri.describe("scales",{_fallback:"scale"}),ri.describe("scale.ticks",{_scriptable:u=>"backdropPadding"!==u&&"callback"!==u,_indexable:u=>"backdropPadding"!==u});const j=(u,l,a)=>"top"===l||"left"===l?u[l]+a:u[l]-a;function Z(u,l){const a=[],c=u.length/l,f=u.length;let g=0;for(;g<f;g+=c)a.push(u[Math.floor(g)]);return a}function re(u,l,a){const c=u.ticks.length,f=Math.min(l,c-1),g=u._startPixel,_=u._endPixel,w=1e-6;let N,A=u.getPixelForTick(f);if(!(a&&(N=1===c?Math.max(A-g,_-A):0===l?(u.getPixelForTick(1)-A)/2:(A-u.getPixelForTick(f-1))/2,A+=f<l?N:-N,A<g-w||A>_+w)))return A}function nt(u){return u.drawTicks?u.tickLength:0}function pt(u,l){if(!u.display)return 0;const a=ji(u.font,l),c=Li(u.padding);return(pe(u.text)?u.text.length:1)*a.lineHeight+c.height}function Hn(u,l,a){let c=Ee(u);return(a&&"right"!==l||!a&&"right"===l)&&(c=(u=>"left"===u?"right":"right"===u?"left":u)(c)),c}class di extends Rs{constructor(l){super(),this.id=l.id,this.type=l.type,this.options=void 0,this.ctx=l.ctx,this.chart=l.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(l){this.options=l.setContext(this.getContext()),this.axis=l.axis,this._userMin=this.parse(l.min),this._userMax=this.parse(l.max),this._suggestedMin=this.parse(l.suggestedMin),this._suggestedMax=this.parse(l.suggestedMax)}parse(l,a){return l}getUserBounds(){let{_userMin:l,_userMax:a,_suggestedMin:c,_suggestedMax:f}=this;return l=ht(l,Number.POSITIVE_INFINITY),a=ht(a,Number.NEGATIVE_INFINITY),c=ht(c,Number.POSITIVE_INFINITY),f=ht(f,Number.NEGATIVE_INFINITY),{min:ht(l,c),max:ht(a,f),minDefined:xt(l),maxDefined:xt(a)}}getMinMax(l){let _,{min:a,max:c,minDefined:f,maxDefined:g}=this.getUserBounds();if(f&&g)return{min:a,max:c};const w=this.getMatchingVisibleMetas();for(let A=0,N=w.length;A<N;++A)_=w[A].controller.getMinMax(this,l),f||(a=Math.min(a,_.min)),g||(c=Math.max(c,_.max));return a=g&&a>c?c:a,c=f&&a>c?a:c,{min:ht(a,ht(c,a)),max:ht(c,ht(a,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const l=this.chart.data;return this.options.labels||(this.isHorizontal()?l.xLabels:l.yLabels)||l.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(l,a,c){const{beginAtZero:f,grace:g,ticks:_}=this.options,w=_.sampleSize;this.beforeUpdate(),this.maxWidth=l,this.maxHeight=a,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Ks(u,l,a){const{min:c,max:f}=u,g=yt(l,(f-c)/2),_=(w,A)=>a&&0===w?0:w+A;return{min:_(c,-Math.abs(g)),max:_(f,g)}}(this,g,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const A=w<this.ticks.length;this._convertTicksToLabels(A?Z(this.ticks,w):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),_.display&&(_.autoSkip||"auto"===_.source)&&(this.ticks=function pc(u,l){const a=u.options.ticks,c=a.maxTicksLimit||function Bo(u){const l=u.options.offset,a=u._tickSize();return Math.floor(Math.min(u._length/a+(l?0:1),u._maxLength/a))}(u),f=a.major.enabled?function _u(u){const l=[];let a,c;for(a=0,c=u.length;a<c;a++)u[a].major&&l.push(a);return l}(l):[],g=f.length,_=f[0],w=f[g-1],A=[];if(g>c)return function Wu(u,l,a,c){let _,f=0,g=a[0];for(c=Math.ceil(c),_=0;_<u.length;_++)_===g&&(l.push(u[_]),f++,g=a[f*c])}(l,A,f,g/c),A;const N=function Tl(u,l,a){const c=function Sl(u){const l=u.length;let a,c;if(l<2)return!1;for(c=u[0],a=1;a<l;++a)if(u[a]-u[a-1]!==c)return!1;return c}(u),f=l.length/a;if(!c)return Math.max(f,1);const g=function yi(u){const l=[],a=Math.sqrt(u);let c;for(c=1;c<a;c++)u%c==0&&(l.push(c),l.push(u/c));return a===(0|a)&&l.push(a),l.sort((f,g)=>f-g).pop(),l}(c);for(let _=0,w=g.length-1;_<w;_++){const A=g[_];if(A>f)return A}return Math.max(f,1)}(f,l,c);if(g>0){let Y,ne;const de=g>1?Math.round((w-_)/(g-1)):null;for(wa(l,A,N,ge(de)?0:_-de,_),Y=0,ne=g-1;Y<ne;Y++)wa(l,A,N,f[Y],f[Y+1]);return wa(l,A,N,w,ge(de)?l.length:w+de),A}return wa(l,A,N),A}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),A&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let a,c,l=this.options.reverse;this.isHorizontal()?(a=this.left,c=this.right):(a=this.top,c=this.bottom,l=!l),this._startPixel=a,this._endPixel=c,this._reversePixels=l,this._length=c-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(l){this.chart.notifyPlugins(l,this.getContext()),ft(this.options[l],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(l){const a=this.options.ticks;let c,f,g;for(c=0,f=l.length;c<f;c++)g=l[c],g.label=ft(a.callback,[g.value,c,l],this)}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const l=this.options,a=l.ticks,c=this.ticks.length,f=a.minRotation||0,g=a.maxRotation;let w,A,N,_=f;if(!this._isVisible()||!a.display||f>=g||c<=1||!this.isHorizontal())return void(this.labelRotation=f);const Y=this._getLabelSizes(),ne=Y.widest.width,de=Y.highest.height,Te=Ni(this.chart.width-ne,0,this.maxWidth);w=l.offset?this.maxWidth/c:Te/(c-1),ne+6>w&&(w=Te/(c-(l.offset?.5:1)),A=this.maxHeight-nt(l.grid)-a.padding-pt(l.title,this.chart.options.font),N=Math.sqrt(ne*ne+de*de),_=Qn(Math.min(Math.asin(Ni((Y.highest.height+6)/w,-1,1)),Math.asin(Ni(A/N,-1,1))-Math.asin(Ni(de/N,-1,1)))),_=Math.max(f,Math.min(g,_))),this.labelRotation=_}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){const l={width:0,height:0},{chart:a,options:{ticks:c,title:f,grid:g}}=this,_=this._isVisible(),w=this.isHorizontal();if(_){const A=pt(f,a.options.font);if(w?(l.width=this.maxWidth,l.height=nt(g)+A):(l.height=this.maxHeight,l.width=nt(g)+A),c.display&&this.ticks.length){const{first:N,last:Y,widest:ne,highest:de}=this._getLabelSizes(),Te=2*c.padding,Ue=dn(this.labelRotation),Ke=Math.cos(Ue),dt=Math.sin(Ue);w?l.height=Math.min(this.maxHeight,l.height+(c.mirror?0:dt*ne.width+Ke*de.height)+Te):l.width=Math.min(this.maxWidth,l.width+(c.mirror?0:Ke*ne.width+dt*de.height)+Te),this._calculatePadding(N,Y,dt,Ke)}}this._handleMargins(),w?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(l,a,c,f){const{ticks:{align:g,padding:_},position:w}=this.options,A=0!==this.labelRotation,N="top"!==w&&"x"===this.axis;if(this.isHorizontal()){const Y=this.getPixelForTick(0)-this.left,ne=this.right-this.getPixelForTick(this.ticks.length-1);let de=0,Te=0;A?N?(de=f*l.width,Te=c*a.height):(de=c*l.height,Te=f*a.width):"start"===g?Te=a.width:"end"===g?de=l.width:"inner"!==g&&(de=l.width/2,Te=a.width/2),this.paddingLeft=Math.max((de-Y+_)*this.width/(this.width-Y),0),this.paddingRight=Math.max((Te-ne+_)*this.width/(this.width-ne),0)}else{let Y=a.height/2,ne=l.height/2;"start"===g?(Y=0,ne=l.height):"end"===g&&(Y=a.height,ne=0),this.paddingTop=Y+_,this.paddingBottom=ne+_}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){const{axis:l,position:a}=this.options;return"top"===a||"bottom"===a||"x"===l}isFullSize(){return this.options.fullSize}_convertTicksToLabels(l){let a,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(l),a=0,c=l.length;a<c;a++)ge(l[a].label)&&(l.splice(a,1),c--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let l=this._labelSizes;if(!l){const a=this.options.ticks.sampleSize;let c=this.ticks;a<c.length&&(c=Z(c,a)),this._labelSizes=l=this._computeLabelSizes(c,c.length)}return l}_computeLabelSizes(l,a){const{ctx:c,_longestTextCache:f}=this,g=[],_=[];let N,Y,ne,de,Te,Ue,Ke,dt,gt,Ut,tn,w=0,A=0;for(N=0;N<a;++N){if(de=l[N].label,Te=this._resolveTickFontOptions(N),c.font=Ue=Te.string,Ke=f[Ue]=f[Ue]||{data:{},gc:[]},dt=Te.lineHeight,gt=Ut=0,ge(de)||pe(de)){if(pe(de))for(Y=0,ne=de.length;Y<ne;++Y)tn=de[Y],!ge(tn)&&!pe(tn)&&(gt=Ar(c,Ke.data,Ke.gc,gt,tn),Ut+=dt)}else gt=Ar(c,Ke.data,Ke.gc,gt,de),Ut=dt;g.push(gt),_.push(Ut),w=Math.max(gt,w),A=Math.max(Ut,A)}!function De(u,l){Fe(u,a=>{const c=a.gc,f=c.length/2;let g;if(f>l){for(g=0;g<f;++g)delete a.data[c[g]];c.splice(0,f)}})}(f,a);const $t=g.indexOf(w),jt=_.indexOf(A),Pn=Nn=>({width:g[Nn]||0,height:_[Nn]||0});return{first:Pn(0),last:Pn(a-1),widest:Pn($t),highest:Pn(jt),widths:g,heights:_}}getLabelForValue(l){return l}getPixelForValue(l,a){return NaN}getValueForPixel(l){}getPixelForTick(l){const a=this.ticks;return l<0||l>a.length-1?null:this.getPixelForValue(a[l].value)}getPixelForDecimal(l){this._reversePixels&&(l=1-l);const a=this._startPixel+l*this._length;return function qi(u){return Ni(u,-32768,32767)}(this._alignToPixels?ms(this.chart,a,0):a)}getDecimalForPixel(l){const a=(l-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:l,max:a}=this;return l<0&&a<0?a:l>0&&a>0?l:0}getContext(l){const a=this.ticks||[];if(l>=0&&l<a.length){const c=a[l];return c.$context||(c.$context=function On(u,l,a){return wr(u,{tick:a,index:l,type:"tick"})}(this.getContext(),l,c))}return this.$context||(this.$context=function Xt(u,l){return wr(u,{scale:l,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const l=this.options.ticks,a=dn(this.labelRotation),c=Math.abs(Math.cos(a)),f=Math.abs(Math.sin(a)),g=this._getLabelSizes(),_=l.autoSkipPadding||0,w=g?g.widest.width+_:0,A=g?g.highest.height+_:0;return this.isHorizontal()?A*c>w*f?w/c:A/f:A*f<w*c?A/c:w/f}_isVisible(){const l=this.options.display;return"auto"!==l?!!l:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(l){const a=this.axis,c=this.chart,f=this.options,{grid:g,position:_}=f,w=g.offset,A=this.isHorizontal(),Y=this.ticks.length+(w?1:0),ne=nt(g),de=[],Te=g.setContext(this.getContext()),Ue=Te.drawBorder?Te.borderWidth:0,Ke=Ue/2,dt=function(sr){return ms(c,sr,Ue)};let gt,Ut,tn,$t,jt,Pn,Nn,Yn,ii,Ir,$i,Ki;if("top"===_)gt=dt(this.bottom),Pn=this.bottom-ne,Yn=gt-Ke,Ir=dt(l.top)+Ke,Ki=l.bottom;else if("bottom"===_)gt=dt(this.top),Ir=l.top,Ki=dt(l.bottom)-Ke,Pn=gt+Ke,Yn=this.top+ne;else if("left"===_)gt=dt(this.right),jt=this.right-ne,Nn=gt-Ke,ii=dt(l.left)+Ke,$i=l.right;else if("right"===_)gt=dt(this.left),ii=l.left,$i=dt(l.right)-Ke,jt=gt+Ke,Nn=this.left+ne;else if("x"===a){if("center"===_)gt=dt((l.top+l.bottom)/2+.5);else if(Oe(_)){const sr=Object.keys(_)[0];gt=dt(this.chart.scales[sr].getPixelForValue(_[sr]))}Ir=l.top,Ki=l.bottom,Pn=gt+Ke,Yn=Pn+ne}else if("y"===a){if("center"===_)gt=dt((l.left+l.right)/2);else if(Oe(_)){const sr=Object.keys(_)[0];gt=dt(this.chart.scales[sr].getPixelForValue(_[sr]))}jt=gt-Ke,Nn=jt-ne,ii=l.left,$i=l.right}const ho=it(f.ticks.maxTicksLimit,Y),ei=Math.max(1,Math.ceil(Y/ho));for(Ut=0;Ut<Y;Ut+=ei){const sr=g.setContext(this.getContext(Ut)),Zr=sr.lineWidth,_l=sr.color,Ul=g.borderDash||[],ra=sr.borderDashOffset,vl=sr.tickWidth,tc=sr.tickColor,bl=sr.tickBorderDash||[],Ca=sr.tickBorderDashOffset;tn=re(this,Ut,w),void 0!==tn&&($t=ms(c,tn,Zr),A?jt=Nn=ii=$i=$t:Pn=Yn=Ir=Ki=$t,de.push({tx1:jt,ty1:Pn,tx2:Nn,ty2:Yn,x1:ii,y1:Ir,x2:$i,y2:Ki,width:Zr,color:_l,borderDash:Ul,borderDashOffset:ra,tickWidth:vl,tickColor:tc,tickBorderDash:bl,tickBorderDashOffset:Ca}))}return this._ticksLength=Y,this._borderValue=gt,de}_computeLabelItems(l){const a=this.axis,c=this.options,{position:f,ticks:g}=c,_=this.isHorizontal(),w=this.ticks,{align:A,crossAlign:N,padding:Y,mirror:ne}=g,de=nt(c.grid),Te=de+Y,Ue=ne?-Y:Te,Ke=-dn(this.labelRotation),dt=[];let gt,Ut,tn,$t,jt,Pn,Nn,Yn,ii,Ir,$i,Ki,ho="middle";if("top"===f)Pn=this.bottom-Ue,Nn=this._getXAxisLabelAlignment();else if("bottom"===f)Pn=this.top+Ue,Nn=this._getXAxisLabelAlignment();else if("left"===f){const sr=this._getYAxisLabelAlignment(de);Nn=sr.textAlign,jt=sr.x}else if("right"===f){const sr=this._getYAxisLabelAlignment(de);Nn=sr.textAlign,jt=sr.x}else if("x"===a){if("center"===f)Pn=(l.top+l.bottom)/2+Te;else if(Oe(f)){const sr=Object.keys(f)[0];Pn=this.chart.scales[sr].getPixelForValue(f[sr])+Te}Nn=this._getXAxisLabelAlignment()}else if("y"===a){if("center"===f)jt=(l.left+l.right)/2-Te;else if(Oe(f)){const sr=Object.keys(f)[0];jt=this.chart.scales[sr].getPixelForValue(f[sr])}Nn=this._getYAxisLabelAlignment(de).textAlign}"y"===a&&("start"===A?ho="top":"end"===A&&(ho="bottom"));const ei=this._getLabelSizes();for(gt=0,Ut=w.length;gt<Ut;++gt){tn=w[gt],$t=tn.label;const sr=g.setContext(this.getContext(gt));Yn=this.getPixelForTick(gt)+g.labelOffset,ii=this._resolveTickFontOptions(gt),Ir=ii.lineHeight,$i=pe($t)?$t.length:1;const Zr=$i/2,_l=sr.color,Ul=sr.textStrokeColor,ra=sr.textStrokeWidth;let tc,vl=Nn;if(_?(jt=Yn,"inner"===Nn&&(vl=gt===Ut-1?this.options.reverse?"left":"right":0===gt?this.options.reverse?"right":"left":"center"),Ki="top"===f?"near"===N||0!==Ke?-$i*Ir+Ir/2:"center"===N?-ei.highest.height/2-Zr*Ir+Ir:Ir/2-ei.highest.height:"near"===N||0!==Ke?Ir/2:"center"===N?ei.highest.height/2-Zr*Ir:ei.highest.height-$i*Ir,ne&&(Ki*=-1)):(Pn=Yn,Ki=(1-$i)*Ir/2),sr.showLabelBackdrop){const bl=Li(sr.backdropPadding),Ca=ei.heights[gt],jo=ei.widths[gt];let fd=Pn+Ki-bl.top,Lu=jt-bl.left;switch(ho){case"middle":fd-=Ca/2;break;case"bottom":fd-=Ca}switch(Nn){case"center":Lu-=jo/2;break;case"right":Lu-=jo}tc={left:Lu,top:fd,width:jo+bl.width,height:Ca+bl.height,color:sr.backdropColor}}dt.push({rotation:Ke,label:$t,font:ii,color:_l,strokeColor:Ul,strokeWidth:ra,textOffset:Ki,textAlign:vl,textBaseline:ho,translation:[jt,Pn],backdrop:tc})}return dt}_getXAxisLabelAlignment(){const{position:l,ticks:a}=this.options;if(-dn(this.labelRotation))return"top"===l?"left":"right";let f="center";return"start"===a.align?f="left":"end"===a.align?f="right":"inner"===a.align&&(f="inner"),f}_getYAxisLabelAlignment(l){const{position:a,ticks:{crossAlign:c,mirror:f,padding:g}}=this.options,w=l+g,A=this._getLabelSizes().widest.width;let N,Y;return"left"===a?f?(Y=this.right+g,"near"===c?N="left":"center"===c?(N="center",Y+=A/2):(N="right",Y+=A)):(Y=this.right-w,"near"===c?N="right":"center"===c?(N="center",Y-=A/2):(N="left",Y=this.left)):"right"===a?f?(Y=this.left+g,"near"===c?N="right":"center"===c?(N="center",Y-=A/2):(N="left",Y-=A)):(Y=this.left+w,"near"===c?N="left":"center"===c?(N="center",Y+=A/2):(N="right",Y=this.right)):N="right",{textAlign:N,x:Y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const l=this.chart,a=this.options.position;return"left"===a||"right"===a?{top:0,left:this.left,bottom:l.height,right:this.right}:"top"===a||"bottom"===a?{top:this.top,left:0,bottom:this.bottom,right:l.width}:void 0}drawBackground(){const{ctx:l,options:{backgroundColor:a},left:c,top:f,width:g,height:_}=this;a&&(l.save(),l.fillStyle=a,l.fillRect(c,f,g,_),l.restore())}getLineWidthForValue(l){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const f=this.ticks.findIndex(g=>g.value===l);return f>=0?a.setContext(this.getContext(f)).lineWidth:0}drawGrid(l){const a=this.options.grid,c=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(l));let g,_;const w=(A,N,Y)=>{!Y.width||!Y.color||(c.save(),c.lineWidth=Y.width,c.strokeStyle=Y.color,c.setLineDash(Y.borderDash||[]),c.lineDashOffset=Y.borderDashOffset,c.beginPath(),c.moveTo(A.x,A.y),c.lineTo(N.x,N.y),c.stroke(),c.restore())};if(a.display)for(g=0,_=f.length;g<_;++g){const A=f[g];a.drawOnChartArea&&w({x:A.x1,y:A.y1},{x:A.x2,y:A.y2},A),a.drawTicks&&w({x:A.tx1,y:A.ty1},{x:A.tx2,y:A.ty2},{color:A.tickColor,width:A.tickWidth,borderDash:A.tickBorderDash,borderDashOffset:A.tickBorderDashOffset})}}drawBorder(){const{chart:l,ctx:a,options:{grid:c}}=this,f=c.setContext(this.getContext()),g=c.drawBorder?f.borderWidth:0;if(!g)return;const _=c.setContext(this.getContext(0)).lineWidth,w=this._borderValue;let A,N,Y,ne;this.isHorizontal()?(A=ms(l,this.left,g)-g/2,N=ms(l,this.right,_)+_/2,Y=ne=w):(Y=ms(l,this.top,g)-g/2,ne=ms(l,this.bottom,_)+_/2,A=N=w),a.save(),a.lineWidth=f.borderWidth,a.strokeStyle=f.borderColor,a.beginPath(),a.moveTo(A,Y),a.lineTo(N,ne),a.stroke(),a.restore()}drawLabels(l){if(!this.options.ticks.display)return;const c=this.ctx,f=this._computeLabelArea();f&&po(c,f);const g=this._labelItems||(this._labelItems=this._computeLabelItems(l));let _,w;for(_=0,w=g.length;_<w;++_){const A=g[_],N=A.font,Y=A.label;A.backdrop&&(c.fillStyle=A.backdrop.color,c.fillRect(A.backdrop.left,A.backdrop.top,A.backdrop.width,A.backdrop.height)),ys(c,Y,0,A.textOffset,N,A)}f&&us(c)}drawTitle(){const{ctx:l,options:{position:a,title:c,reverse:f}}=this;if(!c.display)return;const g=ji(c.font),_=Li(c.padding),w=c.align;let A=g.lineHeight/2;"bottom"===a||"center"===a||Oe(a)?(A+=_.bottom,pe(c.text)&&(A+=g.lineHeight*(c.text.length-1))):A+=_.top;const{titleX:N,titleY:Y,maxWidth:ne,rotation:de}=function bi(u,l,a,c){const{top:f,left:g,bottom:_,right:w,chart:A}=u,{chartArea:N,scales:Y}=A;let de,Te,Ue,ne=0;const Ke=_-f,dt=w-g;if(u.isHorizontal()){if(Te=ke(c,g,w),Oe(a)){const gt=Object.keys(a)[0];Ue=Y[gt].getPixelForValue(a[gt])+Ke-l}else Ue="center"===a?(N.bottom+N.top)/2+Ke-l:j(u,a,l);de=w-g}else{if(Oe(a)){const gt=Object.keys(a)[0];Te=Y[gt].getPixelForValue(a[gt])-dt+l}else Te="center"===a?(N.left+N.right)/2-dt+l:j(u,a,l);Ue=ke(c,_,f),ne="left"===a?-Ve:Ve}return{titleX:Te,titleY:Ue,maxWidth:de,rotation:ne}}(this,A,a,w);ys(l,c.text,0,0,g,{color:c.color,maxWidth:ne,rotation:de,textAlign:Hn(w,a,f),textBaseline:"middle",translation:[N,Y]})}draw(l){!this._isVisible()||(this.drawBackground(),this.drawGrid(l),this.drawBorder(),this.drawTitle(),this.drawLabels(l))}_layers(){const l=this.options,a=l.ticks&&l.ticks.z||0,c=it(l.grid&&l.grid.z,-1);return this._isVisible()&&this.draw===di.prototype.draw?[{z:c,draw:f=>{this.drawBackground(),this.drawGrid(f),this.drawTitle()}},{z:c+1,draw:()=>{this.drawBorder()}},{z:a,draw:f=>{this.drawLabels(f)}}]:[{z:a,draw:f=>{this.draw(f)}}]}getMatchingVisibleMetas(l){const a=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",f=[];let g,_;for(g=0,_=a.length;g<_;++g){const w=a[g];w[c]===this.id&&(!l||w.type===l)&&f.push(w)}return f}_resolveTickFontOptions(l){return ji(this.options.ticks.setContext(this.getContext(l)).font)}_maxDigits(){const l=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/l}}class gi{constructor(l,a,c){this.type=l,this.scope=a,this.override=c,this.items=Object.create(null)}isForType(l){return Object.prototype.isPrototypeOf.call(this.type.prototype,l.prototype)}register(l){const a=Object.getPrototypeOf(l);let c;(function ea(u){return"id"in u&&"defaults"in u})(a)&&(c=this.register(a));const f=this.items,g=l.id,_=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+l);return g in f||(f[g]=l,function to(u,l,a){const c=Ot(Object.create(null),[a?ri.get(a):{},ri.get(l),u.defaults]);ri.set(l,c),u.defaultRoutes&&function As(u,l){Object.keys(l).forEach(a=>{const c=a.split("."),f=c.pop(),g=[u].concat(c).join("."),_=l[a].split("."),w=_.pop(),A=_.join(".");ri.route(g,f,A,w)})}(l,u.defaultRoutes),u.descriptors&&ri.describe(l,u.descriptors)}(l,_,c),this.override&&ri.override(l.id,l.overrides)),_}get(l){return this.items[l]}unregister(l){const a=this.items,c=l.id,f=this.scope;c in a&&delete a[c],f&&c in ri[f]&&(delete ri[f][c],this.override&&delete Bi[c])}}var ws=new class bu{constructor(){this.controllers=new gi(Js,"datasets",!0),this.elements=new gi(Rs,"elements"),this.plugins=new gi(Object,"plugins"),this.scales=new gi(di,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...l){this._each("register",l)}remove(...l){this._each("unregister",l)}addControllers(...l){this._each("register",l,this.controllers)}addElements(...l){this._each("register",l,this.elements)}addPlugins(...l){this._each("register",l,this.plugins)}addScales(...l){this._each("register",l,this.scales)}getController(l){return this._get(l,this.controllers,"controller")}getElement(l){return this._get(l,this.elements,"element")}getPlugin(l){return this._get(l,this.plugins,"plugin")}getScale(l){return this._get(l,this.scales,"scale")}removeControllers(...l){this._each("unregister",l,this.controllers)}removeElements(...l){this._each("unregister",l,this.elements)}removePlugins(...l){this._each("unregister",l,this.plugins)}removeScales(...l){this._each("unregister",l,this.scales)}_each(l,a,c){[...a].forEach(f=>{const g=c||this._getRegistryForType(f);c||g.isForType(f)||g===this.plugins&&f.id?this._exec(l,g,f):Fe(f,_=>{const w=c||this._getRegistryForType(_);this._exec(l,w,_)})})}_exec(l,a,c){const f=lt(l);ft(c["before"+f],[],c),a[l](c),ft(c["after"+f],[],c)}_getRegistryForType(l){for(let a=0;a<this._typedRegistries.length;a++){const c=this._typedRegistries[a];if(c.isForType(l))return c}return this.plugins}_get(l,a,c){const f=a.get(l);if(void 0===f)throw new Error('"'+l+'" is not a registered '+c+".");return f}};class Uo{constructor(){this._init=[]}notify(l,a,c,f){"beforeInit"===a&&(this._init=this._createDescriptors(l,!0),this._notify(this._init,l,"install"));const g=f?this._descriptors(l).filter(f):this._descriptors(l),_=this._notify(g,l,a,c);return"afterDestroy"===a&&(this._notify(g,l,"stop"),this._notify(this._init,l,"uninstall")),_}_notify(l,a,c,f){f=f||{};for(const g of l){const _=g.plugin;if(!1===ft(_[c],[a,f,g.options],_)&&f.cancelable)return!1}return!0}invalidate(){ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(l){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(l);return this._notifyStateChanges(l),a}_createDescriptors(l,a){const c=l&&l.config,f=it(c.options&&c.options.plugins,{}),g=function ha(u){const l=[],a=Object.keys(ws.plugins.items);for(let f=0;f<a.length;f++)l.push(ws.getPlugin(a[f]));const c=u.plugins||[];for(let f=0;f<c.length;f++){const g=c[f];-1===l.indexOf(g)&&l.push(g)}return l}(c);return!1!==f||a?function Zc(u,l,a,c){const f=[],g=u.getContext();for(let _=0;_<l.length;_++){const w=l[_],N=Za(a[w.id],c);null!==N&&f.push({plugin:w,options:vo(u.config,w,N,g)})}return f}(l,g,f,a):[]}_notifyStateChanges(l){const a=this._oldCache||[],c=this._cache,f=(g,_)=>g.filter(w=>!_.some(A=>w.plugin.id===A.plugin.id));this._notify(f(a,c),l,"stop"),this._notify(f(c,a),l,"start")}}function Za(u,l){return l||!1!==u?!0===u?{}:u:null}function vo(u,l,a,c){const f=u.pluginScopeKeys(l),g=u.getOptionScopes(a,f);return u.createResolver(g,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Eu(u,l){return((l.datasets||{})[u]||{}).indexAxis||l.indexAxis||(ri.datasets[u]||{}).indexAxis||"x"}function Yc(u,l){return"x"===u||"y"===u?u:l.axis||function Fd(u){return"top"===u||"bottom"===u?"x":"left"===u||"right"===u?"y":void 0}(l.position)||u.charAt(0).toLowerCase()}function Du(u){const l=u.options||(u.options={});l.plugins=it(l.plugins,{}),l.scales=function Al(u,l){const a=Bi[u.type]||{scales:{}},c=l.scales||{},f=Eu(u.type,l),g=Object.create(null),_=Object.create(null);return Object.keys(c).forEach(w=>{const A=c[w];if(!Oe(A))return console.error(`Invalid scale configuration for scale: ${w}`);if(A._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${w}`);const N=Yc(w,A),Y=function kd(u,l){return u===l?"_index_":"_value_"}(N,f),ne=a.scales||{};g[N]=g[N]||w,_[w]=kt(Object.create(null),[{axis:N},A,ne[N],ne[Y]])}),u.data.datasets.forEach(w=>{const A=w.type||u.type,N=w.indexAxis||Eu(A,l),ne=(Bi[A]||{}).scales||{};Object.keys(ne).forEach(de=>{const Te=function wu(u,l){let a=u;return"_index_"===u?a=l:"_value_"===u&&(a="x"===l?"y":"x"),a}(de,N),Ue=w[Te+"AxisID"]||g[Te]||Te;_[Ue]=_[Ue]||Object.create(null),kt(_[Ue],[{axis:Te},c[Ue],ne[de]])})}),Object.keys(_).forEach(w=>{const A=_[w];kt(A,[ri.scales[A.type],ri.scale])}),_}(u,l)}function Ld(u){return(u=u||{}).datasets=u.datasets||[],u.labels=u.labels||[],u}const Ml=new Map,Ku=new Set;function gc(u,l){let a=Ml.get(u);return a||(a=l(),Ml.set(u,a),Ku.add(a)),a}const Cu=(u,l,a)=>{const c=mt(l,a);void 0!==c&&u.add(c)};class ul{constructor(l){this._config=function xl(u){return(u=u||{}).data=Ld(u.data),Du(u),u}(l),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(l){this._config.type=l}get data(){return this._config.data}set data(l){this._config.data=Ld(l)}get options(){return this._config.options}set options(l){this._config.options=l}get plugins(){return this._config.plugins}update(){const l=this._config;this.clearCache(),Du(l)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(l){return gc(l,()=>[[`datasets.${l}`,""]])}datasetAnimationScopeKeys(l,a){return gc(`${l}.transition.${a}`,()=>[[`datasets.${l}.transitions.${a}`,`transitions.${a}`],[`datasets.${l}`,""]])}datasetElementScopeKeys(l,a){return gc(`${l}-${a}`,()=>[[`datasets.${l}.elements.${a}`,`datasets.${l}`,`elements.${a}`,""]])}pluginScopeKeys(l){const a=l.id;return gc(`${this.type}-plugin-${a}`,()=>[[`plugins.${a}`,...l.additionalOptionScopes||[]]])}_cachedScopes(l,a){const c=this._scopeCache;let f=c.get(l);return(!f||a)&&(f=new Map,c.set(l,f)),f}getOptionScopes(l,a,c){const{options:f,type:g}=this,_=this._cachedScopes(l,c),w=_.get(a);if(w)return w;const A=new Set;a.forEach(Y=>{l&&(A.add(l),Y.forEach(ne=>Cu(A,l,ne))),Y.forEach(ne=>Cu(A,f,ne)),Y.forEach(ne=>Cu(A,Bi[g]||{},ne)),Y.forEach(ne=>Cu(A,ri,ne)),Y.forEach(ne=>Cu(A,ir,ne))});const N=Array.from(A);return 0===N.length&&N.push(Object.create(null)),Ku.has(a)&&_.set(a,N),N}chartOptionScopes(){const{options:l,type:a}=this;return[l,Bi[a]||{},ri.datasets[a]||{},{type:a},ri,ir]}resolveNamedOptions(l,a,c,f=[""]){const g={$shared:!0},{resolver:_,subPrefixes:w}=Qc(this._resolverCache,l,f);let A=_;(function Iu(u,l){const{isScriptable:a,isIndexable:c}=Dr(u);for(const f of l){const g=a(f),_=c(f),w=(_||g)&&u[f];if(g&&(pn(w)||cl(w))||_&&pe(w))return!0}return!1})(_,a)&&(g.$shared=!1,A=Os(_,c=pn(c)?c():c,this.createResolver(l,c,w)));for(const N of a)g[N]=A[N];return g}createResolver(l,a,c=[""],f){const{resolver:g}=Qc(this._resolverCache,l,c);return Oe(a)?Os(g,a,void 0,f):g}}function Qc(u,l,a){let c=u.get(l);c||(c=new Map,u.set(l,c));const f=a.join();let g=c.get(f);return g||(g={resolver:Fs(l,a),subPrefixes:a.filter(w=>!w.toLowerCase().includes("hover"))},c.set(f,g)),g}const cl=u=>Oe(u)&&Object.getOwnPropertyNames(u).reduce((l,a)=>l||pn(u[a]),!1),Xc=["top","bottom","left","right","chartArea"];function Tu(u,l){return"top"===u||"bottom"===u||-1===Xc.indexOf(u)&&"x"===l}function Jc(u,l){return function(a,c){return a[u]===c[u]?a[l]-c[l]:a[u]-c[u]}}function Ya(u){const l=u.chart,a=l.options.animation;l.notifyPlugins("afterRender"),ft(a&&a.onComplete,[u],l)}function ta(u){const l=u.chart,a=l.options.animation;ft(a&&a.onProgress,[u],l)}function mc(u){return Hi()&&"string"==typeof u?u=document.getElementById(u):u&&u.length&&(u=u[0]),u&&u.canvas&&(u=u.canvas),u}const hl={},qu=u=>{const l=mc(u);return Object.values(hl).filter(a=>a.canvas===l).pop()};function fl(u,l,a){const c=Object.keys(u);for(const f of c){const g=+f;if(g>=l){const _=u[f];delete u[f],(a>0||g>l)&&(u[g+a]=_)}}}class Zu{constructor(l,a){const c=this.config=new ul(a),f=mc(l),g=qu(f);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas can be reused.");const _=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||function ka(u){return!Hi()||"undefined"!=typeof OffscreenCanvas&&u instanceof OffscreenCanvas?Nd:al}(f)),this.platform.updateConfig(c);const w=this.platform.acquireContext(f,_.aspectRatio),A=w&&w.canvas,N=A&&A.height,Y=A&&A.width;this.id=tt(),this.ctx=w,this.canvas=A,this.width=Y,this.height=N,this._options=_,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Uo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function be(u,l){let a;return function(...c){return l?(clearTimeout(a),a=setTimeout(u,l,c)):u.apply(this,c),l}}(ne=>this.update(ne),_.resizeDelay||0),this._dataChanges=[],hl[this.id]=this,w&&A?(hs.listen(this,"complete",Ya),hs.listen(this,"progress",ta),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:l,maintainAspectRatio:a},width:c,height:f,_aspectRatio:g}=this;return ge(l)?a&&g?g:f?c/f:null:l}get data(){return this.config.data}set data(l){this.config.data=l}get options(){return this._options}set options(l){this.config.options=l}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rt(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cs(this.canvas,this.ctx),this}stop(){return hs.stop(this),this}resize(l,a){hs.running(this)?this._resizeBeforeDraw={width:l,height:a}:this._resize(l,a)}_resize(l,a){const c=this.options,_=this.platform.getMaximumSize(this.canvas,l,a,c.maintainAspectRatio&&this.aspectRatio),w=c.devicePixelRatio||this.platform.getDevicePixelRatio(),A=this.width?"resize":"attach";this.width=_.width,this.height=_.height,this._aspectRatio=this.aspectRatio,rt(this,w,!0)&&(this.notifyPlugins("resize",{size:_}),ft(c.onResize,[this,_],this),this.attached&&this._doResize(A)&&this.render())}ensureScalesHaveIDs(){Fe(this.options.scales||{},(c,f)=>{c.id=f})}buildOrUpdateScales(){const l=this.options,a=l.scales,c=this.scales,f=Object.keys(c).reduce((_,w)=>(_[w]=!1,_),{});let g=[];a&&(g=g.concat(Object.keys(a).map(_=>{const w=a[_],A=Yc(_,w),N="r"===A,Y="x"===A;return{options:w,dposition:N?"chartArea":Y?"bottom":"left",dtype:N?"radialLinear":Y?"category":"linear"}}))),Fe(g,_=>{const w=_.options,A=w.id,N=Yc(A,w),Y=it(w.type,_.dtype);(void 0===w.position||Tu(w.position,N)!==Tu(_.dposition))&&(w.position=_.dposition),f[A]=!0;let ne=null;A in c&&c[A].type===Y?ne=c[A]:(ne=new(ws.getScale(Y))({id:A,type:Y,ctx:this.ctx,chart:this}),c[ne.id]=ne),ne.init(w,l)}),Fe(f,(_,w)=>{_||delete c[w]}),Fe(c,_=>{So.configure(this,_,_.options),So.addBox(this,_)})}_updateMetasets(){const l=this._metasets,a=this.data.datasets.length,c=l.length;if(l.sort((f,g)=>f.index-g.index),c>a){for(let f=a;f<c;++f)this._destroyDatasetMeta(f);l.splice(a,c-a)}this._sortedMetasets=l.slice(0).sort(Jc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:l,data:{datasets:a}}=this;l.length>a.length&&delete this._stacks,l.forEach((c,f)=>{0===a.filter(g=>g===c._dataset).length&&this._destroyDatasetMeta(f)})}buildOrUpdateControllers(){const l=[],a=this.data.datasets;let c,f;for(this._removeUnreferencedMetasets(),c=0,f=a.length;c<f;c++){const g=a[c];let _=this.getDatasetMeta(c);const w=g.type||this.config.type;if(_.type&&_.type!==w&&(this._destroyDatasetMeta(c),_=this.getDatasetMeta(c)),_.type=w,_.indexAxis=g.indexAxis||Eu(w,this.options),_.order=g.order||0,_.index=c,_.label=""+g.label,_.visible=this.isDatasetVisible(c),_.controller)_.controller.updateIndex(c),_.controller.linkScales();else{const A=ws.getController(w),{datasetElementType:N,dataElementType:Y}=ri.datasets[w];Object.assign(A.prototype,{dataElementType:ws.getElement(Y),datasetElementType:N&&ws.getElement(N)}),_.controller=new A(this,c),l.push(_.controller)}}return this._updateMetasets(),l}_resetElements(){Fe(this.data.datasets,(l,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(l){const a=this.config;a.update();const c=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),f=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:l,cancelable:!0}))return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let _=0;for(let N=0,Y=this.data.datasets.length;N<Y;N++){const{controller:ne}=this.getDatasetMeta(N),de=!f&&-1===g.indexOf(ne);ne.buildOrUpdateElements(de),_=Math.max(+ne.getMaxOverflow(),_)}_=this._minPadding=c.layout.autoPadding?_:0,this._updateLayout(_),f||Fe(g,N=>{N.reset()}),this._updateDatasets(l),this.notifyPlugins("afterUpdate",{mode:l}),this._layers.sort(Jc("z","_idx"));const{_active:w,_lastEvent:A}=this;A?this._eventHandler(A,!0):w.length&&this._updateHoverStyles(w,w,!0),this.render()}_updateScales(){Fe(this.scales,l=>{So.removeBox(this,l)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const l=this.options,a=new Set(Object.keys(this._listeners)),c=new Set(l.events);(!Bn(a,c)||!!this._responsiveListeners!==l.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:l}=this,a=this._getUniformDataChanges()||[];for(const{method:c,start:f,count:g}of a)fl(l,f,"_removeElements"===c?-g:g)}_getUniformDataChanges(){const l=this._dataChanges;if(!l||!l.length)return;this._dataChanges=[];const a=this.data.datasets.length,c=g=>new Set(l.filter(_=>_[0]===g).map((_,w)=>w+","+_.splice(1).join(","))),f=c(0);for(let g=1;g<a;g++)if(!Bn(f,c(g)))return;return Array.from(f).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(l){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;So.update(this,this.width,this.height,l);const a=this.chartArea,c=a.width<=0||a.height<=0;this._layers=[],Fe(this.boxes,f=>{c&&"chartArea"===f.position||(f.configure&&f.configure(),this._layers.push(...f._layers()))},this),this._layers.forEach((f,g)=>{f._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(l){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:l,cancelable:!0})){for(let a=0,c=this.data.datasets.length;a<c;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,c=this.data.datasets.length;a<c;++a)this._updateDataset(a,pn(l)?l({datasetIndex:a}):l);this.notifyPlugins("afterDatasetsUpdate",{mode:l})}}_updateDataset(l,a){const c=this.getDatasetMeta(l),f={meta:c,index:l,mode:a,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",f)&&(c.controller._update(a),f.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",f))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(hs.has(this)?this.attached&&!hs.running(this)&&hs.start(this):(this.draw(),Ya({chart:this})))}draw(){let l;if(this._resizeBeforeDraw){const{width:c,height:f}=this._resizeBeforeDraw;this._resize(c,f),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const a=this._layers;for(l=0;l<a.length&&a[l].z<=0;++l)a[l].draw(this.chartArea);for(this._drawDatasets();l<a.length;++l)a[l].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(l){const a=this._sortedMetasets,c=[];let f,g;for(f=0,g=a.length;f<g;++f){const _=a[f];(!l||_.visible)&&c.push(_)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const l=this.getSortedVisibleDatasetMetas();for(let a=l.length-1;a>=0;--a)this._drawDataset(l[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(l){const a=this.ctx,c=l._clip,f=!c.disabled,g=this.chartArea,_={meta:l,index:l.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",_)&&(f&&po(a,{left:!1===c.left?0:g.left-c.left,right:!1===c.right?this.width:g.right+c.right,top:!1===c.top?0:g.top-c.top,bottom:!1===c.bottom?this.height:g.bottom+c.bottom}),l.controller.draw(),f&&us(a),_.cancelable=!1,this.notifyPlugins("afterDatasetDraw",_))}isPointInArea(l){return Gr(l,this.chartArea,this._minPadding)}getElementsAtEventForMode(l,a,c,f){const g=fr.modes[a];return"function"==typeof g?g(this,l,c,f):[]}getDatasetMeta(l){const a=this.data.datasets[l],c=this._metasets;let f=c.filter(g=>g&&g._dataset===a).pop();return f||(f={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:l,_dataset:a,_parsed:[],_sorted:!1},c.push(f)),f}getContext(){return this.$context||(this.$context=wr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(l){const a=this.data.datasets[l];if(!a)return!1;const c=this.getDatasetMeta(l);return"boolean"==typeof c.hidden?!c.hidden:!a.hidden}setDatasetVisibility(l,a){this.getDatasetMeta(l).hidden=!a}toggleDataVisibility(l){this._hiddenIndices[l]=!this._hiddenIndices[l]}getDataVisibility(l){return!this._hiddenIndices[l]}_updateVisibility(l,a,c){const f=c?"show":"hide",g=this.getDatasetMeta(l),_=g.controller._resolveAnimations(void 0,f);vn(a)?(g.data[a].hidden=!c,this.update()):(this.setDatasetVisibility(l,c),_.update(g,{visible:c}),this.update(w=>w.datasetIndex===l?f:void 0))}hide(l,a){this._updateVisibility(l,a,!1)}show(l,a){this._updateVisibility(l,a,!0)}_destroyDatasetMeta(l){const a=this._metasets[l];a&&a.controller&&a.controller._destroy(),delete this._metasets[l]}_stop(){let l,a;for(this.stop(),hs.remove(this),l=0,a=this.data.datasets.length;l<a;++l)this._destroyDatasetMeta(l)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:l,ctx:a}=this;this._stop(),this.config.clearCache(),l&&(this.unbindEvents(),Cs(l,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete hl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...l){return this.canvas.toDataURL(...l)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const l=this._listeners,a=this.platform,c=(g,_)=>{a.addEventListener(this,g,_),l[g]=_},f=(g,_,w)=>{g.offsetX=_,g.offsetY=w,this._eventHandler(g)};Fe(this.options.events,g=>c(g,f))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const l=this._responsiveListeners,a=this.platform,c=(A,N)=>{a.addEventListener(this,A,N),l[A]=N},f=(A,N)=>{l[A]&&(a.removeEventListener(this,A,N),delete l[A])},g=(A,N)=>{this.canvas&&this.resize(A,N)};let _;const w=()=>{f("attach",w),this.attached=!0,this.resize(),c("resize",g),c("detach",_)};_=()=>{this.attached=!1,f("resize",g),this._stop(),this._resize(0,0),c("attach",w)},a.isAttached(this.canvas)?w():_()}unbindEvents(){Fe(this._listeners,(l,a)=>{this.platform.removeEventListener(this,a,l)}),this._listeners={},Fe(this._responsiveListeners,(l,a)=>{this.platform.removeEventListener(this,a,l)}),this._responsiveListeners=void 0}updateHoverStyle(l,a,c){const f=c?"set":"remove";let g,_,w,A;for("dataset"===a&&(g=this.getDatasetMeta(l[0].datasetIndex),g.controller["_"+f+"DatasetHoverStyle"]()),w=0,A=l.length;w<A;++w){_=l[w];const N=_&&this.getDatasetMeta(_.datasetIndex).controller;N&&N[f+"HoverStyle"](_.element,_.datasetIndex,_.index)}}getActiveElements(){return this._active||[]}setActiveElements(l){const a=this._active||[],c=l.map(({datasetIndex:g,index:_})=>{const w=this.getDatasetMeta(g);if(!w)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:w.data[_],index:_}});!qt(c,a)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,a))}notifyPlugins(l,a,c){return this._plugins.notify(this,l,a,c)}_updateHoverStyles(l,a,c){const f=this.options.hover,g=(A,N)=>A.filter(Y=>!N.some(ne=>Y.datasetIndex===ne.datasetIndex&&Y.index===ne.index)),_=g(a,l),w=c?l:g(l,a);_.length&&this.updateHoverStyle(_,f.mode,!1),w.length&&f.mode&&this.updateHoverStyle(w,f.mode,!0)}_eventHandler(l,a){const c={event:l,replay:a,cancelable:!0,inChartArea:this.isPointInArea(l)},f=_=>(_.options.events||this.options.events).includes(l.native.type);if(!1===this.notifyPlugins("beforeEvent",c,f))return;const g=this._handleEvent(l,a,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,f),(g||c.changed)&&this.render(),this}_handleEvent(l,a,c){const{_active:f=[],options:g}=this,w=this._getActiveElements(l,f,c,a),A=function en(u){return"mouseup"===u.type||"click"===u.type||"contextmenu"===u.type}(l),N=function ed(u,l,a,c){return a&&"mouseout"!==u.type?c?l:u:null}(l,this._lastEvent,c,A);c&&(this._lastEvent=null,ft(g.onHover,[l,w,this],this),A&&ft(g.onClick,[l,w,this],this));const Y=!qt(w,f);return(Y||a)&&(this._active=w,this._updateHoverStyles(w,f,a)),this._lastEvent=N,Y}_getActiveElements(l,a,c,f){if("mouseout"===l.type)return[];if(!c)return a;const g=this.options.hover;return this.getElementsAtEventForMode(l,g.mode,g,f)}}const td=()=>Fe(Zu.instances,u=>u._plugins.invalidate()),Qa=!0;function nd(u,l,a){const{startAngle:c,pixelMargin:f,x:g,y:_,outerRadius:w,innerRadius:A}=l;let N=f/w;u.beginPath(),u.arc(g,_,w,c-N,a+N),A>f?(N=f/A,u.arc(g,_,A,a+N,c-N,!0)):u.arc(g,_,f,a+Ve,c-Ve),u.closePath(),u.clip()}function Fa(u,l,a,c){return{x:a+u*Math.cos(l),y:c+u*Math.sin(l)}}function id(u,l,a,c,f){const{x:g,y:_,startAngle:w,pixelMargin:A,innerRadius:N}=l,Y=Math.max(l.outerRadius+c+a-A,0),ne=N>0?N+c+a+A:0;let de=0;const Te=f-w;if(c){const Ul=((N>0?N-c:0)+(Y>0?Y-c:0))/2;de=(Te-(0!==Ul?Te*Ul/(Ul+c):Te))/2}const Ke=(Te-Math.max(.001,Te*Y-a/vt)/Y)/2,dt=w+Ke+de,gt=f-Ke-de,{outerStart:Ut,outerEnd:tn,innerStart:$t,innerEnd:jt}=function Yl(u,l,a,c){const f=function Da(u){return ki(u,["outerStart","outerEnd","innerStart","innerEnd"])}(u.options.borderRadius),g=(a-l)/2,_=Math.min(g,c*l/2),w=A=>{const N=(a-Math.min(g,A))*c/2;return Ni(A,0,Math.min(g,N))};return{outerStart:w(f.outerStart),outerEnd:w(f.outerEnd),innerStart:Ni(f.innerStart,0,_),innerEnd:Ni(f.innerEnd,0,_)}}(l,ne,Y,gt-dt),Pn=Y-Ut,Nn=Y-tn,Yn=dt+Ut/Pn,ii=gt-tn/Nn,Ir=ne+$t,$i=ne+jt,Ki=dt+$t/Ir,ho=gt-jt/$i;if(u.beginPath(),u.arc(g,_,Y,Yn,ii),tn>0){const Zr=Fa(Nn,ii,g,_);u.arc(Zr.x,Zr.y,tn,ii,gt+Ve)}const ei=Fa($i,gt,g,_);if(u.lineTo(ei.x,ei.y),jt>0){const Zr=Fa($i,ho,g,_);u.arc(Zr.x,Zr.y,jt,gt+Ve,ho+Math.PI)}if(u.arc(g,_,ne,gt-jt/ne,dt+$t/ne,!0),$t>0){const Zr=Fa(Ir,Ki,g,_);u.arc(Zr.x,Zr.y,$t,Ki+Math.PI,dt-Ve)}const sr=Fa(Pn,dt,g,_);if(u.lineTo(sr.x,sr.y),Ut>0){const Zr=Fa(Pn,Yn,g,_);u.arc(Zr.x,Zr.y,Ut,dt-Ve,Yn)}u.closePath()}Object.defineProperties(Zu,{defaults:{enumerable:Qa,value:ri},instances:{enumerable:Qa,value:hl},overrides:{enumerable:Qa,value:Bi},registry:{enumerable:Qa,value:ws},version:{enumerable:Qa,value:"3.8.0"},getChart:{enumerable:Qa,value:qu},register:{enumerable:Qa,value:(...u)=>{ws.add(...u),td()}},unregister:{enumerable:Qa,value:(...u)=>{ws.remove(...u),td()}}});class La extends Rs{constructor(l){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,l&&Object.assign(this,l)}inRange(l,a,c){const f=this.getProps(["x","y"],c),{angle:g,distance:_}=Zn(f,{x:l,y:a}),{startAngle:w,endAngle:A,innerRadius:N,outerRadius:Y,circumference:ne}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),de=this.options.spacing/2,Ue=it(ne,A-w)>=on||Ji(g,w,A),Ke=Qt(_,N+de,Y+de);return Ue&&Ke}getCenterPoint(l){const{x:a,y:c,startAngle:f,endAngle:g,innerRadius:_,outerRadius:w}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],l),{offset:A,spacing:N}=this.options,Y=(f+g)/2,ne=(_+w+N+A)/2;return{x:a+Math.cos(Y)*ne,y:c+Math.sin(Y)*ne}}tooltipPosition(l){return this.getCenterPoint(l)}draw(l){const{options:a,circumference:c}=this,f=(a.offset||0)/2,g=(a.spacing||0)/2;if(this.pixelMargin="inner"===a.borderAlign?.33:0,this.fullCircles=c>on?Math.floor(c/on):0,0===c||this.innerRadius<0||this.outerRadius<0)return;l.save();let _=0;if(f){_=f/2;const A=(this.startAngle+this.endAngle)/2;l.translate(Math.cos(A)*_,Math.sin(A)*_),this.circumference>=vt&&(_=f)}l.fillStyle=a.backgroundColor,l.strokeStyle=a.borderColor;const w=function rd(u,l,a,c){const{fullCircles:f,startAngle:g,circumference:_}=l;let w=l.endAngle;if(f){id(u,l,a,c,g+on);for(let A=0;A<f;++A)u.fill();isNaN(_)||(w=g+_%on,_%on==0&&(w+=on))}return id(u,l,a,c,w),u.fill(),w}(l,this,_,g);(function Ql(u,l,a,c,f){const{options:g}=l,{borderWidth:_,borderJoinStyle:w}=g,A="inner"===g.borderAlign;!_||(A?(u.lineWidth=2*_,u.lineJoin=w||"round"):(u.lineWidth=_,u.lineJoin=w||"bevel"),l.fullCircles&&function Vd(u,l,a){const{x:c,y:f,startAngle:g,pixelMargin:_,fullCircles:w}=l,A=Math.max(l.outerRadius-_,0),N=l.innerRadius+_;let Y;for(a&&nd(u,l,g+on),u.beginPath(),u.arc(c,f,N,g+on,g,!0),Y=0;Y<w;++Y)u.stroke();for(u.beginPath(),u.arc(c,f,A,g,g+on),Y=0;Y<w;++Y)u.stroke()}(u,l,A),A&&nd(u,l,f),id(u,l,a,c,f),u.stroke())})(l,this,_,g,w),l.restore()}}function yc(u,l,a=l){u.lineCap=it(a.borderCapStyle,l.borderCapStyle),u.setLineDash(it(a.borderDash,l.borderDash)),u.lineDashOffset=it(a.borderDashOffset,l.borderDashOffset),u.lineJoin=it(a.borderJoinStyle,l.borderJoinStyle),u.lineWidth=it(a.borderWidth,l.borderWidth),u.strokeStyle=it(a.borderColor,l.borderColor)}function Xl(u,l,a){u.lineTo(a.x,a.y)}function Su(u,l,a={}){const c=u.length,{start:f=0,end:g=c-1}=a,{start:_,end:w}=l,A=Math.max(f,_),N=Math.min(g,w);return{count:c,start:A,loop:l.loop,ilen:N<A&&!(f<_&&g<_||f>w&&g>w)?c+N-A:N-A}}function Ol(u,l,a,c){const{points:f,options:g}=l,{count:_,start:w,loop:A,ilen:N}=Su(f,a,c),Y=function Bd(u){return u.stepped?No:u.tension||"monotone"===u.cubicInterpolationMode?Wi:Xl}(g);let Te,Ue,Ke,{move:ne=!0,reverse:de}=c||{};for(Te=0;Te<=N;++Te)Ue=f[(w+(de?N-Te:Te))%_],!Ue.skip&&(ne?(u.moveTo(Ue.x,Ue.y),ne=!1):Y(u,Ke,Ue,de,g.stepped),Ke=Ue);return A&&(Ue=f[(w+(de?N:0))%_],Y(u,Ke,Ue,de,g.stepped)),!!A}function gh(u,l,a,c){const f=l.points,{count:g,start:_,ilen:w}=Su(f,a,c),{move:A=!0,reverse:N}=c||{};let de,Te,Ue,Ke,dt,gt,Y=0,ne=0;const Ut=$t=>(_+(N?w-$t:$t))%g,tn=()=>{Ke!==dt&&(u.lineTo(Y,dt),u.lineTo(Y,Ke),u.lineTo(Y,gt))};for(A&&(Te=f[Ut(0)],u.moveTo(Te.x,Te.y)),de=0;de<=w;++de){if(Te=f[Ut(de)],Te.skip)continue;const $t=Te.x,jt=Te.y,Pn=0|$t;Pn===Ue?(jt<Ke?Ke=jt:jt>dt&&(dt=jt),Y=(ne*Y+$t)/++ne):(tn(),u.lineTo($t,jt),Ue=Pn,ne=0,Ke=dt=jt),gt=jt}tn()}function Jl(u){const l=u.options;return u._decimated||u._loop||l.tension||"monotone"===l.cubicInterpolationMode||l.stepped||l.borderDash&&l.borderDash.length?Ol:gh}La.id="arc",La.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},La.defaultRoutes={backgroundColor:"backgroundColor"};const Pl="function"==typeof Path2D;let tu=(()=>{class u extends Rs{constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(a,c){const f=this.options;!f.tension&&"monotone"!==f.cubicInterpolationMode||f.stepped||this._pointsUpdated||(_r(this._points,f,a,f.spanGaps?this._loop:this._fullLoop,c),this._pointsUpdated=!0)}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function sa(u,l){const a=u.points,c=u.options.spanGaps,f=a.length;if(!f)return[];const g=!!u._loop,{start:_,end:w}=function Yo(u,l,a,c){let f=0,g=l-1;if(a&&!c)for(;f<l&&!u[f].skip;)f++;for(;f<l&&u[f].skip;)f++;for(f%=l,a&&(g+=f);g>f&&u[g%l].skip;)g--;return g%=l,{start:f,end:g}}(a,f,g,c);return function Vs(u,l,a,c){return c&&c.setContext&&a?function oa(u,l,a,c){const f=u._chart.getContext(),g=ja(u.options),{_datasetIndex:_,options:{spanGaps:w}}=u,A=a.length,N=[];let Y=g,ne=l[0].start,de=ne;function Te(Ue,Ke,dt,gt){const Ut=w?-1:1;if(Ue!==Ke){for(Ue+=A;a[Ue%A].skip;)Ue-=Ut;for(;a[Ke%A].skip;)Ke+=Ut;Ue%A!=Ke%A&&(N.push({start:Ue%A,end:Ke%A,loop:dt,style:gt}),Y=gt,ne=Ke%A)}}for(const Ue of l){ne=w?ne:Ue.start;let dt,Ke=a[ne%A];for(de=ne+1;de<=Ue.end;de++){const gt=a[de%A];dt=ja(c.setContext(wr(f,{type:"segment",p0:Ke,p1:gt,p0DataIndex:(de-1)%A,p1DataIndex:de%A,datasetIndex:_}))),aa(dt,Y)&&Te(ne,de-1,Ue.loop,Y),Ke=gt,Y=dt}ne<de-1&&Te(ne,de-1,Ue.loop,Y)}return N}(u,l,a,c):l}(u,!0===c?[{start:_,end:w,loop:g}]:function rl(u,l,a,c){const f=u.length,g=[];let A,_=l,w=u[l];for(A=l+1;A<=a;++A){const N=u[A%f];N.skip||N.stop?w.skip||(g.push({start:l%f,end:(A-1)%f,loop:c=!1}),l=_=N.stop?A:null):(_=A,w.skip&&(l=A)),w=N}return null!==_&&g.push({start:l%f,end:_%f,loop:c}),g}(a,_,w<_?w+f:w,!!u._fullLoop&&0===_&&w===f-1),a,l)}(this,this.options.segment))}first(){const a=this.segments;return a.length&&this.points[a[0].start]}last(){const a=this.segments,f=a.length;return f&&this.points[a[f-1].end]}interpolate(a,c){const f=this.options,g=a[c],_=this.points,w=Vr(this,{property:c,start:g,end:g});if(!w.length)return;const A=[],N=function eu(u){return u.stepped?cs:u.tension||"monotone"===u.cubicInterpolationMode?rs:vr}(f);let Y,ne;for(Y=0,ne=w.length;Y<ne;++Y){const{start:de,end:Te}=w[Y],Ue=_[de],Ke=_[Te];if(Ue===Ke){A.push(Ue);continue}const gt=N(Ue,Ke,Math.abs((g-Ue[c])/(Ke[c]-Ue[c])),f.stepped);gt[c]=a[c],A.push(gt)}return 1===A.length?A[0]:A}pathSegment(a,c,f){return Jl(this)(a,this,c,f)}path(a,c,f){const g=this.segments,_=Jl(this);let w=this._loop;c=c||0,f=f||this.points.length-c;for(const A of g)w&=_(a,this,A,{start:c,end:c+f-1});return!!w}draw(a,c,f,g){(this.points||[]).length&&(this.options||{}).borderWidth&&(a.save(),function Yu(u,l,a,c){Pl&&!l.options.segment?function Ud(u,l,a,c){let f=l._path;f||(f=l._path=new Path2D,l.path(f,a,c)&&f.closePath()),yc(u,l.options),u.stroke(f)}(u,l,a,c):function Mr(u,l,a,c){const{segments:f,options:g}=l,_=Jl(l);for(const w of f)yc(u,g,w.style),u.beginPath(),_(u,l,w,{start:a,end:a+c-1})&&u.closePath(),u.stroke()}(u,l,a,c)}(a,this,f,g),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return u.id="line",u.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},u.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},u.descriptors={_scriptable:!0,_indexable:l=>"borderDash"!==l&&"fill"!==l},u})();function Qu(u,l,a,c){const f=u.options,{[a]:g}=u.getProps([a],c);return Math.abs(l-g)<f.radius+f.hitRadius}let rf=(()=>{class u extends Rs{constructor(a){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,c,f){const g=this.options,{x:_,y:w}=this.getProps(["x","y"],f);return Math.pow(a-_,2)+Math.pow(c-w,2)<Math.pow(g.hitRadius+g.radius,2)}inXRange(a,c){return Qu(this,a,"x",c)}inYRange(a,c){return Qu(this,a,"y",c)}getCenterPoint(a){const{x:c,y:f}=this.getProps(["x","y"],a);return{x:c,y:f}}size(a){let c=(a=a||this.options||{}).radius||0;return c=Math.max(c,c&&a.hoverRadius||0),2*(c+(c&&a.borderWidth||0))}draw(a,c){const f=this.options;this.skip||f.radius<.1||!Gr(this,c,this.size(f)/2)||(a.strokeStyle=f.borderColor,a.lineWidth=f.borderWidth,a.fillStyle=f.backgroundColor,Jr(a,f,this.x,this.y))}getRange(){const a=this.options||{};return a.radius+a.hitRadius}}return u.id="point",u.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},u.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},u})();function _c(u,l){const{x:a,y:c,base:f,width:g,height:_}=u.getProps(["x","y","base","width","height"],l);let w,A,N,Y,ne;return u.horizontal?(ne=_/2,w=Math.min(a,f),A=Math.max(a,f),N=c-ne,Y=c+ne):(ne=g/2,w=a-ne,A=a+ne,N=Math.min(c,f),Y=Math.max(c,f)),{left:w,top:N,right:A,bottom:Y}}function Rl(u,l,a,c){return u?0:Ni(l,a,c)}function sd(u,l,a,c){const f=null===l,g=null===a,w=u&&!(f&&g)&&_c(u,c);return w&&(f||Qt(l,w.left,w.right))&&(g||Qt(a,w.top,w.bottom))}function Nl(u,l){u.rect(l.x,l.y,l.w,l.h)}function Xu(u,l,a={}){const c=u.x!==a.x?-l:0,f=u.y!==a.y?-l:0;return{x:u.x+c,y:u.y+f,w:u.w+((u.x+u.w!==a.x+a.w?l:0)-c),h:u.h+((u.y+u.h!==a.y+a.h?l:0)-f),radius:u.radius}}class bc extends Rs{constructor(l){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,l&&Object.assign(this,l)}draw(l){const{inflateAmount:a,options:{borderColor:c,backgroundColor:f}}=this,{inner:g,outer:_}=function vc(u){const l=_c(u),a=l.right-l.left,c=l.bottom-l.top,f=function nu(u,l,a){const f=u.borderSkipped,g=dr(u.options.borderWidth);return{t:Rl(f.top,g.top,0,a),r:Rl(f.right,g.right,0,l),b:Rl(f.bottom,g.bottom,0,a),l:Rl(f.left,g.left,0,l)}}(u,a/2,c/2),g=function pl(u,l,a){const{enableBorderRadius:c}=u.getProps(["enableBorderRadius"]),f=u.options.borderRadius,g=Di(f),_=Math.min(l,a),w=u.borderSkipped,A=c||Oe(f);return{topLeft:Rl(!A||w.top||w.left,g.topLeft,0,_),topRight:Rl(!A||w.top||w.right,g.topRight,0,_),bottomLeft:Rl(!A||w.bottom||w.left,g.bottomLeft,0,_),bottomRight:Rl(!A||w.bottom||w.right,g.bottomRight,0,_)}}(u,a/2,c/2);return{outer:{x:l.left,y:l.top,w:a,h:c,radius:g},inner:{x:l.left+f.l,y:l.top+f.t,w:a-f.l-f.r,h:c-f.t-f.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,g.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(f.b,f.r))}}}}(this),w=function jd(u){return u.topLeft||u.topRight||u.bottomLeft||u.bottomRight}(_.radius)?Le:Nl;l.save(),(_.w!==g.w||_.h!==g.h)&&(l.beginPath(),w(l,Xu(_,a,g)),l.clip(),w(l,Xu(g,-a,_)),l.fillStyle=c,l.fill("evenodd")),l.beginPath(),w(l,Xu(g,a)),l.fillStyle=f,l.fill(),l.restore()}inRange(l,a,c){return sd(this,l,a,c)}inXRange(l,a){return sd(this,l,null,a)}inYRange(l,a){return sd(this,null,l,a)}getCenterPoint(l){const{x:a,y:c,base:f,horizontal:g}=this.getProps(["x","y","base","horizontal"],l);return{x:g?(a+f)/2:a,y:g?c:(c+f)/2}}getRange(l){return"x"===l?this.width/2:this.height/2}}bc.id="bar",bc.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},bc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Ns=Object.freeze({__proto__:null,ArcElement:La,LineElement:tu,PointElement:rf,BarElement:bc});function Au(u){if(u._decimated){const l=u._data;delete u._decimated,delete u._data,Object.defineProperty(u,"data",{value:l})}}function fa(u){u.data.datasets.forEach(l=>{Au(l)})}var Ec={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(u,l,a)=>{if(!a.enabled)return void fa(u);const c=u.width;u.data.datasets.forEach((f,g)=>{const{_data:_,indexAxis:w}=f,A=u.getDatasetMeta(g),N=_||f.data;if("y"===_s([w,u.options.indexAxis])||!A.controller.supportsDecimation)return;const Y=u.scales[A.xAxisID];if("linear"!==Y.type&&"time"!==Y.type||u.options.parsing)return;let Ue,{start:ne,count:de}=function xs(u,l){const a=l.length;let f,c=0;const{iScale:g}=u,{min:_,max:w,minDefined:A,maxDefined:N}=g.getUserBounds();return A&&(c=Ni(vs(l,g.axis,_).lo,0,a-1)),f=N?Ni(vs(l,g.axis,w).hi+1,c,a)-c:a-c,{start:c,count:f}}(A,N);if(de<=(a.threshold||4*c))Au(f);else{switch(ge(_)&&(f._data=N,delete f.data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Ke){this._data=Ke}})),a.algorithm){case"lttb":Ue=function rr(u,l,a,c,f){const g=f.samples||c;if(g>=a)return u.slice(l,l+a);const _=[],w=(a-2)/(g-2);let A=0;const N=l+a-1;let ne,de,Te,Ue,Ke,Y=l;for(_[A++]=u[Y],ne=0;ne<g-2;ne++){let Ut,dt=0,gt=0;const tn=Math.floor((ne+1)*w)+1+l,$t=Math.min(Math.floor((ne+2)*w)+1,a)+l,jt=$t-tn;for(Ut=tn;Ut<$t;Ut++)dt+=u[Ut].x,gt+=u[Ut].y;dt/=jt,gt/=jt;const Pn=Math.floor(ne*w)+1+l,Nn=Math.min(Math.floor((ne+1)*w)+1,a)+l,{x:Yn,y:ii}=u[Y];for(Te=Ue=-1,Ut=Pn;Ut<Nn;Ut++)Ue=.5*Math.abs((Yn-dt)*(u[Ut].y-ii)-(Yn-u[Ut].x)*(gt-ii)),Ue>Te&&(Te=Ue,de=u[Ut],Ke=Ut);_[A++]=de,Y=Ke}return _[A++]=u[N],_}(N,ne,de,c,a);break;case"min-max":Ue=function od(u,l,a,c){let _,w,A,N,Y,ne,de,Te,Ue,Ke,f=0,g=0;const dt=[],Ut=u[l].x,$t=u[l+a-1].x-Ut;for(_=l;_<l+a;++_){w=u[_],A=(w.x-Ut)/$t*c,N=w.y;const jt=0|A;if(jt===Y)N<Ue?(Ue=N,ne=_):N>Ke&&(Ke=N,de=_),f=(g*f+w.x)/++g;else{const Pn=_-1;if(!ge(ne)&&!ge(de)){const Nn=Math.min(ne,de),Yn=Math.max(ne,de);Nn!==Te&&Nn!==Pn&&dt.push(Hv(jv({},u[Nn]),{x:f})),Yn!==Te&&Yn!==Pn&&dt.push(Hv(jv({},u[Yn]),{x:f}))}_>0&&Pn!==Te&&dt.push(u[Pn]),dt.push(w),Y=jt,g=0,Ue=Ke=N,ne=de=Te=_}}return dt}(N,ne,de,c);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}f._decimated=Ue}})},destroy(u){fa(u)}};function jr(u,l,a,c){if(c)return;let f=l[u],g=a[u];return"angle"===u&&(f=oi(f),g=oi(g)),{property:u,start:f,end:g}}function Xa(u,l,a){for(;l>u;l--){const c=a[l];if(!isNaN(c.x)&&!isNaN(c.y))break}return l}function ad(u,l,a,c){return u&&l?c(u[a],l[a]):u?u[a]:l?l[a]:0}function pa(u,l){let a=[],c=!1;return pe(u)?(c=!0,a=u):a=function Hd(u,l){const{x:a=null,y:c=null}=u||{},f=l.points,g=[];return l.segments.forEach(({start:_,end:w})=>{w=Xa(_,w,f);const A=f[_],N=f[w];null!==c?(g.push({x:A.x,y:c}),g.push({x:N.x,y:c})):null!==a&&(g.push({x:a,y:A.y}),g.push({x:a,y:N.y}))}),g}(u,l),a.length?new tu({points:a,options:{tension:0},_loop:c,_fullLoop:c}):null}function wc(u,l,a){let f=u[l].fill;const g=[l];let _;if(!a)return f;for(;!1!==f&&-1===g.indexOf(f);){if(!xt(f))return f;if(_=u[f],!_)return!1;if(_.visible)return f;g.push(f),f=_.fill}return!1}function ld(u,l,a){const c=function Hr(u){const l=u.options,a=l.fill;let c=it(a&&a.target,a);return void 0===c&&(c=!!l.backgroundColor),!1!==c&&null!==c&&(!0===c?"origin":c)}(u);if(Oe(c))return!isNaN(c.value)&&c;let f=parseFloat(c);return xt(f)&&Math.floor(f)===f?function xu(u,l,a,c){return("-"===u||"+"===u)&&(a=l+a),!(a===l||a<0||a>=c)&&a}(c[0],l,f,a):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function gl(u,l,a){const c=[];for(let f=0;f<a.length;f++){const g=a[f],{first:_,last:w,point:A}=kl(g,l,"x");if(!(!A||_&&w))if(_)c.unshift(A);else if(u.push(A),!w)break}u.push(...c)}function kl(u,l,a){const c=u.interpolate(l,a);if(!c)return{};const f=c[a],g=u.segments,_=u.points;let w=!1,A=!1;for(let N=0;N<g.length;N++){const Y=g[N],ne=_[Y.start][a],de=_[Y.end][a];if(Qt(f,ne,de)){w=f===ne,A=f===de;break}}return{first:w,last:A,point:c}}class iu{constructor(l){this.x=l.x,this.y=l.y,this.radius=l.radius}pathSegment(l,a,c){const{x:f,y:g,radius:_}=this;return l.arc(f,g,_,(a=a||{start:0,end:on}).end,a.start,!0),!c.bounds}interpolate(l){const{x:a,y:c,radius:f}=this,g=l.angle;return{x:a+Math.cos(g)*f,y:c+Math.sin(g)*f,angle:g}}}function Ou(u,l,a){const c=function xo(u){const{chart:l,fill:a,line:c}=u;if(xt(a))return function Fl(u,l){const a=u.getDatasetMeta(l);return a&&u.isDatasetVisible(l)?a.dataset:null}(l,a);if("stack"===a)return function Ju(u){const{scale:l,index:a,line:c}=u,f=[],g=c.segments,_=c.points,w=function co(u,l){const a=[],c=u.getMatchingVisibleMetas("line");for(let f=0;f<c.length;f++){const g=c[f];if(g.index===l)break;g.hidden||a.unshift(g.dataset)}return a}(l,a);w.push(pa({x:null,y:l.bottom},c));for(let A=0;A<g.length;A++){const N=g[A];for(let Y=N.start;Y<=N.end;Y++)gl(f,_[Y],w)}return new tu({points:f,options:{}})}(u);if("shape"===a)return!0;const f=function Dc(u){return(u.scale||{}).getPointPositionForValue?function Mu(u){const{scale:l,fill:a}=u,c=l.options,f=l.getLabels().length,g=c.reverse?l.max:l.min,_=function sf(u,l,a){let c;return c="start"===u?a:"end"===u?l.options.reverse?l.min:l.max:Oe(u)?u.value:l.getBaseValue(),c}(a,l,g),w=[];if(c.grid.circular){const A=l.getPointPositionForValue(0,g);return new iu({x:A.x,y:A.y,radius:l.getDistanceFromCenterForValue(_)})}for(let A=0;A<f;++A)w.push(l.getPointPositionForValue(A,_));return w}(u):function ga(u){const{scale:l={},fill:a}=u,c=function mh(u,l){let a=null;return"start"===u?a=l.bottom:"end"===u?a=l.top:Oe(u)?a=l.getPixelForValue(u.value):l.getBasePixel&&(a=l.getBasePixel()),a}(a,l);if(xt(c)){const f=l.isHorizontal();return{x:f?c:null,y:f?null:c}}return null}(u)}(u);return f instanceof iu?f:pa(f,c)}(l),{line:f,scale:g,axis:_}=l,w=f.options,A=w.fill,N=w.backgroundColor,{above:Y=N,below:ne=N}=A||{};c&&f.points.length&&(po(u,a),function yh(u,l){const{line:a,target:c,above:f,below:g,area:_,scale:w}=l,A=a._loop?"angle":l.axis;u.save(),"x"===A&&g!==f&&(ec(u,c,_.top),Cc(u,{line:a,target:c,color:f,scale:w,property:A}),u.restore(),u.save(),ec(u,c,_.bottom)),Cc(u,{line:a,target:c,color:g,scale:w,property:A}),u.restore()}(u,{line:f,target:c,above:Y,below:ne,area:a,scale:g,axis:_}),us(u))}function ec(u,l,a){const{segments:c,points:f}=l;let g=!0,_=!1;u.beginPath();for(const w of c){const{start:A,end:N}=w,Y=f[A],ne=f[Xa(A,N,f)];g?(u.moveTo(Y.x,Y.y),g=!1):(u.lineTo(Y.x,a),u.lineTo(Y.x,Y.y)),_=!!l.pathSegment(u,w,{move:_}),_?u.closePath():u.lineTo(ne.x,a)}u.lineTo(l.first().x,a),u.closePath(),u.clip()}function Cc(u,l){const{line:a,target:c,property:f,color:g,scale:_}=l,w=function Xi(u,l,a){const c=u.segments,f=u.points,g=l.points,_=[];for(const w of c){let{start:A,end:N}=w;N=Xa(A,N,f);const Y=jr(a,f[A],f[N],w.loop);if(!l.segments){_.push({source:w,target:Y,start:f[A],end:f[N]});continue}const ne=Vr(l,Y);for(const de of ne){const Te=jr(a,g[de.start],g[de.end],de.loop),Ue=Zo(w,f,Te);for(const Ke of Ue)_.push({source:Ke,target:de,start:{[a]:ad(Y,Te,"start",Math.max)},end:{[a]:ad(Y,Te,"end",Math.min)}})}}return _}(a,c,f);for(const{source:A,target:N,start:Y,end:ne}of w){const{style:{backgroundColor:de=g}={}}=A,Te=!0!==c;u.save(),u.fillStyle=de,Pu(u,_,Te&&jr(f,Y,ne)),u.beginPath();const Ue=!!a.pathSegment(u,A);let Ke;if(Te){Ue?u.closePath():Ic(u,c,ne,f);const dt=!!c.pathSegment(u,N,{move:Ue,reverse:!0});Ke=Ue&&dt,Ke||Ic(u,c,Y,f)}u.closePath(),u.fill(Ke?"evenodd":"nonzero"),u.restore()}}function Pu(u,l,a){const{top:c,bottom:f}=l.chart.chartArea,{property:g,start:_,end:w}=a||{};"x"===g&&(u.beginPath(),u.rect(_,c,w-_,f-c),u.clip())}function Ic(u,l,a,c){const f=l.interpolate(a,c);f&&u.lineTo(f.x,f.y)}var _h={id:"filler",afterDatasetsUpdate(u,l,a){const c=(u.data.datasets||[]).length,f=[];let g,_,w,A;for(_=0;_<c;++_)g=u.getDatasetMeta(_),w=g.dataset,A=null,w&&w.options&&w instanceof tu&&(A={visible:u.isDatasetVisible(_),index:_,fill:ld(w,_,c),chart:u,axis:g.controller.options.indexAxis,scale:g.vScale,line:w}),g.$filler=A,f.push(A);for(_=0;_<c;++_)A=f[_],A&&!1!==A.fill&&(A.fill=wc(f,_,a.propagate))},beforeDraw(u,l,a){const c="beforeDraw"===a.drawTime,f=u.getSortedVisibleDatasetMetas(),g=u.chartArea;for(let _=f.length-1;_>=0;--_){const w=f[_].$filler;!w||(w.line.updateControlPoints(g,w.axis),c&&Ou(u.ctx,w,g))}},beforeDatasetsDraw(u,l,a){if("beforeDatasetsDraw"!==a.drawTime)return;const c=u.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f){const g=c[f].$filler;g&&Ou(u.ctx,g,u.chartArea)}},beforeDatasetDraw(u,l,a){const c=l.meta.$filler;!c||!1===c.fill||"beforeDatasetDraw"!==a.drawTime||Ou(u.ctx,c,u.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qr=(u,l)=>{let{boxHeight:a=l,boxWidth:c=l}=u;return u.usePointStyle&&(a=Math.min(a,l),c=Math.min(c,l)),{boxWidth:c,boxHeight:a,itemHeight:Math.max(l,a)}};class ud extends Rs{constructor(l){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,a,c){this.maxWidth=l,this.maxHeight=a,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const l=this.options.labels||{};let a=ft(l.generateLabels,[this.chart],this)||[];l.filter&&(a=a.filter(c=>l.filter(c,this.chart.data))),l.sort&&(a=a.sort((c,f)=>l.sort(c,f,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:l,ctx:a}=this;if(!l.display)return void(this.width=this.height=0);const c=l.labels,f=ji(c.font),g=f.size,_=this._computeTitleHeight(),{boxWidth:w,itemHeight:A}=qr(c,g);let N,Y;a.font=f.string,this.isHorizontal()?(N=this.maxWidth,Y=this._fitRows(_,g,w,A)+10):(Y=this.maxHeight,N=this._fitCols(_,g,w,A)+10),this.width=Math.min(N,l.maxWidth||this.maxWidth),this.height=Math.min(Y,l.maxHeight||this.maxHeight)}_fitRows(l,a,c,f){const{ctx:g,maxWidth:_,options:{labels:{padding:w}}}=this,A=this.legendHitBoxes=[],N=this.lineWidths=[0],Y=f+w;let ne=l;g.textAlign="left",g.textBaseline="middle";let de=-1,Te=-Y;return this.legendItems.forEach((Ue,Ke)=>{const dt=c+a/2+g.measureText(Ue.text).width;(0===Ke||N[N.length-1]+dt+2*w>_)&&(ne+=Y,N[N.length-(Ke>0?0:1)]=0,Te+=Y,de++),A[Ke]={left:0,top:Te,row:de,width:dt,height:f},N[N.length-1]+=dt+w}),ne}_fitCols(l,a,c,f){const{ctx:g,maxHeight:_,options:{labels:{padding:w}}}=this,A=this.legendHitBoxes=[],N=this.columnSizes=[],Y=_-l;let ne=w,de=0,Te=0,Ue=0,Ke=0;return this.legendItems.forEach((dt,gt)=>{const Ut=c+a/2+g.measureText(dt.text).width;gt>0&&Te+f+2*w>Y&&(ne+=de+w,N.push({width:de,height:Te}),Ue+=de+w,Ke++,de=Te=0),A[gt]={left:Ue,top:Te,col:Ke,width:Ut,height:f},de=Math.max(de,Ut),Te+=f+w}),ne+=de,N.push({width:de,height:Te}),ne}adjustHitBoxes(){if(!this.options.display)return;const l=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:c,labels:{padding:f},rtl:g}}=this,_=Es(g,this.left,this.width);if(this.isHorizontal()){let w=0,A=ke(c,this.left+f,this.right-this.lineWidths[w]);for(const N of a)w!==N.row&&(w=N.row,A=ke(c,this.left+f,this.right-this.lineWidths[w])),N.top+=this.top+l+f,N.left=_.leftForLtr(_.x(A),N.width),A+=N.width+f}else{let w=0,A=ke(c,this.top+l+f,this.bottom-this.columnSizes[w].height);for(const N of a)N.col!==w&&(w=N.col,A=ke(c,this.top+l+f,this.bottom-this.columnSizes[w].height)),N.top=A,N.left+=this.left+f,N.left=_.leftForLtr(_.x(N.left),N.width),A+=N.height+f}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const l=this.ctx;po(l,this),this._draw(),us(l)}}_draw(){const{options:l,columnSizes:a,lineWidths:c,ctx:f}=this,{align:g,labels:_}=l,w=ri.color,A=Es(l.rtl,this.left,this.width),N=ji(_.font),{color:Y,padding:ne}=_,de=N.size,Te=de/2;let Ue;this.drawTitle(),f.textAlign=A.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=N.string;const{boxWidth:Ke,boxHeight:dt,itemHeight:gt}=qr(_,de),$t=this.isHorizontal(),jt=this._computeTitleHeight();Ue=$t?{x:ke(g,this.left+ne,this.right-c[0]),y:this.top+ne+jt,line:0}:{x:this.left+ne,y:ke(g,this.top+jt+ne,this.bottom-a[0].height),line:0},ds(this.ctx,l.textDirection);const Pn=gt+ne;this.legendItems.forEach((Nn,Yn)=>{f.strokeStyle=Nn.fontColor||Y,f.fillStyle=Nn.fontColor||Y;const ii=f.measureText(Nn.text).width,Ir=A.textAlign(Nn.textAlign||(Nn.textAlign=_.textAlign)),$i=Ke+Te+ii;let Ki=Ue.x,ho=Ue.y;A.setWidth(this.width),$t?Yn>0&&Ki+$i+ne>this.right&&(ho=Ue.y+=Pn,Ue.line++,Ki=Ue.x=ke(g,this.left+ne,this.right-c[Ue.line])):Yn>0&&ho+Pn>this.bottom&&(Ki=Ue.x=Ki+a[Ue.line].width+ne,Ue.line++,ho=Ue.y=ke(g,this.top+jt+ne,this.bottom-a[Ue.line].height)),function(Nn,Yn,ii){if(isNaN(Ke)||Ke<=0||isNaN(dt)||dt<0)return;f.save();const Ir=it(ii.lineWidth,1);if(f.fillStyle=it(ii.fillStyle,w),f.lineCap=it(ii.lineCap,"butt"),f.lineDashOffset=it(ii.lineDashOffset,0),f.lineJoin=it(ii.lineJoin,"miter"),f.lineWidth=Ir,f.strokeStyle=it(ii.strokeStyle,w),f.setLineDash(it(ii.lineDash,[])),_.usePointStyle){const $i={radius:Ke*Math.SQRT2/2,pointStyle:ii.pointStyle,rotation:ii.rotation,borderWidth:Ir},Ki=A.xPlus(Nn,Ke/2);Jr(f,$i,Ki,Yn+Te)}else{const $i=Yn+Math.max((de-dt)/2,0),Ki=A.leftForLtr(Nn,Ke),ho=Di(ii.borderRadius);f.beginPath(),Object.values(ho).some(ei=>0!==ei)?Le(f,{x:Ki,y:$i,w:Ke,h:dt,radius:ho}):f.rect(Ki,$i,Ke,dt),f.fill(),0!==Ir&&f.stroke()}f.restore()}(A.x(Ki),ho,Nn),Ki=((u,l,a,c)=>u===(c?"left":"right")?a:"center"===u?(l+a)/2:l)(Ir,Ki+Ke+Te,$t?Ki+$i:this.right,l.rtl),function(Nn,Yn,ii){ys(f,ii.text,Nn,Yn+gt/2,N,{strikethrough:ii.hidden,textAlign:A.textAlign(ii.textAlign)})}(A.x(Ki),ho,Nn),$t?Ue.x+=$i+ne:Ue.y+=Pn}),Ls(this.ctx,l.textDirection)}drawTitle(){const l=this.options,a=l.title,c=ji(a.font),f=Li(a.padding);if(!a.display)return;const g=Es(l.rtl,this.left,this.width),_=this.ctx,w=a.position,N=f.top+c.size/2;let Y,ne=this.left,de=this.width;if(this.isHorizontal())de=Math.max(...this.lineWidths),Y=this.top+N,ne=ke(l.align,ne,this.right-de);else{const Ue=this.columnSizes.reduce((Ke,dt)=>Math.max(Ke,dt.height),0);Y=N+ke(l.align,this.top,this.bottom-Ue-l.labels.padding-this._computeTitleHeight())}const Te=ke(w,ne,ne+de);_.textAlign=g.textAlign(Ee(w)),_.textBaseline="middle",_.strokeStyle=a.color,_.fillStyle=a.color,_.font=c.string,ys(_,a.text,Te,Y,c)}_computeTitleHeight(){const l=this.options.title,a=ji(l.font),c=Li(l.padding);return l.display?a.lineHeight+c.height:0}_getLegendItemAt(l,a){let c,f,g;if(Qt(l,this.left,this.right)&&Qt(a,this.top,this.bottom))for(g=this.legendHitBoxes,c=0;c<g.length;++c)if(f=g[c],Qt(l,f.left,f.left+f.width)&&Qt(a,f.top,f.top+f.height))return this.legendItems[c];return null}handleEvent(l){const a=this.options;if(!function ru(u,l){return!(("mousemove"!==u&&"mouseout"!==u||!l.onHover&&!l.onLeave)&&(!l.onClick||"click"!==u&&"mouseup"!==u))}(l.type,a))return;const c=this._getLegendItemAt(l.x,l.y);if("mousemove"===l.type||"mouseout"===l.type){const f=this._hoveredItem,g=((u,l)=>null!==u&&null!==l&&u.datasetIndex===l.datasetIndex&&u.index===l.index)(f,c);f&&!g&&ft(a.onLeave,[l,f,this],this),this._hoveredItem=c,c&&!g&&ft(a.onHover,[l,c,this],this)}else c&&ft(a.onClick,[l,c,this],this)}}var Ja={id:"legend",_element:ud,start(u,l,a){const c=u.legend=new ud({ctx:u.ctx,options:a,chart:u});So.configure(u,c,a),So.addBox(u,c)},stop(u){So.removeBox(u,u.legend),delete u.legend},beforeUpdate(u,l,a){const c=u.legend;So.configure(u,c,a),c.options=a},afterUpdate(u){const l=u.legend;l.buildLabels(),l.adjustHitBoxes()},afterEvent(u,l){l.replay||u.legend.handleEvent(l.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(u,l,a){const c=l.datasetIndex,f=a.chart;f.isDatasetVisible(c)?(f.hide(c),l.hidden=!0):(f.show(c),l.hidden=!1)},onHover:null,onLeave:null,labels:{color:u=>u.chart.options.color,boxWidth:40,padding:10,generateLabels(u){const l=u.data.datasets,{labels:{usePointStyle:a,pointStyle:c,textAlign:f,color:g}}=u.legend.options;return u._getSortedDatasetMetas().map(_=>{const w=_.controller.getStyle(a?0:void 0),A=Li(w.borderWidth);return{text:l[_.index].label,fillStyle:w.backgroundColor,fontColor:g,hidden:!_.visible,lineCap:w.borderCapStyle,lineDash:w.borderDash,lineDashOffset:w.borderDashOffset,lineJoin:w.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:w.borderColor,pointStyle:c||w.pointStyle,rotation:w.rotation,textAlign:f||w.textAlign,borderRadius:0,datasetIndex:_.index}},this)}},title:{color:u=>u.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:u=>!u.startsWith("on"),labels:{_scriptable:u=>!["generateLabels","filter","sort"].includes(u)}}};class Ru extends Rs{constructor(l){super(),this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,a){const c=this.options;if(this.left=0,this.top=0,!c.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=l,this.height=this.bottom=a;const f=pe(c.text)?c.text.length:1;this._padding=Li(c.padding);const g=f*ji(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const l=this.options.position;return"top"===l||"bottom"===l}_drawArgs(l){const{top:a,left:c,bottom:f,right:g,options:_}=this,w=_.align;let N,Y,ne,A=0;return this.isHorizontal()?(Y=ke(w,c,g),ne=a+l,N=g-c):("left"===_.position?(Y=c+l,ne=ke(w,f,a),A=-.5*vt):(Y=g-l,ne=ke(w,a,f),A=.5*vt),N=f-a),{titleX:Y,titleY:ne,maxWidth:N,rotation:A}}draw(){const l=this.ctx,a=this.options;if(!a.display)return;const c=ji(a.font),g=c.lineHeight/2+this._padding.top,{titleX:_,titleY:w,maxWidth:A,rotation:N}=this._drawArgs(g);ys(l,a.text,0,0,c,{color:a.color,maxWidth:A,rotation:N,textAlign:Ee(a.align),textBaseline:"middle",translation:[_,w]})}}var su={id:"title",_element:Ru,start(u,l,a){!function bo(u,l){const a=new Ru({ctx:u.ctx,options:l,chart:u});So.configure(u,a,l),So.addBox(u,a),u.titleBlock=a}(u,a)},stop(u){So.removeBox(u,u.titleBlock),delete u.titleBlock},beforeUpdate(u,l,a){const c=u.titleBlock;So.configure(u,c,a),c.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ou=new WeakMap;var $d={id:"subtitle",start(u,l,a){const c=new Ru({ctx:u.ctx,options:a,chart:u});So.configure(u,c,a),So.addBox(u,c),ou.set(u,c)},stop(u){So.removeBox(u,ou.get(u)),ou.delete(u)},beforeUpdate(u,l,a){const c=ou.get(u);So.configure(u,c,a),c.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const na={average(u){if(!u.length)return!1;let l,a,c=0,f=0,g=0;for(l=0,a=u.length;l<a;++l){const _=u[l].element;if(_&&_.hasValue()){const w=_.tooltipPosition();c+=w.x,f+=w.y,++g}}return{x:c/g,y:f/g}},nearest(u,l){if(!u.length)return!1;let g,_,w,a=l.x,c=l.y,f=Number.POSITIVE_INFINITY;for(g=0,_=u.length;g<_;++g){const A=u[g].element;if(A&&A.hasValue()){const Y=Er(l,A.getCenterPoint());Y<f&&(f=Y,w=A)}}if(w){const A=w.tooltipPosition();a=A.x,c=A.y}return{x:a,y:c}}};function ia(u,l){return l&&(pe(l)?Array.prototype.push.apply(u,l):u.push(l)),u}function Va(u){return("string"==typeof u||u instanceof String)&&u.indexOf("\n")>-1?u.split("\n"):u}function Nu(u,l){const{element:a,datasetIndex:c,index:f}=l,g=u.getDatasetMeta(c).controller,{label:_,value:w}=g.getLabelAndValue(f);return{chart:u,label:_,parsed:g.getParsed(f),raw:u.data.datasets[c].data[f],formattedValue:w,dataset:g.getDataset(),dataIndex:f,datasetIndex:c,element:a}}function Sc(u,l){const a=u.chart.ctx,{body:c,footer:f,title:g}=u,{boxWidth:_,boxHeight:w}=l,A=ji(l.bodyFont),N=ji(l.titleFont),Y=ji(l.footerFont),ne=g.length,de=f.length,Te=c.length,Ue=Li(l.padding);let Ke=Ue.height,dt=0,gt=c.reduce(($t,jt)=>$t+jt.before.length+jt.lines.length+jt.after.length,0);gt+=u.beforeBody.length+u.afterBody.length,ne&&(Ke+=ne*N.lineHeight+(ne-1)*l.titleSpacing+l.titleMarginBottom),gt&&(Ke+=Te*(l.displayColors?Math.max(w,A.lineHeight):A.lineHeight)+(gt-Te)*A.lineHeight+(gt-1)*l.bodySpacing),de&&(Ke+=l.footerMarginTop+de*Y.lineHeight+(de-1)*l.footerSpacing);let Ut=0;const tn=function($t){dt=Math.max(dt,a.measureText($t).width+Ut)};return a.save(),a.font=N.string,Fe(u.title,tn),a.font=A.string,Fe(u.beforeBody.concat(u.afterBody),tn),Ut=l.displayColors?_+2+l.boxPadding:0,Fe(c,$t=>{Fe($t.before,tn),Fe($t.lines,tn),Fe($t.after,tn)}),Ut=0,a.font=Y.string,Fe(u.footer,tn),a.restore(),dt+=Ue.width,{width:dt,height:Ke}}function Gd(u,l,a,c){const{x:f,width:g}=a,{width:_,chartArea:{left:w,right:A}}=u;let N="center";return"center"===c?N=f<=(w+A)/2?"left":"right":f<=g/2?N="left":f>=_-g/2&&(N="right"),function zd(u,l,a,c){const{x:f,width:g}=c,_=a.caretSize+a.caretPadding;if("left"===u&&f+g+_>l.width||"right"===u&&f-g-_<0)return!0}(N,u,l,a)&&(N="center"),N}function Ac(u,l,a){const c=a.yAlign||l.yAlign||function cd(u,l){const{y:a,height:c}=l;return a<c/2?"top":a>u.height-c/2?"bottom":"center"}(u,a);return{xAlign:a.xAlign||l.xAlign||Gd(u,l,a,c),yAlign:c}}function m(u,l,a,c){const{caretSize:f,caretPadding:g,cornerRadius:_}=u,{xAlign:w,yAlign:A}=a,N=f+g,{topLeft:Y,topRight:ne,bottomLeft:de,bottomRight:Te}=Di(_);let Ue=function Wd(u,l){let{x:a,width:c}=u;return"right"===l?a-=c:"center"===l&&(a-=c/2),a}(l,w);const Ke=function C(u,l,a){let{y:c,height:f}=u;return"top"===l?c+=a:c-="bottom"===l?f+a:f/2,c}(l,A,N);return"center"===A?"left"===w?Ue+=N:"right"===w&&(Ue-=N):"left"===w?Ue-=Math.max(Y,de)+f:"right"===w&&(Ue+=Math.max(ne,Te)+f),{x:Ni(Ue,0,c.width-l.width),y:Ni(Ke,0,c.height-l.height)}}function v(u,l,a){const c=Li(a.padding);return"center"===l?u.x+u.width/2:"right"===l?u.x+u.width-c.right:u.x+c.left}function O(u){return ia([],Va(u))}function ce(u,l){const a=l&&l.dataset&&l.dataset.tooltip&&l.dataset.tooltip.callbacks;return a?u.override(a):u}let et=(()=>{class u extends Rs{constructor(a){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=a.chart||a._chart,this._chart=this.chart,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const a=this._cachedAnimations;if(a)return a;const c=this.chart,f=this.options.setContext(this.getContext()),g=f.enabled&&c.options.animation&&f.animations,_=new Oa(this.chart,g);return g._cacheable&&(this._cachedAnimations=Object.freeze(_)),_}getContext(){return this.$context||(this.$context=function J(u,l,a){return wr(u,{tooltip:l,tooltipItems:a,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(a,c){const{callbacks:f}=c,g=f.beforeTitle.apply(this,[a]),_=f.title.apply(this,[a]),w=f.afterTitle.apply(this,[a]);let A=[];return A=ia(A,Va(g)),A=ia(A,Va(_)),A=ia(A,Va(w)),A}getBeforeBody(a,c){return O(c.callbacks.beforeBody.apply(this,[a]))}getBody(a,c){const{callbacks:f}=c,g=[];return Fe(a,_=>{const w={before:[],lines:[],after:[]},A=ce(f,_);ia(w.before,Va(A.beforeLabel.call(this,_))),ia(w.lines,A.label.call(this,_)),ia(w.after,Va(A.afterLabel.call(this,_))),g.push(w)}),g}getAfterBody(a,c){return O(c.callbacks.afterBody.apply(this,[a]))}getFooter(a,c){const{callbacks:f}=c,g=f.beforeFooter.apply(this,[a]),_=f.footer.apply(this,[a]),w=f.afterFooter.apply(this,[a]);let A=[];return A=ia(A,Va(g)),A=ia(A,Va(_)),A=ia(A,Va(w)),A}_createItems(a){const c=this._active,f=this.chart.data,g=[],_=[],w=[];let N,Y,A=[];for(N=0,Y=c.length;N<Y;++N)A.push(Nu(this.chart,c[N]));return a.filter&&(A=A.filter((ne,de,Te)=>a.filter(ne,de,Te,f))),a.itemSort&&(A=A.sort((ne,de)=>a.itemSort(ne,de,f))),Fe(A,ne=>{const de=ce(a.callbacks,ne);g.push(de.labelColor.call(this,ne)),_.push(de.labelPointStyle.call(this,ne)),w.push(de.labelTextColor.call(this,ne))}),this.labelColors=g,this.labelPointStyles=_,this.labelTextColors=w,this.dataPoints=A,A}update(a,c){const f=this.options.setContext(this.getContext()),g=this._active;let _,w=[];if(g.length){const A=na[f.position].call(this,g,this._eventPosition);w=this._createItems(f),this.title=this.getTitle(w,f),this.beforeBody=this.getBeforeBody(w,f),this.body=this.getBody(w,f),this.afterBody=this.getAfterBody(w,f),this.footer=this.getFooter(w,f);const N=this._size=Sc(this,f),Y=Object.assign({},A,N),ne=Ac(this.chart,f,Y),de=m(f,Y,ne,this.chart);this.xAlign=ne.xAlign,this.yAlign=ne.yAlign,_={opacity:1,x:de.x,y:de.y,width:N.width,height:N.height,caretX:A.x,caretY:A.y}}else 0!==this.opacity&&(_={opacity:0});this._tooltipItems=w,this.$context=void 0,_&&this._resolveAnimations().update(this,_),a&&f.external&&f.external.call(this,{chart:this.chart,tooltip:this,replay:c})}drawCaret(a,c,f,g){const _=this.getCaretPosition(a,f,g);c.lineTo(_.x1,_.y1),c.lineTo(_.x2,_.y2),c.lineTo(_.x3,_.y3)}getCaretPosition(a,c,f){const{xAlign:g,yAlign:_}=this,{caretSize:w,cornerRadius:A}=f,{topLeft:N,topRight:Y,bottomLeft:ne,bottomRight:de}=Di(A),{x:Te,y:Ue}=a,{width:Ke,height:dt}=c;let gt,Ut,tn,$t,jt,Pn;return"center"===_?(jt=Ue+dt/2,"left"===g?(gt=Te,Ut=gt-w,$t=jt+w,Pn=jt-w):(gt=Te+Ke,Ut=gt+w,$t=jt-w,Pn=jt+w),tn=gt):(Ut="left"===g?Te+Math.max(N,ne)+w:"right"===g?Te+Ke-Math.max(Y,de)-w:this.caretX,"top"===_?($t=Ue,jt=$t-w,gt=Ut-w,tn=Ut+w):($t=Ue+dt,jt=$t+w,gt=Ut+w,tn=Ut-w),Pn=$t),{x1:gt,x2:Ut,x3:tn,y1:$t,y2:jt,y3:Pn}}drawTitle(a,c,f){const g=this.title,_=g.length;let w,A,N;if(_){const Y=Es(f.rtl,this.x,this.width);for(a.x=v(this,f.titleAlign,f),c.textAlign=Y.textAlign(f.titleAlign),c.textBaseline="middle",w=ji(f.titleFont),A=f.titleSpacing,c.fillStyle=f.titleColor,c.font=w.string,N=0;N<_;++N)c.fillText(g[N],Y.x(a.x),a.y+w.lineHeight/2),a.y+=w.lineHeight+A,N+1===_&&(a.y+=f.titleMarginBottom-A)}}_drawColorBox(a,c,f,g,_){const w=this.labelColors[f],A=this.labelPointStyles[f],{boxHeight:N,boxWidth:Y,boxPadding:ne}=_,de=ji(_.bodyFont),Te=v(this,"left",_),Ue=g.x(Te),dt=c.y+(N<de.lineHeight?(de.lineHeight-N)/2:0);if(_.usePointStyle){const gt={radius:Math.min(Y,N)/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:1},Ut=g.leftForLtr(Ue,Y)+Y/2,tn=dt+N/2;a.strokeStyle=_.multiKeyBackground,a.fillStyle=_.multiKeyBackground,Jr(a,gt,Ut,tn),a.strokeStyle=w.borderColor,a.fillStyle=w.backgroundColor,Jr(a,gt,Ut,tn)}else{a.lineWidth=w.borderWidth||1,a.strokeStyle=w.borderColor,a.setLineDash(w.borderDash||[]),a.lineDashOffset=w.borderDashOffset||0;const gt=g.leftForLtr(Ue,Y-ne),Ut=g.leftForLtr(g.xPlus(Ue,1),Y-ne-2),tn=Di(w.borderRadius);Object.values(tn).some($t=>0!==$t)?(a.beginPath(),a.fillStyle=_.multiKeyBackground,Le(a,{x:gt,y:dt,w:Y,h:N,radius:tn}),a.fill(),a.stroke(),a.fillStyle=w.backgroundColor,a.beginPath(),Le(a,{x:Ut,y:dt+1,w:Y-2,h:N-2,radius:tn}),a.fill()):(a.fillStyle=_.multiKeyBackground,a.fillRect(gt,dt,Y,N),a.strokeRect(gt,dt,Y,N),a.fillStyle=w.backgroundColor,a.fillRect(Ut,dt+1,Y-2,N-2))}a.fillStyle=this.labelTextColors[f]}drawBody(a,c,f){const{body:g}=this,{bodySpacing:_,bodyAlign:w,displayColors:A,boxHeight:N,boxWidth:Y,boxPadding:ne}=f,de=ji(f.bodyFont);let Te=de.lineHeight,Ue=0;const Ke=Es(f.rtl,this.x,this.width),dt=function(ii){c.fillText(ii,Ke.x(a.x+Ue),a.y+Te/2),a.y+=Te+_},gt=Ke.textAlign(w);let Ut,tn,$t,jt,Pn,Nn,Yn;for(c.textAlign=w,c.textBaseline="middle",c.font=de.string,a.x=v(this,gt,f),c.fillStyle=f.bodyColor,Fe(this.beforeBody,dt),Ue=A&&"right"!==gt?"center"===w?Y/2+ne:Y+2+ne:0,jt=0,Nn=g.length;jt<Nn;++jt){for(Ut=g[jt],tn=this.labelTextColors[jt],c.fillStyle=tn,Fe(Ut.before,dt),$t=Ut.lines,A&&$t.length&&(this._drawColorBox(c,a,jt,Ke,f),Te=Math.max(de.lineHeight,N)),Pn=0,Yn=$t.length;Pn<Yn;++Pn)dt($t[Pn]),Te=de.lineHeight;Fe(Ut.after,dt)}Ue=0,Te=de.lineHeight,Fe(this.afterBody,dt),a.y-=_}drawFooter(a,c,f){const g=this.footer,_=g.length;let w,A;if(_){const N=Es(f.rtl,this.x,this.width);for(a.x=v(this,f.footerAlign,f),a.y+=f.footerMarginTop,c.textAlign=N.textAlign(f.footerAlign),c.textBaseline="middle",w=ji(f.footerFont),c.fillStyle=f.footerColor,c.font=w.string,A=0;A<_;++A)c.fillText(g[A],N.x(a.x),a.y+w.lineHeight/2),a.y+=w.lineHeight+f.footerSpacing}}drawBackground(a,c,f,g){const{xAlign:_,yAlign:w}=this,{x:A,y:N}=a,{width:Y,height:ne}=f,{topLeft:de,topRight:Te,bottomLeft:Ue,bottomRight:Ke}=Di(g.cornerRadius);c.fillStyle=g.backgroundColor,c.strokeStyle=g.borderColor,c.lineWidth=g.borderWidth,c.beginPath(),c.moveTo(A+de,N),"top"===w&&this.drawCaret(a,c,f,g),c.lineTo(A+Y-Te,N),c.quadraticCurveTo(A+Y,N,A+Y,N+Te),"center"===w&&"right"===_&&this.drawCaret(a,c,f,g),c.lineTo(A+Y,N+ne-Ke),c.quadraticCurveTo(A+Y,N+ne,A+Y-Ke,N+ne),"bottom"===w&&this.drawCaret(a,c,f,g),c.lineTo(A+Ue,N+ne),c.quadraticCurveTo(A,N+ne,A,N+ne-Ue),"center"===w&&"left"===_&&this.drawCaret(a,c,f,g),c.lineTo(A,N+de),c.quadraticCurveTo(A,N,A+de,N),c.closePath(),c.fill(),g.borderWidth>0&&c.stroke()}_updateAnimationTarget(a){const c=this.chart,f=this.$animations,g=f&&f.x,_=f&&f.y;if(g||_){const w=na[a.position].call(this,this._active,this._eventPosition);if(!w)return;const A=this._size=Sc(this,a),N=Object.assign({},w,this._size),Y=Ac(c,a,N),ne=m(a,N,Y,c);(g._to!==ne.x||_._to!==ne.y)&&(this.xAlign=Y.xAlign,this.yAlign=Y.yAlign,this.width=A.width,this.height=A.height,this.caretX=w.x,this.caretY=w.y,this._resolveAnimations().update(this,ne))}}_willRender(){return!!this.opacity}draw(a){const c=this.options.setContext(this.getContext());let f=this.opacity;if(!f)return;this._updateAnimationTarget(c);const g={width:this.width,height:this.height},_={x:this.x,y:this.y};f=Math.abs(f)<.001?0:f;const w=Li(c.padding);c.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(a.save(),a.globalAlpha=f,this.drawBackground(_,a,g,c),ds(a,c.textDirection),_.y+=w.top,this.drawTitle(_,a,c),this.drawBody(_,a,c),this.drawFooter(_,a,c),Ls(a,c.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(a,c){const f=this._active,g=a.map(({datasetIndex:A,index:N})=>{const Y=this.chart.getDatasetMeta(A);if(!Y)throw new Error("Cannot find a dataset at index "+A);return{datasetIndex:A,element:Y.data[N],index:N}}),_=!qt(f,g),w=this._positionChanged(g,c);(_||w)&&(this._active=g,this._eventPosition=c,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(a,c,f=!0){if(c&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const g=this.options,_=this._active||[],w=this._getActiveElements(a,_,c,f),A=this._positionChanged(w,a),N=c||!qt(w,_)||A;return N&&(this._active=w,(g.enabled||g.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,c))),N}_getActiveElements(a,c,f,g){const _=this.options;if("mouseout"===a.type)return[];if(!g)return c;const w=this.chart.getElementsAtEventForMode(a,_.mode,_,f);return _.reverse&&w.reverse(),w}_positionChanged(a,c){const{caretX:f,caretY:g,options:_}=this,w=na[_.position].call(this,a,c);return!1!==w&&(f!==w.x||g!==w.y)}}return u.positioners=na,u})();var yn=Object.freeze({__proto__:null,Decimation:Ec,Filler:_h,Legend:Ja,SubTitle:$d,Title:su,Tooltip:{id:"tooltip",_element:et,positioners:na,afterInit(u,l,a){a&&(u.tooltip=new et({chart:u,options:a}))},beforeUpdate(u,l,a){u.tooltip&&u.tooltip.initialize(a)},reset(u,l,a){u.tooltip&&u.tooltip.initialize(a)},afterDraw(u){const l=u.tooltip;if(l&&l._willRender()){const a={tooltip:l};if(!1===u.notifyPlugins("beforeTooltipDraw",a))return;l.draw(u.ctx),u.notifyPlugins("afterTooltipDraw",a)}},afterEvent(u,l){u.tooltip&&u.tooltip.handleEvent(l.event,l.replay,l.inChartArea)&&(l.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(u,l)=>l.bodyFont.size,boxWidth:(u,l)=>l.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ye,title(u){if(u.length>0){const l=u[0],a=l.chart.data.labels,c=a?a.length:0;if(this&&this.options&&"dataset"===this.options.mode)return l.dataset.label||"";if(l.label)return l.label;if(c>0&&l.dataIndex<c)return a[l.dataIndex]}return""},afterTitle:Ye,beforeBody:Ye,beforeLabel:Ye,label(u){if(this&&this.options&&"dataset"===this.options.mode)return u.label+": "+u.formattedValue||u.formattedValue;let l=u.dataset.label||"";l&&(l+=": ");const a=u.formattedValue;return ge(a)||(l+=a),l},labelColor(u){const a=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(u){const a=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Ye,afterBody:Ye,beforeFooter:Ye,footer:Ye,afterFooter:Ye}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:u=>"filter"!==u&&"itemSort"!==u&&"external"!==u,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class ur extends di{constructor(l){super(l),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(l){const a=this._addedLabels;if(a.length){const c=this.getLabels();for(const{index:f,label:g}of a)c[f]===g&&c.splice(f,1);this._addedLabels=[]}super.init(l)}parse(l,a){if(ge(l))return null;const c=this.getLabels();return((u,l)=>null===u?null:Ni(Math.round(u),0,l))(a=isFinite(a)&&c[a]===l?a:function ui(u,l,a,c){const f=u.indexOf(l);return-1===f?((u,l,a,c)=>("string"==typeof l?(a=u.push(l)-1,c.unshift({index:a,label:l})):isNaN(l)&&(a=null),a))(u,l,a,c):f!==u.lastIndexOf(l)?a:f}(c,l,it(a,l),this._addedLabels),c.length-1)}determineDataLimits(){const{minDefined:l,maxDefined:a}=this.getUserBounds();let{min:c,max:f}=this.getMinMax(!0);"ticks"===this.options.bounds&&(l||(c=0),a||(f=this.getLabels().length-1)),this.min=c,this.max=f}buildTicks(){const l=this.min,a=this.max,c=this.options.offset,f=[];let g=this.getLabels();g=0===l&&a===g.length-1?g:g.slice(l,a+1),this._valueRange=Math.max(g.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let _=l;_<=a;_++)f.push({value:_});return f}getLabelForValue(l){const a=this.getLabels();return l>=0&&l<a.length?a[l]:l}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(l){return"number"!=typeof l&&(l=this.parse(l)),null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getPixelForTick(l){const a=this.ticks;return l<0||l>a.length-1?null:this.getPixelForValue(a[l].value)}getValueForPixel(l){return Math.round(this._startValue+this.getDecimalForPixel(l)*this._valueRange)}getBasePixel(){return this.bottom}}function ml(u,l,{horizontal:a,minRotation:c}){const f=dn(c),g=(a?Math.sin(f):Math.cos(f))||.001;return Math.min(l/g,.75*l*(""+u).length)}ur.id="category",ur.defaults={ticks:{callback:ur.prototype.getLabelForValue}};class Ll extends di{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(l,a){return ge(l)||("number"==typeof l||l instanceof Number)&&!isFinite(+l)?null:+l}handleTickRangeOptions(){const{beginAtZero:l}=this.options,{minDefined:a,maxDefined:c}=this.getUserBounds();let{min:f,max:g}=this;const _=A=>f=a?f:A,w=A=>g=c?g:A;if(l){const A=Un(f),N=Un(g);A<0&&N<0?w(0):A>0&&N>0&&_(0)}if(f===g){let A=1;(g>=Number.MAX_SAFE_INTEGER||f<=Number.MIN_SAFE_INTEGER)&&(A=Math.abs(.05*g)),w(g+A),l||_(f-A)}this.min=f,this.max=g}getTickLimit(){const l=this.options.ticks;let f,{maxTicksLimit:a,stepSize:c}=l;return c?(f=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),a=a||11),a&&(f=Math.min(a,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const l=this.options,a=l.ticks;let c=this.getTickLimit();c=Math.max(2,c);const _=function ma(u,l){const a=[],{bounds:f,step:g,min:_,max:w,precision:A,count:N,maxTicks:Y,maxDigits:ne,includeBounds:de}=u,Te=g||1,Ue=Y-1,{min:Ke,max:dt}=l,gt=!ge(_),Ut=!ge(w),tn=!ge(N),$t=(dt-Ke)/(ne+1);let Pn,Nn,Yn,ii,jt=Fi((dt-Ke)/Ue/Te)*Te;if(jt<1e-14&&!gt&&!Ut)return[{value:Ke},{value:dt}];ii=Math.ceil(dt/jt)-Math.floor(Ke/jt),ii>Ue&&(jt=Fi(ii*jt/Ue/Te)*Te),ge(A)||(Pn=Math.pow(10,A),jt=Math.ceil(jt*Pn)/Pn),"ticks"===f?(Nn=Math.floor(Ke/jt)*jt,Yn=Math.ceil(dt/jt)*jt):(Nn=Ke,Yn=dt),gt&&Ut&&g&&function zi(u,l){const a=Math.round(u);return a-l<=u&&a+l>=u}((w-_)/g,jt/1e3)?(ii=Math.round(Math.min((w-_)/jt,Y)),jt=(w-_)/ii,Nn=_,Yn=w):tn?(Nn=gt?_:Nn,Yn=Ut?w:Yn,ii=N-1,jt=(Yn-Nn)/ii):(ii=(Yn-Nn)/jt,ii=An(ii,Math.round(ii),jt/1e3)?Math.round(ii):Math.ceil(ii));const Ir=Math.max(Xn(jt),Xn(Nn));Pn=Math.pow(10,ge(A)?Ir:A),Nn=Math.round(Nn*Pn)/Pn,Yn=Math.round(Yn*Pn)/Pn;let $i=0;for(gt&&(de&&Nn!==_?(a.push({value:_}),Nn<_&&$i++,An(Math.round((Nn+$i*jt)*Pn)/Pn,_,ml(_,$t,u))&&$i++):Nn<_&&$i++);$i<ii;++$i)a.push({value:Math.round((Nn+$i*jt)*Pn)/Pn});return Ut&&de&&Yn!==w?a.length&&An(a[a.length-1].value,w,ml(w,$t,u))?a[a.length-1].value=w:a.push({value:w}):(!Ut||Yn===w)&&a.push({value:Yn}),a}({maxTicks:c,bounds:l.bounds,min:l.min,max:l.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:!1!==a.includeBounds},this._range||this);return"ticks"===l.bounds&&Ei(_,this,"value"),l.reverse?(_.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_}configure(){const l=this.ticks;let a=this.min,c=this.max;if(super.configure(),this.options.offset&&l.length){const f=(c-a)/Math.max(l.length-1,1)/2;a-=f,c+=f}this._startValue=a,this._endValue=c,this._valueRange=c-a}getLabelForValue(l){return Ko(l,this.chart.options.locale,this.options.ticks.format)}}class au extends Ll{determineDataLimits(){const{min:l,max:a}=this.getMinMax(!0);this.min=xt(l)?l:0,this.max=xt(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const l=this.isHorizontal(),a=l?this.width:this.height,c=dn(this.options.ticks.minRotation),f=(l?Math.sin(c):Math.cos(c))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,g.lineHeight/f))}getPixelForValue(l){return null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getValueForPixel(l){return this._startValue+this.getDecimalForPixel(l)*this._valueRange}}function xc(u){return u/Math.pow(10,Math.floor(nn(u)))==1}au.id="linear",au.defaults={ticks:{callback:Wo.formatters.numeric}};class el extends di{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(l,a){const c=Ll.prototype.parse.apply(this,[l,a]);if(0!==c)return xt(c)&&c>0?c:null;this._zero=!0}determineDataLimits(){const{min:l,max:a}=this.getMinMax(!0);this.min=xt(l)?Math.max(0,l):null,this.max=xt(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:l,maxDefined:a}=this.getUserBounds();let c=this.min,f=this.max;const g=A=>c=l?c:A,_=A=>f=a?f:A,w=(A,N)=>Math.pow(10,Math.floor(nn(A))+N);c===f&&(c<=0?(g(1),_(10)):(g(w(c,-1)),_(w(f,1)))),c<=0&&g(w(f,-1)),f<=0&&_(w(c,1)),this._zero&&this.min!==this._suggestedMin&&c===w(this.min,0)&&g(w(c,-1)),this.min=c,this.max=f}buildTicks(){const l=this.options,c=function vh(u,l){const a=Math.floor(nn(l.max)),c=Math.ceil(l.max/Math.pow(10,a)),f=[];let g=ht(u.min,Math.pow(10,Math.floor(nn(l.min)))),_=Math.floor(nn(g)),w=Math.floor(g/Math.pow(10,_)),A=_<0?Math.pow(10,Math.abs(_)):1;do{f.push({value:g,major:xc(g)}),++w,10===w&&(w=1,++_,A=_>=0?1:A),g=Math.round(w*Math.pow(10,_)*A)/A}while(_<a||_===a&&w<c);const N=ht(u.max,g);return f.push({value:N,major:xc(g)}),f}({min:this._userMin,max:this._userMax},this);return"ticks"===l.bounds&&Ei(c,this,"value"),l.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(l){return void 0===l?"0":Ko(l,this.chart.options.locale,this.options.ticks.format)}configure(){const l=this.min;super.configure(),this._startValue=nn(l),this._valueRange=nn(this.max)-nn(l)}getPixelForValue(l){return(void 0===l||0===l)&&(l=this.min),null===l||isNaN(l)?NaN:this.getPixelForDecimal(l===this.min?0:(nn(l)-this._startValue)/this._valueRange)}getValueForPixel(l){const a=this.getDecimalForPixel(l);return Math.pow(10,this._startValue+a*this._valueRange)}}function ku(u){const l=u.ticks;if(l.display&&u.display){const a=Li(l.backdropPadding);return it(l.font&&l.font.size,ri.font.size)+a.height}return 0}function dd(u,l,a){return a=pe(a)?a:[a],{w:mr(u,l.string,a),h:a.length*l.lineHeight}}function Mc(u,l,a,c,f){return u===c||u===f?{start:l-a/2,end:l+a/2}:u<c||u>f?{start:l-a,end:l}:{start:l,end:l+a}}function bh(u,l,a,c,f){const g=Math.abs(Math.sin(a)),_=Math.abs(Math.cos(a));let w=0,A=0;c.start<l.l?(w=(l.l-c.start)/g,u.l=Math.min(u.l,l.l-w)):c.end>l.r&&(w=(c.end-l.r)/g,u.r=Math.max(u.r,l.r+w)),f.start<l.t?(A=(l.t-f.start)/_,u.t=Math.min(u.t,l.t-A)):f.end>l.b&&(A=(f.end-l.b)/_,u.b=Math.max(u.b,l.b+A))}function Eh(u){return 0===u||180===u?"center":u<180?"left":"right"}function up(u,l,a){return"right"===a?u-=l:"center"===a&&(u-=l/2),u}function cp(u,l,a){return 90===a||270===a?u-=l/2:(a>270||a<90)&&(u-=l),u}function wh(u,l,a,c){const{ctx:f}=u;if(a)f.arc(u.xCenter,u.yCenter,l,0,on);else{let g=u.getPointPosition(0,l);f.moveTo(g.x,g.y);for(let _=1;_<c;_++)g=u.getPointPosition(_,l),f.lineTo(g.x,g.y)}}el.id="logarithmic",el.defaults={ticks:{callback:Wo.formatters.logarithmic,major:{enabled:!0}}};class Fu extends Ll{constructor(l){super(l),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const l=this._padding=Li(ku(this.options)/2),a=this.width=this.maxWidth-l.width,c=this.height=this.maxHeight-l.height;this.xCenter=Math.floor(this.left+a/2+l.left),this.yCenter=Math.floor(this.top+c/2+l.top),this.drawingArea=Math.floor(Math.min(a,c)/2)}determineDataLimits(){const{min:l,max:a}=this.getMinMax(!1);this.min=xt(l)&&!isNaN(l)?l:0,this.max=xt(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ku(this.options))}generateTickLabels(l){Ll.prototype.generateTickLabels.call(this,l),this._pointLabels=this.getLabels().map((a,c)=>{const f=ft(this.options.pointLabels.callback,[a,c],this);return f||0===f?f:""}).filter((a,c)=>this.chart.getDataVisibility(c))}fit(){const l=this.options;l.display&&l.pointLabels.display?function Oc(u){const l={l:u.left+u._padding.left,r:u.right-u._padding.right,t:u.top+u._padding.top,b:u.bottom-u._padding.bottom},a=Object.assign({},l),c=[],f=[],g=u._pointLabels.length,_=u.options.pointLabels,w=_.centerPointLabels?vt/g:0;for(let A=0;A<g;A++){const N=_.setContext(u.getPointLabelContext(A));f[A]=N.padding;const Y=u.getPointPosition(A,u.drawingArea+f[A],w),ne=ji(N.font),de=dd(u.ctx,ne,u._pointLabels[A]);c[A]=de;const Te=oi(u.getIndexAngle(A)+w),Ue=Math.round(Qn(Te));bh(a,l,Te,Mc(Ue,Y.x,de.w,0,180),Mc(Ue,Y.y,de.h,90,270))}u.setCenterPoint(l.l-a.l,a.r-l.r,l.t-a.t,a.b-l.b),u._pointLabelItems=function hd(u,l,a){const c=[],f=u._pointLabels.length,g=u.options,_=ku(g)/2,w=u.drawingArea,A=g.pointLabels.centerPointLabels?vt/f:0;for(let N=0;N<f;N++){const Y=u.getPointPosition(N,w+_+a[N],A),ne=Math.round(Qn(oi(Y.angle+Ve))),de=l[N],Te=cp(Y.y,de.h,ne),Ue=Eh(ne),Ke=up(Y.x,de.w,Ue);c.push({x:Y.x,y:Te,textAlign:Ue,left:Ke,top:Te,right:Ke+de.w,bottom:Te+de.h})}return c}(u,c,f)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(l,a,c,f){this.xCenter+=Math.floor((l-a)/2),this.yCenter+=Math.floor((c-f)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(l,a,c,f))}getIndexAngle(l){return oi(l*(on/(this._pointLabels.length||1))+dn(this.options.startAngle||0))}getDistanceFromCenterForValue(l){if(ge(l))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-l)*a:(l-this.min)*a}getValueForDistanceFromCenter(l){if(ge(l))return NaN;const a=l/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(l){const a=this._pointLabels||[];if(l>=0&&l<a.length){const c=a[l];return function of(u,l,a){return wr(u,{label:a,index:l,type:"pointLabel"})}(this.getContext(),l,c)}}getPointPosition(l,a,c=0){const f=this.getIndexAngle(l)-Ve+c;return{x:Math.cos(f)*a+this.xCenter,y:Math.sin(f)*a+this.yCenter,angle:f}}getPointPositionForValue(l,a){return this.getPointPosition(l,this.getDistanceFromCenterForValue(a))}getBasePosition(l){return this.getPointPositionForValue(l||0,this.getBaseValue())}getPointLabelPosition(l){const{left:a,top:c,right:f,bottom:g}=this._pointLabelItems[l];return{left:a,top:c,right:f,bottom:g}}drawBackground(){const{backgroundColor:l,grid:{circular:a}}=this.options;if(l){const c=this.ctx;c.save(),c.beginPath(),wh(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),c.closePath(),c.fillStyle=l,c.fill(),c.restore()}}drawGrid(){const l=this.ctx,a=this.options,{angleLines:c,grid:f}=a,g=this._pointLabels.length;let _,w,A;if(a.pointLabels.display&&function dp(u,l){const{ctx:a,options:{pointLabels:c}}=u;for(let f=l-1;f>=0;f--){const g=c.setContext(u.getPointLabelContext(f)),_=ji(g.font),{x:w,y:A,textAlign:N,left:Y,top:ne,right:de,bottom:Te}=u._pointLabelItems[f],{backdropColor:Ue}=g;if(!ge(Ue)){const Ke=Di(g.borderRadius),dt=Li(g.backdropPadding);a.fillStyle=Ue;const gt=Y-dt.left,Ut=ne-dt.top,tn=de-Y+dt.width,$t=Te-ne+dt.height;Object.values(Ke).some(jt=>0!==jt)?(a.beginPath(),Le(a,{x:gt,y:Ut,w:tn,h:$t,radius:Ke}),a.fill()):a.fillRect(gt,Ut,tn,$t)}ys(a,u._pointLabels[f],w,A+_.lineHeight/2,_,{color:g.color,textAlign:N,textBaseline:"middle"})}}(this,g),f.display&&this.ticks.forEach((N,Y)=>{0!==Y&&(w=this.getDistanceFromCenterForValue(N.value),function Kd(u,l,a,c){const f=u.ctx,g=l.circular,{color:_,lineWidth:w}=l;!g&&!c||!_||!w||a<0||(f.save(),f.strokeStyle=_,f.lineWidth=w,f.setLineDash(l.borderDash),f.lineDashOffset=l.borderDashOffset,f.beginPath(),wh(u,a,g,c),f.closePath(),f.stroke(),f.restore())}(this,f.setContext(this.getContext(Y-1)),w,g))}),c.display){for(l.save(),_=g-1;_>=0;_--){const N=c.setContext(this.getPointLabelContext(_)),{color:Y,lineWidth:ne}=N;!ne||!Y||(l.lineWidth=ne,l.strokeStyle=Y,l.setLineDash(N.borderDash),l.lineDashOffset=N.borderDashOffset,w=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),A=this.getPointPosition(_,w),l.beginPath(),l.moveTo(this.xCenter,this.yCenter),l.lineTo(A.x,A.y),l.stroke())}l.restore()}}drawBorder(){}drawLabels(){const l=this.ctx,a=this.options,c=a.ticks;if(!c.display)return;const f=this.getIndexAngle(0);let g,_;l.save(),l.translate(this.xCenter,this.yCenter),l.rotate(f),l.textAlign="center",l.textBaseline="middle",this.ticks.forEach((w,A)=>{if(0===A&&!a.reverse)return;const N=c.setContext(this.getContext(A)),Y=ji(N.font);if(g=this.getDistanceFromCenterForValue(this.ticks[A].value),N.showLabelBackdrop){l.font=Y.string,_=l.measureText(w.label).width,l.fillStyle=N.backdropColor;const ne=Li(N.backdropPadding);l.fillRect(-_/2-ne.left,-g-Y.size/2-ne.top,_+ne.width,Y.size+ne.height)}ys(l,w.label,0,-g,Y,{color:N.color})}),l.restore()}drawTitle(){}}Fu.id="radialLinear",Fu.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:u=>u,padding:5,centerPointLabels:!1}},Fu.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Fu.descriptors={angleLines:{_fallback:"grid"}};const qd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ya=Object.keys(qd);function Dh(u,l){return u-l}function Mt(u,l){if(ge(l))return null;const a=u._adapter,{parser:c,round:f,isoWeekday:g}=u._parseOpts;let _=l;return"function"==typeof c&&(_=c(_)),xt(_)||(_="string"==typeof c?a.parse(_,c):a.parse(_)),null===_?null:(f&&(_="week"!==f||!Ri(g)&&!0!==g?a.startOf(_,f):a.startOf(_,"isoWeek",g)),+_)}function yl(u,l,a,c){const f=ya.length;for(let g=ya.indexOf(u);g<f-1;++g){const _=qd[ya[g]],w=_.steps?_.steps:Number.MAX_SAFE_INTEGER;if(_.common&&Math.ceil((a-l)/(w*_.size))<=c)return ya[g]}return ya[f-1]}function Pc(u,l,a){if(a){if(a.length){const{lo:c,hi:f}=qs(a,l);u[a[c]>=l?a[c]:a[f]]=!0}}else u[l]=!0}function lf(u,l,a){const c=[],f={},g=l.length;let _,w;for(_=0;_<g;++_)w=l[_],f[w]=_,c.push({value:w,major:!1});return 0!==g&&a?function Vl(u,l,a,c){const f=u._adapter,g=+f.startOf(l[0].value,c),_=l[l.length-1].value;let w,A;for(w=g;w<=_;w=+f.add(w,1,c))A=a[w],A>=0&&(l[A].major=!0);return l}(u,c,f,a):c}let Bl=(()=>{class u extends di{constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,c){const f=a.time||(a.time={}),g=this._adapter=new me._date(a.adapters.date);kt(f.displayFormats,g.formats()),this._parseOpts={parser:f.parser,round:f.round,isoWeekday:f.isoWeekday},super.init(a),this._normalized=c.normalized}parse(a,c){return void 0===a?null:Mt(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const a=this.options,c=this._adapter,f=a.time.unit||"day";let{min:g,max:_,minDefined:w,maxDefined:A}=this.getUserBounds();function N(Y){!w&&!isNaN(Y.min)&&(g=Math.min(g,Y.min)),!A&&!isNaN(Y.max)&&(_=Math.max(_,Y.max))}(!w||!A)&&(N(this._getLabelBounds()),("ticks"!==a.bounds||"labels"!==a.ticks.source)&&N(this.getMinMax(!1))),g=xt(g)&&!isNaN(g)?g:+c.startOf(Date.now(),f),_=xt(_)&&!isNaN(_)?_:+c.endOf(Date.now(),f)+1,this.min=Math.min(g,_-1),this.max=Math.max(g+1,_)}_getLabelBounds(){const a=this.getLabelTimestamps();let c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;return a.length&&(c=a[0],f=a[a.length-1]),{min:c,max:f}}buildTicks(){const a=this.options,c=a.time,f=a.ticks,g="labels"===f.source?this.getLabelTimestamps():this._generate();"ticks"===a.bounds&&g.length&&(this.min=this._userMin||g[0],this.max=this._userMax||g[g.length-1]);const _=this.min,A=function Wr(u,l,a){let c=0,f=u.length;for(;c<f&&u[c]<l;)c++;for(;f>c&&u[f-1]>a;)f--;return c>0||f<u.length?u.slice(c,f):u}(g,_,this.max);return this._unit=c.unit||(f.autoSkip?yl(c.minUnit,this.min,this.max,this._getLabelCapacity(_)):function tl(u,l,a,c,f){for(let g=ya.length-1;g>=ya.indexOf(a);g--){const _=ya[g];if(qd[_].common&&u._adapter.diff(f,c,_)>=l-1)return _}return ya[a?ya.indexOf(a):0]}(this,A.length,c.minUnit,this.min,this.max)),this._majorUnit=f.major.enabled&&"year"!==this._unit?function af(u){for(let l=ya.indexOf(u)+1,a=ya.length;l<a;++l)if(qd[ya[l]].common)return ya[l]}(this._unit):void 0,this.initOffsets(g),a.reverse&&A.reverse(),lf(this,A,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(a=>+a.value))}initOffsets(a){let g,_,c=0,f=0;this.options.offset&&a.length&&(g=this.getDecimalForValue(a[0]),c=1===a.length?1-g:(this.getDecimalForValue(a[1])-g)/2,_=this.getDecimalForValue(a[a.length-1]),f=1===a.length?_:(_-this.getDecimalForValue(a[a.length-2]))/2);const w=a.length<3?.5:.25;c=Ni(c,0,w),f=Ni(f,0,w),this._offsets={start:c,end:f,factor:1/(c+1+f)}}_generate(){const a=this._adapter,c=this.min,f=this.max,g=this.options,_=g.time,w=_.unit||yl(_.minUnit,c,f,this._getLabelCapacity(c)),A=it(_.stepSize,1),N="week"===w&&_.isoWeekday,Y=Ri(N)||!0===N,ne={};let Te,Ue,de=c;if(Y&&(de=+a.startOf(de,"isoWeek",N)),de=+a.startOf(de,Y?"day":w),a.diff(f,c,w)>1e5*A)throw new Error(c+" and "+f+" are too far apart with stepSize of "+A+" "+w);const Ke="data"===g.ticks.source&&this.getDataTimestamps();for(Te=de,Ue=0;Te<f;Te=+a.add(Te,A,w),Ue++)Pc(ne,Te,Ke);return(Te===f||"ticks"===g.bounds||1===Ue)&&Pc(ne,Te,Ke),Object.keys(ne).sort((dt,gt)=>dt-gt).map(dt=>+dt)}getLabelForValue(a){const f=this.options.time;return this._adapter.format(a,f.tooltipFormat?f.tooltipFormat:f.displayFormats.datetime)}_tickFormatFunction(a,c,f,g){const _=this.options,w=_.time.displayFormats,A=this._unit,N=this._majorUnit,ne=N&&w[N],de=f[c],Ue=this._adapter.format(a,g||(N&&ne&&de&&de.major?ne:A&&w[A])),Ke=_.ticks.callback;return Ke?ft(Ke,[Ue,c,f],this):Ue}generateTickLabels(a){let c,f,g;for(c=0,f=a.length;c<f;++c)g=a[c],g.label=this._tickFormatFunction(g.value,c,a)}getDecimalForValue(a){return null===a?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(a){const c=this._offsets,f=this.getDecimalForValue(a);return this.getPixelForDecimal((c.start+f)*c.factor)}getValueForPixel(a){const c=this._offsets,f=this.getDecimalForPixel(a)/c.factor-c.end;return this.min+f*(this.max-this.min)}_getLabelSize(a){const c=this.options.ticks,f=this.ctx.measureText(a).width,g=dn(this.isHorizontal()?c.maxRotation:c.minRotation),_=Math.cos(g),w=Math.sin(g),A=this._resolveTickFontOptions(0).size;return{w:f*_+A*w,h:f*w+A*_}}_getLabelCapacity(a){const c=this.options.time,f=c.displayFormats,g=f[c.unit]||f.millisecond,_=this._tickFormatFunction(a,0,lf(this,[a],this._majorUnit),g),w=this._getLabelSize(_),A=Math.floor(this.isHorizontal()?this.width/w.w:this.height/w.h)-1;return A>0?A:1}getDataTimestamps(){let c,f,a=this._cache.data||[];if(a.length)return a;const g=this.getMatchingVisibleMetas();if(this._normalized&&g.length)return this._cache.data=g[0].controller.getAllParsedValues(this);for(c=0,f=g.length;c<f;++c)a=a.concat(g[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}getLabelTimestamps(){const a=this._cache.labels||[];let c,f;if(a.length)return a;const g=this.getLabels();for(c=0,f=g.length;c<f;++c)a.push(Mt(this,g[c]));return this._cache.labels=this._normalized?a:this.normalize(a)}normalize(a){return Fo(a.sort(Dh))}}return u.id="time",u.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},u})();function Rc(u,l,a){let g,_,w,A,c=0,f=u.length-1;a?(l>=u[c].pos&&l<=u[f].pos&&({lo:c,hi:f}=vs(u,"pos",l)),({pos:g,time:w}=u[c]),({pos:_,time:A}=u[f])):(l>=u[c].time&&l<=u[f].time&&({lo:c,hi:f}=vs(u,"time",l)),({time:g,pos:w}=u[c]),({time:_,pos:A}=u[f]));const N=_-g;return N?w+(A-w)*(l-g)/N:w}class Nc extends Bl{constructor(l){super(l),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const l=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(l);this._minPos=Rc(a,this.min),this._tableRange=Rc(a,this.max)-this._minPos,super.initOffsets(l)}buildLookupTable(l){const{min:a,max:c}=this,f=[],g=[];let _,w,A,N,Y;for(_=0,w=l.length;_<w;++_)N=l[_],N>=a&&N<=c&&f.push(N);if(f.length<2)return[{time:a,pos:0},{time:c,pos:1}];for(_=0,w=f.length;_<w;++_)Y=f[_+1],A=f[_-1],N=f[_],Math.round((Y+A)/2)!==N&&g.push({time:N,pos:_/(w-1)});return g}_getTimestampsForTable(){let l=this._cache.all||[];if(l.length)return l;const a=this.getDataTimestamps(),c=this.getLabelTimestamps();return l=a.length&&c.length?this.normalize(a.concat(c)):a.length?a:c,l=this._cache.all=l,l}getDecimalForValue(l){return(Rc(this._table,l)-this._minPos)/this._tableRange}getValueForPixel(l){const a=this._offsets,c=this.getDecimalForPixel(l)/a.factor-a.end;return Rc(this._table,c*this._tableRange+this._minPos,!0)}}Nc.id="timeseries",Nc.defaults=Bl.defaults,Zu.register(k,Ns,yn,Object.freeze({__proto__:null,CategoryScale:ur,LinearScale:au,LogarithmicScale:el,RadialLinearScale:Fu,TimeScale:Bl,TimeSeriesScale:Nc}));const kc=Zu},5867:(sn,st,K)=>{K.d(st,{C6:()=>E.getApps,Mq:()=>E.getApp});var E=K(9681);(0,E.registerVersion)("firebase","9.6.11","app")},127:(sn,st,K)=>{K.d(st,{Z:()=>E.Z});var E=K(3942);E.Z.registerVersion("firebase","9.6.11","app-compat")},820:(sn,st,K)=>{K.r(st);var E=K(5861),H=K(3942),ue=K(2090),be=K(9681),Ee=K(655),ke=K(1877),Je=K(4859);const it=function xt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ht=function ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new ue.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new ke.Yd("@firebase/auth");function qt(C,...m){Fe.logLevel<=ke.in.ERROR&&Fe.error(`Auth (${be.SDK_VERSION}): ${C}`,...m)}function at(C,...m){throw kt(C,...m)}function _e(C,...m){return kt(C,...m)}function qe(C,m,v){const O=Object.assign(Object.assign({},Ht()),{[m]:v});return new ue.LL("auth","Firebase",O).create(m,{appName:C.name})}function Ot(C,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&at(C,"argument-error"),qe(C,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kt(C,...m){if("string"!=typeof C){const v=m[0],O=[...m.slice(1)];return O[0]&&(O[0].appName=C.name),C._errorFactory.create(v,...O)}return yt.create(C,...m)}function xe(C,m,...v){if(!C)throw kt(m,...v)}function Me(C){const m="INTERNAL ASSERTION FAILED: "+C;throw qt(m),new Error(m)}function Pe(C,m){C||Me(m)}const Ae=new Map;function Ze(C){Pe(C instanceof Function,"Expected a class definition");let m=Ae.get(C);return m?(Pe(m instanceof C,"Instance stored in cache mismatched with class"),m):(m=new C,Ae.set(C,m),m)}function vn(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function pn(){return"http:"===Bn()||"https:"===Bn()}function Bn(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class on{constructor(m,v){this.shortDelay=m,this.longDelay=v,Pe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,ue.uI)()||(0,ue.b$)()}get(){return function en(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pn()||(0,ue.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wn(C,m){Pe(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Dt{static initialize(m,v,O){this.fetchImpl=m,v&&(this.headersImpl=v),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ve=new on(3e4,6e4);function Xe(C,m){return C.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:C.tenantId}):m}function Bt(C,m,v,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,E.Z)(function*(C,m,v,O,J={}){return Un(C,J,(0,E.Z)(function*(){let ce={},et={};O&&("GET"===m?et=O:ce={body:JSON.stringify(O)});const St=(0,ue.xO)(Object.assign({key:C.config.apiKey},et)).slice(1),yn=yield C._getAdditionalHeaders();return yn["Content-Type"]="application/json",C.languageCode&&(yn["X-Firebase-Locale"]=C.languageCode),Dt.fetch()(An(C,C.config.apiHost,v,St),Object.assign({method:m,headers:yn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Un(C,m,v){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,E.Z)(function*(C,m,v){C._canInitEmulator=!1;const O=Object.assign(Object.assign({},It),m);try{const J=new zi(C),ce=yield Promise.race([v(),J.promise]);J.clearNetworkTimeout();const et=yield ce.json();if("needConfirmation"in et)throw Ei(C,"account-exists-with-different-credential",et);if(ce.ok&&!("errorMessage"in et))return et;{const St=ce.ok?et.errorMessage:et.error.message,[yn,En]=St.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yn)throw Ei(C,"credential-already-in-use",et);if("EMAIL_EXISTS"===yn)throw Ei(C,"email-already-in-use",et);const ui=O[yn]||yn.toLowerCase().replace(/[_\s]+/g,"-");if(En)throw qe(C,ui,En);at(C,ui)}}catch(J){if(J instanceof ue.ZR)throw J;at(C,"network-request-failed")}})).apply(this,arguments)}function yi(C,m,v,O){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,E.Z)(function*(C,m,v,O,J={}){const ce=yield Bt(C,m,v,O,J);return"mfaPendingCredential"in ce&&at(C,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function An(C,m,v,O){const J=`${m}${v}?${O}`;return C.config.emulator?wn(C.config,J):`${C.config.apiScheme}://${J}`}class zi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,O)=>{this.timer=setTimeout(()=>O(_e(this.auth,"network-request-failed")),Ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ei(C,m,v){const O={appName:C.name};v.email&&(O.email=v.email),v.phoneNumber&&(O.phoneNumber=v.phoneNumber);const J=_e(C,m,O);return J.customData._tokenResponse=v,J}function Qn(){return(Qn=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Xn(C,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Er(C,m){return $r.apply(this,arguments)}function $r(){return($r=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function oi(C){if(C)try{const m=new Date(Number(C));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function qi(){return(qi=(0,E.Z)(function*(C,m=!1){const v=(0,ue.m9)(C),O=yield v.getIdToken(m),J=Dn(O);xe(J&&J.exp&&J.auth_time&&J.iat,v.auth,"internal-error");const ce="object"==typeof J.firebase?J.firebase:void 0,et=null==ce?void 0:ce.sign_in_provider;return{claims:J,token:O,authTime:oi(Qt(J.auth_time)),issuedAtTime:oi(Qt(J.iat)),expirationTime:oi(Qt(J.exp)),signInProvider:et||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function Qt(C){return 1e3*Number(C)}function Dn(C){const[m,v,O]=C.split(".");if(void 0===m||void 0===v||void 0===O)return qt("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,ue.tV)(v);return J?JSON.parse(J):(qt("Failed to decode base64 JWT payload"),null)}catch(J){return qt("Caught error parsing JWT payload as JSON",J),null}}function er(C,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,E.Z)(function*(C,m,v=!1){if(v)return m;try{return yield m}catch(O){throw O instanceof ue.ZR&&ti(O)&&C.auth.currentUser===C&&(yield C.auth.signOut()),O}})).apply(this,arguments)}function ti({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Rr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const J=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const O=this.getInterval(m);this.timerId=setTimeout((0,E.Z)(function*(){yield v.iteration()}),O)}iteration(){var m=this;return(0,E.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class Zi{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hi(C){return bn.apply(this,arguments)}function bn(){return(bn=(0,E.Z)(function*(C){var m;const v=C.auth,O=yield C.getIdToken(),J=yield er(C,Er(v,{idToken:O}));xe(null==J?void 0:J.users.length,v,"internal-error");const ce=J.users[0];C._notifyReloadListener(ce);const et=(null===(m=ce.providerUserInfo)||void 0===m?void 0:m.length)?Ct(ce.providerUserInfo):[],St=hn(C.providerData,et),ui=!!C.isAnonymous&&!(C.email&&ce.passwordHash||(null==St?void 0:St.length)),Jn={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:St,metadata:new Zi(ce.createdAt,ce.lastLoginAt),isAnonymous:ui};Object.assign(C,Jn)})).apply(this,arguments)}function kn(){return(kn=(0,E.Z)(function*(C){const m=(0,ue.m9)(C);yield hi(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function hn(C,m){return[...C.filter(O=>!m.some(J=>J.providerId===O.providerId)),...m]}function Ct(C){return C.map(m=>{var{providerId:v}=m,O=(0,Ee._T)(m,["providerId"]);return{providerId:v,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}function ln(){return(ln=(0,E.Z)(function*(C,m){const v=yield Un(C,{},(0,E.Z)(function*(){const O=(0,ue.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:J,apiKey:ce}=C.config,et=An(C,J,"/v1/token",`key=${ce}`),St=yield C._getAdditionalHeaders();return St["Content-Type"]="application/x-www-form-urlencoded",Dt.fetch()(et,{method:"POST",headers:St,body:O})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){xe(m.idToken,"internal-error"),xe(void 0!==m.idToken,"internal-error"),xe(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function In(C){const m=Dn(C);return xe(m,"internal-error"),xe(void 0!==m.exp,"internal-error"),xe(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var O=this;return(0,E.Z)(function*(){return xe(!O.accessToken||O.refreshToken,m,"user-token-expired"),v||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(m,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var O=this;return(0,E.Z)(function*(){const{accessToken:J,refreshToken:ce,expiresIn:et}=yield function un(C,m){return ln.apply(this,arguments)}(m,v);O.updateTokensAndExpiration(J,ce,Number(et))})()}updateTokensAndExpiration(m,v,O){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(m,v){const{refreshToken:O,accessToken:J,expirationTime:ce}=v,et=new Gn;return O&&(xe("string"==typeof O,"internal-error",{appName:m}),et.refreshToken=O),J&&(xe("string"==typeof J,"internal-error",{appName:m}),et.accessToken=J),ce&&(xe("number"==typeof ce,"internal-error",{appName:m}),et.expirationTime=ce),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Gn,this.toJSON())}_performRefresh(){return Me("not implemented")}}function $n(C,m){xe("string"==typeof C||void 0===C,"internal-error",{appName:m})}class Re{constructor(m){var{uid:v,auth:O,stsTokenManager:J}=m,ce=(0,Ee._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=O,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Zi(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,E.Z)(function*(){const O=yield er(v,v.stsTokenManager.getToken(v.auth,m));return xe(O,v.auth,"internal-error"),v.accessToken!==O&&(v.accessToken=O,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),O})()}getIdTokenResult(m){return function Ni(C){return qi.apply(this,arguments)}(this,m)}reload(){return function cr(C){return kn.apply(this,arguments)}(this)}_assign(m){this!==m&&(xe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Re(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var O=this;return(0,E.Z)(function*(){let J=!1;m.idToken&&m.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(m),J=!0),v&&(yield hi(O)),yield O.auth._persistUserIfCurrent(O),J&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var m=this;return(0,E.Z)(function*(){const v=yield m.getIdToken();return yield er(m,function dn(C,m){return Qn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var O,J,ce,et,St,yn,En,ui;const Jn=null!==(O=v.displayName)&&void 0!==O?O:void 0,ur=null!==(J=v.email)&&void 0!==J?J:void 0,ma=null!==(ce=v.phoneNumber)&&void 0!==ce?ce:void 0,ml=null!==(et=v.photoURL)&&void 0!==et?et:void 0,Ll=null!==(St=v.tenantId)&&void 0!==St?St:void 0,au=null!==(yn=v._redirectEventId)&&void 0!==yn?yn:void 0,xc=null!==(En=v.createdAt)&&void 0!==En?En:void 0,vh=null!==(ui=v.lastLoginAt)&&void 0!==ui?ui:void 0,{uid:el,emailVerified:ku,isAnonymous:dd,providerData:Mc,stsTokenManager:Oc}=v;xe(el&&Oc,m,"internal-error");const bh=Gn.fromJSON(this.name,Oc);xe("string"==typeof el,m,"internal-error"),$n(Jn,m.name),$n(ur,m.name),xe("boolean"==typeof ku,m,"internal-error"),xe("boolean"==typeof dd,m,"internal-error"),$n(ma,m.name),$n(ml,m.name),$n(Ll,m.name),$n(au,m.name),$n(xc,m.name),$n(vh,m.name);const hd=new Re({uid:el,auth:m,email:ur,emailVerified:ku,displayName:Jn,isAnonymous:dd,photoURL:ml,phoneNumber:ma,tenantId:Ll,stsTokenManager:bh,createdAt:xc,lastLoginAt:vh});return Mc&&Array.isArray(Mc)&&(hd.providerData=Mc.map(Eh=>Object.assign({},Eh))),au&&(hd._redirectEventId=au),hd}static _fromIdTokenResponse(m,v,O=!1){return(0,E.Z)(function*(){const J=new Gn;J.updateFromServerResponse(v);const ce=new Re({uid:v.localId,auth:m,stsTokenManager:J,isAnonymous:O});return yield hi(ce),ce})()}}const He=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(v,O){var J=this;return(0,E.Z)(function*(){J.storage[v]=O})()}_get(v){var O=this;return(0,E.Z)(function*(){const J=O.storage[v];return void 0===J?null:J})()}_remove(v){var O=this;return(0,E.Z)(function*(){delete O.storage[v]})()}_addListener(v,O){}_removeListener(v,O){}}return C.type="NONE",C})();function _t(C,m,v){return`firebase:${C}:${m}:${v}`}class Qe{constructor(m,v,O){this.persistence=m,this.auth=v,this.userKey=O;const{config:J,name:ce}=this.auth;this.fullUserKey=_t(this.userKey,J.apiKey,ce),this.fullPersistenceKey=_t("persistence",J.apiKey,ce),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,E.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?Re._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,E.Z)(function*(){if(v.persistence===m)return;const O=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,O?v.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,O="authUser"){return(0,E.Z)(function*(){if(!v.length)return new Qe(Ze(He),m,O);const J=(yield Promise.all(v.map(function(){var En=(0,E.Z)(function*(ui){if(yield ui._isAvailable())return ui});return function(ui){return En.apply(this,arguments)}}()))).filter(En=>En);let ce=J[0]||Ze(He);const et=_t(O,m.config.apiKey,m.name);let St=null;for(const En of v)try{const ui=yield En._get(et);if(ui){const Jn=Re._fromJSON(m,ui);En!==ce&&(St=Jn),ce=En;break}}catch(ui){}const yn=J.filter(En=>En._shouldAllowMigration);return ce._shouldAllowMigration&&yn.length?(ce=yn[0],St&&(yield ce._set(et,St.toJSON())),yield Promise.all(v.map(function(){var En=(0,E.Z)(function*(ui){if(ui!==ce)try{yield ui._remove(et)}catch(Jn){}});return function(ui){return En.apply(this,arguments)}}())),new Qe(ce,m,O)):new Qe(ce,m,O)})()}}function Zt(C){const m=C.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ze(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(je(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(zt(m))return"Blackberry";if(xn(m))return"Webos";if(Se(m))return"Safari";if((m.includes("chrome/")||fe(m))&&!m.includes("edge/"))return"Chrome";if(At(m))return"Android";{const O=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==O?void 0:O.length))return O[1]}return"Other"}function je(C=(0,ue.z$)()){return/firefox\//i.test(C)}function Se(C=(0,ue.z$)()){const m=C.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fe(C=(0,ue.z$)()){return/crios\//i.test(C)}function ze(C=(0,ue.z$)()){return/iemobile/i.test(C)}function At(C=(0,ue.z$)()){return/android/i.test(C)}function zt(C=(0,ue.z$)()){return/blackberry/i.test(C)}function xn(C=(0,ue.z$)()){return/webos/i.test(C)}function Ci(C=(0,ue.z$)()){return/iphone|ipad|ipod/i.test(C)}function Pi(C=(0,ue.z$)()){return Ci(C)||At(C)||xn(C)||zt(C)||/windows phone/i.test(C)||ze(C)}function Ur(C,m=[]){let v;switch(C){case"Browser":v=Zt((0,ue.z$)());break;case"Worker":v=`${Zt((0,ue.z$)())}-${C}`;break;default:v=C}const O=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${be.SDK_VERSION}/${O}`}class Ii{constructor(m,v,O){this.app=m,this.heartbeatServiceProvider=v,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wn(this),this.idTokenSubscription=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(m,v){var O=this;return v&&(this._popupRedirectResolver=Ze(v)),this._initializationPromise=this.queue((0,E.Z)(function*(){var J,ce;if(!O._deleted&&(O.persistenceManager=yield Qe.create(O,m),!O._deleted)){if(null===(J=O._popupRedirectResolver)||void 0===J?void 0:J._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch(et){}yield O.initializeCurrentUser(v),O.lastNotifiedUid=(null===(ce=O.currentUser)||void 0===ce?void 0:ce.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,E.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,E.Z)(function*(){var O;let J=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const ce=null===(O=v.redirectUser)||void 0===O?void 0:O._redirectEventId,et=null==J?void 0:J._redirectEventId,St=yield v.tryRedirectSignIn(m);(!ce||ce===et)&&(null==St?void 0:St.user)&&(J=St.user)}return J?J._redirectEventId?(xe(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===J._redirectEventId?v.directlySetCurrentUser(J):v.reloadAndSetCurrentUserOrClear(J)):v.reloadAndSetCurrentUserOrClear(J):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,E.Z)(function*(){let O=null;try{O=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(J){yield v._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,E.Z)(function*(){try{yield hi(m)}catch(O){if("auth/network-request-failed"!==O.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var m=this;return(0,E.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,E.Z)(function*(){const O=m?(0,ue.m9)(m):null;return O&&xe(O.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(O&&O._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,E.Z)(function*(){if(!v._deleted)return m&&xe(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,E.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,E.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,E.Z)(function*(){yield v.assertedPersistence.setPersistence(Ze(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new ue.LL("auth","Firebase",m())}onAuthStateChanged(m,v,O){return this.registerStateListener(this.authStateSubscription,m,v,O)}onIdTokenChanged(m,v,O){return this.registerStateListener(this.idTokenSubscription,m,v,O)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var O=this;return(0,E.Z)(function*(){const J=yield O.getOrInitRedirectPersistenceManager(v);return null===m?J.removeCurrentUser():J.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,E.Z)(function*(){if(!v.redirectPersistenceManager){const O=m&&Ze(m)||v._popupRedirectResolver;xe(O,v,"argument-error"),v.redirectPersistenceManager=yield Qe.create(v,[Ze(O._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,E.Z)(function*(){var O,J;return v._isInitialized&&(yield v.queue((0,E.Z)(function*(){}))),(null===(O=v._currentUser)||void 0===O?void 0:O._redirectEventId)===m?v._currentUser:(null===(J=v.redirectUser)||void 0===J?void 0:J._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,E.Z)(function*(){if(m===v.currentUser)return v.queue((0,E.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,O,J){if(this._deleted)return()=>{};const ce="function"==typeof v?v:v.next.bind(v),et=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(et,this,"internal-error"),et.then(()=>ce(this.currentUser)),"function"==typeof v?m.addObserver(v,O,J):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,E.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,E.Z)(function*(){var v;const O={"X-Client-Version":m.clientVersion};m.app.options.appId&&(O["X-Firebase-gmpid"]=m.app.options.appId);const J=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return J&&(O["X-Firebase-Client"]=J),O})()}}function Nt(C){return(0,ue.m9)(C)}class Wn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,ue.ne)(v=>this.observer=v)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function or(C){const m=C.indexOf(":");return m<0?"":C.substr(0,m+1)}function Gi(C){if(!C)return null;const m=Number(C);return isNaN(m)?null:m}class Ai{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Me("not implemented")}_getIdTokenResponse(m){return Me("not implemented")}_linkToIdToken(m,v){return Me("not implemented")}_getReauthenticationResolver(m){return Me("not implemented")}}function nr(C,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:resetPassword",Xe(C,m))})).apply(this,arguments)}function Kn(C,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ms(C,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:update",Xe(C,m))})).apply(this,arguments)}function Bi(){return(Bi=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signInWithPassword",Xe(C,m))})).apply(this,arguments)}function ir(C,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:sendOobCode",Xe(C,m))})).apply(this,arguments)}function Sr(C,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,E.Z)(function*(C,m){return ir(C,m)})).apply(this,arguments)}function ri(C,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,E.Z)(function*(C,m){return ir(C,m)})).apply(this,arguments)}function Ar(C,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,E.Z)(function*(C,m){return ir(C,m)})).apply(this,arguments)}function ms(C,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,E.Z)(function*(C,m){return ir(C,m)})).apply(this,arguments)}function Gr(){return(Gr=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signInWithEmailLink",Xe(C,m))})).apply(this,arguments)}function us(){return(us=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signInWithEmailLink",Xe(C,m))})).apply(this,arguments)}class No extends Ai{constructor(m,v,O,J=null){super("password",O),this._email=m,this._password=v,this._tenantId=J}static _fromEmailAndPassword(m,v){return new No(m,v,"password")}static _fromEmailAndCode(m,v,O=null){return new No(m,v,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,E.Z)(function*(){switch(v.signInMethod){case"password":return function Tr(C,m){return Bi.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Jr(C,m){return Gr.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:at(m,"internal-error")}})()}_linkToIdToken(m,v){var O=this;return(0,E.Z)(function*(){switch(O.signInMethod){case"password":return Kn(m,{idToken:v,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function po(C,m){return us.apply(this,arguments)}(m,{idToken:v,email:O._email,oobCode:O._password});default:at(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Wi(C,m){return ys.apply(this,arguments)}function ys(){return(ys=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signInWithIdp",Xe(C,m))})).apply(this,arguments)}class We extends Ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new We(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):at("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:O,signInMethod:J}=v,ce=(0,Ee._T)(v,["providerId","signInMethod"]);if(!O||!J)return null;const et=new We(O,J);return et.idToken=ce.idToken||void 0,et.accessToken=ce.accessToken||void 0,et.secret=ce.secret,et.nonce=ce.nonce,et.pendingToken=ce.pendingToken||null,et}_getIdTokenResponse(m){return Wi(m,this.buildRequest())}_linkToIdToken(m,v){const O=this.buildRequest();return O.idToken=v,Wi(m,O)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Wi(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,ue.xO)(v)}return m}}function Le(C,m){return ut.apply(this,arguments)}function ut(){return(ut=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:sendVerificationCode",Xe(C,m))})).apply(this,arguments)}function Wt(){return(Wt=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signInWithPhoneNumber",Xe(C,m))})).apply(this,arguments)}function ki(){return(ki=(0,E.Z)(function*(C,m){const v=yield yi(C,"POST","/v1/accounts:signInWithPhoneNumber",Xe(C,m));if(v.temporaryProof)throw Ei(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const dr={USER_NOT_FOUND:"user-not-found"};function Li(){return(Li=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signInWithPhoneNumber",Xe(C,Object.assign(Object.assign({},m),{operation:"REAUTH"})),dr)})).apply(this,arguments)}class ji extends Ai{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new ji({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new ji({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Rt(C,m){return Wt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Rn(C,m){return ki.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Di(C,m){return Li.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:O,verificationCode:J}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:O,code:J}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:O,phoneNumber:J,temporaryProof:ce}=m;return O||v||J||ce?new ji({verificationId:v,verificationCode:O,phoneNumber:J,temporaryProof:ce}):null}}class wr{constructor(m){var v,O,J,ce,et,St;const yn=(0,ue.zd)((0,ue.pd)(m)),En=null!==(v=yn.apiKey)&&void 0!==v?v:null,ui=null!==(O=yn.oobCode)&&void 0!==O?O:null,Jn=function _s(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=yn.mode)&&void 0!==J?J:null);xe(En&&ui&&Jn,"argument-error"),this.apiKey=En,this.operation=Jn,this.code=ui,this.continueUrl=null!==(ce=yn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(et=yn.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(St=yn.tenantId)&&void 0!==St?St:null}static parseLink(m){const v=function Ks(C){const m=(0,ue.zd)((0,ue.pd)(C)).link,v=m?(0,ue.zd)((0,ue.pd)(m)).deep_link_id:null,O=(0,ue.zd)((0,ue.pd)(C)).deep_link_id;return(O?(0,ue.zd)((0,ue.pd)(O)).link:null)||O||v||m||C}(m);try{return new wr(v)}catch(O){return null}}}let vs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,O){return No._fromEmailAndPassword(v,O)}static credentialWithLink(v,O){const J=wr.parseLink(O);return xe(J,"argument-error"),No._fromEmailAndCode(v,J.code,J.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class io{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Wr extends io{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ks extends Wr{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return xe("providerId"in v&&"signInMethod"in v,"argument-error"),We._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return xe(m.idToken||m.accessToken,"argument-error"),We._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ks.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ks.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:O,oauthTokenSecret:J,pendingToken:ce,nonce:et,providerId:St}=m;if(!O&&!J&&!v&&!ce||!St)return null;try{return new ks(St)._credential({idToken:v,accessToken:O,nonce:et,pendingToken:ce})}catch(yn){return null}}}let ro=(()=>{class C extends Wr{constructor(){super("facebook.com")}static credential(v){return We._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(O){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Zs=(()=>{class C extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,O){return We._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:O})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:O,oauthAccessToken:J}=v;if(!O&&!J)return null;try{return C.credential(O,J)}catch(ce){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Fo=(()=>{class C extends Wr{constructor(){super("github.com")}static credential(v){return We._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(O){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Os extends Ai{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Wi(m,this.buildRequest())}_linkToIdToken(m,v){const O=this.buildRequest();return O.idToken=v,Wi(m,O)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Wi(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:O,signInMethod:J,pendingToken:ce}=v;return O&&J&&ce&&O===J?new Os(O,ce):null}static _create(m,v){return new Os(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class is extends io{constructor(m){xe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return is.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return is.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Os.fromJSON(m);return xe(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:O}=m;if(!v||!O)return null;try{return Os._create(O,v)}catch(J){return null}}}let so=(()=>{class C extends Wr{constructor(){super("twitter.com")}static credential(v,O){return We._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:O})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:O,oauthTokenSecret:J}=v;if(!O||!J)return null;try{return C.credential(O,J)}catch(ce){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ys(C,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signUp",Xe(C,m))})).apply(this,arguments)}class kr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,O,J=!1){return(0,E.Z)(function*(){const ce=yield Re._fromIdTokenResponse(m,O,J),et=go(O);return new kr({user:ce,providerId:et,_tokenResponse:O,operationType:v})})()}static _forOperation(m,v,O){return(0,E.Z)(function*(){yield m._updateTokensIfNecessary(O,!0);const J=go(O);return new kr({user:m,providerId:J,_tokenResponse:O,operationType:v})})()}}function go(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function yr(){return(yr=(0,E.Z)(function*(C){var m;const v=Nt(C);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new kr({user:v.currentUser,providerId:null,operationType:"signIn"});const O=yield Ys(v,{returnSecureToken:!0}),J=yield kr._fromIdTokenResponse(v,"signIn",O,!0);return yield v._updateCurrentUser(J.user),J})).apply(this,arguments)}class Qs extends ue.ZR{constructor(m,v,O,J){var ce;super(v.code,v.message),this.operationType=O,this.user=J,Object.setPrototypeOf(this,Qs.prototype),this.customData={appName:m.name,tenantId:null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:v.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(m,v,O,J){return new Qs(m,v,O,J)}}function es(C,m,v,O){return("reauthenticate"===m?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?Qs._fromErrorAndOperation(C,ce,m,O):ce})}function Fr(C){return new Set(C.map(({providerId:m})=>m).filter(m=>!!m))}function Xs(){return(Xs=(0,E.Z)(function*(C,m){const v=(0,ue.m9)(C);yield se(!0,v,m);const{providerUserInfo:O}=yield Xn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),J=Fr(O||[]);return v.providerData=v.providerData.filter(ce=>J.has(ce.providerId)),J.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ti(C,m){return G.apply(this,arguments)}function G(){return(G=(0,E.Z)(function*(C,m,v=!1){const O=yield er(C,m._linkToIdToken(C.auth,yield C.getIdToken()),v);return kr._forOperation(C,"link",O)})).apply(this,arguments)}function se(C,m,v){return z.apply(this,arguments)}function z(){return(z=(0,E.Z)(function*(C,m,v){yield hi(m);const J=!1===C?"provider-already-linked":"no-such-provider";xe(Fr(m.providerData).has(v)===C,m.auth,J)})).apply(this,arguments)}function le(C,m){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,E.Z)(function*(C,m,v=!1){const{auth:O}=C,J="reauthenticate";try{const ce=yield er(C,es(O,J,m,C),v);xe(ce.idToken,O,"internal-error");const et=Dn(ce.idToken);xe(et,O,"internal-error");const{sub:St}=et;return xe(C.uid===St,O,"user-mismatch"),kr._forOperation(C,J,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&at(O,"user-mismatch"),ce}})).apply(this,arguments)}function bt(C,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,E.Z)(function*(C,m,v=!1){const O="signIn",J=yield es(C,O,m),ce=yield kr._fromIdTokenResponse(C,O,J);return v||(yield C._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function Jt(C,m){return _i.apply(this,arguments)}function _i(){return(_i=(0,E.Z)(function*(C,m){return bt(Nt(C),m)})).apply(this,arguments)}function Si(C,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,E.Z)(function*(C,m){const v=(0,ue.m9)(C);return yield se(!1,v,m.providerId),Ti(v,m)})).apply(this,arguments)}function fi(C,m){return _r.apply(this,arguments)}function _r(){return(_r=(0,E.Z)(function*(C,m){return le((0,ue.m9)(C),m)})).apply(this,arguments)}function Hi(C,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,E.Z)(function*(C,m){return yi(C,"POST","/v1/accounts:signInWithCustomToken",Xe(C,m))})).apply(this,arguments)}function Cr(){return(Cr=(0,E.Z)(function*(C,m){const v=Nt(C),O=yield Hi(v,{token:m,returnSecureToken:!0}),J=yield kr._fromIdTokenResponse(v,"signIn",O);return yield v._updateCurrentUser(J.user),J})).apply(this,arguments)}class Mn{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?oo._fromServerResponse(m,v):at(m,"internal-error")}}class oo extends Mn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new oo(v)}}function Is(C,m,v){var O;xe((null===(O=v.url)||void 0===O?void 0:O.length)>0,C,"invalid-continue-uri"),xe(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(xe(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(xe(v.android.packageName.length>0,C,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function ao(){return(ao=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C),J={requestType:"PASSWORD_RESET",email:m};v&&Is(O,J,v),yield ri(O,J)})).apply(this,arguments)}function $(){return($=(0,E.Z)(function*(C,m,v){yield nr((0,ue.m9)(C),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Q(){return(Q=(0,E.Z)(function*(C,m){yield Ms((0,ue.m9)(C),{oobCode:m})})).apply(this,arguments)}function rt(C,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,E.Z)(function*(C,m){const v=(0,ue.m9)(C),O=yield nr(v,{oobCode:m}),J=O.requestType;switch(xe(J,v,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(O.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(O.mfaInfo,v,"internal-error");default:xe(O.email,v,"internal-error")}let ce=null;return O.mfaInfo&&(ce=Mn._fromServerResponse(Nt(v),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:ce},operation:J}})).apply(this,arguments)}function vr(){return(vr=(0,E.Z)(function*(C,m){const{data:v}=yield rt((0,ue.m9)(C),m);return v.email})).apply(this,arguments)}function rs(){return(rs=(0,E.Z)(function*(C,m,v){const O=Nt(C),J=yield Ys(O,{returnSecureToken:!0,email:m,password:v}),ce=yield kr._fromIdTokenResponse(O,"signIn",J);return yield O._updateCurrentUser(ce.user),ce})).apply(this,arguments)}function Ko(){return(Ko=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C),J={requestType:"EMAIL_SIGNIN",email:m};xe(v.handleCodeInApp,O,"argument-error"),v&&Is(O,J,v),yield Ar(O,J)})).apply(this,arguments)}function Es(){return(Es=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C),J=vs.credentialWithLink(m,v||vn());return xe(J._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),Jt(O,J)})).apply(this,arguments)}function ds(C,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:createAuthUri",Xe(C,m))})).apply(this,arguments)}function Ts(){return(Ts=(0,E.Z)(function*(C,m){const O={identifier:m,continueUri:pn()?vn():"http://localhost"},{signinMethods:J}=yield ds((0,ue.m9)(C),O);return J||[]})).apply(this,arguments)}function Zo(){return(Zo=(0,E.Z)(function*(C,m){const v=(0,ue.m9)(C),J={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};m&&Is(v.auth,J,m);const{email:ce}=yield Sr(v.auth,J);ce!==C.email&&(yield C.reload())})).apply(this,arguments)}function Yo(){return(Yo=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:m};v&&Is(O.auth,ce,v);const{email:et}=yield ms(O.auth,ce);et!==C.email&&(yield C.reload())})).apply(this,arguments)}function rl(C,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,E.Z)(function*(C,m){return Bt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function oa(){return(oa=(0,E.Z)(function*(C,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const O=(0,ue.m9)(C),ce={idToken:yield O.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},et=yield er(O,rl(O.auth,ce));O.displayName=et.displayName||null,O.photoURL=et.photoUrl||null;const St=O.providerData.find(({providerId:yn})=>"password"===yn);St&&(St.displayName=O.displayName,St.photoURL=O.photoURL),yield O._updateTokensIfNecessary(et)})).apply(this,arguments)}function va(C,m,v){return hs.apply(this,arguments)}function hs(){return(hs=(0,E.Z)(function*(C,m,v){const{auth:O}=C,ce={idToken:yield C.getIdToken(),returnSecureToken:!0};m&&(ce.email=m),v&&(ce.password=v);const et=yield er(C,Kn(O,ce));yield C._updateTokensIfNecessary(et,!0)})).apply(this,arguments)}class Bs{constructor(m,v,O={}){this.isNewUser=m,this.providerId=v,this.profile=O}}class Ha extends Bs{constructor(m,v,O,J){super(m,v,O),this.username=J}}class sl extends Bs{constructor(m,v){super(m,"facebook.com",v)}}class Qo extends Ha{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class ba extends Bs{constructor(m,v){super(m,"google.com",v)}}class Oa extends Ha{constructor(m,v,O){super(m,"twitter.com",v,O)}}function fs(C){const{user:m,_tokenResponse:v}=C;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ma(C){var m,v;if(!C)return null;const{providerId:O}=C,J=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ce=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!O&&(null==C?void 0:C.idToken)){const et=null===(v=null===(m=Dn(C.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(et)return new Bs(ce,"anonymous"!==et&&"custom"!==et?et:null)}if(!O)return null;switch(O){case"facebook.com":return new sl(ce,J);case"github.com":return new Qo(ce,J);case"google.com":return new ba(ce,J);case"twitter.com":return new Oa(ce,J,C.screenName||null);case"custom":case"anonymous":return new Bs(ce,null);default:return new Bs(ce,O,J)}}(v)}class Co{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new Co("enroll",m)}static _fromMfaPendingCredential(m){return new Co("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,O;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Co._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(O=m.multiFactorSession)||void 0===O?void 0:O.idToken)return Co._fromIdtoken(m.multiFactorSession.idToken)}return null}}class zo{constructor(m,v,O){this.session=m,this.hints=v,this.signInResolver=O}static _fromError(m,v){const O=Nt(m),J=v.customData._serverResponse,ce=(J.mfaInfo||[]).map(St=>Mn._fromServerResponse(O,St));xe(J.mfaPendingCredential,O,"internal-error");const et=Co._fromMfaPendingCredential(J.mfaPendingCredential);return new zo(et,ce,function(){var St=(0,E.Z)(function*(yn){const En=yield yn._process(O,et);delete J.mfaInfo,delete J.mfaPendingCredential;const ui=Object.assign(Object.assign({},J),{idToken:En.idToken,refreshToken:En.refreshToken});switch(v.operationType){case"signIn":const Jn=yield kr._fromIdTokenResponse(O,v.operationType,ui);return yield O._updateCurrentUser(Jn.user),Jn;case"reauthenticate":return xe(v.user,O,"internal-error"),kr._forOperation(v.user,v.operationType,ui);default:at(O,"internal-error")}});return function(yn){return St.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,E.Z)(function*(){return v.signInResolver(m)})()}}function ns(C,m){return Bt(C,"POST","/v2/accounts/mfaEnrollment:start",Xe(C,m))}class yo{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(O=>Mn._fromServerResponse(m.auth,O)))})}static _fromUser(m){return new yo(m)}getSession(){var m=this;return(0,E.Z)(function*(){return Co._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var O=this;return(0,E.Z)(function*(){const J=m,ce=yield O.getSession(),et=yield er(O.user,J._process(O.user.auth,ce,v));return yield O.user._updateTokensIfNecessary(et),O.user.reload()})()}unenroll(m){var v=this;return(0,E.Z)(function*(){const O="string"==typeof m?m:m.uid,J=yield v.user.getIdToken(),ce=yield er(v.user,function Wa(C,m){return Bt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(C,m))}(v.user.auth,{idToken:J,mfaEnrollmentId:O}));v.enrolledFactors=v.enrolledFactors.filter(({uid:et})=>et!==O),yield v.user._updateTokensIfNecessary(ce);try{yield v.user.reload()}catch(et){if("auth/user-token-expired"!==et.code)throw et}})()}}const Ps=new WeakMap,_o="__sak";class To{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(_o,"1"),this.storage.removeItem(_o),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const W=(()=>{class C extends To{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,O)=>this.onStorageEvent(v,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ka(){const C=(0,ue.z$)();return Se(C)||Ci(C)}()&&function Yi(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Pi(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const O of Object.keys(this.listeners)){const J=this.storage.getItem(O),ce=this.localCache[O];J!==ce&&v(O,ce,J)}}onStorageEvent(v,O=!1){if(!v.key)return void this.forAllChangedKeys((St,yn,En)=>{this.notifyListeners(St,En)});const J=v.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const St=this.storage.getItem(J);if(v.newValue!==St)null!==v.newValue?this.storage.setItem(J,v.newValue):this.storage.removeItem(J);else if(this.localCache[J]===v.newValue&&!O)return}const ce=()=>{const St=this.storage.getItem(J);!O&&this.localCache[J]===St||this.notifyListeners(J,St)},et=this.storage.getItem(J);!function as(){return(0,ue.w1)()&&10===document.documentMode}()||et===v.newValue||v.newValue===v.oldValue?ce():setTimeout(ce,10)}notifyListeners(v,O){this.localCache[v]=O;const J=this.listeners[v];if(J)for(const ce of Array.from(J))ce(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,O,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:O,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(O)}_removeListener(v,O){this.listeners[v]&&(this.listeners[v].delete(O),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,O){var J=()=>super._set,ce=this;return(0,E.Z)(function*(){yield J().call(ce,v,O),ce.localCache[v]=JSON.stringify(O)})()}_get(v){var O=()=>super._get,J=this;return(0,E.Z)(function*(){const ce=yield O().call(J,v);return J.localCache[v]=JSON.stringify(ce),ce})()}_remove(v){var O=()=>super._remove,J=this;return(0,E.Z)(function*(){yield O().call(J,v),delete J.localCache[v]})()}}return C.type="LOCAL",C})(),T=(()=>{class C extends To{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,O){}_removeListener(v,O){}}return C.type="SESSION",C})();let ie=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const O=this.receivers.find(ce=>ce.isListeningto(v));if(O)return O;const J=new C(v);return this.receivers.push(J),J}isListeningto(v){return this.eventTarget===v}handleEvent(v){var O=this;return(0,E.Z)(function*(){const J=v,{eventId:ce,eventType:et,data:St}=J.data,yn=O.handlersMap[et];if(!(null==yn?void 0:yn.size))return;J.ports[0].postMessage({status:"ack",eventId:ce,eventType:et});const En=Array.from(yn).map(function(){var Jn=(0,E.Z)(function*(ur){return ur(J.origin,St)});return function(ur){return Jn.apply(this,arguments)}}()),ui=yield function B(C){return Promise.all(C.map(function(){var m=(0,E.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(O){return{fulfilled:!1,reason:O}}});return function(v){return m.apply(this,arguments)}}()))}(En);J.ports[0].postMessage({status:"done",eventId:ce,eventType:et,response:ui})})()}_subscribe(v,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(O)}_unsubscribe(v,O){this.handlersMap[v]&&O&&this.handlersMap[v].delete(O),(!O||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function he(C="",m=10){let v="";for(let O=0;O<m;O++)v+=Math.floor(10*Math.random());return C+v}class Ne{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,O=50){var J=this;return(0,E.Z)(function*(){const ce="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let et,St;return new Promise((yn,En)=>{const ui=he("",20);ce.port1.start();const Jn=setTimeout(()=>{En(new Error("unsupported_event"))},O);St={messageChannel:ce,onMessage(ur){const ma=ur;if(ma.data.eventId===ui)switch(ma.data.status){case"ack":clearTimeout(Jn),et=setTimeout(()=>{En(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),yn(ma.data.response);break;default:clearTimeout(Jn),clearTimeout(et),En(new Error("invalid_response"))}}},J.handlers.add(St),ce.port1.addEventListener("message",St.onMessage),J.target.postMessage({eventType:m,eventId:ui,data:v},[ce.port2])}).finally(()=>{St&&J.removeMessageHandler(St)})})()}}function Ie(){return window}function Tt(){return void 0!==Ie().WorkerGlobalScope&&"function"==typeof Ie().importScripts}function Tn(){return(Tn=(0,E.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",Ui="firebaseLocalStorage",Lt="fbase_key";class ai{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Br(C,m){return C.transaction([Ui],m?"readwrite":"readonly").objectStore(Ui)}function P(){const C=indexedDB.open(Fn,1);return new Promise((m,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const O=C.result;try{O.createObjectStore(Ui,{keyPath:Lt})}catch(J){v(J)}}),C.addEventListener("success",(0,E.Z)(function*(){const O=C.result;O.objectStoreNames.contains(Ui)?m(O):(O.close(),yield function hr(){const C=indexedDB.deleteDatabase(Fn);return new ai(C).toPromise()}(),m(yield P()))}))})}function M(C,m,v){return x.apply(this,arguments)}function x(){return(x=(0,E.Z)(function*(C,m,v){const O=Br(C,!0).put({[Lt]:m,value:v});return new ai(O).toPromise()})).apply(this,arguments)}function L(){return(L=(0,E.Z)(function*(C,m){const v=Br(C,!1).get(m),O=yield new ai(v).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function X(C,m){const v=Br(C,!0).delete(m);return new ai(v).toPromise()}const gn=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,E.Z)(function*(){return v.db||(v.db=yield P()),v.db})()}_withRetries(v){var O=this;return(0,E.Z)(function*(){let J=0;for(;;)try{const ce=yield O._openDb();return yield v(ce)}catch(ce){if(J++>3)throw ce;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,E.Z)(function*(){return Tt()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,E.Z)(function*(){v.receiver=ie._getInstance(function pi(){return Tt()?self:null}()),v.receiver._subscribe("keyChanged",function(){var O=(0,E.Z)(function*(J,ce){return{keyProcessed:(yield v._poll()).includes(ce.key)}});return function(J,ce){return O.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var O=(0,E.Z)(function*(J,ce){return["keyChanged"]});return function(J,ce){return O.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,E.Z)(function*(){var O,J;if(v.activeServiceWorker=yield function _n(){return Tn.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ne(v.activeServiceWorker);const ce=yield v.sender._send("ping",{},800);!ce||(null===(O=ce[0])||void 0===O?void 0:O.fulfilled)&&(null===(J=ce[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var O=this;return(0,E.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Vn(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:v},O.serviceWorkerReceiverAvailable?800:50)}catch(J){}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const v=yield P();return yield M(v,_o,"1"),yield X(v,_o),!0}catch(v){}return!1})()}_withPendingWrite(v){var O=this;return(0,E.Z)(function*(){O.pendingWrites++;try{yield v()}finally{O.pendingWrites--}})()}_set(v,O){var J=this;return(0,E.Z)(function*(){return J._withPendingWrite((0,E.Z)(function*(){return yield J._withRetries(ce=>M(ce,v,O)),J.localCache[v]=O,J.notifyServiceWorker(v)}))})()}_get(v){var O=this;return(0,E.Z)(function*(){const J=yield O._withRetries(ce=>function k(C,m){return L.apply(this,arguments)}(ce,v));return O.localCache[v]=J,J})()}_remove(v){var O=this;return(0,E.Z)(function*(){return O._withPendingWrite((0,E.Z)(function*(){return yield O._withRetries(J=>X(J,v)),delete O.localCache[v],O.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,E.Z)(function*(){const O=yield v._withRetries(et=>{const St=Br(et,!1).getAll();return new ai(St).toPromise()});if(!O)return[];if(0!==v.pendingWrites)return[];const J=[],ce=new Set;for(const{fbase_key:et,value:St}of O)ce.add(et),JSON.stringify(v.localCache[et])!==JSON.stringify(St)&&(v.notifyListeners(et,St),J.push(et));for(const et of Object.keys(v.localCache))v.localCache[et]&&!ce.has(et)&&(v.notifyListeners(et,null),J.push(et));return J})()}notifyListeners(v,O){this.localCache[v]=O;const J=this.listeners[v];if(J)for(const ce of Array.from(J))ce(O)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(O)}_removeListener(v,O){this.listeners[v]&&(this.listeners[v].delete(O),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function vi(C,m){return Bt(C,"POST","/v2/accounts/mfaSignIn:start",Xe(C,m))}function rn(){return(rn=(0,E.Z)(function*(C){return(yield Bt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fr(C){return new Promise((m,v)=>{const O=document.createElement("script");O.setAttribute("src",C),O.onload=m,O.onerror=J=>{const ce=_e("internal-error");ce.customData=J,v(ce)},O.type="text/javascript",O.charset="UTF-8",function ci(){var C,m;return null!==(m=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==m?m:document}().appendChild(O)})}function pr(C){return`__${C}${Math.floor(1e6*Math.random())}`}const mn=1e12;class Na{constructor(m){this.auth=m,this.counter=mn,this._widgets=new Map}render(m,v){const O=this.counter;return this._widgets.set(O,new Dl(m,this.auth.name,v||{})),this.counter++,O}reset(m){var v;const O=m||mn;null===(v=this._widgets.get(O))||void 0===v||v.delete(),this._widgets.delete(O)}getResponse(m){var v;return(null===(v=this._widgets.get(m||mn))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,E.Z)(function*(){var O;return null===(O=v._widgets.get(m||mn))||void 0===O||O.execute(),""})()}}class Dl{constructor(m,v,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof m?document.getElementById(m):m;xe(J,"argument-error",{appName:v}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oi(C){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<C;O++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(O){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(O){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jn=pr("rcb"),ua=new on(3e4,6e4);class Kl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ie().grecaptcha}load(m,v=""){return xe(function Gu(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Ie().grecaptcha):new Promise((O,J)=>{const ce=Ie().setTimeout(()=>{J(_e(m,"network-request-failed"))},ua.get());Ie()[jn]=()=>{Ie().clearTimeout(ce),delete Ie()[jn];const St=Ie().grecaptcha;if(!St)return void J(_e(m,"internal-error"));const yn=St.render;St.render=(En,ui)=>{const Jn=yn(En,ui);return this.counter++,Jn},this.hostLanguage=v,O(St)},fr(`https://www.google.com/recaptcha/api.js??${(0,ue.xO)({onload:jn,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ce),J(_e(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Ie().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lr{load(m){return(0,E.Z)(function*(){return new Na(m)})()}clearedOneInstance(){}}const Cl="recaptcha",Ss={theme:"light",type:"image"};class Il{constructor(m,v=Object.assign({},Ss),O){this.parameters=v,this.type=Cl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nt(O),this.isInvisible="invisible"===this.parameters.size,xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof m?document.getElementById(m):m;xe(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lr:new Kl,this.validateStartingState()}verify(){var m=this;return(0,E.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),O=m.getAssertedRecaptcha();return O.getResponse(v)||new Promise(ce=>{const et=St=>{!St||(m.tokenChangeListeners.delete(et),ce(St))};m.tokenChangeListeners.add(et),m.isInvisible&&O.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(O=>O(v)),"function"==typeof m)m(v);else if("string"==typeof m){const O=Ie()[m];"function"==typeof O&&O(v)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,E.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const O=document.createElement("div");v.appendChild(O),v=O}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,E.Z)(function*(){xe(pn()&&!Tt(),m.auth,"internal-error"),yield function So(){let C=null;return new Promise(m=>{"complete"!==document.readyState?(C=()=>m(),window.addEventListener("load",C)):m()}).catch(m=>{throw C&&window.removeEventListener("load",C),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function cn(C){return rn.apply(this,arguments)}(m.auth);xe(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kr{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=ji._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function br(){return(br=(0,E.Z)(function*(C,m,v){const O=Nt(C),J=yield Us(O,m,(0,ue.m9)(v));return new Kr(J,ce=>Jt(O,ce))})).apply(this,arguments)}function Go(){return(Go=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C);yield se(!1,O,"phone");const J=yield Us(O.auth,m,(0,ue.m9)(v));return new Kr(J,ce=>Si(O,ce))})).apply(this,arguments)}function ql(){return(ql=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C),J=yield Us(O.auth,m,(0,ue.m9)(v));return new Kr(J,ce=>fi(O,ce))})).apply(this,arguments)}function Us(C,m,v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,E.Z)(function*(C,m,v){var O;const J=yield v.verify();try{let ce;if(xe("string"==typeof J,C,"argument-error"),xe(v.type===Cl,C,"argument-error"),ce="string"==typeof m?{phoneNumber:m}:m,"session"in ce){const et=ce.session;if("phoneNumber"in ce)return xe("enroll"===et.type,C,"internal-error"),(yield ns(C,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{xe("signin"===et.type,C,"internal-error");const St=(null===(O=ce.multiFactorHint)||void 0===O?void 0:O.uid)||ce.multiFactorUid;return xe(St,C,"missing-multi-factor-info"),(yield vi(C,{mfaPendingCredential:et.credential,mfaEnrollmentId:St,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield Le(C,{phoneNumber:ce.phoneNumber,recaptchaToken:J});return et}}finally{v._reset()}})).apply(this,arguments)}function lo(){return(lo=(0,E.Z)(function*(C,m){yield Ti((0,ue.m9)(C),m)})).apply(this,arguments)}let Ao=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Nt(v)}verifyPhoneNumber(v,O){return Us(this.auth,v,(0,ue.m9)(O))}static credential(v,O){return ji._fromVerification(v,O)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:O,temporaryProof:J}=v;return O&&J?ji._fromTokenResponse(O,J):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function ca(C,m){return m?Ze(m):(xe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class an extends Ai{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Wi(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Wi(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Wi(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Zl(C){return bt(C.auth,new an(C),C.bypassAuthState)}function mu(C){const{auth:m,user:v}=C;return xe(v,m,"internal-error"),le(v,new an(C),C.bypassAuthState)}function qa(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,E.Z)(function*(C){const{auth:m,user:v}=C;return xe(v,m,"internal-error"),Ti(v,new an(C),C.bypassAuthState)})).apply(this,arguments)}class uo{constructor(m,v,O,J,ce=!1){this.auth=m,this.resolver=O,this.user=J,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,E.Z)(function*(O,J){m.pendingPromise={resolve:O,reject:J};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ce){m.reject(ce)}});return function(O,J){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,E.Z)(function*(){const{urlResponse:O,sessionId:J,postBody:ce,tenantId:et,error:St,type:yn}=m;if(St)return void v.reject(St);const En={auth:v.auth,requestUri:O,sessionId:J,tenantId:et||void 0,postBody:ce||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(yn)(En))}catch(ui){v.reject(ui)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Zl;case"linkViaPopup":case"linkViaRedirect":return qa;case"reauthViaPopup":case"reauthViaRedirect":return mu;default:at(this.auth,"internal-error")}}resolve(m){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const da=new on(2e3,1e4);function al(){return(al=(0,E.Z)(function*(C,m,v){const O=Nt(C);Ot(C,m,io);const J=ca(O,v);return new Wo(O,"signInViaPopup",m,J).executeNotNull()})).apply(this,arguments)}function Rs(){return(Rs=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C);Ot(O.auth,m,io);const J=ca(O.auth,v);return new Wo(O.auth,"reauthViaPopup",m,J,O).executeNotNull()})).apply(this,arguments)}function ll(){return(ll=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C);Ot(O.auth,m,io);const J=ca(O.auth,v);return new Wo(O.auth,"linkViaPopup",m,J,O).executeNotNull()})).apply(this,arguments)}let Wo=(()=>{class C extends uo{constructor(v,O,J,ce,et){super(v,O,ce,et),this.provider=J,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,E.Z)(function*(){const O=yield v.execute();return xe(O,v.auth,"internal-error"),O})()}onExecution(){var v=this;return(0,E.Z)(function*(){Pe(1===v.filter.length,"Popup operations only handle one event");const O=he();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],O),v.authWindow.associatedEvent=O,v.resolver._originValidation(v.auth).catch(J=>{v.reject(J)}),v.resolver._isIframeWebStorageSupported(v.auth,J=>{J||v.reject(_e(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var O,J;this.pollId=(null===(J=null===(O=this.authWindow)||void 0===O?void 0:O.window)||void 0===J?void 0:J.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,da.get())};v()}}return C.currentPopupAction=null,C})();const Bo=new Map;class Tl extends uo{constructor(m,v,O=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,O),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,E.Z)(function*(){let O=Bo.get(v.auth._key());if(!O){try{const ce=(yield function _u(C,m){return Wu.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;O=()=>Promise.resolve(ce)}catch(J){O=()=>Promise.reject(J)}Bo.set(v.auth._key(),O)}return v.bypassAuthState||Bo.set(v.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,O=this;return(0,E.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(O,m);if("unknown"!==m.type){if(m.eventId){const J=yield O.auth._redirectUserForId(m.eventId);if(J)return O.user=J,v().call(O,m);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function Wu(){return(Wu=(0,E.Z)(function*(C,m){const v=Z(m),O=j(C);if(!(yield O._isAvailable()))return!1;const J="true"===(yield O._get(v));return yield O._remove(v),J})).apply(this,arguments)}function wa(C,m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,E.Z)(function*(C,m){return j(C)._set(Z(m),"true")})).apply(this,arguments)}function j(C){return Ze(C._redirectPersistence)}function Z(C){return _t("pendingRedirect",C.config.apiKey,C.name)}function nt(){return(nt=(0,E.Z)(function*(C,m,v){const O=Nt(C);Ot(C,m,io);const J=ca(O,v);return yield wa(J,O),J._openRedirect(O,m,"signInViaRedirect")})).apply(this,arguments)}function On(){return(On=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C);Ot(O.auth,m,io);const J=ca(O.auth,v);yield wa(J,O.auth);const ce=yield bu(O);return J._openRedirect(O.auth,m,"reauthViaRedirect",ce)})).apply(this,arguments)}function di(){return(di=(0,E.Z)(function*(C,m,v){const O=(0,ue.m9)(C);Ot(O.auth,m,io);const J=ca(O.auth,v);yield se(!1,O,m.providerId),yield wa(J,O.auth);const ce=yield bu(O);return J._openRedirect(O.auth,m,"linkViaRedirect",ce)})).apply(this,arguments)}function to(){return(to=(0,E.Z)(function*(C,m){return yield Nt(C)._initializationPromise,As(C,m,!1)})).apply(this,arguments)}function As(C,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,E.Z)(function*(C,m,v=!1){const O=Nt(C),J=ca(O,m),et=yield new Tl(O,J,v).execute();return et&&!v&&(delete et.user._redirectEventId,yield O._persistUserIfCurrent(et.user),yield O._setRedirectUser(null,m)),et})).apply(this,arguments)}function bu(C){return ws.apply(this,arguments)}function ws(){return(ws=(0,E.Z)(function*(C){const m=he(`${C.uid}:::`);return C._redirectEventId=m,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),m})).apply(this,arguments)}class ha{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(m,O)&&(v=!0,this.sendToConsumer(m,O),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function vo(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zc(C);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var O;if(m.error&&!Zc(m)){const J=(null===(O=m.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";v.onError(_e(this.auth,J))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const O=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&O}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(m))}saveEventToCache(m){this.cachedEventUids.add(Za(m)),this.lastProcessedEventTime=Date.now()}}function Za(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(m=>m).join("-")}function Zc({type:C,error:m}){return"unknown"===C&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Eu(C){return wu.apply(this,arguments)}function wu(){return(wu=(0,E.Z)(function*(C,m={}){return Bt(C,"GET","/v1/projects",m)})).apply(this,arguments)}const kd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fd=/^https?/;function Al(){return(Al=(0,E.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:m}=yield Eu(C);for(const v of m)try{if(Du(v))return}catch(O){}at(C,"unauthorized-domain")})).apply(this,arguments)}function Du(C){const m=vn(),{protocol:v,hostname:O}=new URL(m);if(C.startsWith("chrome-extension://")){const et=new URL(C);return""===et.hostname&&""===O?"chrome-extension:"===v&&C.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&et.hostname===O}if(!Fd.test(v))return!1;if(kd.test(C))return O===C;const J=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(O)}const Ld=new on(3e4,6e4);function xl(){const C=Ie().___jsl;if(null==C?void 0:C.H)for(const m of Object.keys(C.H))if(C.H[m].r=C.H[m].r||[],C.H[m].L=C.H[m].L||[],C.H[m].r=[...C.H[m].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Ku=null;function gc(C){return Ku=Ku||function Ml(C){return new Promise((m,v)=>{var O,J,ce;function et(){xl(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{xl(),v(_e(C,"network-request-failed"))},timeout:Ld.get()})}if(null===(J=null===(O=Ie().gapi)||void 0===O?void 0:O.iframes)||void 0===J?void 0:J.Iframe)m(gapi.iframes.getContext());else{if(!(null===(ce=Ie().gapi)||void 0===ce?void 0:ce.load)){const St=pr("iframefcb");return Ie()[St]=()=>{gapi.load?et():v(_e(C,"network-request-failed"))},fr(`https://apis.google.com/js/api.js?onload=${St}`).catch(yn=>v(yn))}et()}}).catch(m=>{throw Ku=null,m})}(C),Ku}const Cu=new on(5e3,15e3),cl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dl(C){const m=C.config;xe(m.authDomain,C,"auth-domain-config-required");const v=m.emulator?wn(m,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,O={apiKey:m.apiKey,appName:C.name,v:be.SDK_VERSION},J=Iu.get(C.config.apiHost);J&&(O.eid=J);const ce=C._getFrameworks();return ce.length&&(O.fw=ce.join(",")),`${v}?${(0,ue.xO)(O).slice(1)}`}function Tu(){return Tu=(0,E.Z)(function*(C){const m=yield gc(C),v=Ie().gapi;return xe(v,C,"internal-error"),m.open({where:document.body,url:dl(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cl,dontclear:!0},O=>new Promise(function(){var J=(0,E.Z)(function*(ce,et){yield O.restyle({setHideOnLeave:!1});const St=_e(C,"network-request-failed"),yn=Ie().setTimeout(()=>{et(St)},Cu.get());function En(){Ie().clearTimeout(yn),ce(O)}O.ping(En).then(En,()=>{et(St)})});return function(ce,et){return J.apply(this,arguments)}}()))}),Tu.apply(this,arguments)}const Jc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Qa(C,m,v,O,J,ce){xe(C.config.authDomain,C,"auth-domain-config-required"),xe(C.config.apiKey,C,"invalid-api-key");const et={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:O,v:be.SDK_VERSION,eventId:J};if(m instanceof io){m.setDefaultLanguage(C.languageCode),et.providerId=m.providerId||"",(0,ue.xb)(m.getCustomParameters())||(et.customParameters=JSON.stringify(m.getCustomParameters()));for(const[yn,En]of Object.entries(ce||{}))et[yn]=En}if(m instanceof Wr){const yn=m.getScopes().filter(En=>""!==En);yn.length>0&&(et.scopes=yn.join(","))}C.tenantId&&(et.tid=C.tenantId);const St=et;for(const yn of Object.keys(St))void 0===St[yn]&&delete St[yn];return`${function nd({config:C}){return C.emulator?wn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,ue.xO)(St).slice(1)}`}const Da="webStorageSupport";class rd extends class id{constructor(m){this.factorId=m}_process(m,v,O){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,O);case"signin":return this._finalizeSignIn(m,v.credential);default:return Me("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new rd(m)}_finalizeEnroll(m,v,O){return function ss(C,m){return Bt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(C,m))}(m,{idToken:v,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function Pt(C,m){return Bt(C,"POST","/v2/accounts/mfaSignIn:finalize",Xe(C,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vd=(()=>{class C{constructor(){}static assertion(v){return rd._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Ql="@firebase/auth",La="0.19.12";class yc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,E.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(O=>{var J;m((null===(J=O)||void 0===J?void 0:J.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ol(){return window}function eu(){return(eu=(0,E.Z)(function*(C,m,v){var O;const{BuildInfo:J}=Ol();Pe(m.sessionId,"AuthEvent did not contain a session ID");const ce=yield rf(m.sessionId),et={};return Ci()?et.ibi=J.packageName:At()?et.apn=J.packageName:at(C,"operation-not-supported-in-this-environment"),J.displayName&&(et.appDisplayName=J.displayName),et.sessionId=ce,Qa(C,v,m.type,void 0,null!==(O=m.eventId)&&void 0!==O?O:void 0,et)})).apply(this,arguments)}function Mr(){return(Mr=(0,E.Z)(function*(C){const{BuildInfo:m}=Ol(),v={};Ci()?v.iosBundleId=m.packageName:At()?v.androidPackageName=m.packageName:at(C,"operation-not-supported-in-this-environment"),yield Eu(C,v)})).apply(this,arguments)}function tu(){return(tu=(0,E.Z)(function*(C,m,v){const{cordova:O}=Ol();let J=()=>{};try{yield new Promise((ce,et)=>{let St=null;function yn(){var Jn;ce();const ur=null===(Jn=O.plugins.browsertab)||void 0===Jn?void 0:Jn.close;"function"==typeof ur&&ur(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function En(){St||(St=window.setTimeout(()=>{et(_e(C,"redirect-cancelled-by-user"))},2e3))}function ui(){"visible"===(null==document?void 0:document.visibilityState)&&En()}m.addPassiveListener(yn),document.addEventListener("resume",En,!1),At()&&document.addEventListener("visibilitychange",ui,!1),J=()=>{m.removePassiveListener(yn),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",ui,!1),St&&window.clearTimeout(St)}})}finally{J()}})).apply(this,arguments)}function rf(C){return _c.apply(this,arguments)}function _c(){return(_c=(0,E.Z)(function*(C){const m=Rl(C),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(J=>J.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Rl(C){if(Pe(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const m=new ArrayBuffer(C.length),v=new Uint8Array(m);for(let O=0;O<C.length;O++)v[O]=C.charCodeAt(O);return v}!function Bd(C){(0,be._registerComponent)(new Je.wA("auth",(m,{options:v})=>{const O=m.getProvider("app").getImmediate(),J=m.getProvider("heartbeat"),{apiKey:ce,authDomain:et}=O.options;return((St,yn)=>{xe(ce&&!ce.includes(":"),"invalid-api-key",{appName:St.name}),xe(!(null==et?void 0:et.includes(":")),"argument-error",{appName:St.name});const En={apiKey:ce,authDomain:et,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(C)},ui=new Ii(St,yn,En);return function lt(C,m){const v=(null==m?void 0:m.persistence)||[],O=(Array.isArray(v)?v:[v]).map(Ze);(null==m?void 0:m.errorMap)&&C._updateErrorMap(m.errorMap),C._initializeWithPersistence(O,null==m?void 0:m.popupRedirectResolver)}(ui,v),ui})(O,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,O)=>{m.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new Je.wA("auth-internal",m=>{const v=Nt(m.getProvider("auth").getImmediate());return new yc(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Ql,La,function Xl(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,be.registerVersion)(Ql,La,"esm2017")}("Browser");class pl extends ha{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,E.Z)(function*(){yield m.initPromise})()}}function jd(C){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,E.Z)(function*(C){const m=yield Ns()._get(rr(C));return m&&(yield Ns()._remove(rr(C))),m})).apply(this,arguments)}function bc(){const C=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const O=Math.floor(Math.random()*m.length);C.push(m.charAt(O))}return C.join("")}function Ns(){return Ze(W)}function rr(C){return _t("authEvent",C.config.apiKey,C.name)}function fa(C){if(!(null==C?void 0:C.includes("?")))return{};const[m,...v]=C.split("?");return(0,ue.zd)(v.join("?"))}function jr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function wc(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function xu(C=(0,ue.z$)()){return!("file:"!==wc()&&"ionic:"!==wc()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function co(){try{const C=self.localStorage,m=he();if(C)return C.setItem(m,"1"),C.removeItem(m),!function Ju(C=(0,ue.z$)()){return function sf(){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Hr(C=(0,ue.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,ue.hl)()}catch(C){return gl()&&(0,ue.hl)()}return!1}function gl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kl(){return(function ld(){return"http:"===wc()||"https:"===wc()}()||(0,ue.ru)()||xu())&&!function mh(){return(0,ue.b$)()||(0,ue.UG)()}()&&co()&&!gl()}function iu(){return xu()&&"undefined"!=typeof document}function Fl(){return(Fl=(0,E.Z)(function*(){return!!iu()&&new Promise(C=>{const m=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),C(!0)})})})).apply(this,arguments)}const ga={LOCAL:"local",NONE:"none",SESSION:"session"},Mu=xe,Ou="persistence";function ec(C){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,E.Z)(function*(C){yield C._initializationPromise;const m=Ic(),v=_t(Ou,C.config.apiKey,C.name);m&&m.setItem(v,C._getPersistence())})).apply(this,arguments)}function Ic(){var C;try{return(null===(C=function Dc(){return"undefined"!=typeof window?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch(m){return null}}const _h=xe;class qr{constructor(){this.browserResolver=Ze(class Yl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T,this._completeRedirectFn=As}_openPopup(m,v,O,J){var ce=this;return(0,E.Z)(function*(){var et;Pe(null===(et=ce.eventManagers[m._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const St=Qa(m,v,O,vn(),J);return function fl(C,m,v,O=500,J=600){const ce=Math.max((window.screen.availHeight-J)/2,0).toString(),et=Math.max((window.screen.availWidth-O)/2,0).toString();let St="";const yn=Object.assign(Object.assign({},Jc),{width:O.toString(),height:J.toString(),top:ce,left:et}),En=(0,ue.z$)().toLowerCase();v&&(St=fe(En)?"_blank":v),je(En)&&(m=m||"http://localhost",yn.scrollbars="yes");const ui=Object.entries(yn).reduce((ur,[ma,ml])=>`${ur}${ma}=${ml},`,"");if(function Gs(C=(0,ue.z$)()){var m;return Ci(C)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(En)&&"_self"!==St)return function ed(C,m){const v=document.createElement("a");v.href=C,v.target=m;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(O)}(m||"",St),new qu(null);const Jn=window.open(m||"",St,ui);xe(Jn,C,"popup-blocked");try{Jn.focus()}catch(ur){}return new qu(Jn)}(m,St,he())})()}_openRedirect(m,v,O,J){var ce=this;return(0,E.Z)(function*(){return yield ce._originValidation(m),function ot(C){Ie().location.href=C}(Qa(m,v,O,vn(),J)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:J,promise:ce}=this.eventManagers[v];return J?Promise.resolve(J):(Pe(ce,"If manager is not set, promise should be"),ce)}const O=this.initAndGetManager(m);return this.eventManagers[v]={promise:O},O.catch(()=>{delete this.eventManagers[v]}),O}initAndGetManager(m){var v=this;return(0,E.Z)(function*(){const O=yield function Xc(C){return Tu.apply(this,arguments)}(m),J=new ha(m);return O.register("authEvent",ce=>(xe(null==ce?void 0:ce.authEvent,m,"invalid-auth-event"),{status:J.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:J},v.iframes[m._key()]=O,J})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Da,{type:Da},J=>{var ce;const et=null===(ce=null==J?void 0:J[0])||void 0===ce?void 0:ce[Da];void 0!==et&&v(!!et),at(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Yc(C){return Al.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return Pi()||Se()||Ci()}}),this.cordovaResolver=Ze(class Ec{constructor(){this._redirectPersistence=T,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=As}_initialize(m){var v=this;return(0,E.Z)(function*(){const O=m._key();let J=v.eventManagers.get(O);return J||(J=new pl(m),v.eventManagers.set(O,J),v.attachCallbackListeners(m,J)),J})()}_openPopup(m){at(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,O,J){var ce=this;return(0,E.Z)(function*(){!function Qu(C){var m,v,O,J,ce,et,St,yn,En,ui;const Jn=Ol();xe("function"==typeof(null===(m=null==Jn?void 0:Jn.universalLinks)||void 0===m?void 0:m.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(void 0!==(null===(v=null==Jn?void 0:Jn.BuildInfo)||void 0===v?void 0:v.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(ce=null===(J=null===(O=null==Jn?void 0:Jn.cordova)||void 0===O?void 0:O.plugins)||void 0===J?void 0:J.browsertab)||void 0===ce?void 0:ce.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(yn=null===(St=null===(et=null==Jn?void 0:Jn.cordova)||void 0===et?void 0:et.plugins)||void 0===St?void 0:St.browsertab)||void 0===yn?void 0:yn.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(ui=null===(En=null==Jn?void 0:Jn.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===ui?void 0:ui.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const et=yield ce._initialize(m);yield et.initialized(),et.resetRedirect(),function vu(){Bo.clear()}(),yield ce._originValidation(m);const St=function vc(C,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:bc(),postBody:null,tenantId:C.tenantId,error:_e(C,"no-auth-event")}}(m,O,J);yield function sd(C,m){return Ns()._set(rr(C),m)}(m,St);const yn=yield function Jl(C,m,v){return eu.apply(this,arguments)}(m,St,v),En=yield function Pl(C){const{cordova:m}=Ol();return new Promise(v=>{m.plugins.browsertab.isAvailable(O=>{let J=null;O?m.plugins.browsertab.openUrl(C):J=m.InAppBrowser.open(C,function tr(C=(0,ue.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(J)})})}(yn);return function Yu(C,m,v){return tu.apply(this,arguments)}(m,et,En)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ud(C){return Mr.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:O,handleOpenURL:J,BuildInfo:ce}=Ol(),et=setTimeout((0,E.Z)(function*(){yield jd(m),v.onEvent(jr())}),500),St=function(){var ui=(0,E.Z)(function*(Jn){clearTimeout(et);const ur=yield jd(m);let ma=null;ur&&(null==Jn?void 0:Jn.url)&&(ma=function Xu(C,m){var v,O;const J=function Au(C){const m=fa(C),v=m.link?decodeURIComponent(m.link):void 0,O=fa(v).link,J=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return fa(J).link||J||O||v||C}(m);if(J.includes("/__/auth/callback")){const ce=fa(J),et=ce.firebaseError?function od(C){try{return JSON.parse(C)}catch(m){return null}}(decodeURIComponent(ce.firebaseError)):null,St=null===(O=null===(v=null==et?void 0:et.code)||void 0===v?void 0:v.split("auth/"))||void 0===O?void 0:O[1],yn=St?_e(St):null;return yn?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:yn,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:J,postBody:null}}return null}(ur,Jn.url)),v.onEvent(ma||jr())});return function(ur){return ui.apply(this,arguments)}}();void 0!==O&&"function"==typeof O.subscribe&&O.subscribe(null,St);const yn=J,En=`${ce.packageName.toLowerCase()}://`;Ol().handleOpenURL=function(){var ui=(0,E.Z)(function*(Jn){if(Jn.toLowerCase().startsWith(En)&&St({url:Jn}),"function"==typeof yn)try{yn(Jn)}catch(ur){console.error(ur)}});return function(Jn){return ui.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=T,this._completeRedirectFn=As}_initialize(m){var v=this;return(0,E.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,O,J){var ce=this;return(0,E.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openPopup(m,v,O,J)})()}_openRedirect(m,v,O,J){var ce=this;return(0,E.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openRedirect(m,v,O,J)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _h(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,E.Z)(function*(){if(m.underlyingResolver)return;const v=yield function xo(){return Fl.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function Tc(C){return C.unwrap()}function ru(C){return Ru(C)}function Ru(C){const{_tokenResponse:m}=C instanceof ue.ZR?C.customData:C;if(!m)return null;if(!(C instanceof ue.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Ao.credentialFromResult(C);const v=m.providerId;if(!v||"password"===v)return null;let O;switch(v){case"google.com":O=Zs;break;case"facebook.com":O=ro;break;case"github.com":O=Fo;break;case"twitter.com":O=so;break;default:const{oauthIdToken:J,oauthAccessToken:ce,oauthTokenSecret:et,pendingToken:St,nonce:yn}=m;return ce||et||J||St?St?v.startsWith("saml.")?Os._create(v,St):We._fromParams({providerId:v,signInMethod:v,pendingToken:St,idToken:J,accessToken:ce}):new ks(v).credential({idToken:J,accessToken:ce,rawNonce:yn}):null}return C instanceof ue.ZR?O.credentialFromError(C):O.credentialFromResult(C)}function bo(C,m){return m.catch(v=>{throw v instanceof ue.ZR&&function Ja(C,m){var v;const O=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new $d(C,function la(C,m){var v;const O=(0,ue.m9)(C),J=m;return xe(m.customData.operationType,O,"argument-error"),xe(null===(v=J.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,O,"argument-error"),zo._fromError(O,J)}(C,m));else if(O){const J=Ru(m),ce=m;J&&(ce.credential=J,ce.tenantId=O.tenantId||void 0,ce.email=O.email||void 0,ce.phoneNumber=O.phoneNumber||void 0)}}(C,v),v}).then(v=>{const J=v.user;return{operationType:v.operationType,credential:ru(v),additionalUserInfo:fs(v),user:na.getOrCreate(J)}})}function su(C,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,E.Z)(function*(C,m){const v=yield m;return{verificationId:v.verificationId,confirm:O=>bo(C,v.confirm(O))}})).apply(this,arguments)}class $d{constructor(m,v){this.resolver=v,this.auth=function ud(C){return C.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return bo(Tc(this.auth),this.resolver.resolveSignIn(m))}}class na{constructor(m){this._delegate=m,this.multiFactor=function Io(C){const m=(0,ue.m9)(C);return Ps.has(m)||Ps.set(m,yo._fromUser(m)),Ps.get(m)}(m)}static getOrCreate(m){return na.USER_MAP.has(m)||na.USER_MAP.set(m,new na(m)),na.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,E.Z)(function*(){return bo(v.auth,Si(v._delegate,m))})()}linkWithPhoneNumber(m,v){var O=this;return(0,E.Z)(function*(){return su(O.auth,function os(C,m,v){return Go.apply(this,arguments)}(O._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,E.Z)(function*(){return bo(v.auth,function yu(C,m,v){return ll.apply(this,arguments)}(v._delegate,m,qr))})()}linkWithRedirect(m){var v=this;return(0,E.Z)(function*(){return yield ec(Nt(v.auth)),function Hn(C,m,v){return function bi(C,m,v){return di.apply(this,arguments)}(C,m,v)}(v._delegate,m,qr)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,E.Z)(function*(){return bo(v.auth,fi(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return su(this.auth,function fc(C,m,v){return ql.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return bo(this.auth,function ka(C,m,v){return Rs.apply(this,arguments)}(this._delegate,m,qr))}reauthenticateWithRedirect(m){var v=this;return(0,E.Z)(function*(){return yield ec(Nt(v.auth)),function pt(C,m,v){return function Xt(C,m,v){return On.apply(this,arguments)}(C,m,v)}(v._delegate,m,qr)})()}sendEmailVerification(m){return function Lr(C,m){return Zo.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,E.Z)(function*(){return yield function Lo(C,m){return Xs.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function ja(C,m){return va((0,ue.m9)(C),m,null)}(this._delegate,m)}updatePassword(m){return function aa(C,m){return va((0,ue.m9)(C),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Ea(C,m){return lo.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Vs(C,m){return oa.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function Vr(C,m,v){return Yo.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}na.USER_MAP=new WeakMap;const ia=xe;let Va=(()=>{class C{constructor(v,O){if(this.app=v,O.isInitialized())return this._delegate=O.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:J}=v.options;ia(J,"invalid-api-key",{appName:v.name}),ia(J,"invalid-api-key",{appName:v.name});const ce="undefined"!=typeof window?qr:void 0;this._delegate=O.initialize({options:{persistence:Sc(J,v.name),popupRedirectResolver:ce}}),this._delegate._updateErrorMap(it),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?na.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,O){!function wi(C,m,v){const O=Nt(C);xe(O._canInitEmulator,O,"emulator-config-failed"),xe(/^https?:\/\//.test(m),O,"invalid-emulator-scheme");const J=!!(null==v?void 0:v.disableWarnings),ce=or(m),{host:et,port:St}=function ls(C){const m=or(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(m.length));if(!v)return{host:"",port:null};const O=v[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(O);if(J){const ce=J[1];return{host:ce,port:Gi(O.substr(ce.length+1))}}{const[ce,et]=O.split(":");return{host:ce,port:Gi(et)}}}(m);O.config.emulator={url:`${ce}//${et}${null===St?"":`:${St}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:et,port:St,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function Yr(){function C(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,v,O)}applyActionCode(v){return function U(C,m){return Q.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return rt(this._delegate,v)}confirmPasswordReset(v,O){return function q(C,m,v){return $.apply(this,arguments)}(this._delegate,v,O)}createUserWithEmailAndPassword(v,O){var J=this;return(0,E.Z)(function*(){return bo(J._delegate,function cs(C,m,v){return rs.apply(this,arguments)}(J._delegate,v,O))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function xa(C,m){return Ts.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function il(C,m){const v=wr.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,E.Z)(function*(){ia(kl(),v._delegate,"operation-not-supported-in-this-environment");const O=yield function gi(C,m){return to.apply(this,arguments)}(v._delegate,qr);return O?bo(v._delegate,Promise.resolve(O)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Hd(C,m){Nt(C)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,O,J){const{next:ce,error:et,complete:St}=Nu(v,O,J);return this._delegate.onAuthStateChanged(ce,et,St)}onIdTokenChanged(v,O,J){const{next:ce,error:et,complete:St}=Nu(v,O,J);return this._delegate.onIdTokenChanged(ce,et,St)}sendSignInLinkToEmail(v,O){return function Do(C,m,v){return Ko.apply(this,arguments)}(this._delegate,v,O)}sendPasswordResetEmail(v,O){return function Vo(C,m,v){return ao.apply(this,arguments)}(this._delegate,v,O||void 0)}setPersistence(v){var O=this;return(0,E.Z)(function*(){let J;switch(function yh(C,m){Mu(Object.values(ga).includes(m),C,"invalid-persistence-type"),(0,ue.b$)()?Mu(m!==ga.SESSION,C,"unsupported-persistence-type"):(0,ue.UG)()?Mu(m===ga.NONE,C,"unsupported-persistence-type"):gl()?Mu(m===ga.NONE||m===ga.LOCAL&&(0,ue.hl)(),C,"unsupported-persistence-type"):Mu(m===ga.NONE||co(),C,"unsupported-persistence-type")}(O._delegate,v),v){case ga.SESSION:J=T;break;case ga.LOCAL:J=(yield Ze(gn)._isAvailable())?gn:W;break;case ga.NONE:J=He;break;default:return at("argument-error",{appName:O._delegate.name})}return O._delegate.setPersistence(J)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return bo(this._delegate,function mo(C){return yr.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return bo(this._delegate,Jt(this._delegate,v))}signInWithCustomToken(v){return bo(this._delegate,function bs(C,m){return Cr.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,O){return bo(this._delegate,function wo(C,m,v){return Jt((0,ue.m9)(C),vs.credential(m,v))}(this._delegate,v,O))}signInWithEmailLink(v,O){return bo(this._delegate,function qo(C,m,v){return Es.apply(this,arguments)}(this._delegate,v,O))}signInWithPhoneNumber(v,O){return su(this._delegate,function Nd(C,m,v){return br.apply(this,arguments)}(this._delegate,v,O))}signInWithPopup(v){var O=this;return(0,E.Z)(function*(){return ia(kl(),O._delegate,"operation-not-supported-in-this-environment"),bo(O._delegate,function ol(C,m,v){return al.apply(this,arguments)}(O._delegate,v,qr))})()}signInWithRedirect(v){var O=this;return(0,E.Z)(function*(){return ia(kl(),O._delegate,"operation-not-supported-in-this-environment"),yield ec(O._delegate),function re(C,m,v){return function De(C,m,v){return nt.apply(this,arguments)}(C,m,v)}(O._delegate,v,qr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function zn(C,m){return vr.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=ga,C})();function Nu(C,m,v){let O=C;"function"!=typeof C&&({next:O,error:m,complete:v}=C);const J=O;return{next:et=>J(et&&na.getOrCreate(et)),error:m,complete:v}}function Sc(C,m){const v=function Pu(C,m){const v=Ic();if(!v)return[];const O=_t(Ou,C,m);switch(v.getItem(O)){case ga.NONE:return[He];case ga.LOCAL:return[gn,T];case ga.SESSION:return[T];default:return[]}}(C,m);if("undefined"!=typeof self&&!v.includes(gn)&&v.push(gn),"undefined"!=typeof window)for(const O of[W,T])v.includes(O)||v.push(O);return v.includes(He)||v.push(He),v}class cd{constructor(){this.providerId="phone",this._delegate=new Ao(Tc(H.Z.auth()))}static credential(m,v){return Ao.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}cd.PHONE_SIGN_IN_METHOD=Ao.PHONE_SIGN_IN_METHOD,cd.PROVIDER_ID=Ao.PROVIDER_ID;const zd=xe;class Gd{constructor(m,v,O=H.Z.app()){var J;zd(null===(J=O.options)||void 0===J?void 0:J.apiKey,"invalid-api-key",{appName:O.name}),this._delegate=new Il(m,v,O.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wd(C){C.INTERNAL.registerComponent(new Je.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),O=m.getProvider("auth");return new Va(v,O)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vs,FacebookAuthProvider:ro,GithubAuthProvider:Fo,GoogleAuthProvider:Zs,OAuthProvider:ks,SAMLAuthProvider:is,PhoneAuthProvider:cd,PhoneMultiFactorGenerator:Vd,RecaptchaVerifier:Gd,TwitterAuthProvider:so,Auth:Va,AuthCredential:Ai,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.2.12")}(H.Z)},1135:(sn,st,K)=>{K.d(st,{X:()=>H});var E=K(7579);class H extends E.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const Ee=super._subscribe(be);return!Ee.closed&&be.next(this._value),Ee}getValue(){const{hasError:be,thrownError:Ee,_value:ke}=this;if(be)throw Ee;return this._throwIfClosed(),ke}next(be){super.next(this._value=be)}}},8306:(sn,st,K)=>{K.d(st,{y:()=>ge});var E=K(930),H=K(727),ue=K(8822),be=K(4671);var Je=K(2416),Ye=K(576),tt=K(2806);let ge=(()=>{class ht{constructor(Ht){Ht&&(this._subscribe=Ht)}lift(Ht){const yt=new ht;return yt.source=this,yt.operator=Ht,yt}subscribe(Ht,yt,ft){const Fe=function xt(ht){return ht&&ht instanceof E.Lv||function Oe(ht){return ht&&(0,Ye.m)(ht.next)&&(0,Ye.m)(ht.error)&&(0,Ye.m)(ht.complete)}(ht)&&(0,H.Nn)(ht)}(Ht)?Ht:new E.Hp(Ht,yt,ft);return(0,tt.x)(()=>{const{operator:qt,source:at}=this;Fe.add(qt?qt.call(Fe,at):at?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Ht){try{return this._subscribe(Ht)}catch(yt){Ht.error(yt)}}forEach(Ht,yt){return new(yt=pe(yt))((ft,Fe)=>{const qt=new E.Hp({next:at=>{try{Ht(at)}catch(_e){Fe(_e),qt.unsubscribe()}},error:Fe,complete:ft});this.subscribe(qt)})}_subscribe(Ht){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(Ht)}[ue.L](){return this}pipe(...Ht){return function ke(ht){return 0===ht.length?be.y:1===ht.length?ht[0]:function(Ht){return ht.reduce((yt,ft)=>ft(yt),Ht)}}(Ht)(this)}toPromise(Ht){return new(Ht=pe(Ht))((yt,ft)=>{let Fe;this.subscribe(qt=>Fe=qt,qt=>ft(qt),()=>yt(Fe))})}}return ht.create=it=>new ht(it),ht})();function pe(ht){var it;return null!==(it=null!=ht?ht:Je.v.Promise)&&void 0!==it?it:Promise}},7579:(sn,st,K)=>{K.d(st,{x:()=>Je});var E=K(8306),H=K(727);const be=(0,K(3888).d)(tt=>function(){tt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=K(8737),ke=K(2806);let Je=(()=>{class tt extends E.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Oe=new Ye(this,this);return Oe.operator=pe,Oe}_throwIfClosed(){if(this.closed)throw new be}next(pe){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(pe)}})}error(pe){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(pe)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Oe,isStopped:xt,observers:ht}=this;return Oe||xt?H.Lc:(this.currentObservers=null,ht.push(pe),new H.w0(()=>{this.currentObservers=null,(0,Ee.P)(ht,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Oe,thrownError:xt,isStopped:ht}=this;Oe?pe.error(xt):ht&&pe.complete()}asObservable(){const pe=new E.y;return pe.source=this,pe}}return tt.create=(ge,pe)=>new Ye(ge,pe),tt})();class Ye extends Je{constructor(ge,pe){super(),this.destination=ge,this.source=pe}next(ge){var pe,Oe;null===(Oe=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Oe||Oe.call(pe,ge)}error(ge){var pe,Oe;null===(Oe=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Oe||Oe.call(pe,ge)}complete(){var ge,pe;null===(pe=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===pe||pe.call(ge)}_subscribe(ge){var pe,Oe;return null!==(Oe=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(ge))&&void 0!==Oe?Oe:H.Lc}}},930:(sn,st,K)=>{K.d(st,{Hp:()=>Ht,Lv:()=>Oe});var E=K(576),H=K(727),ue=K(2416),be=K(7849),Ee=K(5032);const ke=tt("C",void 0,void 0);function tt(at,_e,qe){return{kind:at,value:_e,error:qe}}var ge=K(3410),pe=K(2806);class Oe extends H.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,H.Nn)(_e)&&_e.add(this)):this.destination=qt}static create(_e,qe,Ot){return new Ht(_e,qe,Ot)}next(_e){this.isStopped?Fe(function Ye(at){return tt("N",at,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Fe(function Je(at){return tt("E",void 0,at)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Fe(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xt=Function.prototype.bind;function ht(at,_e){return xt.call(at,_e)}class it{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:qe}=this;if(qe.next)try{qe.next(_e)}catch(Ot){yt(Ot)}}error(_e){const{partialObserver:qe}=this;if(qe.error)try{qe.error(_e)}catch(Ot){yt(Ot)}else yt(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(qe){yt(qe)}}}class Ht extends Oe{constructor(_e,qe,Ot){let kt;if(super(),(0,E.m)(_e)||!_e)kt={next:null!=_e?_e:void 0,error:null!=qe?qe:void 0,complete:null!=Ot?Ot:void 0};else{let xe;this&&ue.v.useDeprecatedNextContext?(xe=Object.create(_e),xe.unsubscribe=()=>this.unsubscribe(),kt={next:_e.next&&ht(_e.next,xe),error:_e.error&&ht(_e.error,xe),complete:_e.complete&&ht(_e.complete,xe)}):kt=_e}this.destination=new it(kt)}}function yt(at){ue.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(at):(0,be.h)(at)}function Fe(at,_e){const{onStoppedNotification:qe}=ue.v;qe&&ge.z.setTimeout(()=>qe(at,_e))}const qt={closed:!0,next:Ee.Z,error:function ft(at){throw at},complete:Ee.Z}},727:(sn,st,K)=>{K.d(st,{Lc:()=>ke,w0:()=>Ee,Nn:()=>Je});var E=K(576);const ue=(0,K(3888).d)(tt=>function(pe){tt(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Oe,xt)=>`${xt+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var be=K(8737);class Ee{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const ht of pe)ht.remove(this);else pe.remove(this);const{initialTeardown:Oe}=this;if((0,E.m)(Oe))try{Oe()}catch(ht){ge=ht instanceof ue?ht.errors:[ht]}const{_finalizers:xt}=this;if(xt){this._finalizers=null;for(const ht of xt)try{Ye(ht)}catch(it){ge=null!=ge?ge:[],it instanceof ue?ge=[...ge,...it.errors]:ge.push(it)}}if(ge)throw new ue(ge)}}add(ge){var pe;if(ge&&ge!==this)if(this.closed)Ye(ge);else{if(ge instanceof Ee){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(ge)}}_hasParent(ge){const{_parentage:pe}=this;return pe===ge||Array.isArray(pe)&&pe.includes(ge)}_addParent(ge){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(ge),pe):pe?[pe,ge]:ge}_removeParent(ge){const{_parentage:pe}=this;pe===ge?this._parentage=null:Array.isArray(pe)&&(0,be.P)(pe,ge)}remove(ge){const{_finalizers:pe}=this;pe&&(0,be.P)(pe,ge),ge instanceof Ee&&ge._removeParent(this)}}Ee.EMPTY=(()=>{const tt=new Ee;return tt.closed=!0,tt})();const ke=Ee.EMPTY;function Je(tt){return tt instanceof Ee||tt&&"closed"in tt&&(0,E.m)(tt.remove)&&(0,E.m)(tt.add)&&(0,E.m)(tt.unsubscribe)}function Ye(tt){(0,E.m)(tt)?tt():tt.unsubscribe()}},2416:(sn,st,K)=>{K.d(st,{v:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(sn,st,K)=>{K.d(st,{z:()=>Ee});var E=K(8189),ue=K(7669),be=K(8996);function Ee(...ke){return function H(){return(0,E.J)(1)}()((0,be.D)(ke,(0,ue.yG)(ke)))}},515:(sn,st,K)=>{K.d(st,{E:()=>H});const H=new(K(8306).y)(Ee=>Ee.complete())},8996:(sn,st,K)=>{K.d(st,{D:()=>_e});var E=K(8421),H=K(5363),ue=K(9468),ke=K(8306),Ye=K(2202),tt=K(576),ge=K(9672);function Oe(qe,Ot){if(!qe)throw new Error("Iterable cannot be null");return new ke.y(kt=>{(0,ge.f)(kt,Ot,()=>{const xe=qe[Symbol.asyncIterator]();(0,ge.f)(kt,Ot,()=>{xe.next().then(Me=>{Me.done?kt.complete():kt.next(Me.value)})},0,!0)})})}var xt=K(3670),ht=K(8239),it=K(1144),Ht=K(6495),yt=K(2206),ft=K(4532),Fe=K(3260);function _e(qe,Ot){return Ot?function at(qe,Ot){if(null!=qe){if((0,xt.c)(qe))return function be(qe,Ot){return(0,E.Xf)(qe).pipe((0,ue.R)(Ot),(0,H.Q)(Ot))}(qe,Ot);if((0,it.z)(qe))return function Je(qe,Ot){return new ke.y(kt=>{let xe=0;return Ot.schedule(function(){xe===qe.length?kt.complete():(kt.next(qe[xe++]),kt.closed||this.schedule())})})}(qe,Ot);if((0,ht.t)(qe))return function Ee(qe,Ot){return(0,E.Xf)(qe).pipe((0,ue.R)(Ot),(0,H.Q)(Ot))}(qe,Ot);if((0,yt.D)(qe))return Oe(qe,Ot);if((0,Ht.T)(qe))return function pe(qe,Ot){return new ke.y(kt=>{let xe;return(0,ge.f)(kt,Ot,()=>{xe=qe[Ye.h](),(0,ge.f)(kt,Ot,()=>{let Me,Pe;try{({value:Me,done:Pe}=xe.next())}catch(Ae){return void kt.error(Ae)}Pe?kt.complete():kt.next(Me)},0,!0)}),()=>(0,tt.m)(null==xe?void 0:xe.return)&&xe.return()})}(qe,Ot);if((0,Fe.L)(qe))return function qt(qe,Ot){return Oe((0,Fe.Q)(qe),Ot)}(qe,Ot)}throw(0,ft.z)(qe)}(qe,Ot):(0,E.Xf)(qe)}},8421:(sn,st,K)=>{K.d(st,{Xf:()=>xt});var E=K(655),H=K(1144),ue=K(8239),be=K(8306),Ee=K(3670),ke=K(2206),Je=K(4532),Ye=K(6495),tt=K(3260),ge=K(576),pe=K(7849),Oe=K(8822);function xt(at){if(at instanceof be.y)return at;if(null!=at){if((0,Ee.c)(at))return function ht(at){return new be.y(_e=>{const qe=at[Oe.L]();if((0,ge.m)(qe.subscribe))return qe.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,H.z)(at))return function it(at){return new be.y(_e=>{for(let qe=0;qe<at.length&&!_e.closed;qe++)_e.next(at[qe]);_e.complete()})}(at);if((0,ue.t)(at))return function Ht(at){return new be.y(_e=>{at.then(qe=>{_e.closed||(_e.next(qe),_e.complete())},qe=>_e.error(qe)).then(null,pe.h)})}(at);if((0,ke.D)(at))return ft(at);if((0,Ye.T)(at))return function yt(at){return new be.y(_e=>{for(const qe of at)if(_e.next(qe),_e.closed)return;_e.complete()})}(at);if((0,tt.L)(at))return function Fe(at){return ft((0,tt.Q)(at))}(at)}throw(0,Je.z)(at)}function ft(at){return new be.y(_e=>{(function qt(at,_e){var qe,Ot,kt,xe;return(0,E.mG)(this,void 0,void 0,function*(){try{for(qe=(0,E.KL)(at);!(Ot=yield qe.next()).done;)if(_e.next(Ot.value),_e.closed)return}catch(Me){kt={error:Me}}finally{try{Ot&&!Ot.done&&(xe=qe.return)&&(yield xe.call(qe))}finally{if(kt)throw kt.error}}_e.complete()})})(at,_e).catch(qe=>_e.error(qe))})}},6451:(sn,st,K)=>{K.d(st,{T:()=>ke});var E=K(8189),H=K(8421),ue=K(515),be=K(7669),Ee=K(8996);function ke(...Je){const Ye=(0,be.yG)(Je),tt=(0,be._6)(Je,1/0),ge=Je;return ge.length?1===ge.length?(0,H.Xf)(ge[0]):(0,E.J)(tt)((0,Ee.D)(ge,Ye)):ue.E}},9646:(sn,st,K)=>{K.d(st,{of:()=>ue});var E=K(7669),H=K(8996);function ue(...be){const Ee=(0,E.yG)(be);return(0,H.D)(be,Ee)}},5403:(sn,st,K)=>{K.d(st,{x:()=>H});var E=K(930);function H(be,Ee,ke,Je,Ye){return new ue(be,Ee,ke,Je,Ye)}class ue extends E.Lv{constructor(Ee,ke,Je,Ye,tt,ge){super(Ee),this.onFinalize=tt,this.shouldUnsubscribe=ge,this._next=ke?function(pe){try{ke(pe)}catch(Oe){Ee.error(Oe)}}:super._next,this._error=Ye?function(pe){try{Ye(pe)}catch(Oe){Ee.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=Je?function(){try{Je()}catch(pe){Ee.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},6590:(sn,st,K)=>{K.d(st,{d:()=>ue});var E=K(4482),H=K(5403);function ue(be){return(0,E.e)((Ee,ke)=>{let Je=!1;Ee.subscribe((0,H.x)(ke,Ye=>{Je=!0,ke.next(Ye)},()=>{Je||ke.next(be),ke.complete()}))})}},1884:(sn,st,K)=>{K.d(st,{x:()=>be});var E=K(4671),H=K(4482),ue=K(5403);function be(ke,Je=E.y){return ke=null!=ke?ke:Ee,(0,H.e)((Ye,tt)=>{let ge,pe=!0;Ye.subscribe((0,ue.x)(tt,Oe=>{const xt=Je(Oe);(pe||!ke(ge,xt))&&(pe=!1,ge=xt,tt.next(Oe))}))})}function Ee(ke,Je){return ke===Je}},9300:(sn,st,K)=>{K.d(st,{h:()=>ue});var E=K(4482),H=K(5403);function ue(be,Ee){return(0,E.e)((ke,Je)=>{let Ye=0;ke.subscribe((0,H.x)(Je,tt=>be.call(Ee,tt,Ye++)&&Je.next(tt)))})}},590:(sn,st,K)=>{K.d(st,{P:()=>Je});var E=K(6805),H=K(9300),ue=K(5698),be=K(6590),Ee=K(8068),ke=K(4671);function Je(Ye,tt){const ge=arguments.length>=2;return pe=>pe.pipe(Ye?(0,H.h)((Oe,xt)=>Ye(Oe,xt,pe)):ke.y,(0,ue.q)(1),ge?(0,be.d)(tt):(0,Ee.T)(()=>new E.K))}},4004:(sn,st,K)=>{K.d(st,{U:()=>ue});var E=K(4482),H=K(5403);function ue(be,Ee){return(0,E.e)((ke,Je)=>{let Ye=0;ke.subscribe((0,H.x)(Je,tt=>{Je.next(be.call(Ee,tt,Ye++))}))})}},8189:(sn,st,K)=>{K.d(st,{J:()=>ue});var E=K(5577),H=K(4671);function ue(be=1/0){return(0,E.z)(H.y,be)}},5577:(sn,st,K)=>{K.d(st,{z:()=>Ye});var E=K(4004),H=K(8421),ue=K(4482),be=K(9672),Ee=K(5403),Je=K(576);function Ye(tt,ge,pe=1/0){return(0,Je.m)(ge)?Ye((Oe,xt)=>(0,E.U)((ht,it)=>ge(Oe,ht,xt,it))((0,H.Xf)(tt(Oe,xt))),pe):("number"==typeof ge&&(pe=ge),(0,ue.e)((Oe,xt)=>function ke(tt,ge,pe,Oe,xt,ht,it,Ht){const yt=[];let ft=0,Fe=0,qt=!1;const at=()=>{qt&&!yt.length&&!ft&&ge.complete()},_e=Ot=>ft<Oe?qe(Ot):yt.push(Ot),qe=Ot=>{ht&&ge.next(Ot),ft++;let kt=!1;(0,H.Xf)(pe(Ot,Fe++)).subscribe((0,Ee.x)(ge,xe=>{null==xt||xt(xe),ht?_e(xe):ge.next(xe)},()=>{kt=!0},void 0,()=>{if(kt)try{for(ft--;yt.length&&ft<Oe;){const xe=yt.shift();it?(0,be.f)(ge,it,()=>qe(xe)):qe(xe)}at()}catch(xe){ge.error(xe)}}))};return tt.subscribe((0,Ee.x)(ge,_e,()=>{qt=!0,at()})),()=>{null==Ht||Ht()}}(Oe,xt,tt,pe)))}},5363:(sn,st,K)=>{K.d(st,{Q:()=>be});var E=K(9672),H=K(4482),ue=K(5403);function be(Ee,ke=0){return(0,H.e)((Je,Ye)=>{Je.subscribe((0,ue.x)(Ye,tt=>(0,E.f)(Ye,Ee,()=>Ye.next(tt),ke),()=>(0,E.f)(Ye,Ee,()=>Ye.complete(),ke),tt=>(0,E.f)(Ye,Ee,()=>Ye.error(tt),ke)))})}},5026:(sn,st,K)=>{K.d(st,{R:()=>be});var E=K(4482),H=K(5403);function ue(Ee,ke,Je,Ye,tt){return(ge,pe)=>{let Oe=Je,xt=ke,ht=0;ge.subscribe((0,H.x)(pe,it=>{const Ht=ht++;xt=Oe?Ee(xt,it,Ht):(Oe=!0,it),Ye&&pe.next(xt)},tt&&(()=>{Oe&&pe.next(xt),pe.complete()})))}}function be(Ee,ke){return(0,E.e)(ue(Ee,ke,arguments.length>=2,!0))}},3099:(sn,st,K)=>{K.d(st,{B:()=>ke});var E=K(8996),H=K(5698),ue=K(7579),be=K(930),Ee=K(4482);function ke(Ye={}){const{connector:tt=(()=>new ue.x),resetOnError:ge=!0,resetOnComplete:pe=!0,resetOnRefCountZero:Oe=!0}=Ye;return xt=>{let ht=null,it=null,Ht=null,yt=0,ft=!1,Fe=!1;const qt=()=>{null==it||it.unsubscribe(),it=null},at=()=>{qt(),ht=Ht=null,ft=Fe=!1},_e=()=>{const qe=ht;at(),null==qe||qe.unsubscribe()};return(0,Ee.e)((qe,Ot)=>{yt++,!Fe&&!ft&&qt();const kt=Ht=null!=Ht?Ht:tt();Ot.add(()=>{yt--,0===yt&&!Fe&&!ft&&(it=Je(_e,Oe))}),kt.subscribe(Ot),ht||(ht=new be.Hp({next:xe=>kt.next(xe),error:xe=>{Fe=!0,qt(),it=Je(at,ge,xe),kt.error(xe)},complete:()=>{ft=!0,qt(),it=Je(at,pe),kt.complete()}}),(0,E.D)(qe).subscribe(ht))})(xt)}}function Je(Ye,tt,...ge){return!0===tt?(Ye(),null):!1===tt?null:tt(...ge).pipe((0,H.q)(1)).subscribe(()=>Ye())}},8675:(sn,st,K)=>{K.d(st,{O:()=>be});var E=K(7272),H=K(7669),ue=K(4482);function be(...Ee){const ke=(0,H.yG)(Ee);return(0,ue.e)((Je,Ye)=>{(ke?(0,E.z)(Ee,Je,ke):(0,E.z)(Ee,Je)).subscribe(Ye)})}},9468:(sn,st,K)=>{K.d(st,{R:()=>H});var E=K(4482);function H(ue,be=0){return(0,E.e)((Ee,ke)=>{ke.add(ue.schedule(()=>Ee.subscribe(ke),be))})}},3900:(sn,st,K)=>{K.d(st,{w:()=>be});var E=K(8421),H=K(4482),ue=K(5403);function be(Ee,ke){return(0,H.e)((Je,Ye)=>{let tt=null,ge=0,pe=!1;const Oe=()=>pe&&!tt&&Ye.complete();Je.subscribe((0,ue.x)(Ye,xt=>{null==tt||tt.unsubscribe();let ht=0;const it=ge++;(0,E.Xf)(Ee(xt,it)).subscribe(tt=(0,ue.x)(Ye,Ht=>Ye.next(ke?ke(xt,Ht,it,ht++):Ht),()=>{tt=null,Oe()}))},()=>{pe=!0,Oe()}))})}},5698:(sn,st,K)=>{K.d(st,{q:()=>be});var E=K(515),H=K(4482),ue=K(5403);function be(Ee){return Ee<=0?()=>E.E:(0,H.e)((ke,Je)=>{let Ye=0;ke.subscribe((0,ue.x)(Je,tt=>{++Ye<=Ee&&(Je.next(tt),Ee<=Ye&&Je.complete())}))})}},8505:(sn,st,K)=>{K.d(st,{b:()=>Ee});var E=K(576),H=K(4482),ue=K(5403),be=K(4671);function Ee(ke,Je,Ye){const tt=(0,E.m)(ke)||Je||Ye?{next:ke,error:Je,complete:Ye}:ke;return tt?(0,H.e)((ge,pe)=>{var Oe;null===(Oe=tt.subscribe)||void 0===Oe||Oe.call(tt);let xt=!0;ge.subscribe((0,ue.x)(pe,ht=>{var it;null===(it=tt.next)||void 0===it||it.call(tt,ht),pe.next(ht)},()=>{var ht;xt=!1,null===(ht=tt.complete)||void 0===ht||ht.call(tt),pe.complete()},ht=>{var it;xt=!1,null===(it=tt.error)||void 0===it||it.call(tt,ht),pe.error(ht)},()=>{var ht,it;xt&&(null===(ht=tt.unsubscribe)||void 0===ht||ht.call(tt)),null===(it=tt.finalize)||void 0===it||it.call(tt)}))}):be.y}},8068:(sn,st,K)=>{K.d(st,{T:()=>be});var E=K(6805),H=K(4482),ue=K(5403);function be(ke=Ee){return(0,H.e)((Je,Ye)=>{let tt=!1;Je.subscribe((0,ue.x)(Ye,ge=>{tt=!0,Ye.next(ge)},()=>tt?Ye.complete():Ye.error(ke())))})}function Ee(){return new E.K}},4408:(sn,st,K)=>{K.d(st,{o:()=>Ee});var E=K(727);class H extends E.w0{constructor(Je,Ye){super()}schedule(Je,Ye=0){return this}}const ue={setInterval(ke,Je,...Ye){const{delegate:tt}=ue;return(null==tt?void 0:tt.setInterval)?tt.setInterval(ke,Je,...Ye):setInterval(ke,Je,...Ye)},clearInterval(ke){const{delegate:Je}=ue;return((null==Je?void 0:Je.clearInterval)||clearInterval)(ke)},delegate:void 0};var be=K(8737);class Ee extends H{constructor(Je,Ye){super(Je,Ye),this.scheduler=Je,this.work=Ye,this.pending=!1}schedule(Je,Ye=0){if(this.closed)return this;this.state=Je;const tt=this.id,ge=this.scheduler;return null!=tt&&(this.id=this.recycleAsyncId(ge,tt,Ye)),this.pending=!0,this.delay=Ye,this.id=this.id||this.requestAsyncId(ge,this.id,Ye),this}requestAsyncId(Je,Ye,tt=0){return ue.setInterval(Je.flush.bind(Je,this),tt)}recycleAsyncId(Je,Ye,tt=0){if(null!=tt&&this.delay===tt&&!1===this.pending)return Ye;ue.clearInterval(Ye)}execute(Je,Ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const tt=this._execute(Je,Ye);if(tt)return tt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Je,Ye){let ge,tt=!1;try{this.work(Je)}catch(pe){tt=!0,ge=pe||new Error("Scheduled action threw falsy error")}if(tt)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:Je,scheduler:Ye}=this,{actions:tt}=Ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(tt,this),null!=Je&&(this.id=this.recycleAsyncId(Ye,Je,null)),this.delay=null,super.unsubscribe()}}}},7565:(sn,st,K)=>{K.d(st,{v:()=>ue});var E=K(6063);class H{constructor(Ee,ke=H.now){this.schedulerActionCtor=Ee,this.now=ke}schedule(Ee,ke=0,Je){return new this.schedulerActionCtor(this,Ee).schedule(Je,ke)}}H.now=E.l.now;class ue extends H{constructor(Ee,ke=H.now){super(Ee,ke),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ee){const{actions:ke}=this;if(this._active)return void ke.push(Ee);let Je;this._active=!0;do{if(Je=Ee.execute(Ee.state,Ee.delay))break}while(Ee=ke.shift());if(this._active=!1,Je){for(;Ee=ke.shift();)Ee.unsubscribe();throw Je}}}},4986:(sn,st,K)=>{K.d(st,{z:()=>ue});var E=K(4408);const ue=new(K(7565).v)(E.o)},6063:(sn,st,K)=>{K.d(st,{l:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},3410:(sn,st,K)=>{K.d(st,{z:()=>E});const E={setTimeout(H,ue,...be){const{delegate:Ee}=E;return(null==Ee?void 0:Ee.setTimeout)?Ee.setTimeout(H,ue,...be):setTimeout(H,ue,...be)},clearTimeout(H){const{delegate:ue}=E;return((null==ue?void 0:ue.clearTimeout)||clearTimeout)(H)},delegate:void 0}},2202:(sn,st,K)=>{K.d(st,{h:()=>H});const H=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(sn,st,K)=>{K.d(st,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(sn,st,K)=>{K.d(st,{K:()=>H});const H=(0,K(3888).d)(ue=>function(){ue(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(sn,st,K)=>{K.d(st,{_6:()=>ke,jO:()=>be,yG:()=>Ee});var E=K(576);function ue(Je){return Je[Je.length-1]}function be(Je){return(0,E.m)(ue(Je))?Je.pop():void 0}function Ee(Je){return function H(Je){return Je&&(0,E.m)(Je.schedule)}(ue(Je))?Je.pop():void 0}function ke(Je,Ye){return"number"==typeof ue(Je)?Je.pop():Ye}},4742:(sn,st,K)=>{K.d(st,{D:()=>Ee});const{isArray:E}=Array,{getPrototypeOf:H,prototype:ue,keys:be}=Object;function Ee(Je){if(1===Je.length){const Ye=Je[0];if(E(Ye))return{args:Ye,keys:null};if(function ke(Je){return Je&&"object"==typeof Je&&H(Je)===ue}(Ye)){const tt=be(Ye);return{args:tt.map(ge=>Ye[ge]),keys:tt}}}return{args:Je,keys:null}}},8737:(sn,st,K)=>{function E(H,ue){if(H){const be=H.indexOf(ue);0<=be&&H.splice(be,1)}}K.d(st,{P:()=>E})},3888:(sn,st,K)=>{function E(H){const be=H(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}K.d(st,{d:()=>E})},1810:(sn,st,K)=>{function E(H,ue){return H.reduce((be,Ee,ke)=>(be[Ee]=ue[ke],be),{})}K.d(st,{n:()=>E})},2806:(sn,st,K)=>{K.d(st,{O:()=>be,x:()=>ue});var E=K(2416);let H=null;function ue(Ee){if(E.v.useDeprecatedSynchronousErrorHandling){const ke=!H;if(ke&&(H={errorThrown:!1,error:null}),Ee(),ke){const{errorThrown:Je,error:Ye}=H;if(H=null,Je)throw Ye}}else Ee()}function be(Ee){E.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=Ee)}},9672:(sn,st,K)=>{function E(H,ue,be,Ee=0,ke=!1){const Je=ue.schedule(function(){be(),ke?H.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(H.add(Je),!ke)return Je}K.d(st,{f:()=>E})},4671:(sn,st,K)=>{function E(H){return H}K.d(st,{y:()=>E})},1144:(sn,st,K)=>{K.d(st,{z:()=>E});const E=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(sn,st,K)=>{K.d(st,{D:()=>H});var E=K(576);function H(ue){return Symbol.asyncIterator&&(0,E.m)(null==ue?void 0:ue[Symbol.asyncIterator])}},576:(sn,st,K)=>{function E(H){return"function"==typeof H}K.d(st,{m:()=>E})},3670:(sn,st,K)=>{K.d(st,{c:()=>ue});var E=K(8822),H=K(576);function ue(be){return(0,H.m)(be[E.L])}},6495:(sn,st,K)=>{K.d(st,{T:()=>ue});var E=K(2202),H=K(576);function ue(be){return(0,H.m)(null==be?void 0:be[E.h])}},8239:(sn,st,K)=>{K.d(st,{t:()=>H});var E=K(576);function H(ue){return(0,E.m)(null==ue?void 0:ue.then)}},3260:(sn,st,K)=>{K.d(st,{L:()=>be,Q:()=>ue});var E=K(655),H=K(576);function ue(Ee){return(0,E.FC)(this,arguments,function*(){const Je=Ee.getReader();try{for(;;){const{value:Ye,done:tt}=yield(0,E.qq)(Je.read());if(tt)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(Ye)}}finally{Je.releaseLock()}})}function be(Ee){return(0,H.m)(null==Ee?void 0:Ee.getReader)}},4482:(sn,st,K)=>{K.d(st,{A:()=>H,e:()=>ue});var E=K(576);function H(be){return(0,E.m)(null==be?void 0:be.lift)}function ue(be){return Ee=>{if(H(Ee))return Ee.lift(function(ke){try{return be(ke,this)}catch(Je){this.error(Je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(sn,st,K)=>{K.d(st,{Z:()=>be});var E=K(4004);const{isArray:H}=Array;function be(Ee){return(0,E.U)(ke=>function ue(Ee,ke){return H(ke)?Ee(...ke):Ee(ke)}(Ee,ke))}},5032:(sn,st,K)=>{function E(){}K.d(st,{Z:()=>E})},7849:(sn,st,K)=>{K.d(st,{h:()=>ue});var E=K(2416),H=K(3410);function ue(be){H.z.setTimeout(()=>{const{onUnhandledError:Ee}=E.v;if(!Ee)throw be;Ee(be)})}},4532:(sn,st,K)=>{function E(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(st,{z:()=>E})},655:(sn,st,K)=>{function be(Me,Pe){var Ae={};for(var Ze in Me)Object.prototype.hasOwnProperty.call(Me,Ze)&&Pe.indexOf(Ze)<0&&(Ae[Ze]=Me[Ze]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var mt=0;for(Ze=Object.getOwnPropertySymbols(Me);mt<Ze.length;mt++)Pe.indexOf(Ze[mt])<0&&Object.prototype.propertyIsEnumerable.call(Me,Ze[mt])&&(Ae[Ze[mt]]=Me[Ze[mt]])}return Ae}function Ye(Me,Pe,Ae,Ze){return new(Ae||(Ae=Promise))(function(lt,vn){function pn(vt){try{en(Ze.next(vt))}catch(on){vn(on)}}function Bn(vt){try{en(Ze.throw(vt))}catch(on){vn(on)}}function en(vt){vt.done?lt(vt.value):function mt(lt){return lt instanceof Ae?lt:new Ae(function(vn){vn(lt)})}(vt.value).then(pn,Bn)}en((Ze=Ze.apply(Me,Pe||[])).next())})}function yt(Me){return this instanceof yt?(this.v=Me,this):new yt(Me)}function ft(Me,Pe,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,Ze=Ae.apply(Me,Pe||[]),lt=[];return mt={},vn("next"),vn("throw"),vn("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function vn(wn){Ze[wn]&&(mt[wn]=function(Dt){return new Promise(function(It,Ve){lt.push([wn,Dt,It,Ve])>1||pn(wn,Dt)})})}function pn(wn,Dt){try{!function Bn(wn){wn.value instanceof yt?Promise.resolve(wn.value.v).then(en,vt):on(lt[0][2],wn)}(Ze[wn](Dt))}catch(It){on(lt[0][3],It)}}function en(wn){pn("next",wn)}function vt(wn){pn("throw",wn)}function on(wn,Dt){wn(Dt),lt.shift(),lt.length&&pn(lt[0][0],lt[0][1])}}function qt(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,Pe=Me[Symbol.asyncIterator];return Pe?Pe.call(Me):(Me=function Oe(Me){var Pe="function"==typeof Symbol&&Symbol.iterator,Ae=Pe&&Me[Pe],Ze=0;if(Ae)return Ae.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&Ze>=Me.length&&(Me=void 0),{value:Me&&Me[Ze++],done:!Me}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),Ae={},Ze("next"),Ze("throw"),Ze("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Ze(lt){Ae[lt]=Me[lt]&&function(vn){return new Promise(function(pn,Bn){!function mt(lt,vn,pn,Bn){Promise.resolve(Bn).then(function(en){lt({value:en,done:pn})},vn)}(pn,Bn,(vn=Me[lt](vn)).done,vn.value)})}}}K.d(st,{FC:()=>ft,KL:()=>qt,_T:()=>be,mG:()=>Ye,qq:()=>yt})},1777:(sn,st,K)=>{K.d(st,{IO:()=>it,LC:()=>H,SB:()=>tt,X$:()=>be,ZE:()=>Fe,ZN:()=>ft,_j:()=>E,eR:()=>pe,jt:()=>Ee,k1:()=>qt,l3:()=>ue,oB:()=>Ye,ru:()=>ke,vP:()=>Je});class E{}class H{}const ue="*";function be(at,_e){return{type:7,name:at,definitions:_e,options:{}}}function Ee(at,_e=null){return{type:4,styles:_e,timings:at}}function ke(at,_e=null){return{type:3,steps:at,options:_e}}function Je(at,_e=null){return{type:2,steps:at,options:_e}}function Ye(at){return{type:6,styles:at,offset:null}}function tt(at,_e,qe){return{type:0,name:at,styles:_e,options:qe}}function pe(at,_e,qe=null){return{type:1,expr:at,animation:_e,options:qe}}function it(at,_e,qe=null){return{type:11,selector:at,animation:_e,options:qe}}function yt(at){Promise.resolve(null).then(at)}class ft{constructor(_e=0,qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._onStartFns.push(_e)}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const qe="start"==_e?this._onStartFns:this._onDoneFns;qe.forEach(Ot=>Ot()),qe.length=0}}class Fe{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let qe=0,Ot=0,kt=0;const xe=this.players.length;0==xe?yt(()=>this._onFinish()):this.players.forEach(Me=>{Me.onDone(()=>{++qe==xe&&this._onFinish()}),Me.onDestroy(()=>{++Ot==xe&&this._onDestroy()}),Me.onStart(()=>{++kt==xe&&this._onStart()})}),this.totalTime=this.players.reduce((Me,Pe)=>Math.max(Me,Pe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const qe=_e*this.totalTime;this.players.forEach(Ot=>{const kt=Ot.totalTime?Math.min(1,qe/Ot.totalTime):1;Ot.setPosition(kt)})}getPosition(){const _e=this.players.reduce((qe,Ot)=>null===qe||Ot.totalTime>qe.totalTime?Ot:qe,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const qe="start"==_e?this._onStartFns:this._onDoneFns;qe.forEach(Ot=>Ot()),qe.length=0}}const qt="!"},9808:(sn,st,K)=>{K.d(st,{Do:()=>at,EM:()=>Qs,HT:()=>Ee,JF:()=>Ti,K0:()=>Je,Mx:()=>Xr,NF:()=>Nr,O5:()=>Sr,PM:()=>kr,S$:()=>yt,V_:()=>ge,Ye:()=>_e,b0:()=>qt,bD:()=>Dr,ez:()=>Os,lw:()=>Ye,mr:()=>Fe,q:()=>ue,sg:()=>Bi,w_:()=>ke});var E=K(5e3);let H=null;function ue(){return H}function Ee(G){H||(H=G)}class ke{}const Je=new E.OlP("DocumentToken");let Ye=(()=>{class G{historyGo(z){throw new Error("Not implemented")}}return G.\u0275fac=function(z){return new(z||G)},G.\u0275prov=E.Yz7({token:G,factory:function(){return function tt(){return(0,E.LFG)(pe)}()},providedIn:"platform"}),G})();const ge=new E.OlP("Location Initialized");let pe=(()=>{class G extends Ye{constructor(z){super(),this._doc=z,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ue().getBaseHref(this._doc)}onPopState(z){const le=ue().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",z,!1),()=>le.removeEventListener("popstate",z)}onHashChange(z){const le=ue().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",z,!1),()=>le.removeEventListener("hashchange",z)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(z){this.location.pathname=z}pushState(z,le,Ce){Oe()?this._history.pushState(z,le,Ce):this.location.hash=Ce}replaceState(z,le,Ce){Oe()?this._history.replaceState(z,le,Ce):this.location.hash=Ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return G.\u0275fac=function(z){return new(z||G)(E.LFG(Je))},G.\u0275prov=E.Yz7({token:G,factory:function(){return function xt(){return new pe((0,E.LFG)(Je))}()},providedIn:"platform"}),G})();function Oe(){return!!window.history.pushState}function ht(G,se){if(0==G.length)return se;if(0==se.length)return G;let z=0;return G.endsWith("/")&&z++,se.startsWith("/")&&z++,2==z?G+se.substring(1):1==z?G+se:G+"/"+se}function it(G){const se=G.match(/#|\?|$/),z=se&&se.index||G.length;return G.slice(0,z-("/"===G[z-1]?1:0))+G.slice(z)}function Ht(G){return G&&"?"!==G[0]?"?"+G:G}let yt=(()=>{class G{historyGo(z){throw new Error("Not implemented")}}return G.\u0275fac=function(z){return new(z||G)},G.\u0275prov=E.Yz7({token:G,factory:function(){return function ft(G){const se=(0,E.LFG)(Je).location;return new qt((0,E.LFG)(Ye),se&&se.origin||"")}()},providedIn:"root"}),G})();const Fe=new E.OlP("appBaseHref");let qt=(()=>{class G extends yt{constructor(z,le){if(super(),this._platformLocation=z,this._removeListenerFns=[],null==le&&(le=this._platformLocation.getBaseHrefFromDOM()),null==le)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=le}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return ht(this._baseHref,z)}path(z=!1){const le=this._platformLocation.pathname+Ht(this._platformLocation.search),Ce=this._platformLocation.hash;return Ce&&z?`${le}${Ce}`:le}pushState(z,le,Ce,bt){const Ft=this.prepareExternalUrl(Ce+Ht(bt));this._platformLocation.pushState(z,le,Ft)}replaceState(z,le,Ce,bt){const Ft=this.prepareExternalUrl(Ce+Ht(bt));this._platformLocation.replaceState(z,le,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(z=0){var le,Ce;null===(Ce=(le=this._platformLocation).historyGo)||void 0===Ce||Ce.call(le,z)}}return G.\u0275fac=function(z){return new(z||G)(E.LFG(Ye),E.LFG(Fe,8))},G.\u0275prov=E.Yz7({token:G,factory:G.\u0275fac}),G})(),at=(()=>{class G extends yt{constructor(z,le){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(z){const le=ht(this._baseHref,z);return le.length>0?"#"+le:le}pushState(z,le,Ce,bt){let Ft=this.prepareExternalUrl(Ce+Ht(bt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.pushState(z,le,Ft)}replaceState(z,le,Ce,bt){let Ft=this.prepareExternalUrl(Ce+Ht(bt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.replaceState(z,le,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(z=0){var le,Ce;null===(Ce=(le=this._platformLocation).historyGo)||void 0===Ce||Ce.call(le,z)}}return G.\u0275fac=function(z){return new(z||G)(E.LFG(Ye),E.LFG(Fe,8))},G.\u0275prov=E.Yz7({token:G,factory:G.\u0275fac}),G})(),_e=(()=>{class G{constructor(z,le){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=z;const Ce=this._platformStrategy.getBaseHref();this._platformLocation=le,this._baseHref=it(kt(Ce)),this._platformStrategy.onPopState(bt=>{this._subject.emit({url:this.path(!0),pop:!0,state:bt.state,type:bt.type})})}path(z=!1){return this.normalize(this._platformStrategy.path(z))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(z,le=""){return this.path()==this.normalize(z+Ht(le))}normalize(z){return G.stripTrailingSlash(function Ot(G,se){return G&&se.startsWith(G)?se.substring(G.length):se}(this._baseHref,kt(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._platformStrategy.prepareExternalUrl(z)}go(z,le="",Ce=null){this._platformStrategy.pushState(Ce,"",z,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Ht(le)),Ce)}replaceState(z,le="",Ce=null){this._platformStrategy.replaceState(Ce,"",z,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Ht(le)),Ce)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(z=0){var le,Ce;null===(Ce=(le=this._platformStrategy).historyGo)||void 0===Ce||Ce.call(le,z)}onUrlChange(z){this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)}))}_notifyUrlChangeListeners(z="",le){this._urlChangeListeners.forEach(Ce=>Ce(z,le))}subscribe(z,le,Ce){return this._subject.subscribe({next:z,error:le,complete:Ce})}}return G.normalizeQueryParams=Ht,G.joinWithSlash=ht,G.stripTrailingSlash=it,G.\u0275fac=function(z){return new(z||G)(E.LFG(yt),E.LFG(Ye))},G.\u0275prov=E.Yz7({token:G,factory:function(){return function qe(){return new _e((0,E.LFG)(yt),(0,E.LFG)(Ye))}()},providedIn:"root"}),G})();function kt(G){return G.replace(/\/index.html$/,"")}function Xr(G,se){se=encodeURIComponent(se);for(const z of G.split(";")){const le=z.indexOf("="),[Ce,bt]=-1==le?[z,""]:[z.slice(0,le),z.slice(le+1)];if(Ce.trim()===se)return decodeURIComponent(bt)}return null}class Tr{constructor(se,z,le,Ce){this.$implicit=se,this.ngForOf=z,this.index=le,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class G{constructor(z,le,Ce){this._viewContainer=z,this._template=le,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const le=this._viewContainer;z.forEachOperation((Ce,bt,Ft)=>{if(null==Ce.previousIndex)le.createEmbeddedView(this._template,new Tr(Ce.item,this._ngForOf,-1,-1),null===Ft?void 0:Ft);else if(null==Ft)le.remove(null===bt?void 0:bt);else if(null!==bt){const Jt=le.get(bt);le.move(Jt,Ft),ir(Jt,Ce)}});for(let Ce=0,bt=le.length;Ce<bt;Ce++){const Jt=le.get(Ce).context;Jt.index=Ce,Jt.count=bt,Jt.ngForOf=this._ngForOf}z.forEachIdentityChange(Ce=>{ir(le.get(Ce.currentIndex),Ce)})}static ngTemplateContextGuard(z,le){return!0}}return G.\u0275fac=function(z){return new(z||G)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},G.\u0275dir=E.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),G})();function ir(G,se){G.context.$implicit=se.item}let Sr=(()=>{class G{constructor(z,le){this._viewContainer=z,this._context=new xi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){ri("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){ri("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,le){return!0}}return G.\u0275fac=function(z){return new(z||G)(E.Y36(E.s_b),E.Y36(E.Rgc))},G.\u0275dir=E.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),G})();class xi{constructor(){this.$implicit=null,this.ngIf=null}}function ri(G,se){if(se&&!se.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,E.AaK)(se)}'.`)}let Os=(()=>{class G{}return G.\u0275fac=function(z){return new(z||G)},G.\u0275mod=E.oAB({type:G}),G.\u0275inj=E.cJS({}),G})();const Dr="browser";function Nr(G){return G===Dr}function kr(G){return"server"===G}let Qs=(()=>{class G{}return G.\u0275prov=(0,E.Yz7)({token:G,providedIn:"root",factory:()=>new es((0,E.LFG)(Je),window)}),G})();class es{constructor(se,z){this.document=se,this.window=z,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const z=function Lo(G,se){const z=G.getElementById(se)||G.getElementsByName(se)[0];if(z)return z;if("function"==typeof G.createTreeWalker&&G.body&&(G.body.createShadowRoot||G.body.attachShadow)){const le=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let Ce=le.currentNode;for(;Ce;){const bt=Ce.shadowRoot;if(bt){const Ft=bt.getElementById(se)||bt.querySelector(`[name="${se}"]`);if(Ft)return Ft}Ce=le.nextNode()}}return null}(this.document,se);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const z=this.window.history;z&&z.scrollRestoration&&(z.scrollRestoration=se)}}scrollToElement(se){const z=se.getBoundingClientRect(),le=z.left+this.window.pageXOffset,Ce=z.top+this.window.pageYOffset,bt=this.offset();this.window.scrollTo(le-bt[0],Ce-bt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=Fr(this.window.history)||Fr(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function Fr(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class Ti{}},5e3:(sn,st,K)=>{K.d(st,{$8M:()=>pr,$Z:()=>Hs,AFp:()=>cb,ALo:()=>R0,AaK:()=>Ye,AsE:()=>Ig,BQk:()=>Gf,CHM:()=>Cn,CRH:()=>$0,CZH:()=>yv,CqO:()=>pg,DdM:()=>S0,EJc:()=>bw,EiD:()=>fa,EpF:()=>I_,F$t:()=>mg,F4k:()=>Ym,FYo:()=>_0,FiY:()=>Uo,G48:()=>$w,Gf:()=>j0,GfV:()=>v0,Gpc:()=>pe,Hsn:()=>Kh,JOm:()=>St,JVY:()=>id,Jf7:()=>Ac,L6k:()=>rd,LAX:()=>Ql,LFG:()=>Hn,LSH:()=>Xa,Lbi:()=>yw,NdJ:()=>hu,OlP:()=>Qi,Oqu:()=>Cg,PXZ:()=>kw,Q6J:()=>Km,QGY:()=>fg,Qsj:()=>pE,R0b:()=>dc,RDi:()=>Fr,Rgc:()=>Hg,SBq:()=>Vg,Sil:()=>ww,Suo:()=>H0,TTD:()=>ro,TgZ:()=>Gh,Tol:()=>ly,Udp:()=>Yf,VLi:()=>Pw,X6Q:()=>Hw,XFs:()=>dn,Xpm:()=>$n,Y36:()=>zh,YKP:()=>D0,YNc:()=>Lf,Yjl:()=>fe,Yz7:()=>It,ZZ4:()=>Mv,_Bn:()=>g0,_UZ:()=>hg,_Vd:()=>Fy,_c5:()=>sD,_uU:()=>cc,aQg:()=>Ov,c2e:()=>_w,cJS:()=>Xe,cg1:()=>Md,d8E:()=>Jf,dDg:()=>mb,deG:()=>Kl,dqk:()=>ti,eBb:()=>Vd,eFA:()=>_b,ekj:()=>Sd,evT:()=>Wd,g9A:()=>hb,h0i:()=>op,hGG:()=>oD,hij:()=>zu,iGM:()=>U0,ifc:()=>Qt,ip1:()=>ub,kL8:()=>Sa,lG2:()=>Se,lcZ:()=>N0,mCW:()=>eu,n5z:()=>ci,oAB:()=>Qe,oJD:()=>jr,oxw:()=>Qm,pB0:()=>La,q3G:()=>Xi,q4F:()=>b0,qLn:()=>bo,qOj:()=>Fh,qZA:()=>$f,qzn:()=>Yl,s9C:()=>yg,sBO:()=>zw,sIi:()=>Lh,s_b:()=>By,soG:()=>vv,tBr:()=>ws,tb:()=>fb,tp0:()=>Za,uIk:()=>kf,vHH:()=>it,vpe:()=>qc,wAp:()=>si,xp6:()=>sr,yhl:()=>Fa,ynx:()=>zf,z2F:()=>Cv,z3N:()=>Da,zSh:()=>Fp,zs3:()=>jl});var E=K(7579),H=K(727),ue=K(8306),be=K(6451),Ee=K(3099);function ke(n){for(let i in n)if(n[i]===ke)return i;throw Error("Could not find renamed property on target object.")}function Je(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function Ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function tt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ge=ke({__forward_ref__:ke});function pe(n){return n.__forward_ref__=pe,n.toString=function(){return Ye(this())},n}function Oe(n){return xt(n)?n():n}function xt(n){return"function"==typeof n&&n.hasOwnProperty(ge)&&n.__forward_ref__===pe}class it extends Error{constructor(i,s){super(function Ht(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function yt(n){return"string"==typeof n?n:null==n?"":String(n)}function ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():yt(n)}function _e(n,i){const s=i?` in ${i}`:"";throw new it(-201,`No provider for ${ft(n)} found${s}`)}function en(n,i){null==n&&function vt(n,i,s,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${s} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function It(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bt(n){return nn(n,Ri)||nn(n,zi)}function nn(n,i){return n.hasOwnProperty(i)?n[i]:null}function yi(n){return n&&(n.hasOwnProperty(An)||n.hasOwnProperty(Ei))?n[An]:null}const Ri=ke({\u0275prov:ke}),An=ke({\u0275inj:ke}),zi=ke({ngInjectableDef:ke}),Ei=ke({ngInjectorDef:ke});var dn=(()=>((dn=dn||{})[dn.Default=0]="Default",dn[dn.Host=1]="Host",dn[dn.Self=2]="Self",dn[dn.SkipSelf=4]="SkipSelf",dn[dn.Optional=8]="Optional",dn))();let Qn;function Zn(n){const i=Qn;return Qn=n,i}function Er(n,i,s){const d=Bt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&dn.Optional?null:void 0!==i?i:void _e(Ye(n),"Injector")}function oi(n){return{toString:n}.toString()}var Ji=(()=>((Ji=Ji||{})[Ji.OnPush=0]="OnPush",Ji[Ji.Default=1]="Default",Ji))(),Qt=(()=>{return(n=Qt||(Qt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Qt;var n})();const Dn="undefined"!=typeof globalThis&&globalThis,In="undefined"!=typeof window&&window,er="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ti=Dn||"undefined"!=typeof global&&global||In||er,hi={},bn=[],cr=ke({\u0275cmp:ke}),kn=ke({\u0275dir:ke}),hn=ke({\u0275pipe:ke}),Ct=ke({\u0275mod:ke}),un=ke({\u0275fac:ke}),ln=ke({__NG_ELEMENT_ID__:ke});let Gn=0;function $n(n){return oi(()=>{const s={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ji.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||bn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Qt.Emulated,id:"c",styles:n.styles||bn,_:null,setInput:null,schemas:n.schemas||null,tView:null},p=n.directives,b=n.features,S=n.pipes;return d.id+=Gn++,d.inputs=je(n.inputs,s),d.outputs=je(n.outputs),b&&b.forEach(R=>R(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(ve):null,d.pipeDefs=S?()=>("function"==typeof S?S():S).map(He):null,d})}function ve(n){return ze(n)||function At(n){return n[kn]||null}(n)}function He(n){return function zt(n){return n[hn]||null}(n)}const _t={};function Qe(n){return oi(()=>{const i={type:n.type,bootstrap:n.bootstrap||bn,declarations:n.declarations||bn,imports:n.imports||bn,exports:n.exports||bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(_t[n.id]=n.type),i})}function je(n,i){if(null==n)return hi;const s={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],b=p;Array.isArray(p)&&(b=p[1],p=p[0]),s[p]=d,i&&(i[p]=b)}return s}const Se=$n;function fe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ze(n){return n[cr]||null}function xn(n,i){const s=n[Ct]||null;if(!s&&!0===i)throw new Error(`Type ${Ye(n)} does not have '\u0275mod' property.`);return s}function Ar(n){return Array.isArray(n)&&"object"==typeof n[1]}function mr(n){return Array.isArray(n)&&!0===n[1]}function ms(n){return 0!=(8&n.flags)}function Cs(n){return 2==(2&n.flags)}function Jr(n){return 1==(1&n.flags)}function Gr(n){return null!==n.template}function po(n){return 0!=(512&n[2])}function Wr(n,i){return n.hasOwnProperty(un)?n[un]:null}class ks{constructor(i,s,d){this.previousValue=i,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function ro(){return Zs}function Zs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Fs),Fo}function Fo(){const n=Dr(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===hi)n.previous=i;else for(let d in i)s[d]=i[d];n.current=null,this.ngOnChanges(i)}}function Fs(n,i,s,d){const p=Dr(n)||function is(n,i){return n[Os]=i}(n,{previous:hi,current:null}),b=p.current||(p.current={}),S=p.previous,R=this.declaredInputs[s],V=S[R];b[R]=new ks(V&&V.currentValue,i,S===hi),n[d]=i}ro.ngInherit=!0;const Os="__ngSimpleChanges__";function Dr(n){return n[Os]||null}let es;function Fr(n){es=n}function Lo(){return void 0!==es?es:"undefined"!=typeof document?document:void 0}function Ti(n){return!!n.listen}const G={createRenderer:(n,i)=>Lo()};function z(n){for(;Array.isArray(n);)n=n[0];return n}function bt(n,i){return z(i[n])}function Ft(n,i){return z(i[n.index])}function _i(n,i){return n.data[i]}function ni(n,i){const s=i[n];return Ar(s)?s:s[0]}function fi(n){return 4==(4&n[2])}function _r(n){return 128==(128&n[2])}function Vi(n,i){return null==i?null:n[i]}function bs(n){n[18]=0}function Cr(n,i){n[5]+=i;let s=n,d=n[3];for(;null!==d&&(1===i&&1===s[5]||-1===i&&0===s[5]);)d[5]+=i,s=d,d=d[3]}const Mn={lFrame:Bs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function q(){return Mn.bindingsEnabled}function Q(){return Mn.lFrame.lView}function rt(){return Mn.lFrame.tView}function Cn(n){return Mn.lFrame.contextLView=n,n[8]}function zn(){let n=vr();for(;null!==n&&64===n.type;)n=n.parent;return n}function vr(){return Mn.lFrame.currentTNode}function rs(n,i){const s=Mn.lFrame;s.currentTNode=n,s.isParent=i}function wo(){return Mn.lFrame.isParent}function Do(){Mn.lFrame.isParent=!1}function qo(){return Mn.isInCheckNoChangesMode}function Es(n){Mn.isInCheckNoChangesMode=n}function ds(){const n=Mn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Ts(){return Mn.lFrame.bindingIndex++}function Lr(n){const i=Mn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Yo(n,i){const s=Mn.lFrame;s.bindingIndex=s.bindingRootIndex=n,sa(i)}function sa(n){Mn.lFrame.currentDirectiveIndex=n}function Vs(n){const i=Mn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function oa(){return Mn.lFrame.currentQueryIndex}function ja(n){Mn.lFrame.currentQueryIndex=n}function aa(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function va(n,i,s){if(s&dn.SkipSelf){let p=i,b=n;for(;!(p=p.parent,null!==p||s&dn.Host||(p=aa(b),null===p||(b=b[15],10&p.type))););if(null===p)return!1;i=p,n=b}const d=Mn.lFrame=Ma();return d.currentTNode=i,d.lView=n,!0}function hs(n){const i=Ma(),s=n[1];Mn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Ma(){const n=Mn.lFrame,i=null===n?null:n.child;return null===i?Bs(n):i}function Bs(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Ha(){const n=Mn.lFrame;return Mn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sl=Ha;function Qo(){const n=Ha();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fs(){return Mn.lFrame.selectedIndex}function $o(n){Mn.lFrame.selectedIndex=n}function ts(){const n=Mn.lFrame;return _i(n.tView,n.selectedIndex)}function Co(n,i){for(let s=i.directiveStart,d=i.directiveEnd;s<d;s++){const b=n.data[s].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:R,ngAfterViewInit:V,ngAfterViewChecked:te,ngOnDestroy:ae}=b;S&&(n.contentHooks||(n.contentHooks=[])).push(-s,S),R&&((n.contentHooks||(n.contentHooks=[])).push(s,R),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,R)),V&&(n.viewHooks||(n.viewHooks=[])).push(-s,V),te&&((n.viewHooks||(n.viewHooks=[])).push(s,te),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,te)),null!=ae&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ae)}}function zo(n,i,s){ss(n,i,3,s)}function la(n,i,s,d){(3&n[2])===s&&ss(n,i,s,d)}function ns(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function ss(n,i,s,d){const b=null!=d?d:-1,S=i.length-1;let R=0;for(let V=void 0!==d?65535&n[18]:0;V<S;V++)if("number"==typeof i[V+1]){if(R=i[V],null!=d&&R>=d)break}else i[V]<0&&(n[18]+=65536),(R<b||-1==b)&&(Wa(n,s,i,V),n[18]=(4294901760&n[18])+V+2),V++}function Wa(n,i,s,d){const p=s[d]<0,b=s[d+1],R=n[p?-s[d]:s[d]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{b.call(R)}finally{}}}else try{b.call(R)}finally{}}class Ps{constructor(i,s,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function D(n,i,s){const d=Ti(n);let p=0;for(;p<s.length;){const b=s[p];if("number"==typeof b){if(0!==b)break;p++;const S=s[p++],R=s[p++],V=s[p++];d?n.setAttribute(i,R,V,S):i.setAttributeNS(S,R,V)}else{const S=b,R=s[++p];B(S)?d&&n.setProperty(i,S,R):d?n.setAttribute(i,S,R):i.setAttribute(S,R),p++}}return p}function T(n){return 3===n||4===n||6===n}function B(n){return 64===n.charCodeAt(0)}function ie(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let d=0;d<i.length;d++){const p=i[d];"number"==typeof p?s=p:0===s||he(n,s,p,null,-1===s||2===s?i[++d]:null)}}return n}function he(n,i,s,d,p){let b=0,S=n.length;if(-1===i)S=-1;else for(;b<n.length;){const R=n[b++];if("number"==typeof R){if(R===i){S=-1;break}if(R>i){S=b-1;break}}}for(;b<n.length;){const R=n[b];if("number"==typeof R)break;if(R===s){if(null===d)return void(null!==p&&(n[b+1]=p));if(d===n[b+1])return void(n[b+2]=p)}b++,null!==d&&b++,null!==p&&b++}-1!==S&&(n.splice(S,0,i),b=S+1),n.splice(b++,0,s),null!==d&&n.splice(b++,0,d),null!==p&&n.splice(b++,0,p)}function Ne(n){return-1!==n}function Ie(n){return 32767&n}function Tt(n,i){let s=function ot(n){return n>>16}(n),d=i;for(;s>0;)d=d[15],s--;return d}let _n=!0;function Tn(n){const i=_n;return _n=n,i}let li=0;function Lt(n,i){const s=Br(n,i);if(-1!==s)return s;const d=i[1];d.firstCreatePass&&(n.injectorIndex=i.length,ai(d.data,n),ai(i,null),ai(d.blueprint,null));const p=hr(n,i),b=n.injectorIndex;if(Ne(p)){const S=Ie(p),R=Tt(p,i),V=R[1].data;for(let te=0;te<8;te++)i[b+te]=R[S+te]|V[S+te]}return i[b+8]=p,b}function ai(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Br(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function hr(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,d=null,p=i;for(;null!==p;){const b=p[1],S=b.type;if(d=2===S?b.declTNode:1===S?p[6]:null,null===d)return-1;if(s++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return-1}function P(n,i,s){!function Ui(n,i,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(ln)&&(d=s[ln]),null==d&&(d=s[ln]=li++);const p=255&d;i.data[n+(p>>5)]|=1<<p}(n,i,s)}function x(n,i,s){if(s&dn.Optional)return n;_e(i,"NodeInjector")}function k(n,i,s,d){if(s&dn.Optional&&void 0===d&&(d=null),0==(s&(dn.Self|dn.Host))){const p=n[9],b=Zn(void 0);try{return p?p.get(i,d,s&dn.Optional):Er(i,d,s&dn.Optional)}finally{Zn(b)}}return x(d,i,s)}function L(n,i,s,d=dn.Default,p){if(null!==n){const b=function vi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ln)?n[ln]:void 0;return"number"==typeof i?i>=0?255&i:me:i}(s);if("function"==typeof b){if(!va(i,n,d))return d&dn.Host?x(p,s,d):k(i,s,d,p);try{const S=b(d);if(null!=S||d&dn.Optional)return S;_e(s)}finally{sl()}}else if("number"==typeof b){let S=null,R=Br(n,i),V=-1,te=d&dn.Host?i[16][6]:null;for((-1===R||d&dn.SkipSelf)&&(V=-1===R?hr(n,i):i[R+8],-1!==V&&cn(d,!1)?(S=i[1],R=Ie(V),i=Tt(V,i)):R=-1);-1!==R;){const ae=i[1];if(Pt(b,R,ae.data)){const ye=Be(R,i,s,S,d,te);if(ye!==X)return ye}V=i[R+8],-1!==V&&cn(d,i[1].data[R+8]===te)&&Pt(b,R,i)?(S=ae,R=Ie(V),i=Tt(V,i)):R=-1}}}return k(i,s,d,p)}const X={};function me(){return new rn(zn(),Q())}function Be(n,i,s,d,p,b){const S=i[1],R=S.data[n+8],ae=Et(R,S,s,null==d?Cs(R)&&_n:d!=S&&0!=(3&R.type),p&dn.Host&&b===R);return null!==ae?gn(i,S,ae,R):X}function Et(n,i,s,d,p){const b=n.providerIndexes,S=i.data,R=1048575&b,V=n.directiveStart,ae=b>>20,$e=p?R+ae:n.directiveEnd;for(let ct=d?R:R+ae;ct<$e;ct++){const Vt=S[ct];if(ct<V&&s===Vt||ct>=V&&Vt.type===s)return ct}if(p){const ct=S[V];if(ct&&Gr(ct)&&ct.type===s)return V}return null}function gn(n,i,s,d){let p=n[s];const b=i.data;if(function Io(n){return n instanceof Ps}(p)){const S=p;S.resolving&&function Fe(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new it(-200,`Circular dependency in DI detected for ${n}${s}`)}(ft(b[s]));const R=Tn(S.canSeeViewProviders);S.resolving=!0;const V=S.injectImpl?Zn(S.injectImpl):null;va(n,d,dn.Default);try{p=n[s]=S.factory(void 0,b,n,d),i.firstCreatePass&&s>=d.directiveStart&&function Ra(n,i,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:b}=i.type.prototype;if(d){const S=Zs(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,S),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,S)}p&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,p),b&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,b),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,b))}(s,b[s],i)}finally{null!==V&&Zn(V),Tn(R),S.resolving=!1,sl()}}return p}function Pt(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function cn(n,i){return!(n&dn.Self||n&dn.Host&&i)}class rn{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,d){return L(this._tNode,this._lView,i,d,s)}}function ci(n){return oi(()=>{const i=n.prototype.constructor,s=i[un]||fr(i),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const b=p[un]||fr(p);if(b&&b!==s)return b;p=Object.getPrototypeOf(p)}return b=>new b})}function fr(n){return xt(n)?()=>{const i=fr(Oe(n));return i&&i()}:Wr(n)}function pr(n){return function M(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const b=s[p];if(T(b))break;if(0===b)p+=2;else if("number"==typeof b)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(b===i)return s[p+1];p+=2}}}return null}(zn(),n)}const ps="__parameters__";function Oi(n,i,s){return oi(()=>{const d=function Dl(n){return function(...s){if(n){const d=n(...s);for(const p in d)this[p]=d[p]}}}(i);function p(...b){if(this instanceof p)return d.apply(this,b),this;const S=new p(...b);return R.annotation=S,R;function R(V,te,ae){const ye=V.hasOwnProperty(ps)?V[ps]:Object.defineProperty(V,ps,{value:[]})[ps];for(;ye.length<=ae;)ye.push(null);return(ye[ae]=ye[ae]||[]).push(S),V}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class Qi{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=It({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kl=new Qi("AnalyzeForEntryComponents");function Us(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let d=n[s];Array.isArray(d)?(i===n&&(i=n.slice(0,s)),Us(d,i)):i!==n&&i.push(d)}return i}function Xo(n,i){n.forEach(s=>Array.isArray(s)?Xo(s,i):i(s))}function Ea(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function lo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Ao(n,i){const s=[];for(let d=0;d<n;d++)s.push(i);return s}function uo(n,i,s){let d=ol(n,i);return d>=0?n[1|d]=s:(d=~d,function Zl(n,i,s,d){let p=n.length;if(p==i)n.push(s,d);else if(1===p)n.push(d,n[0]),n[0]=s;else{for(p--,n.push(n[p-1],n[p]);p>i;)n[p]=n[p-2],p--;n[i]=s,n[i+1]=d}}(n,d,i,s)),d}function da(n,i){const s=ol(n,i);if(s>=0)return n[1|s]}function ol(n,i){return function ka(n,i,s){let d=0,p=n.length>>s;for(;p!==d;){const b=d+(p-d>>1),S=n[b<<s];if(i===S)return b<<s;S>i?p=b:d=b+1}return~(p<<s)}(n,i,1)}const wa={},Sl="__NG_DI_FLAG__",vu="ngTempTokenPath",Z=/\n/gm,De="__source",nt=ke({provide:String,useValue:ke});let pt;function Xt(n){const i=pt;return pt=n,i}function On(n,i=dn.Default){if(void 0===pt)throw new it(203,"");return null===pt?Er(n,void 0,i):pt.get(n,i&dn.Optional?null:void 0,i)}function Hn(n,i=dn.Default){return(function Xn(){return Qn}()||On)(Oe(n),i)}const di=Hn;function gi(n){const i=[];for(let s=0;s<n.length;s++){const d=Oe(n[s]);if(Array.isArray(d)){if(0===d.length)throw new it(900,"");let p,b=dn.Default;for(let S=0;S<d.length;S++){const R=d[S],V=As(R);"number"==typeof V?-1===V?p=R.token:b|=V:p=R}i.push(Hn(p,b))}else i.push(Hn(d))}return i}function to(n,i){return n[Sl]=i,n.prototype[Sl]=i,n}function As(n){return n[Sl]}const ws=to(Oi("Inject",n=>({token:n})),-1),Uo=to(Oi("Optional"),8),Za=to(Oi("SkipSelf"),4);let cl,Ya;function dl(n){var i;return(null===(i=function Iu(){if(void 0===cl&&(cl=null,ti.trustedTypes))try{cl=ti.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return cl}())||void 0===i?void 0:i.createHTML(n))||n}function mc(n){var i;return(null===(i=function ta(){if(void 0===Ya&&(Ya=null,ti.trustedTypes))try{Ya=ti.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ya}())||void 0===i?void 0:i.createHTML(n))||n}class fl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ed extends fl{getTypeName(){return"HTML"}}class Zu extends fl{getTypeName(){return"Style"}}class td extends fl{getTypeName(){return"Script"}}class Qa extends fl{getTypeName(){return"URL"}}class nd extends fl{getTypeName(){return"ResourceURL"}}function Da(n){return n instanceof fl?n.changingThisBreaksApplicationSecurity:n}function Yl(n,i){const s=Fa(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Fa(n){return n instanceof fl&&n.getTypeName()||null}function id(n){return new ed(n)}function rd(n){return new Zu(n)}function Vd(n){return new td(n)}function Ql(n){return new Qa(n)}function La(n){return new nd(n)}class Xl{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(dl(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Bd{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const d=this.inertDocument.createElement("body");s.appendChild(d)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=dl(i),s;const d=this.inertDocument.createElement("body");return d.innerHTML=dl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(i){const s=i.attributes;for(let p=s.length-1;0<p;p--){const S=s.item(p).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&i.removeAttribute(S)}let d=i.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ol=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function eu(n){return(n=String(n)).match(Ol)||n.match(Jl)?n:"unsafe:"+n}function Mr(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function Pl(...n){const i={};for(const s of n)for(const d in s)s.hasOwnProperty(d)&&(i[d]=!0);return i}const Yu=Mr("area,br,col,hr,img,wbr"),tu=Mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qu=Mr("rp,rt"),nu=Pl(Yu,Pl(tu,Mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pl(Qu,Mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pl(Qu,tu)),pl=Mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vc=Mr("srcset"),Nl=Pl(pl,vc,Mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xu=Mr("script,style,template");class bc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,d=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let p=this.checkClobberedElement(s,s.nextSibling);if(p){s=p;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!nu.hasOwnProperty(s))return this.sanitizedSomething=!0,!Xu.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=i.attributes;for(let p=0;p<d.length;p++){const b=d.item(p),S=b.name,R=S.toLowerCase();if(!Nl.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let V=b.value;pl[R]&&(V=eu(V)),vc[R]&&(n=V,V=(n=String(n)).split(",").map(i=>eu(i.trim())).join(", ")),this.buf.push(" ",S,'="',od(V),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();nu.hasOwnProperty(s)&&!Yu.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(od(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Ns=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rr=/([^\#-~ |!])/g;function od(n){return n.replace(/&/g,"&amp;").replace(Ns,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(rr,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Au;function fa(n,i){let s=null;try{Au=Au||function yc(n){const i=new Bd(n);return function Su(){try{return!!(new window.DOMParser).parseFromString(dl(""),"text/html")}catch(n){return!1}}()?new Xl(i):i}(n);let d=i?String(i):"";s=Au.getInertBodyElement(d);let p=5,b=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=b,b=s.innerHTML,s=Au.getInertBodyElement(d)}while(d!==b);return dl((new bc).sanitizeChildren(xs(s)||s))}finally{if(s){const d=xs(s)||s;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function xs(n){return"content"in n&&function Ec(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xi=(()=>((Xi=Xi||{})[Xi.NONE=0]="NONE",Xi[Xi.HTML=1]="HTML",Xi[Xi.STYLE=2]="STYLE",Xi[Xi.SCRIPT=3]="SCRIPT",Xi[Xi.URL=4]="URL",Xi[Xi.RESOURCE_URL=5]="RESOURCE_URL",Xi))();function jr(n){const i=Ju();return i?mc(i.sanitize(Xi.HTML,n)||""):Yl(n,"HTML")?mc(Da(n)):fa(Lo(),yt(n))}function Xa(n){const i=Ju();return i?i.sanitize(Xi.URL,n)||"":Yl(n,"URL")?Da(n):eu(yt(n))}function Ju(){const n=Q();return n&&n[12]}const iu="__ngContext__";function xo(n,i){n[iu]=i}function Dc(n){const i=function Fl(n){return n[iu]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function ru(n){return n.ngOriginalError}function Ru(n,...i){n.error(...i)}class bo{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),d=function Ja(n){return n&&n.ngErrorLogger||Ru}(i);d(this._console,"ERROR",i),s&&d(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&ru(i);for(;s&&ru(s);)s=ru(s);return s||null}}const Gd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ti))();function Ac(n){return n.ownerDocument.defaultView}function Wd(n){return n.ownerDocument}function v(n){return n instanceof Function?n():n}var St=(()=>((St=St||{})[St.Important=1]="Important",St[St.DashCase=2]="DashCase",St))();function En(n,i){return undefined(n,i)}function ur(n){const i=n[3];return mr(i)?i[3]:i}function Ll(n){return xc(n[13])}function au(n){return xc(n[4])}function xc(n){for(;null!==n&&!mr(n);)n=n[4];return n}function el(n,i,s,d,p){if(null!=d){let b,S=!1;mr(d)?b=d:Ar(d)&&(S=!0,d=d[0]);const R=z(d);0===n&&null!==s?null==p?tl(i,s,R):yl(i,s,R,p||null,!0):1===n&&null!==s?yl(i,s,R,p||null,!0):2===n?function c(n,i,s){const d=Vl(n,i);d&&function Pc(n,i,s,d){Ti(n)?n.removeChild(i,s,d):i.removeChild(s)}(n,d,i,s)}(i,R,S):3===n&&i.destroyNode(R),null!=b&&function A(n,i,s,d,p){const b=s[7];b!==z(s)&&el(i,n,d,b,p);for(let R=10;R<s.length;R++){const V=s[R];g(V[1],V,n,i,d,b)}}(i,n,b,s,p)}}function Oc(n,i,s){if(Ti(n))return n.createElement(i,s);{const d=null!==s?function Qs(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===d?n.createElement(i):n.createElementNS(d,i)}}function wh(n,i){const s=n[9],d=s.indexOf(i),p=i[3];1024&i[2]&&(i[2]&=-1025,Cr(p,-1)),s.splice(d,1)}function Kd(n,i){if(n.length<=10)return;const s=10+i,d=n[s];if(d){const p=d[17];null!==p&&p!==n&&wh(p,d),i>0&&(n[s-1][4]=d[4]);const b=lo(n,10+i);!function bh(n,i){g(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(d[1],d);const S=b[19];null!==S&&S.detachView(b[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function of(n,i){if(!(256&i[2])){const s=i[11];Ti(s)&&s.destroyNode&&g(n,i,s,3,null,null),function up(n){let i=n[13];if(!i)return Fu(n[1],n);for(;i;){let s=null;if(Ar(i))s=i[13];else{const d=i[10];d&&(s=d)}if(!s){for(;i&&!i[4]&&i!==n;)Ar(i)&&Fu(i[1],i),i=i[3];null===i&&(i=n),Ar(i)&&Fu(i[1],i),s=i&&i[4]}i=s}}(i)}}function Fu(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function ya(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let d=0;d<s.length;d+=2){const p=i[s[d]];if(!(p instanceof Ps)){const b=s[d+1];if(Array.isArray(b))for(let S=0;S<b.length;S+=2){const R=p[b[S]],V=b[S+1];try{V.call(R)}finally{}}else try{b.call(p)}finally{}}}}(n,i),function qd(n,i){const s=n.cleanup,d=i[7];let p=-1;if(null!==s)for(let b=0;b<s.length-1;b+=2)if("string"==typeof s[b]){const S=s[b+1],R="function"==typeof S?S(i):z(i[S]),V=d[p=s[b+2]],te=s[b+3];"boolean"==typeof te?R.removeEventListener(s[b],V,te):te>=0?d[p=te]():d[p=-te].unsubscribe(),b+=2}else{const S=d[p=s[b+1]];s[b].call(S)}if(null!==d){for(let b=p+1;b<d.length;b++)d[b]();i[7]=null}}(n,i),1===i[1].type&&Ti(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&mr(i[3])){s!==i[3]&&wh(s,i);const d=i[19];null!==d&&d.detachView(n)}}}function Dh(n,i,s){return function Mt(n,i,s){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return s[0];if(2&d.flags){const p=n.data[d.directiveStart].encapsulation;if(p===Qt.None||p===Qt.Emulated)return null}return Ft(d,s)}(n,i.parent,s)}function yl(n,i,s,d,p){Ti(n)?n.insertBefore(i,s,d,p):i.insertBefore(s,d,p)}function tl(n,i,s){Ti(n)?n.appendChild(i,s):i.appendChild(s)}function af(n,i,s,d,p){null!==d?yl(n,i,s,d,p):tl(n,i,s)}function Vl(n,i){return Ti(n)?n.parentNode(i):i.parentNode}function Bl(n,i,s){return Nc(n,i,s)}let Nc=function Rc(n,i,s){return 40&n.type?Ft(n,s):null};function kc(n,i,s,d){const p=Dh(n,d,i),b=i[11],R=Bl(d.parent||i[6],d,i);if(null!=p)if(Array.isArray(s))for(let V=0;V<s.length;V++)af(b,p,s[V],R,!1);else af(b,p,s,R,!1)}function u(n,i){if(null!==i){const s=i.type;if(3&s)return Ft(i,n);if(4&s)return a(-1,n[i.index]);if(8&s){const d=i.child;if(null!==d)return u(n,d);{const p=n[i.index];return mr(p)?a(-1,p):z(p)}}if(32&s)return En(i,n)()||z(n[i.index]);{const d=l(n,i);return null!==d?Array.isArray(d)?d[0]:u(ur(n[16]),d):u(n,i.next)}}return null}function l(n,i){return null!==i?n[16][6].projection[i.projection]:null}function a(n,i){const s=10+n+1;if(s<i.length){const d=i[s],p=d[1].firstChild;if(null!==p)return u(d,p)}return i[7]}function f(n,i,s,d,p,b,S){for(;null!=s;){const R=d[s.index],V=s.type;if(S&&0===i&&(R&&xo(z(R),d),s.flags|=4),64!=(64&s.flags))if(8&V)f(n,i,s.child,d,p,b,!1),el(i,n,p,R,b);else if(32&V){const te=En(s,d);let ae;for(;ae=te();)el(i,n,p,ae,b);el(i,n,p,R,b)}else 16&V?w(n,i,d,s,p,b):el(i,n,p,R,b);s=S?s.projectionNext:s.next}}function g(n,i,s,d,p,b){f(s,d,n.firstChild,i,p,b,!1)}function w(n,i,s,d,p,b){const S=s[16],V=S[6].projection[d.projection];if(Array.isArray(V))for(let te=0;te<V.length;te++)el(i,n,p,V[te],b);else f(n,i,V,S[3],p,b,!0)}function Y(n,i,s){Ti(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function ne(n,i,s){Ti(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function de(n,i,s){let d=n.length;for(;;){const p=n.indexOf(i,s);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const b=i.length;if(p+b===d||n.charCodeAt(p+b)<=32)return p}s=p+1}}const Ue="ng-template";function Ke(n,i,s){let d=0;for(;d<n.length;){let p=n[d++];if(s&&"class"===p){if(p=n[d],-1!==de(p.toLowerCase(),i,0))return!0}else if(1===p){for(;d<n.length&&"string"==typeof(p=n[d++]);)if(p.toLowerCase()===i)return!0;return!1}}return!1}function dt(n){return 4===n.type&&n.value!==Ue}function gt(n,i,s){return i===(4!==n.type||s?n.value:Ue)}function Ut(n,i,s){let d=4;const p=n.attrs||[],b=function Nn(n){for(let i=0;i<n.length;i++)if(T(n[i]))return i;return n.length}(p);let S=!1;for(let R=0;R<i.length;R++){const V=i[R];if("number"!=typeof V){if(!S)if(4&d){if(d=2|1&d,""!==V&&!gt(n,V,s)||""===V&&1===i.length){if(tn(d))return!1;S=!0}}else{const te=8&d?V:i[++R];if(8&d&&null!==n.attrs){if(!Ke(n.attrs,te,s)){if(tn(d))return!1;S=!0}continue}const ye=$t(8&d?"class":V,p,dt(n),s);if(-1===ye){if(tn(d))return!1;S=!0;continue}if(""!==te){let $e;$e=ye>b?"":p[ye+1].toLowerCase();const ct=8&d?$e:null;if(ct&&-1!==de(ct,te,0)||2&d&&te!==$e){if(tn(d))return!1;S=!0}}}}else{if(!S&&!tn(d)&&!tn(V))return!1;if(S&&tn(V))continue;S=!1,d=V|1&d}}return tn(d)||S}function tn(n){return 0==(1&n)}function $t(n,i,s,d){if(null===i)return-1;let p=0;if(d||!s){let b=!1;for(;p<i.length;){const S=i[p];if(S===n)return p;if(3===S||6===S)b=!0;else{if(1===S||2===S){let R=i[++p];for(;"string"==typeof R;)R=i[++p];continue}if(4===S)break;if(0===S){p+=4;continue}}p+=b?1:2}return-1}return function Yn(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const d=n[s];if("number"==typeof d)return-1;if(d===i)return s;s++}return-1}(i,n)}function jt(n,i,s=!1){for(let d=0;d<i.length;d++)if(Ut(n,i[d],s))return!0;return!1}function ii(n,i){e:for(let s=0;s<i.length;s++){const d=i[s];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function Ir(n,i){return n?":not("+i.trim()+")":i}function $i(n){let i=n[0],s=1,d=2,p="",b=!1;for(;s<n.length;){let S=n[s];if("string"==typeof S)if(2&d){const R=n[++s];p+="["+S+(R.length>0?'="'+R+'"':"")+"]"}else 8&d?p+="."+S:4&d&&(p+=" "+S);else""!==p&&!tn(S)&&(i+=Ir(b,p),p=""),d=S,b=b||!tn(d);s++}return""!==p&&(i+=Ir(b,p)),i}const ei={};function sr(n){Zr(rt(),Q(),fs()+n,qo())}function Zr(n,i,s,d){if(!d)if(3==(3&i[2])){const b=n.preOrderCheckHooks;null!==b&&zo(i,b,s)}else{const b=n.preOrderHooks;null!==b&&la(i,b,0,s)}$o(s)}function Ul(n,i){return n<<17|i<<2}function ra(n){return n>>17&32767}function bl(n){return 2|n}function Ca(n){return(131068&n)>>2}function jo(n,i){return-131069&n|i<<2}function Lu(n){return 1|n}function em(n,i){const s=n.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const p=s[d],b=s[d+1];if(-1!==b){const S=n.data[b];ja(p),S.contentQueries(2,i[b],b)}}}function md(n,i,s,d,p,b,S,R,V,te){const ae=i.blueprint.slice();return ae[0]=p,ae[2]=140|d,bs(ae),ae[3]=ae[15]=n,ae[8]=s,ae[10]=S||n&&n[10],ae[11]=R||n&&n[11],ae[12]=V||n&&n[12]||null,ae[9]=te||n&&n[9]||null,ae[6]=b,ae[16]=2==i.type?n[16]:ae,ae}function rc(n,i,s,d,p){let b=n.data[i];if(null===b)b=function pf(n,i,s,d,p){const b=vr(),S=wo(),V=n.data[i]=function e_(n,i,s,d,p,b){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?b:b&&b.parent,s,i,d,p);return null===n.firstChild&&(n.firstChild=V),null!==b&&(S?null==b.child&&null!==V.parent&&(b.child=V):null===b.next&&(b.next=V)),V}(n,i,s,d,p),function Zo(){return Mn.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=s,b.value=d,b.attrs=p;const S=function cs(){const n=Mn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();b.injectorIndex=null===S?-1:S.injectorIndex}return rs(b,!0),b}function yd(n,i,s,d){if(0===s)return-1;const p=i.length;for(let b=0;b<s;b++)i.push(d),n.blueprint.push(d),n.data.push(null);return p}function Jd(n,i,s){hs(i);try{const d=n.viewQuery;null!==d&&nh(1,d,s);const p=n.template;null!==p&&tm(n,i,p,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&em(n,i),n.staticViewQueries&&nh(2,n.viewQuery,s);const b=n.components;null!==b&&function Xd(n,i){for(let s=0;s<i.length;s++)xp(n,i[s])}(i,b)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[2]&=-5,Qo()}}function eh(n,i,s,d){const p=i[2];if(256==(256&p))return;hs(i);const b=qo();try{bs(i),function xa(n){return Mn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&tm(n,i,s,2,d);const S=3==(3&p);if(!b)if(S){const te=n.preOrderCheckHooks;null!==te&&zo(i,te,null)}else{const te=n.preOrderHooks;null!==te&&la(i,te,0,null),ns(i,0)}if(function Mh(n){for(let i=Ll(n);null!==i;i=au(i)){if(!i[2])continue;const s=i[9];for(let d=0;d<s.length;d++){const p=s[d],b=p[3];0==(1024&p[2])&&Cr(b,1),p[2]|=1024}}}(i),function wf(n){for(let i=Ll(n);null!==i;i=au(i))for(let s=10;s<i.length;s++){const d=i[s],p=d[1];_r(d)&&eh(p,d,p.template,d[8])}}(i),null!==n.contentQueries&&em(n,i),!b)if(S){const te=n.contentCheckHooks;null!==te&&zo(i,te)}else{const te=n.contentHooks;null!==te&&la(i,te,1),ns(i,1)}!function Jg(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const p=s[d];if(p<0)$o(~p);else{const b=p,S=s[++d],R=s[++d];Yo(S,b),R(2,i[b])}}}finally{$o(-1)}}(n,i);const R=n.components;null!==R&&function Qd(n,i){for(let s=0;s<i.length;s++)Ap(n,i[s])}(i,R);const V=n.viewQuery;if(null!==V&&nh(2,V,d),!b)if(S){const te=n.viewCheckHooks;null!==te&&zo(i,te)}else{const te=n.viewHooks;null!==te&&la(i,te,2),ns(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),b||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Cr(i[3],-1))}finally{Qo()}}function _p(n,i,s,d){const p=i[10],b=!qo(),S=fi(i);try{b&&!S&&p.begin&&p.begin(),S&&Jd(n,i,d),eh(n,i,s,d)}finally{b&&!S&&p.end&&p.end()}}function tm(n,i,s,d,p){const b=fs(),S=2&d;try{$o(-1),S&&i.length>20&&Zr(n,i,20,qo()),s(d,p)}finally{$o(b)}}function gf(n,i,s){if(ms(i)){const p=i.directiveEnd;for(let b=i.directiveStart;b<p;b++){const S=n.data[b];S.contentQueries&&S.contentQueries(1,s[b],b)}}}function vp(n,i,s){!q()||(function n_(n,i,s,d){const p=s.directiveStart,b=s.directiveEnd;n.firstCreatePass||Lt(s,i),xo(d,i);const S=s.initialInputs;for(let R=p;R<b;R++){const V=n.data[R],te=Gr(V);te&&r_(i,s,V);const ae=gn(i,n,R,s);xo(ae,i),null!==S&&Ah(0,R-p,ae,V,0,S),te&&(ni(s.index,i)[8]=ae)}}(n,i,s,Ft(s,i)),128==(128&s.flags)&&function i_(n,i,s){const d=s.directiveStart,p=s.directiveEnd,S=s.index,R=function rl(){return Mn.lFrame.currentDirectiveIndex}();try{$o(S);for(let V=d;V<p;V++){const te=n.data[V],ae=i[V];sa(V),(null!==te.hostBindings||0!==te.hostVars||null!==te.hostAttrs)&&Cp(te,ae)}}finally{$o(-1),sa(R)}}(n,i,s))}function bp(n,i,s=Ft){const d=i.localNames;if(null!==d){let p=i.index+1;for(let b=0;b<d.length;b+=2){const S=d[b+1],R=-1===S?s(i,n):n[S];n[p++]=R}}}function mf(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Oo(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Oo(n,i,s,d,p,b,S,R,V,te){const ae=20+d,ye=ae+p,$e=function Jy(n,i){const s=[];for(let d=0;d<i;d++)s.push(d<n?null:ei);return s}(ae,ye),ct="function"==typeof te?te():te;return $e[1]={type:n,blueprint:$e,template:s,queries:null,viewQuery:R,declTNode:i,data:$e.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:V,consts:ct,incompleteFirstPass:!1}}function rm(n,i,s,d){const p=_d(i);null===s?p.push(d):(p.push(s),n.firstCreatePass&&Tf(n).push(d,p.length-1))}function yf(n,i,s){for(let d in n)if(n.hasOwnProperty(d)){const p=n[d];(s=null===s?{}:s).hasOwnProperty(d)?s[d].push(i,p):s[d]=[i,p]}return s}function Ba(n,i,s,d,p,b,S,R){const V=Ft(i,s);let ae,te=i.inputs;!R&&null!=te&&(ae=te[d])?(Rp(n,s,ae,d,p),Cs(i)&&function _f(n,i){const s=ni(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(d=function om(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=S?S(p,i.value||"",d):p,Ti(b)?b.setProperty(V,d,p):B(d)||(V.setProperty?V.setProperty(d,p):V[d]=p))}function wp(n,i,s,d){let p=!1;if(q()){const b=function bf(n,i,s){const d=n.directiveRegistry;let p=null;if(d)for(let b=0;b<d.length;b++){const S=d[b];jt(s,S.selectors,!1)&&(p||(p=[]),P(Lt(s,i),n,S.type),Gr(S)?(th(n,s),p.unshift(S)):p.push(S))}return p}(n,i,s),S=null===d?null:{"":-1};if(null!==b){p=!0,dm(s,n.data.length,b.length);for(let ae=0;ae<b.length;ae++){const ye=b[ae];ye.providersResolver&&ye.providersResolver(ye)}let R=!1,V=!1,te=yd(n,i,b.length,null);for(let ae=0;ae<b.length;ae++){const ye=b[ae];s.mergedAttrs=ie(s.mergedAttrs,ye.hostAttrs),hm(n,s,i,te,ye),cm(te,ye,S),null!==ye.contentQueries&&(s.flags|=8),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(s.flags|=128);const $e=ye.type.prototype;!R&&($e.ngOnChanges||$e.ngOnInit||$e.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),R=!0),!V&&($e.ngOnChanges||$e.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),V=!0),te++}!function sm(n,i){const d=i.directiveEnd,p=n.data,b=i.attrs,S=[];let R=null,V=null;for(let te=i.directiveStart;te<d;te++){const ae=p[te],ye=ae.inputs,$e=null===b||dt(i)?null:Sp(ye,b);S.push($e),R=yf(ye,te,R),V=yf(ae.outputs,te,V)}null!==R&&(R.hasOwnProperty("class")&&(i.flags|=16),R.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=S,i.inputs=R,i.outputs=V}(n,s)}S&&function Ip(n,i,s){if(i){const d=n.localNames=[];for(let p=0;p<i.length;p+=2){const b=s[i[p+1]];if(null==b)throw new it(-301,!1);d.push(i[p],b)}}}(s,d,S)}return s.mergedAttrs=ie(s.mergedAttrs,s.attrs),p}function Dp(n,i,s,d,p,b){const S=b.hostBindings;if(S){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const V=~i.index;(function t_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(R)!=V&&R.push(V),R.push(d,p,S)}}function Cp(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function th(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function cm(n,i,s){if(s){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)s[i.exportAs[d]]=n;Gr(i)&&(s[""]=n)}}function dm(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function hm(n,i,s,d,p){n.data[d]=p;const b=p.factory||(p.factory=Wr(p.type)),S=new Ps(b,Gr(p),null);n.blueprint[d]=S,s[d]=S,Dp(n,i,0,d,yd(n,s,p.hostVars,ei),p)}function r_(n,i,s){const d=Ft(i,n),p=mf(s),b=n[10],S=uu(n,md(n,p,null,s.onPush?64:16,d,i,b,b.createRenderer(d,s),null,null));n[i.index]=S}function Bu(n,i,s,d,p,b){const S=Ft(n,i);!function Tp(n,i,s,d,p,b,S){if(null==b)Ti(n)?n.removeAttribute(i,p,s):i.removeAttribute(p);else{const R=null==S?yt(b):S(b,d||"",p);Ti(n)?n.setAttribute(i,p,R,s):s?i.setAttributeNS(s,p,R):i.setAttribute(p,R)}}(i[11],S,b,n.value,s,d,p)}function Ah(n,i,s,d,p,b){const S=b[i];if(null!==S){const R=d.setInput;for(let V=0;V<S.length;){const te=S[V++],ae=S[V++],ye=S[V++];null!==R?d.setInput(s,ye,te,ae):s[ae]=ye}}}function Sp(n,i){let s=null,d=0;for(;d<i.length;){const p=i[d];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===s&&(s=[]),s.push(p,n[p],i[d+1])),d+=2}else d+=2;else d+=4}return s}function Ef(n,i,s,d){return new Array(n,!0,!1,i,null,0,d,s,null,null)}function Ap(n,i){const s=ni(i,n);if(_r(s)){const d=s[1];80&s[2]?eh(d,s,d.template,s[8]):s[5]>0&&Df(s)}}function Df(n){for(let d=Ll(n);null!==d;d=au(d))for(let p=10;p<d.length;p++){const b=d[p];if(1024&b[2]){const S=b[1];eh(S,b,S.template,b[8])}else b[5]>0&&Df(b)}const s=n[1].components;if(null!==s)for(let d=0;d<s.length;d++){const p=ni(s[d],n);_r(p)&&p[5]>0&&Df(p)}}function xp(n,i){const s=ni(i,n),d=s[1];(function Mp(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(d,s),Jd(d,s,s[8])}function uu(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Cf(n){for(;n;){n[2]|=64;const i=ur(n);if(po(n)&&!i)return n;n=i}return null}function Op(n,i,s){const d=i[10];d.begin&&d.begin();try{eh(n,i,n.template,s)}catch(p){throw mm(i,p),p}finally{d.end&&d.end()}}function If(n){!function Oh(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],d=Dc(s),p=d[1];_p(p,d,p.template,s)}}(n[8])}function nh(n,i,s){ja(0),i(n,s)}const pm=(()=>Promise.resolve(null))();function _d(n){return n[7]||(n[7]=[])}function Tf(n){return n.cleanup||(n.cleanup=[])}function mm(n,i){const s=n[9],d=s?s.get(bo,null):null;d&&d.handleError(i)}function Rp(n,i,s,d,p){for(let b=0;b<s.length;){const S=s[b++],R=s[b++],V=i[S],te=n.data[S];null!==te.setInput?te.setInput(V,p,d,R):V[R]=p}}function Uu(n,i,s){const d=bt(i,n);!function dd(n,i,s){Ti(n)?n.setValue(i,s):i.textContent=s}(n[11],d,s)}function Sf(n,i,s){let d=s?n.styles:null,p=s?n.classes:null,b=0;if(null!==i)for(let S=0;S<i.length;S++){const R=i[S];"number"==typeof R?b=R:1==b?p=tt(p,R):2==b&&(d=tt(d,R+": "+i[++S]+";"))}s?n.styles=d:n.stylesWithoutHost=d,s?n.classes=p:n.classesWithoutHost=p}const kp=new Qi("INJECTOR",-1);class Af{get(i,s=wa){if(s===wa){const d=new Error(`NullInjectorError: No provider for ${Ye(i)}!`);throw d.name="NullInjectorError",d}return s}}const Fp=new Qi("Set Injector scope."),vd={},_m={};let Ph;function xf(){return void 0===Ph&&(Ph=new Af),Ph}function Mf(n,i=null,s=null,d){const p=bd(n,i,s,d);return p._resolveInjectorDefTypes(),p}function bd(n,i=null,s=null,d){return new Vc(n,s,i||xf(),d)}class Vc{constructor(i,s,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const b=[];s&&Xo(s,R=>this.processProvider(R,i,s)),Xo([i],R=>this.processInjectorType(R,[],b)),this.records.set(kp,cu(void 0,this));const S=this.records.get(Fp);this.scope=null!=S?S.value:null,this.source=p||("object"==typeof i?null:Ye(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=wa,d=dn.Default){this.assertNotDestroyed();const p=Xt(this),b=Zn(void 0);try{if(!(d&dn.SkipSelf)){let R=this.records.get(i);if(void 0===R){const V=function c_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qi}(i)&&Bt(i);R=V&&this.injectableDefInScope(V)?cu(Rh(i),vd):null,this.records.set(i,R)}if(null!=R)return this.hydrate(i,R)}return(d&dn.Self?xf():this.parent).get(i,s=d&dn.Optional&&s===wa?null:s)}catch(S){if("NullInjectorError"===S.name){if((S[vu]=S[vu]||[]).unshift(Ye(i)),p)throw S;return function ea(n,i,s,d){const p=n[vu];throw i[De]&&p.unshift(i[De]),n.message=function bu(n,i,s,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let p=Ye(i);if(Array.isArray(i))p=i.map(Ye).join(" -> ");else if("object"==typeof i){let b=[];for(let S in i)if(i.hasOwnProperty(S)){let R=i[S];b.push(S+":"+("string"==typeof R?JSON.stringify(R):Ye(R)))}p=`{${b.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${n.replace(Z,"\n  ")}`}("\n"+n.message,p,s,d),n.ngTokenPath=p,n[vu]=null,n}(S,i,"R3InjectorError",this.source)}throw S}finally{Zn(b),Xt(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((d,p)=>i.push(Ye(p))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processInjectorType(i,s,d){if(!(i=Oe(i)))return!1;let p=yi(i);const b=null==p&&i.ngModule||void 0,S=void 0===b?i:b,R=-1!==d.indexOf(S);if(void 0!==b&&(p=yi(b)),null==p)return!1;if(null!=p.imports&&!R){let ae;d.push(S);try{Xo(p.imports,ye=>{this.processInjectorType(ye,s,d)&&(void 0===ae&&(ae=[]),ae.push(ye))})}finally{}if(void 0!==ae)for(let ye=0;ye<ae.length;ye++){const{ngModule:$e,providers:ct}=ae[ye];Xo(ct,Vt=>this.processProvider(Vt,$e,ct||bn))}}this.injectorDefTypes.add(S);const V=Wr(S)||(()=>new S);this.records.set(S,cu(V,vd));const te=p.providers;if(null!=te&&!R){const ae=i;Xo(te,ye=>this.processProvider(ye,ae,te))}return void 0!==b&&void 0!==i.providers}processProvider(i,s,d){let p=Bc(i=Oe(i))?i:Oe(i&&i.provide);const b=function rh(n,i,s){return vm(n)?cu(void 0,n.useValue):cu(Lp(n),vd)}(i);if(Bc(i)||!0!==i.multi)this.records.get(p);else{let S=this.records.get(p);S||(S=cu(void 0,vd,!0),S.factory=()=>gi(S.multi),this.records.set(p,S)),p=i,S.multi.push(i)}this.records.set(p,b)}hydrate(i,s){return s.value===vd&&(s.value=_m,s.value=s.factory()),"object"==typeof s.value&&s.value&&function u_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Oe(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Rh(n){const i=Bt(n),s=null!==i?i.factory:Wr(n);if(null!==s)return s;if(n instanceof Qi)throw new it(204,!1);if(n instanceof Function)return function ih(n){const i=n.length;if(i>0)throw Ao(i,"?"),new it(204,!1);const s=function Un(n){const i=n&&(n[Ri]||n[zi]);if(i){const s=function Fi(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new it(204,!1)}function Lp(n,i,s){let d;if(Bc(n)){const p=Oe(n);return Wr(p)||Rh(p)}if(vm(n))d=()=>Oe(n.useValue);else if(function Vp(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...gi(n.deps||[]));else if(function l_(n){return!(!n||!n.useExisting)}(n))d=()=>Hn(Oe(n.useExisting));else{const p=Oe(n&&(n.useClass||n.provide));if(!function Up(n){return!!n.deps}(n))return Wr(p)||Rh(p);d=()=>new p(...gi(n.deps))}return d}function cu(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function vm(n){return null!==n&&"object"==typeof n&&nt in n}function Bc(n){return"function"==typeof n}let jl=(()=>{class n{static create(s,d){var p;if(Array.isArray(s))return Mf({name:""},d,s,"");{const b=null!==(p=s.name)&&void 0!==p?p:"";return Mf({name:b},s.parent,s.providers,b)}}}return n.THROW_IF_NOT_FOUND=wa,n.NULL=new Af,n.\u0275prov=It({token:n,providedIn:"any",factory:()=>Hn(kp)}),n.__NG_ELEMENT_ID__=-1,n})();function Wp(n,i){Co(Dc(n)[1],zn())}function Fh(n){let i=function Rf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const d=[n];for(;i;){let p;if(Gr(n))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new it(903,"");p=i.\u0275dir}if(p){if(s){d.push(p);const S=n;S.inputs=Uc(n.inputs),S.declaredInputs=Uc(n.declaredInputs),S.outputs=Uc(n.outputs);const R=p.hostBindings;R&&f_(n,R);const V=p.viewQuery,te=p.contentQueries;if(V&&Pm(n,V),te&&qp(n,te),Je(n.inputs,p.inputs),Je(n.declaredInputs,p.declaredInputs),Je(n.outputs,p.outputs),Gr(p)&&p.data.animation){const ae=n.data;ae.animation=(ae.animation||[]).concat(p.data.animation)}}const b=p.features;if(b)for(let S=0;S<b.length;S++){const R=b[S];R&&R.ngInherit&&R(n),R===Fh&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Kp(n){let i=0,s=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=i+=p.hostVars,p.hostAttrs=ie(p.hostAttrs,s=ie(s,p.hostAttrs))}}(d)}function Uc(n){return n===hi?{}:n===bn?[]:n}function Pm(n,i){const s=n.viewQuery;n.viewQuery=s?(d,p)=>{i(d,p),s(d,p)}:i}function qp(n,i){const s=n.contentQueries;n.contentQueries=s?(d,p,b)=>{i(d,p,b),s(d,p,b)}:i}function f_(n,i){const s=n.hostBindings;n.hostBindings=s?(d,p)=>{i(d,p),s(d,p)}:i}let Nf=null;function jc(){if(!Nf){const n=ti.Symbol;if(n&&n.iterator)Nf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const d=i[s];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Nf=d)}}}return Nf}function Lh(n){return!!Vh(n)&&(Array.isArray(n)||!(n instanceof Map)&&jc()in n)}function Vh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ju(n,i,s){return n[i]=s}function Ia(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function kf(n,i,s,d){const p=Q();return Ia(p,Ts(),i)&&(rt(),Bu(ts(),p,n,i,s,d)),kf}function oh(n,i,s,d){return Ia(n,Ts(),s)?i+yt(s)+d:ei}function Hc(n,i,s,d,p,b){const R=function oc(n,i,s,d){const p=Ia(n,i,s);return Ia(n,i+1,d)||p}(n,function Ls(){return Mn.lFrame.bindingIndex}(),s,p);return Lr(2),R?i+yt(s)+d+yt(p)+b:ei}function Lf(n,i,s,d,p,b,S,R){const V=Q(),te=rt(),ae=n+20,ye=te.firstCreatePass?function Vm(n,i,s,d,p,b,S,R,V){const te=i.consts,ae=rc(i,n,4,S||null,Vi(te,R));wp(i,s,ae,Vi(te,V)),Co(i,ae);const ye=ae.tViews=Oo(2,ae,d,p,b,i.directiveRegistry,i.pipeRegistry,null,i.schemas,te);return null!==i.queries&&(i.queries.template(i,ae),ye.queries=i.queries.embeddedTView(ae)),ae}(ae,te,V,i,s,d,p,b,S):te.data[ae];rs(ye,!1);const $e=V[11].createComment("");kc(te,V,$e,ye),xo($e,V),uu(V,V[ae]=Ef($e,V,$e,ye)),Jr(ye)&&vp(te,V,ye),null!=S&&bp(V,ye,R)}function zh(n,i=dn.Default){const s=Q();return null===s?Hn(n,i):L(zn(),s,Oe(n),i)}function Hs(){throw new Error("invalid")}function Km(n,i,s){const d=Q();return Ia(d,Ts(),i)&&Ba(rt(),ts(),d,n,i,d[11],s,!1),Km}function qm(n,i,s,d,p){const S=p?"class":"style";Rp(n,s,i.inputs[S],S,d)}function Gh(n,i,s,d){const p=Q(),b=rt(),S=20+n,R=p[11],V=p[S]=Oc(R,i,function Ga(){return Mn.lFrame.currentNamespace}()),te=b.firstCreatePass?function Ho(n,i,s,d,p,b,S){const R=i.consts,te=rc(i,n,2,p,Vi(R,b));return wp(i,s,te,Vi(R,S)),null!==te.attrs&&Sf(te,te.attrs,!1),null!==te.mergedAttrs&&Sf(te,te.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,te),te}(S,b,p,0,i,s,d):b.data[S];rs(te,!0);const ae=te.mergedAttrs;null!==ae&&D(R,V,ae);const ye=te.classes;null!==ye&&ne(R,V,ye);const $e=te.styles;return null!==$e&&Y(R,V,$e),64!=(64&te.flags)&&kc(b,p,V,te),0===function Is(){return Mn.lFrame.elementDepthCount}()&&xo(V,p),function Vo(){Mn.lFrame.elementDepthCount++}(),Jr(te)&&(vp(b,p,te),gf(b,te,p)),null!==d&&bp(p,te),Gh}function $f(){let n=zn();wo()?Do():(n=n.parent,rs(n,!1));const i=n;!function ao(){Mn.lFrame.elementDepthCount--}();const s=rt();return s.firstCreatePass&&(Co(s,n),ms(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Js(n){return 0!=(16&n.flags)}(i)&&qm(s,i,Q(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function eo(n){return 0!=(32&n.flags)}(i)&&qm(s,i,Q(),i.stylesWithoutHost,!1),$f}function hg(n,i,s,d){return Gh(n,i,s,d),$f(),hg}function zf(n,i,s){const d=Q(),p=rt(),b=n+20,S=p.firstCreatePass?function C_(n,i,s,d,p){const b=i.consts,S=Vi(b,d),R=rc(i,n,8,"ng-container",S);return null!==S&&Sf(R,S,!0),wp(i,s,R,Vi(b,p)),null!==i.queries&&i.queries.elementStart(i,R),R}(b,p,d,i,s):p.data[b];rs(S,!0);const R=d[b]=d[11].createComment("");return kc(p,d,R,S),xo(R,d),Jr(S)&&(vp(p,d,S),gf(p,S,d)),null!=s&&bp(d,S),zf}function Gf(){let n=zn();const i=rt();return wo()?Do():(n=n.parent,rs(n,!1)),i.firstCreatePass&&(Co(i,n),ms(n)&&i.queries.elementEnd(n)),Gf}function I_(){return Q()}function fg(n){return!!n&&"function"==typeof n.then}function Ym(n){return!!n&&"function"==typeof n.subscribe}const pg=Ym;function hu(n,i,s,d){const p=Q(),b=rt(),S=zn();return function Wc(n,i,s,d,p,b,S,R){const V=Jr(d),ae=n.firstCreatePass&&Tf(n),ye=i[8],$e=_d(i);let ct=!0;if(3&d.type||R){const Sn=Ft(d,i),qn=R?R(Sn):Sn,Kt=$e.length,mi=R?Pr=>R(z(Pr[d.index])):d.index;if(Ti(s)){let Pr=null;if(!R&&V&&(Pr=function Hu(n,i,s,d){const p=n.cleanup;if(null!=p)for(let b=0;b<p.length-1;b+=2){const S=p[b];if(S===s&&p[b+1]===d){const R=i[7],V=p[b+2];return R.length>V?R[V]:null}"string"==typeof S&&(b+=2)}return null}(n,i,p,d.index)),null!==Pr)(Pr.__ngLastListenerFn__||Pr).__ngNextListenerFn__=b,Pr.__ngLastListenerFn__=b,ct=!1;else{b=gg(d,i,ye,b,!1);const Ds=s.listen(qn,p,b);$e.push(b,Ds),ae&&ae.push(p,mi,Kt,Kt+1)}}else b=gg(d,i,ye,b,!0),qn.addEventListener(p,b,S),$e.push(b),ae&&ae.push(p,mi,Kt,S)}else b=gg(d,i,ye,b,!1);const Vt=d.outputs;let fn;if(ct&&null!==Vt&&(fn=Vt[p])){const Sn=fn.length;if(Sn)for(let qn=0;qn<Sn;qn+=2){const gu=i[fn[qn]][fn[qn+1]].subscribe(b),nf=$e.length;$e.push(b,gu),ae&&ae.push(p,d.index,nf,-(nf+1))}}}(b,p,p[11],S,n,i,!!s,d),hu}function Wh(n,i,s,d){try{return!1!==s(d)}catch(p){return mm(n,p),!1}}function gg(n,i,s,d,p){return function b(S){if(S===Function)return d;const R=2&n.flags?ni(n.index,i):i;0==(32&i[2])&&Cf(R);let V=Wh(i,0,d,S),te=b.__ngNextListenerFn__;for(;te;)V=Wh(i,0,te,S)&&V,te=te.__ngNextListenerFn__;return p&&!1===V&&(S.preventDefault(),S.returnValue=!1),V}}function Qm(n=1){return function ba(n){return(Mn.lFrame.contextLView=function Oa(n,i){for(;n>0;)i=i[15],n--;return i}(n,Mn.lFrame.contextLView))[8]}(n)}function Xm(n,i){let s=null;const d=function Pn(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(n);for(let p=0;p<i.length;p++){const b=i[p];if("*"!==b){if(null===d?jt(n,b,!0):ii(d,b))return p}else s=p}return s}function mg(n){const i=Q()[16][6];if(!i.projection){const d=i.projection=Ao(n?n.length:1,null),p=d.slice();let b=i.child;for(;null!==b;){const S=n?Xm(b,n):0;null!==S&&(p[S]?p[S].projectionNext=b:d[S]=b,p[S]=b),b=b.next}}}function Kh(n,i=0,s){const d=Q(),p=rt(),b=rc(p,20+n,16,null,s||null);null===b.projection&&(b.projection=i),Do(),64!=(64&b.flags)&&function _(n,i,s){w(i[11],0,i,s,Dh(n,s,i),Bl(s.parent||i[6],s,i))}(p,d,b)}function yg(n,i,s){return ac(n,"",i,"",s),yg}function ac(n,i,s,d,p){const b=Q(),S=oh(b,i,s,d);return S!==ei&&Ba(rt(),ts(),b,n,S,b[11],p,!1),ac}function vg(n,i,s,d,p){const b=n[s+1],S=null===i;let R=d?ra(b):Ca(b),V=!1;for(;0!==R&&(!1===V||S);){const ae=n[R+1];ry(n[R],i)&&(V=!0,n[R+1]=d?Lu(ae):bl(ae)),R=d?ra(ae):Ca(ae)}V&&(n[s+1]=d?bl(b):Lu(b))}function ry(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ol(n,i)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qf(n){return n.substring(Po.key,Po.keyEnd)}function Zh(n,i){const s=Po.textEnd;return s===i?-1:(i=Po.keyEnd=function Td(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,Po.key=i,s),lc(n,i,s))}function lc(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Yf(n,i,s){return fu(n,i,s,!1),Yf}function Sd(n,i){return fu(n,i,null,!0),Sd}function ly(n){!function $l(n,i,s,d){const p=rt(),b=Lr(2);p.firstUpdatePass&&cy(p,null,b,d);const S=Q();if(s!==ei&&Ia(S,b,s)){const R=p.data[fs()];if(Dg(R,d)&&!uy(p,b)){let V=d?R.classesWithoutHost:R.stylesWithoutHost;null!==V&&(s=tt(V,s||"")),qm(p,R,S,s,d)}else!function py(n,i,s,d,p,b,S,R){p===ei&&(p=bn);let V=0,te=0,ae=0<p.length?p[0]:null,ye=0<b.length?b[0]:null;for(;null!==ae||null!==ye;){const $e=V<p.length?p[V+1]:void 0,ct=te<b.length?b[te+1]:void 0;let fn,Vt=null;ae===ye?(V+=2,te+=2,$e!==ct&&(Vt=ye,fn=ct)):null===ye||null!==ae&&ae<ye?(V+=2,Vt=ae):(te+=2,Vt=ye,fn=ct),null!==Vt&&wg(n,i,s,d,Vt,fn,S,R),ae=V<p.length?p[V]:null,ye=te<b.length?b[te]:null}}(p,R,S,S[11],S[b+1],S[b+1]=function fy(n,i,s){if(null==s||""===s)return bn;const d=[],p=Da(s);if(Array.isArray(p))for(let b=0;b<p.length;b++)n(d,p[b],!0);else if("object"==typeof p)for(const b in p)p.hasOwnProperty(b)&&n(d,b,p[b]);else"string"==typeof p&&i(d,p);return d}(n,i,s),d,b)}}(uo,$u,n,!0)}function $u(n,i){for(let s=function Zf(n){return function oy(n){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=n.length}(n),Zh(n,lc(n,0,Po.textEnd))}(i);s>=0;s=Zh(i,s))uo(n,qf(i),!0)}function fu(n,i,s,d){const p=Q(),b=rt(),S=Lr(2);b.firstUpdatePass&&cy(b,n,S,d),i!==ei&&Ia(p,S,i)&&wg(b,b.data[fs()],p,p[11],n,p[S+1]=function P_(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ye(Da(n)))),n}(i,s),d,S)}function uy(n,i){return i>=n.expandoStartIndex}function cy(n,i,s,d){const p=n.data;if(null===p[s+1]){const b=p[fs()],S=uy(n,s);Dg(b,d)&&null===i&&!S&&(i=!1),i=function dy(n,i,s,d){const p=Vs(n);let b=d?i.residualClasses:i.residualStyles;if(null===p)0===(d?i.classBindings:i.styleBindings)&&(s=Yh(s=bg(null,n,i,s,d),i.attrs,d),b=null);else{const S=i.directiveStylingLast;if(-1===S||n[S]!==p)if(s=bg(p,n,i,s,d),null===b){let V=function M_(n,i,s){const d=s?i.classBindings:i.styleBindings;if(0!==Ca(d))return n[ra(d)]}(n,i,d);void 0!==V&&Array.isArray(V)&&(V=bg(null,n,i,V[1],d),V=Yh(V,i.attrs,d),function O_(n,i,s,d){n[ra(s?i.classBindings:i.styleBindings)]=d}(n,i,d,V))}else b=function hy(n,i,s){let d;const p=i.directiveEnd;for(let b=1+i.directiveStylingLast;b<p;b++)d=Yh(d,n[b].hostAttrs,s);return Yh(d,i.attrs,s)}(n,i,d)}return void 0!==b&&(d?i.residualClasses=b:i.residualStyles=b),s}(p,b,i,d),function iy(n,i,s,d,p,b){let S=b?i.classBindings:i.styleBindings,R=ra(S),V=Ca(S);n[d]=s;let ae,te=!1;if(Array.isArray(s)){const ye=s;ae=ye[1],(null===ae||ol(ye,ae)>0)&&(te=!0)}else ae=s;if(p)if(0!==V){const $e=ra(n[R+1]);n[d+1]=Ul($e,R),0!==$e&&(n[$e+1]=jo(n[$e+1],d)),n[R+1]=function tc(n,i){return 131071&n|i<<17}(n[R+1],d)}else n[d+1]=Ul(R,0),0!==R&&(n[R+1]=jo(n[R+1],d)),R=d;else n[d+1]=Ul(V,0),0===R?R=d:n[V+1]=jo(n[V+1],d),V=d;te&&(n[d+1]=bl(n[d+1])),vg(n,ae,d,!0),vg(n,ae,d,!1),function Id(n,i,s,d,p){const b=p?n.residualClasses:n.residualStyles;null!=b&&"string"==typeof i&&ol(b,i)>=0&&(s[d+1]=Lu(s[d+1]))}(i,ae,n,d,b),S=Ul(R,V),b?i.classBindings=S:i.styleBindings=S}(p,b,i,s,S,d)}}function bg(n,i,s,d,p){let b=null;const S=s.directiveEnd;let R=s.directiveStylingLast;for(-1===R?R=s.directiveStart:R++;R<S&&(b=i[R],d=Yh(d,b.hostAttrs,p),b!==n);)R++;return null!==n&&(s.directiveStylingLast=R),d}function Yh(n,i,s){const d=s?1:2;let p=-1;if(null!==i)for(let b=0;b<i.length;b++){const S=i[b];"number"==typeof S?p=S:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),uo(n,S,!!s||i[++b]))}return void 0===n?null:n}function wg(n,i,s,d,p,b,S,R){if(!(3&i.type))return;const V=n.data,te=V[R+1];Ad(function fd(n){return 1==(1&n)}(te)?Qf(V,i,s,p,Ca(te),S):void 0)||(Ad(b)||function vl(n){return 2==(2&n)}(te)&&(b=Qf(V,null,s,p,R,S)),function N(n,i,s,d,p){const b=Ti(n);if(i)p?b?n.addClass(s,d):s.classList.add(d):b?n.removeClass(s,d):s.classList.remove(d);else{let S=-1===d.indexOf("-")?void 0:St.DashCase;if(null==p)b?n.removeStyle(s,d,S):s.style.removeProperty(d);else{const R="string"==typeof p&&p.endsWith("!important");R&&(p=p.slice(0,-10),S|=St.Important),b?n.setStyle(s,d,p,S):s.style.setProperty(d,p,R?"important":"")}}}(d,S,bt(fs(),s),p,b))}function Qf(n,i,s,d,p,b){const S=null===i;let R;for(;p>0;){const V=n[p],te=Array.isArray(V),ae=te?V[1]:V,ye=null===ae;let $e=s[p+1];$e===ei&&($e=ye?bn:void 0);let ct=ye?da($e,d):ae===d?$e:void 0;if(te&&!Ad(ct)&&(ct=da(V,d)),Ad(ct)&&(R=ct,S))return R;const Vt=n[p+1];p=S?ra(Vt):Ca(Vt)}if(null!==i){let V=b?i.residualClasses:i.residualStyles;null!=V&&(R=da(V,d))}return R}function Ad(n){return void 0!==n}function Dg(n,i){return 0!=(n.flags&(i?16:32))}function cc(n,i=""){const s=Q(),d=rt(),p=n+20,b=d.firstCreatePass?rc(d,p,1,i,null):d.data[p],S=s[p]=function ku(n,i){return Ti(n)?n.createText(i):n.createTextNode(i)}(s[11],i);kc(d,s,S,b),rs(b,!1)}function Cg(n){return zu("",n,""),Cg}function zu(n,i,s){const d=Q(),p=oh(d,n,i,s);return p!==ei&&Uu(d,fs(),p),zu}function Ig(n,i,s,d,p){const b=Q(),S=Hc(b,n,i,s,d,p);return S!==ei&&Uu(b,fs(),S),Ig}function Jf(n,i,s){const d=Q();if(Ia(d,Ts(),i)){const b=rt(),S=ts();Ba(b,S,d,n,i,function gm(n,i,s){return(null===n||Gr(n))&&(s=function le(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[i.index])),s[11]}(Vs(b.data),S,d),s,!0)}return Jf}const El=void 0;var Ua=["en",[["a","p"],["AM","PM"],El],[["AM","PM"],El,El],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],El,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],El,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",El,"{1} 'at' {0}",El],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zl(n){const s=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let xd={};function Md(n){const i=function Od(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Iy(i);if(s)return s;const d=i.split("-")[0];if(s=Iy(d),s)return s;if("en"===d)return Ua;throw new Error(`Missing locale data for the locale "${n}".`)}function Sa(n){return Md(n)[si.PluralCase]}function Iy(n){return n in xd||(xd[n]=ti.ng&&ti.ng.common&&ti.ng.common.locales&&ti.ng.common.locales[n]),xd[n]}var si=(()=>((si=si||{})[si.LocaleId=0]="LocaleId",si[si.DayPeriodsFormat=1]="DayPeriodsFormat",si[si.DayPeriodsStandalone=2]="DayPeriodsStandalone",si[si.DaysFormat=3]="DaysFormat",si[si.DaysStandalone=4]="DaysStandalone",si[si.MonthsFormat=5]="MonthsFormat",si[si.MonthsStandalone=6]="MonthsStandalone",si[si.Eras=7]="Eras",si[si.FirstDayOfWeek=8]="FirstDayOfWeek",si[si.WeekendRange=9]="WeekendRange",si[si.DateFormat=10]="DateFormat",si[si.TimeFormat=11]="TimeFormat",si[si.DateTimeFormat=12]="DateTimeFormat",si[si.NumberSymbols=13]="NumberSymbols",si[si.NumberFormats=14]="NumberFormats",si[si.CurrencyCode=15]="CurrencyCode",si[si.CurrencySymbol=16]="CurrencySymbol",si[si.CurrencyName=17]="CurrencyName",si[si.Currencies=18]="Currencies",si[si.Directionality=19]="Directionality",si[si.PluralCase=20]="PluralCase",si[si.ExtraData=21]="ExtraData",si))();const tp="en-US";let Sy=tp;function Q_(n,i,s,d,p){if(n=Oe(n),Array.isArray(n))for(let b=0;b<n.length;b++)Q_(n[b],i,s,d,p);else{const b=rt(),S=Q();let R=Bc(n)?n:Oe(n.provide),V=Lp(n);const te=zn(),ae=1048575&te.providerIndexes,ye=te.directiveStart,$e=te.providerIndexes>>20;if(Bc(n)||!n.multi){const ct=new Ps(V,p,zh),Vt=J_(R,i,p?ae:ae+$e,ye);-1===Vt?(P(Lt(te,S),b,R),X_(b,n,i.length),i.push(R),te.directiveStart++,te.directiveEnd++,p&&(te.providerIndexes+=1048576),s.push(ct),S.push(ct)):(s[Vt]=ct,S[Vt]=ct)}else{const ct=J_(R,i,ae+$e,ye),Vt=J_(R,i,ae,ae+$e),fn=ct>=0&&s[ct],Sn=Vt>=0&&s[Vt];if(p&&!Sn||!p&&!fn){P(Lt(te,S),b,R);const qn=function lE(n,i,s,d,p){const b=new Ps(n,s,zh);return b.multi=[],b.index=i,b.componentProviders=0,p0(b,p,d&&!s),b}(p?aE:oE,s.length,p,d,V);!p&&Sn&&(s[Vt].providerFactory=qn),X_(b,n,i.length,0),i.push(R),te.directiveStart++,te.directiveEnd++,p&&(te.providerIndexes+=1048576),s.push(qn),S.push(qn)}else X_(b,n,ct>-1?ct:Vt,p0(s[p?Vt:ct],V,!p&&d));!p&&d&&Sn&&s[Vt].componentProviders++}}}function X_(n,i,s,d){const p=Bc(i),b=function Bp(n){return!!n.useClass}(i);if(p||b){const V=(b?Oe(i.useClass):i).prototype.ngOnDestroy;if(V){const te=n.destroyHooks||(n.destroyHooks=[]);if(!p&&i.multi){const ae=te.indexOf(s);-1===ae?te.push(s,[d,V]):te[ae+1].push(d,V)}else te.push(s,V)}}}function p0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function J_(n,i,s,d){for(let p=s;p<d;p++)if(i[p]===n)return p;return-1}function oE(n,i,s,d){return ev(this.multi,[])}function aE(n,i,s,d){const p=this.multi;let b;if(this.providerFactory){const S=this.providerFactory.componentProviders,R=gn(s,s[1],this.providerFactory.index,d);b=R.slice(0,S),ev(p,b);for(let V=S;V<R.length;V++)b.push(R[V])}else b=[],ev(p,b);return b}function ev(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function g0(n,i=[]){return s=>{s.providersResolver=(d,p)=>function sE(n,i,s){const d=rt();if(d.firstCreatePass){const p=Gr(n);Q_(s,d.data,d.blueprint,p,!0),Q_(i,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,i)}}class m0{}class dE{resolveComponentFactory(i){throw function cE(n){const i=Error(`No component factory found for ${Ye(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Fy=(()=>{class n{}return n.NULL=new dE,n})();function hE(){return sp(zn(),Q())}function sp(n,i){return new Vg(Ft(n,i))}let Vg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=hE,n})();function fE(n){return n instanceof Vg?n.nativeElement:n}class _0{}let pE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mE(){const n=Q(),s=ni(zn().index,n);return function gE(n){return n[11]}(Ar(s)?s:n)}(),n})(),yE=(()=>{class n{}return n.\u0275prov=It({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const b0=new v0("13.3.3"),tv={};function Ly(n,i,s,d,p=!1){for(;null!==s;){const b=i[s.index];if(null!==b&&d.push(z(b)),mr(b))for(let R=10;R<b.length;R++){const V=b[R],te=V[1].firstChild;null!==te&&Ly(V[1],V,te,d)}const S=s.type;if(8&S)Ly(n,i,s.child,d);else if(32&S){const R=En(s,i);let V;for(;V=R();)d.push(V)}else if(16&S){const R=l(i,s);if(Array.isArray(R))d.push(...R);else{const V=ur(i[16]);Ly(V[1],V,R,d,!0)}}s=p?s.projectionNext:s.next}return d}class Bg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Ly(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(mr(i)){const s=i[8],d=s?s.indexOf(this):-1;d>-1&&(Kd(i,d),lo(s,d))}this._attachedToViewContainer=!1}of(this._lView[1],this._lView)}onDestroy(i){rm(this._lView[1],this._lView,null,i)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Op(this._lView[1],this._lView,this.context)}checkNoChanges(){!function o_(n,i,s){Es(!0);try{Op(n,i,s)}finally{Es(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new it(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Eh(n,i){g(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new it(902,"");this._appRef=i}}class _E extends Bg{constructor(i){super(i),this._view=i}detectChanges(){If(this._view)}checkNoChanges(){!function Pp(n){Es(!0);try{If(n)}finally{Es(!1)}}(this._view)}get context(){return null}}class E0 extends Fy{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=ze(i);return new nv(s,this.ngModule)}}function w0(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class nv extends m0{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Ki(n){return n.map($i).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(i,s,d,p){const b=(p=p||this.ngModule)?function bE(n,i){return{get:(s,d,p)=>{const b=n.get(s,tv,p);return b!==tv||d===tv?b:i.get(s,d,p)}}}(i,p.injector):i,S=b.get(_0,G),R=b.get(yE,null),V=S.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",ae=d?function im(n,i,s){if(Ti(n))return n.selectRootElement(i,s===Qt.ShadowDom);let d="string"==typeof i?n.querySelector(i):i;return d.textContent="",d}(V,d,this.componentDef.encapsulation):Oc(S.createRenderer(null,this.componentDef),te,function vE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(te)),ye=this.componentDef.onPush?576:528,$e=function Om(n,i){return{components:[],scheduler:n||Gd,clean:pm,playerHandler:i||null,flags:0}}(),ct=Oo(0,null,null,1,0,null,null,null,null,null),Vt=md(null,ct,$e,ye,null,null,S,V,R,b);let fn,Sn;hs(Vt);try{const qn=function Mm(n,i,s,d,p,b){const S=s[1];s[20]=n;const V=rc(S,20,2,"#host",null),te=V.mergedAttrs=i.hostAttrs;null!==te&&(Sf(V,te,!0),null!==n&&(D(p,n,te),null!==V.classes&&ne(p,n,V.classes),null!==V.styles&&Y(p,n,V.styles)));const ae=d.createRenderer(n,i),ye=md(s,mf(i),null,i.onPush?64:16,s[20],V,d,ae,b||null,null);return S.firstCreatePass&&(P(Lt(V,s),S,i.type),th(S,V),dm(V,s.length,1)),uu(s,ye),s[20]=ye}(ae,this.componentDef,Vt,S,V);if(ae)if(d)D(V,ae,["ng-version",b0.full]);else{const{attrs:Kt,classes:mi}=function ho(n){const i=[],s=[];let d=1,p=2;for(;d<n.length;){let b=n[d];if("string"==typeof b)2===p?""!==b&&i.push(b,n[++d]):8===p&&s.push(b);else{if(!tn(p))break;p=b}d++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);Kt&&D(V,ae,Kt),mi&&mi.length>0&&ne(V,ae,mi.join(" "))}if(Sn=_i(ct,20),void 0!==s){const Kt=Sn.projection=[];for(let mi=0;mi<this.ngContentSelectors.length;mi++){const Pr=s[mi];Kt.push(null!=Pr?Array.from(Pr):null)}}fn=function Pf(n,i,s,d,p){const b=s[1],S=function um(n,i,s){const d=zn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),hm(n,d,i,yd(n,i,1,null),s));const p=gn(i,n,d.directiveStart,d);xo(p,i);const b=Ft(d,i);return b&&xo(b,i),p}(b,s,i);if(d.components.push(S),n[8]=S,p&&p.forEach(V=>V(S,i)),i.contentQueries){const V=zn();i.contentQueries(1,S,V.directiveStart)}const R=zn();return!b.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||($o(R.index),Dp(s[1],R,0,R.directiveStart,R.directiveEnd,i),Cp(i,S)),S}(qn,this.componentDef,Vt,$e,[Wp]),Jd(ct,Vt,null)}finally{Qo()}return new wE(this.componentType,fn,sp(Sn,Vt),Vt,Sn)}}class wE extends class uE{}{constructor(i,s,d,p,b){super(),this.location=d,this._rootLView=p,this._tNode=b,this.instance=s,this.hostView=this.changeDetectorRef=new _E(p),this.componentType=i}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class op{}class D0{}const ap=new Map;class T0 extends op{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const d=xn(i);this._bootstrapComponents=v(d.bootstrap),this._r3Injector=bd(i,s,[{provide:op,useValue:this},{provide:Fy,useValue:this.componentFactoryResolver}],Ye(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=jl.THROW_IF_NOT_FOUND,d=dn.Default){return i===jl||i===op||i===kp?this:this._r3Injector.get(i,s,d)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class iv extends D0{constructor(i){super(),this.moduleType=i,null!==xn(i)&&function CE(n){const i=new Set;!function s(d){const p=xn(d,!0),b=p.id;null!==b&&(function C0(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${Ye(i)} vs ${Ye(i.name)}`)}(b,ap.get(b),d),ap.set(b,d));const S=v(p.imports);for(const R of S)i.has(R)||(i.add(R),s(R))}(n)}(i)}create(i){return new T0(this.moduleType,i)}}function S0(n,i,s){const d=ds()+n,p=Q();return p[d]===ei?ju(p,d,s?i.call(s):i()):function Ed(n,i){return n[i]}(p,d)}function A0(n,i,s,d,p,b){const S=i+s;return Ia(n,S,p)?ju(n,S+1,b?d.call(b,p):d(p)):function Ug(n,i){const s=n[i];return s===ei?void 0:s}(n,S+1)}function R0(n,i){const s=rt();let d;const p=n+20;s.firstCreatePass?(d=function NE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const d=i[s];if(n===d.name)return d}}(i,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(p,d.onDestroy)):d=s.data[p];const b=d.factory||(d.factory=Wr(d.type)),S=Zn(zh);try{const R=Tn(!1),V=b();return Tn(R),function Bm(n,i,s,d){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=d}(s,Q(),p,V),V}finally{Zn(S)}}function N0(n,i,s){const d=n+20,p=Q(),b=function Si(n,i){return n[i]}(p,d);return function jg(n,i){return n[1].data[i].pure}(p,d)?A0(p,ds(),i,b.transform,s,b):b.transform(s)}function rv(n){return i=>{setTimeout(n,void 0,i)}}const qc=class BE extends E.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,d){var p,b,S;let R=i,V=s||(()=>null),te=d;if(i&&"object"==typeof i){const ye=i;R=null===(p=ye.next)||void 0===p?void 0:p.bind(ye),V=null===(b=ye.error)||void 0===b?void 0:b.bind(ye),te=null===(S=ye.complete)||void 0===S?void 0:S.bind(ye)}this.__isAsync&&(V=rv(V),R&&(R=rv(R)),te&&(te=rv(te)));const ae=super.subscribe({next:R,error:V,complete:te});return i instanceof H.w0&&i.add(ae),ae}};function UE(){return this._results[jc()]()}class sv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=jc(),d=sv.prototype;d[s]||(d[s]=UE)}get changes(){return this._changes||(this._changes=new qc)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const d=this;d.dirty=!1;const p=Us(i);(this._changesDetected=!function ql(n,i,s){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],b=i[d];if(s&&(p=s(p),b=s(b)),b!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hg=(()=>{class n{}return n.__NG_ELEMENT_ID__=$E,n})();const jE=Hg,HE=class extends jE{constructor(i,s,d){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(i){const s=this._declarationTContainer.tViews,d=md(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(d[19]=b.createEmbeddedView(s)),Jd(s,d,i),new Bg(d)}};function $E(){return Vy(zn(),Q())}function Vy(n,i){return 4&n.type?new HE(i,n,sp(n,i)):null}let By=(()=>{class n{}return n.__NG_ELEMENT_ID__=zE,n})();function zE(){return L0(zn(),Q())}const GE=By,k0=class extends GE{constructor(i,s,d){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=d}get element(){return sp(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const i=hr(this._hostTNode,this._hostLView);if(Ne(i)){const s=Tt(i,this._hostLView),d=Ie(i);return new rn(s[1].data[d+8],s)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=F0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,d){const p=i.createEmbeddedView(s||{});return this.insert(p,d),p}createComponent(i,s,d,p,b){const S=i&&!function Go(n){return"function"==typeof n}(i);let R;if(S)R=s;else{const ye=s||{};R=ye.index,d=ye.injector,p=ye.projectableNodes,b=ye.ngModuleRef}const V=S?i:new nv(ze(i)),te=d||this.parentInjector;if(!b&&null==V.ngModule){const $e=(S?te:this.parentInjector).get(op,null);$e&&(b=$e)}const ae=V.create(te,p,void 0,b);return this.insert(ae.hostView,R),ae}insert(i,s){const d=i._lView,p=d[1];if(function Hi(n){return mr(n[3])}(d)){const ae=this.indexOf(i);if(-1!==ae)this.detach(ae);else{const ye=d[3],$e=new k0(ye,ye[6],ye[3]);$e.detach($e.indexOf(i))}}const b=this._adjustIndex(s),S=this._lContainer;!function cp(n,i,s,d){const p=10+d,b=s.length;d>0&&(s[p-1][4]=i),d<b-10?(i[4]=s[p],Ea(s,10+d,i)):(s.push(i),i[4]=null),i[3]=s;const S=i[17];null!==S&&s!==S&&function dp(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(S,i);const R=i[19];null!==R&&R.insertView(n),i[2]|=128}(p,d,S,b);const R=a(b,S),V=d[11],te=Vl(V,S[7]);return null!==te&&function hd(n,i,s,d,p,b){d[0]=p,d[6]=i,g(n,d,s,1,p,b)}(p,S[6],V,d,te,R),i.attachToViewContainerRef(),Ea(ov(S),b,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=F0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),d=Kd(this._lContainer,s);d&&(lo(ov(this._lContainer),s),of(d[1],d))}detach(i){const s=this._adjustIndex(i,-1),d=Kd(this._lContainer,s);return d&&null!=lo(ov(this._lContainer),s)?new Bg(d):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function F0(n){return n[8]}function ov(n){return n[8]||(n[8]=[])}function L0(n,i){let s;const d=i[n.index];if(mr(d))s=d;else{let p;if(8&n.type)p=z(d);else{const b=i[11];p=b.createComment("");const S=Ft(n,i);yl(b,Vl(b,S),p,function lf(n,i){return Ti(n)?n.nextSibling(i):i.nextSibling}(b,S),!1)}i[n.index]=s=Ef(d,i,p,n),uu(i,s)}return new k0(s,n,i)}class av{constructor(i){this.queryList=i,this.matches=null}clone(){return new av(this.queryList)}setDirty(){this.queryList.setDirty()}}class lv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const d=null!==i.contentQueries?i.contentQueries[0]:s.length,p=[];for(let b=0;b<d;b++){const S=s.getByIndex(b);p.push(this.queries[S.indexInDeclarationView].clone())}return new lv(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==W0(i,s).matches&&this.queries[s].setDirty()}}class V0{constructor(i,s,d=null){this.predicate=i,this.flags=s,this.read=d}}class uv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,b=this.getByIndex(d).embeddedTView(i,p);b&&(b.indexInDeclarationView=d,null!==s?s.push(b):s=[b])}return null!==s?new uv(s):null}template(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class cv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new cv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const b=d[p];this.matchTNodeWithReadOption(i,s,qE(s,b)),this.matchTNodeWithReadOption(i,s,Et(s,i,b,!1,!1))}else d===Hg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Et(s,i,d,!1,!1))}matchTNodeWithReadOption(i,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Vg||p===By||p===Hg&&4&s.type)this.addMatch(s.index,-2);else{const b=Et(s,i,p,!1,!1);null!==b&&this.addMatch(s.index,b)}else this.addMatch(s.index,d)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function qE(n,i){const s=n.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===i)return s[d+1];return null}function YE(n,i,s,d){return-1===s?function ZE(n,i){return 11&n.type?sp(n,i):4&n.type?Vy(n,i):null}(i,n):-2===s?function QE(n,i,s){return s===Vg?sp(i,n):s===Hg?Vy(i,n):s===By?L0(i,n):void 0}(n,i,d):gn(n,n[1],s,i)}function B0(n,i,s,d){const p=i[19].queries[d];if(null===p.matches){const b=n.data,S=s.matches,R=[];for(let V=0;V<S.length;V+=2){const te=S[V];R.push(te<0?null:YE(i,b[te],S[V+1],s.metadata.read))}p.matches=R}return p.matches}function dv(n,i,s,d){const p=n.queries.getByIndex(s),b=p.matches;if(null!==b){const S=B0(n,i,p,s);for(let R=0;R<b.length;R+=2){const V=b[R];if(V>0)d.push(S[R/2]);else{const te=b[R+1],ae=i[-V];for(let ye=10;ye<ae.length;ye++){const $e=ae[ye];$e[17]===$e[3]&&dv($e[1],$e,te,d)}if(null!==ae[9]){const ye=ae[9];for(let $e=0;$e<ye.length;$e++){const ct=ye[$e];dv(ct[1],ct,te,d)}}}}}return d}function U0(n){const i=Q(),s=rt(),d=oa();ja(d+1);const p=W0(s,d);if(n.dirty&&fi(i)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const b=p.crossesNgTemplate?dv(s,i,d,[]):B0(s,i,p,d);n.reset(b,fE),n.notifyOnChanges()}return!0}return!1}function j0(n,i,s){const d=rt();d.firstCreatePass&&(G0(d,new V0(n,i,s),-1),2==(2&i)&&(d.staticViewQueries=!0)),z0(d,Q(),i)}function H0(n,i,s,d){const p=rt();if(p.firstCreatePass){const b=zn();G0(p,new V0(i,s,d),b.index),function JE(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(p,n),2==(2&s)&&(p.staticContentQueries=!0)}z0(p,Q(),s)}function $0(){return function XE(n,i){return n[19].queries[i].queryList}(Q(),oa())}function z0(n,i,s){const d=new sv(4==(4&s));rm(n,i,d,d.destroy),null===i[19]&&(i[19]=new lv),i[19].queries.push(new av(d))}function G0(n,i,s){null===n.queries&&(n.queries=new uv),n.queries.track(new cv(i,s))}function W0(n,i){return n.queries.getByIndex(i)}function Hy(...n){}const ub=new Qi("Application Initializer");let yv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const b=this.appInits[p]();if(fg(b))s.push(b);else if(pg(b)){const S=new Promise((R,V)=>{b.subscribe({complete:R,error:V})});s.push(S)}}Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Hn(ub,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cb=new Qi("AppId",{providedIn:"root",factory:function db(){return`${_v()}${_v()}${_v()}`}});function _v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hb=new Qi("Platform Initializer"),yw=new Qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fb=new Qi("appBootstrapListener");let _w=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vv=new Qi("LocaleId",{providedIn:"root",factory:()=>di(vv,dn.Optional|dn.SkipSelf)||function vw(){return"undefined"!=typeof $localize&&$localize.locale||tp}()}),bw=new Qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ew{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let ww=(()=>{class n{compileModuleSync(s){return new iv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),b=v(xn(s).declarations).reduce((S,R)=>{const V=ze(R);return V&&S.push(new nv(V)),S},[]);return new Ew(d,b)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cw=(()=>Promise.resolve(0))();function bv(n){"undefined"==typeof Zone?Cw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class dc{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qc(!1),this.onMicrotaskEmpty=new qc(!1),this.onStable=new qc(!1),this.onError=new qc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Iw(){let n=ti.requestAnimationFrame,i=ti.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Aw(n){const i=()=>{!function Sw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ti,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wv(n),n.isCheckStableRunning=!0,Ev(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,b,S,R)=>{try{return pb(n),s.invokeTask(p,b,S,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||n.shouldCoalesceRunChangeDetection)&&i(),gb(n)}},onInvoke:(s,d,p,b,S,R,V)=>{try{return pb(n),s.invoke(p,b,S,R,V)}finally{n.shouldCoalesceRunChangeDetection&&i(),gb(n)}},onHasTask:(s,d,p,b)=>{s.hasTask(p,b),d===p&&("microTask"==b.change?(n._hasPendingMicrotasks=b.microTask,wv(n),Ev(n)):"macroTask"==b.change&&(n.hasPendingMacrotasks=b.macroTask))},onHandleError:(s,d,p,b)=>(s.handleError(p,b),n.runOutsideAngular(()=>n.onError.emit(b)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(dc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,d){return this._inner.run(i,s,d)}runTask(i,s,d,p){const b=this._inner,S=b.scheduleEventTask("NgZoneEvent: "+p,i,Tw,Hy,Hy);try{return b.runTask(S,s,d)}finally{b.cancelTask(S)}}runGuarded(i,s,d){return this._inner.runGuarded(i,s,d)}runOutsideAngular(i){return this._outer.run(i)}}const Tw={};function Ev(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function pb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gb(n){n._nesting--,Ev(n)}class xw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qc,this.onMicrotaskEmpty=new qc,this.onStable=new qc,this.onError=new qc}run(i,s,d){return i.apply(s,d)}runGuarded(i,s,d){return i.apply(s,d)}runOutsideAngular(i){return i()}runTask(i,s,d,p){return i.apply(s,d)}}let mb=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dc.assertNotInAngularZone(),bv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let b=-1;d&&d>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==b),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:b,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,d,p){return[]}}return n.\u0275fac=function(s){return new(s||n)(Hn(dc))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(){this._applications=new Map,Dv.addToWindow(this)}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return Dv.findTestabilityInTree(this,s,d)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Ow{addToWindow(i){}findTestabilityInTree(i,s,d){return null}}function Pw(n){Dv=n}let hc,Dv=new Ow;const yb=new Qi("AllowMultipleToken");class kw{constructor(i,s){this.name=i,this.token=s}}function _b(n,i,s=[]){const d=`Platform: ${i}`,p=new Qi(d);return(b=[])=>{let S=vb();if(!S||S.injector.get(yb,!1))if(n)n(s.concat(b).concat({provide:p,useValue:!0}));else{const R=s.concat(b).concat({provide:p,useValue:!0},{provide:Fp,useValue:"platform"});!function Fw(n){if(hc&&!hc.destroyed&&!hc.injector.get(yb,!1))throw new it(400,"");hc=n.get(Vw);const i=n.get(hb,null);i&&i.forEach(s=>s())}(jl.create({providers:R,name:d}))}return function Lw(n){const i=vb();if(!i)throw new it(401,"");return i}()}}function vb(){return hc&&!hc.destroyed?hc:null}let Vw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const R=function Bw(n,i){let s;return s="noop"===n?new xw:("zone.js"===n?void 0:n)||new dc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),V=[{provide:dc,useValue:R}];return R.run(()=>{const te=jl.create({providers:V,parent:this.injector,name:s.moduleType.name}),ae=s.create(te),ye=ae.injector.get(bo,null);if(!ye)throw new it(402,"");return R.runOutsideAngular(()=>{const $e=R.onError.subscribe({next:ct=>{ye.handleError(ct)}});ae.onDestroy(()=>{Iv(this._modules,ae),$e.unsubscribe()})}),function Uw(n,i,s){try{const d=s();return fg(d)?d.catch(p=>{throw i.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(ye,R,()=>{const $e=ae.injector.get(yv);return $e.runInitializers(),$e.donePromise.then(()=>(function Ay(n){en(n,"Expected localeId to be defined"),"string"==typeof n&&(Sy=n.toLowerCase().replace(/_/g,"-"))}(ae.injector.get(vv,tp)||tp),this._moduleDoBootstrap(ae),ae))})})}bootstrapModule(s,d=[]){const p=bb({},d);return function Rw(n,i,s){const d=new iv(s);return Promise.resolve(d)}(0,0,s).then(b=>this.bootstrapModuleFactory(b,p))}_moduleDoBootstrap(s){const d=s.injector.get(Cv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new it(403,"");s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Hn(jl))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function bb(n,i){return Array.isArray(i)?i.reduce(bb,n):Object.assign(Object.assign({},n),i)}let Cv=(()=>{class n{constructor(s,d,p,b){this._zone=s,this._injector=d,this._exceptionHandler=p,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const S=new ue.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),R=new ue.y(V=>{let te;this._zone.runOutsideAngular(()=>{te=this._zone.onStable.subscribe(()=>{dc.assertNotInAngularZone(),bv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const ae=this._zone.onUnstable.subscribe(()=>{dc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{te.unsubscribe(),ae.unsubscribe()}});this.isStable=(0,be.T)(S,R.pipe((0,Ee.B)()))}bootstrap(s,d){if(!this._initStatus.done)throw new it(405,"");let p;p=s instanceof m0?s:this._injector.get(Fy).resolveComponentFactory(s),this.componentTypes.push(p.componentType);const b=function Nw(n){return n.isBoundToModule}(p)?void 0:this._injector.get(op),R=p.create(jl.NULL,[],d||p.selector,b),V=R.location.nativeElement,te=R.injector.get(mb,null),ae=te&&R.injector.get(Mw);return te&&ae&&ae.registerApplication(V,te),R.onDestroy(()=>{this.detachView(R.hostView),Iv(this.components,R),ae&&ae.unregisterApplication(V)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new it(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;Iv(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(fb,[]).concat(this._bootstrapListeners).forEach(p=>p(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(Hn(dc),Hn(jl),Hn(bo),Hn(yv))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Iv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let wb=!0,Db=!1;function Hw(){return Db=!0,wb}function $w(){if(Db)throw new Error("Cannot enable prod mode after platform setup.");wb=!1}let zw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gw,n})();function Gw(n){return function Ww(n,i,s){if(Cs(n)&&!s){const d=ni(n.index,i);return new Bg(d,d)}return 47&n.type?new Bg(i[16],i):null}(zn(),Q(),16==(16&n))}class Sb{constructor(){}supports(i){return Lh(i)}create(i){return new Xw(i)}}const Qw=(n,i)=>i;class Xw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Qw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,d=this._removalsHead,p=0,b=null;for(;s||d;){const S=!d||s&&s.currentIndex<xb(d,p,b)?s:d,R=xb(S,p,b),V=S.currentIndex;if(S===d)p--,d=d._nextRemoved;else if(s=s._next,null==S.previousIndex)p++;else{b||(b=[]);const te=R-p,ae=V-p;if(te!=ae){for(let $e=0;$e<te;$e++){const ct=$e<b.length?b[$e]:b[$e]=0,Vt=ct+$e;ae<=Vt&&Vt<te&&(b[$e]=ct+1)}b[S.previousIndex]=ae-te}}R!==V&&i(S,R,V)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Lh(i))throw new it(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,b,S,s=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let R=0;R<this.length;R++)b=i[R],S=this._trackByFn(R,b),null!==s&&Object.is(s.trackById,S)?(d&&(s=this._verifyReinsertion(s,b,S,R)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,S,R),d=!0),s=s._next}else p=0,function g_(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[jc()]();let d;for(;!(d=s.next()).done;)i(d.value)}}(i,R=>{S=this._trackByFn(p,R),null!==s&&Object.is(s.trackById,S)?(d&&(s=this._verifyReinsertion(s,R,S,p)),Object.is(s.item,R)||this._addIdentityChange(s,R)):(s=this._mismatch(s,R,S,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,d,p){let b;return null===i?b=this._itTail:(b=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,b,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,b,p)):i=this._addAfter(new Jw(s,d),b,p),i}_verifyReinsertion(i,s,d,p){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==b?i=this._reinsertAfter(b,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,b=i._nextRemoved;return null===p?this._removalsHead=b:p._nextRemoved=b,null===b?this._removalsTail=p:b._prevRemoved=p,this._insertAfter(i,s,d),this._addToMoves(i,d),i}_moveAfter(i,s,d){return this._unlink(i),this._insertAfter(i,s,d),this._addToMoves(i,d),i}_addAfter(i,s,d){return this._insertAfter(i,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,d){const p=null===s?this._itHead:s._next;return i._next=p,i._prev=s,null===p?this._itTail=i:p._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ab),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,d=i._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ab),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Jw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const s=i._prevDup,d=i._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class Ab{constructor(){this.map=new Map}put(i){const s=i.trackById;let d=this.map.get(s);d||(d=new eD,this.map.set(s,d)),d.add(i)}get(i,s){const p=this.map.get(i);return p?p.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xb(n,i,s){const d=n.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+i+p}class Mb{constructor(){}supports(i){return i instanceof Map||Vh(i)}create(){return new tD}}class tD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Vh(i)))throw new it(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const b=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,b)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const d=i._prev;return s._next=i,s._prev=d,i._prev=s,d&&(d._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,s);const b=p._prev,S=p._next;return b&&(b._next=S),S&&(S._prev=b),p._next=null,p._prev=null,p}const d=new nD(i);return this._records.set(i,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(d=>s(i[d],d))}}class nD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ob(){return new Mv([new Sb])}let Mv=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||Ob()),deps:[[n,new Za,new Uo]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new it(901,"")}}return n.\u0275prov=It({token:n,providedIn:"root",factory:Ob}),n})();function Pb(){return new Ov([new Mb])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||Pb()),deps:[[n,new Za,new Uo]]}}find(s){const d=this.factories.find(b=>b.supports(s));if(d)return d;throw new it(901,"")}}return n.\u0275prov=It({token:n,providedIn:"root",factory:Pb}),n})();const sD=_b(null,"core",[]);let oD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Hn(Cv))},n.\u0275mod=Qe({type:n}),n.\u0275inj=Xe({}),n})()},2382:(sn,st,K)=>{K.d(st,{Fj:()=>at,qu:()=>Vo,u:()=>Zs,sg:()=>wr,u5:()=>Mn,JJ:()=>Ji,JL:()=>Ni,F:()=>Ar,On:()=>ys,YN:()=>is,wV:()=>Le,UX:()=>oo,EJ:()=>Dr,kI:()=>Me,_Y:()=>ko,Kr:()=>mo});var E=K(5e3),H=K(9808),ue=K(8306),be=K(4742),Ee=K(8421),ke=K(7669),Je=K(5403),Ye=K(3268),tt=K(1810),pe=K(8996),Oe=K(4004);let xt=(()=>{class q{constructor(U,Q){this._renderer=U,this._elementRef=Q,this.onChange=rt=>{},this.onTouched=()=>{}}setProperty(U,Q){this._renderer.setProperty(this._elementRef.nativeElement,U,Q)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(E.Qsj),E.Y36(E.SBq))},q.\u0275dir=E.lG2({type:q}),q})(),ht=(()=>{class q extends xt{}return q.\u0275fac=function(){let $;return function(Q){return($||($=E.n5z(q)))(Q||q)}}(),q.\u0275dir=E.lG2({type:q,features:[E.qOj]}),q})();const it=new E.OlP("NgValueAccessor"),ft={provide:it,useExisting:(0,E.Gpc)(()=>at),multi:!0},qt=new E.OlP("CompositionEventMode");let at=(()=>{class q extends xt{constructor(U,Q,rt){super(U,Q),this._compositionMode=rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const q=(0,H.q)()?(0,H.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(U){this.setProperty("value",null==U?"":U)}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(qt,8))},q.\u0275dir=E.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,Q){1&U&&E.NdJ("input",function(Cn){return Q._handleInput(Cn.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(Cn){return Q._compositionEnd(Cn.target.value)})},features:[E._Bn([ft]),E.qOj]}),q})();function _e(q){return null==q||0===q.length}function qe(q){return null!=q&&"number"==typeof q.length}const Ot=new E.OlP("NgValidators"),kt=new E.OlP("NgAsyncValidators"),xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Me{static min($){return function Pe(q){return $=>{if(_e($.value)||_e(q))return null;const U=parseFloat($.value);return!isNaN(U)&&U<q?{min:{min:q,actual:$.value}}:null}}($)}static max($){return function Ae(q){return $=>{if(_e($.value)||_e(q))return null;const U=parseFloat($.value);return!isNaN(U)&&U>q?{max:{max:q,actual:$.value}}:null}}($)}static required($){return function Ze(q){return _e(q.value)?{required:!0}:null}($)}static requiredTrue($){return function mt(q){return!0===q.value?null:{required:!0}}($)}static email($){return function lt(q){return _e(q.value)||xe.test(q.value)?null:{email:!0}}($)}static minLength($){return function vn(q){return $=>_e($.value)||!qe($.value)?null:$.value.length<q?{minlength:{requiredLength:q,actualLength:$.value.length}}:null}($)}static maxLength($){return function pn(q){return $=>qe($.value)&&$.value.length>q?{maxlength:{requiredLength:q,actualLength:$.value.length}}:null}($)}static pattern($){return function Bn(q){if(!q)return en;let $,U;return"string"==typeof q?(U="","^"!==q.charAt(0)&&(U+="^"),U+=q,"$"!==q.charAt(q.length-1)&&(U+="$"),$=new RegExp(U)):(U=q.toString(),$=q),Q=>{if(_e(Q.value))return null;const rt=Q.value;return $.test(rt)?null:{pattern:{requiredPattern:U,actualValue:rt}}}}($)}static nullValidator($){return null}static compose($){return Xe($)}static composeAsync($){return nn($)}}function en(q){return null}function vt(q){return null!=q}function on(q){const $=(0,E.QGY)(q)?(0,pe.D)(q):q;return(0,E.CqO)($),$}function wn(q){let $={};return q.forEach(U=>{$=null!=U?Object.assign(Object.assign({},$),U):$}),0===Object.keys($).length?null:$}function Dt(q,$){return $.map(U=>U(q))}function Ve(q){return q.map($=>function It(q){return!q.validate}($)?$:U=>$.validate(U))}function Xe(q){if(!q)return null;const $=q.filter(vt);return 0==$.length?null:function(U){return wn(Dt(U,$))}}function Bt(q){return null!=q?Xe(Ve(q)):null}function nn(q){if(!q)return null;const $=q.filter(vt);return 0==$.length?null:function(U){return function ge(...q){const $=(0,ke.jO)(q),{args:U,keys:Q}=(0,be.D)(q),rt=new ue.y(Cn=>{const{length:zn}=U;if(!zn)return void Cn.complete();const vr=new Array(zn);let cs=zn,rs=zn;for(let wo=0;wo<zn;wo++){let Do=!1;(0,Ee.Xf)(U[wo]).subscribe((0,Je.x)(Cn,Ko=>{Do||(Do=!0,rs--),vr[wo]=Ko},()=>cs--,void 0,()=>{(!cs||!Do)&&(rs||Cn.next(Q?(0,tt.n)(Q,vr):vr),Cn.complete())}))}});return $?rt.pipe((0,Ye.Z)($)):rt}(Dt(U,$).map(on)).pipe((0,Oe.U)(wn))}}function Un(q){return null!=q?nn(Ve(q)):null}function Fi(q,$){return null===q?[$]:Array.isArray(q)?[...q,$]:[q,$]}function yi(q){return q._rawValidators}function Ri(q){return q._rawAsyncValidators}function An(q){return q?Array.isArray(q)?q:[q]:[]}function zi(q,$){return Array.isArray(q)?q.includes($):q===$}function Ei(q,$){const U=An($);return An(q).forEach(rt=>{zi(U,rt)||U.push(rt)}),U}function dn(q,$){return An($).filter(U=>!zi(q,U))}class Qn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,U){return!!this.control&&this.control.hasError($,U)}getError($,U){return this.control?this.control.getError($,U):null}}class Xn extends Qn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn extends Qn{get formDirective(){return null}get path(){return null}}class Er{constructor($){this._cd=$}is($){var U,Q,rt;return"submitted"===$?!!(null===(U=this._cd)||void 0===U?void 0:U.submitted):!!(null===(rt=null===(Q=this._cd)||void 0===Q?void 0:Q.control)||void 0===rt?void 0:rt[$])}}let Ji=(()=>{class q extends Er{constructor(U){super(U)}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(Xn,2))},q.\u0275dir=E.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,Q){2&U&&E.ekj("ng-untouched",Q.is("untouched"))("ng-touched",Q.is("touched"))("ng-pristine",Q.is("pristine"))("ng-dirty",Q.is("dirty"))("ng-valid",Q.is("valid"))("ng-invalid",Q.is("invalid"))("ng-pending",Q.is("pending"))},features:[E.qOj]}),q})(),Ni=(()=>{class q extends Er{constructor(U){super(U)}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(Zn,10))},q.\u0275dir=E.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(U,Q){2&U&&E.ekj("ng-untouched",Q.is("untouched"))("ng-touched",Q.is("touched"))("ng-pristine",Q.is("pristine"))("ng-dirty",Q.is("dirty"))("ng-valid",Q.is("valid"))("ng-invalid",Q.is("invalid"))("ng-pending",Q.is("pending"))("ng-submitted",Q.is("submitted"))},features:[E.qOj]}),q})();function ln(q,$){return[...$.path,q]}function Gn(q,$){He(q,$),$.valueAccessor.writeValue(q.value),function Qe(q,$){$.valueAccessor.registerOnChange(U=>{q._pendingValue=U,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&je(q,$)})}(q,$),function Se(q,$){const U=(Q,rt)=>{$.valueAccessor.writeValue(Q),rt&&$.viewToModelUpdate(Q)};q.registerOnChange(U),$._registerOnDestroy(()=>{q._unregisterOnChange(U)})}(q,$),function Zt(q,$){$.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&je(q,$),"submit"!==q.updateOn&&q.markAsTouched()})}(q,$),function ve(q,$){if($.valueAccessor.setDisabledState){const U=Q=>{$.valueAccessor.setDisabledState(Q)};q.registerOnDisabledChange(U),$._registerOnDestroy(()=>{q._unregisterOnDisabledChange(U)})}}(q,$)}function $n(q,$,U=!0){const Q=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(Q),$.valueAccessor.registerOnTouched(Q)),_t(q,$),q&&($._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Re(q,$){q.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange($)})}function He(q,$){const U=yi(q);null!==$.validator?q.setValidators(Fi(U,$.validator)):"function"==typeof U&&q.setValidators([U]);const Q=Ri(q);null!==$.asyncValidator?q.setAsyncValidators(Fi(Q,$.asyncValidator)):"function"==typeof Q&&q.setAsyncValidators([Q]);const rt=()=>q.updateValueAndValidity();Re($._rawValidators,rt),Re($._rawAsyncValidators,rt)}function _t(q,$){let U=!1;if(null!==q){if(null!==$.validator){const rt=yi(q);if(Array.isArray(rt)&&rt.length>0){const Cn=rt.filter(zn=>zn!==$.validator);Cn.length!==rt.length&&(U=!0,q.setValidators(Cn))}}if(null!==$.asyncValidator){const rt=Ri(q);if(Array.isArray(rt)&&rt.length>0){const Cn=rt.filter(zn=>zn!==$.asyncValidator);Cn.length!==rt.length&&(U=!0,q.setAsyncValidators(Cn))}}}const Q=()=>{};return Re($._rawValidators,Q),Re($._rawAsyncValidators,Q),U}function je(q,$){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function fe(q,$){He(q,$)}function tr(q,$){if(!q.hasOwnProperty("model"))return!1;const U=q.model;return!!U.isFirstChange()||!Object.is($,U.currentValue)}function as(q,$){q._syncPendingControls(),$.forEach(U=>{const Q=U.control;"submit"===Q.updateOn&&Q._pendingChange&&(U.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}function Pi(q,$){if(!$)return null;let U,Q,rt;return Array.isArray($),$.forEach(Cn=>{Cn.constructor===at?U=Cn:function Gs(q){return Object.getPrototypeOf(q.constructor)===ht}(Cn)?Q=Cn:rt=Cn}),rt||Q||U||null}function Yi(q,$){const U=q.indexOf($);U>-1&&q.splice(U,1)}const Nt="VALID",Wn="INVALID",wi="PENDING",or="DISABLED";function Gi(q){return(Qr(q)?q.validators:q)||null}function Yr(q){return Array.isArray(q)?Bt(q):q||null}function Ai(q,$){return(Qr($)?$.asyncValidators:q)||null}function nr(q){return Array.isArray(q)?Un(q):q||null}function Qr(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}const Kn=q=>q instanceof ar,Xr=q=>q instanceof Sr,Ms=q=>q instanceof xi;function Ws(q){return Kn(q)?q.value:q.getRawValue()}function Tr(q,$){const U=Xr(q),Q=q.controls;if(!(U?Object.keys(Q):Q).length)throw new E.vHH(1e3,"");if(!Q[$])throw new E.vHH(1001,"")}function Bi(q,$){Xr(q),q._forEachChild((Q,rt)=>{if(void 0===$[rt])throw new E.vHH(1002,"")})}class ir{constructor($,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=$,this._rawAsyncValidators=U,this._composedValidatorFn=Yr(this._rawValidators),this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===Nt}get invalid(){return this.status===Wn}get pending(){return this.status==wi}get disabled(){return this.status===or}get enabled(){return this.status!==or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._rawValidators=$,this._composedValidatorFn=Yr($)}setAsyncValidators($){this._rawAsyncValidators=$,this._composedAsyncValidatorFn=nr($)}addValidators($){this.setValidators(Ei($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(Ei($,this._rawAsyncValidators))}removeValidators($){this.setValidators(dn($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(dn($,this._rawAsyncValidators))}hasValidator($){return zi(this._rawValidators,$)}hasAsyncValidator($){return zi(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=wi,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const U=this._parentMarkedDirty($.onlySelf);this.status=or,this.errors=null,this._forEachChild(Q=>{Q.disable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:U})),this._onDisabledChange.forEach(Q=>Q(!0))}enable($={}){const U=this._parentMarkedDirty($.onlySelf);this.status=Nt,this._forEachChild(Q=>{Q.enable(Object.assign(Object.assign({},$),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},$),{skipPristineCheck:U})),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nt||this.status===wi)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?or:Nt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=wi,this._hasOwnPendingAsyncValidator=!0;const U=on(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,U={}){this.errors=$,this._updateControlsErrors(!1!==U.emitEvent)}get($){return function ls(q,$,U){if(null==$||(Array.isArray($)||($=$.split(U)),Array.isArray($)&&0===$.length))return null;let Q=q;return $.forEach(rt=>{Q=Xr(Q)?Q.controls.hasOwnProperty(rt)?Q.controls[rt]:null:Ms(Q)&&Q.at(rt)||null}),Q}(this,$,".")}getError($,U){const Q=U?this.get(U):this;return Q&&Q.errors?Q.errors[$]:null}hasError($,U){return!!this.getError($,U)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?or:this.errors?Wn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wi)?wi:this._anyControlsHaveStatus(Wn)?Wn:Nt}_anyControlsHaveStatus($){return this._anyControls(U=>U.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_isBoxedValue($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){Qr($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ar extends ir{constructor($=null,U,Q){super(Gi(U),Ai(Q,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qr(U)&&U.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue($)?$.value:$)}setValue($,U={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue($,U={}){this.setValue($,U)}reset($=this.defaultValue,U={}){this._applyFormState($),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){Yi(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){Yi(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){this._isBoxedValue($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}}class Sr extends ir{constructor($,U,Q){super(Gi(U),Ai(Q,U)),this.controls=$,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,U){return this.controls[$]?this.controls[$]:(this.controls[$]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl($,U,Q={}){this.registerControl($,U),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl($,U={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl($,U,Q={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],U&&this.registerControl($,U),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,U={}){Bi(this,$),Object.keys($).forEach(Q=>{Tr(this,Q),this.controls[Q].setValue($[Q],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue($,U={}){null!=$&&(Object.keys($).forEach(Q=>{this.controls[Q]&&this.controls[Q].patchValue($[Q],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset($={},U={}){this._forEachChild((Q,rt)=>{Q.reset($[rt],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},($,U,Q)=>($[Q]=Ws(U),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(U,Q)=>!!Q._syncPendingControls()||U);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(U=>{const Q=this.controls[U];Q&&$(Q,U)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const U of Object.keys(this.controls)){const Q=this.controls[U];if(this.contains(U)&&$(Q))return!0}return!1}_reduceValue(){return this._reduceChildren({},($,U,Q)=>((U.enabled||this.disabled)&&($[Q]=U.value),$))}_reduceChildren($,U){let Q=$;return this._forEachChild((rt,Cn)=>{Q=U(Q,rt,Cn)}),Q}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class xi extends ir{constructor($,U,Q){super(Gi(U),Ai(Q,U)),this.controls=$,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[$]}push($,U={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert($,U,Q={}){this.controls.splice($,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt($,U={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl($,U,Q={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),this.controls.splice($,1),U&&(this.controls.splice($,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,U={}){Bi(this,$),$.forEach((Q,rt)=>{Tr(this,rt),this.at(rt).setValue(Q,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue($,U={}){null!=$&&($.forEach((Q,rt)=>{this.at(rt)&&this.at(rt).patchValue(Q,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset($=[],U={}){this._forEachChild((Q,rt)=>{Q.reset($[rt],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map($=>Ws($))}clear($={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_syncPendingControls(){let $=this.controls.reduce((U,Q)=>!!Q._syncPendingControls()||U,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((U,Q)=>{$(U,Q)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(U=>U.enabled&&$(U))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}}const ri={provide:Zn,useExisting:(0,E.Gpc)(()=>Ar)},zr=(()=>Promise.resolve(null))();let Ar=(()=>{class q extends Zn{constructor(U,Q){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new E.vpe,this.form=new Sr({},Bt(U),Un(Q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){zr.then(()=>{const Q=this._findContainer(U.path);U.control=Q.registerControl(U.name,U.control),Gn(U.control,U),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){zr.then(()=>{const Q=this._findContainer(U.path);Q&&Q.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){zr.then(()=>{const Q=this._findContainer(U.path),rt=new Sr({});fe(rt,U),Q.registerControl(U.name,rt),rt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){zr.then(()=>{const Q=this._findContainer(U.path);Q&&Q.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,Q){zr.then(()=>{this.form.get(U.path).setValue(Q)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,as(this.form,this._directives),this.ngSubmit.emit(U),!1}onReset(){this.resetForm()}resetForm(U){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(Ot,10),E.Y36(kt,10))},q.\u0275dir=E.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(U,Q){1&U&&E.NdJ("submit",function(Cn){return Q.onSubmit(Cn)})("reset",function(){return Q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([ri]),E.qOj]}),q})();const No={provide:Xn,useExisting:(0,E.Gpc)(()=>ys)},Wi=(()=>Promise.resolve(null))();let ys=(()=>{class q extends Xn{constructor(U,Q,rt,Cn,zn){super(),this._changeDetectorRef=zn,this.control=new ar,this._registered=!1,this.update=new E.vpe,this._parent=U,this._setValidators(Q),this._setAsyncValidators(rt),this.valueAccessor=Pi(0,Cn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const Q=U.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),tr(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Wi.then(()=>{var Q;this.control.setValue(U,{emitViewToModelChange:!1}),null===(Q=this._changeDetectorRef)||void 0===Q||Q.markForCheck()})}_updateDisabled(U){const Q=U.isDisabled.currentValue,rt=""===Q||Q&&"false"!==Q;Wi.then(()=>{var Cn;rt&&!this.control.disabled?this.control.disable():!rt&&this.control.disabled&&this.control.enable(),null===(Cn=this._changeDetectorRef)||void 0===Cn||Cn.markForCheck()})}_getPath(U){return this._parent?ln(U,this._parent):[U]}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(Zn,9),E.Y36(Ot,10),E.Y36(kt,10),E.Y36(it,10),E.Y36(E.sBO,8))},q.\u0275dir=E.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([No]),E.qOj,E.TTD]}),q})(),ko=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275dir=E.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),q})();const We={provide:it,useExisting:(0,E.Gpc)(()=>Le),multi:!0};let Le=(()=>{class q extends ht{writeValue(U){this.setProperty("value",null==U?"":U)}registerOnChange(U){this.onChange=Q=>{U(""==Q?null:parseFloat(Q))}}}return q.\u0275fac=function(){let $;return function(Q){return($||($=E.n5z(q)))(Q||q)}}(),q.\u0275dir=E.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(U,Q){1&U&&E.NdJ("input",function(Cn){return Q.onChange(Cn.target.value)})("blur",function(){return Q.onTouched()})},features:[E._Bn([We]),E.qOj]}),q})(),Wt=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({}),q})();const Li=new E.OlP("NgModelWithFormControlWarning"),Ks={provide:Zn,useExisting:(0,E.Gpc)(()=>wr)};let wr=(()=>{class q extends Zn{constructor(U,Q){super(),this.validators=U,this.asyncValidators=Q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(U),this._setAsyncValidators(Q)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_t(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const Q=this.form.get(U.path);return Gn(Q,U),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),Q}getControl(U){return this.form.get(U.path)}removeControl(U){$n(U.control||null,U,!1),Yi(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,Q){this.form.get(U.path).setValue(Q)}onSubmit(U){return this.submitted=!0,as(this.form,this.directives),this.ngSubmit.emit(U),!1}onReset(){this.resetForm()}resetForm(U){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const Q=U.control,rt=this.form.get(U.path);Q!==rt&&($n(Q||null,U),Kn(rt)&&(Gn(rt,U),U.control=rt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const Q=this.form.get(U.path);fe(Q,U),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const Q=this.form.get(U.path);Q&&function ze(q,$){return _t(q,$)}(Q,U)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){He(this.form,this),this._oldForm&&_t(this._oldForm,this)}_checkFormPresent(){}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(Ot,10),E.Y36(kt,10))},q.\u0275dir=E.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(U,Q){1&U&&E.NdJ("submit",function(Cn){return Q.onSubmit(Cn)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([Ks]),E.qOj,E.TTD]}),q})();const ro={provide:Xn,useExisting:(0,E.Gpc)(()=>Zs)};let Zs=(()=>{class q extends Xn{constructor(U,Q,rt,Cn,zn){super(),this._ngModelWarningConfig=zn,this._added=!1,this.update=new E.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(Q),this._setAsyncValidators(rt),this.valueAccessor=Pi(0,Cn)}set isDisabled(U){}ngOnChanges(U){this._added||this._setUpControl(),tr(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return ln(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return q._ngModelWarningSentOnce=!1,q.\u0275fac=function(U){return new(U||q)(E.Y36(Zn,13),E.Y36(Ot,10),E.Y36(kt,10),E.Y36(it,10),E.Y36(Li,8))},q.\u0275dir=E.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[E._Bn([ro]),E.qOj,E.TTD]}),q})();const Fo={provide:it,useExisting:(0,E.Gpc)(()=>Dr),multi:!0};function Fs(q,$){return null==q?`${$}`:($&&"object"==typeof $&&($="Object"),`${q}: ${$}`.slice(0,50))}let Dr=(()=>{class q extends ht{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const rt=Fs(this._getOptionId(U),U);this.setProperty("value",rt)}registerOnChange(U){this.onChange=Q=>{this.value=this._getOptionValue(Q),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q),U))return Q;return null}_getOptionValue(U){const Q=function Os(q){return q.split(":")[0]}(U);return this._optionMap.has(Q)?this._optionMap.get(Q):U}}return q.\u0275fac=function(){let $;return function(Q){return($||($=E.n5z(q)))(Q||q)}}(),q.\u0275dir=E.lG2({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(U,Q){1&U&&E.NdJ("change",function(Cn){return Q.onChange(Cn.target.value)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([Fo]),E.qOj]}),q})(),is=(()=>{class q{constructor(U,Q,rt){this._element=U,this._renderer=Q,this._select=rt,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Fs(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(Dr,9))},q.\u0275dir=E.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})();const so={provide:it,useExisting:(0,E.Gpc)(()=>go),multi:!0};function Ys(q,$){return null==q?`${$}`:("string"==typeof $&&($=`'${$}'`),$&&"object"==typeof $&&($="Object"),`${q}: ${$}`.slice(0,50))}let go=(()=>{class q extends ht{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let Q;if(this.value=U,Array.isArray(U)){const rt=U.map(Cn=>this._getOptionId(Cn));Q=(Cn,zn)=>{Cn._setSelected(rt.indexOf(zn.toString())>-1)}}else Q=(rt,Cn)=>{rt._setSelected(!1)};this._optionMap.forEach(Q)}registerOnChange(U){this.onChange=Q=>{const rt=[],Cn=Q.selectedOptions;if(void 0!==Cn){const zn=Cn;for(let vr=0;vr<zn.length;vr++){const rs=this._getOptionValue(zn[vr].value);rt.push(rs)}}else{const zn=Q.options;for(let vr=0;vr<zn.length;vr++){const cs=zn[vr];if(cs.selected){const rs=this._getOptionValue(cs.value);rt.push(rs)}}}this.value=rt,U(rt)}}_registerOption(U){const Q=(this._idCounter++).toString();return this._optionMap.set(Q,U),Q}_getOptionId(U){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q)._value,U))return Q;return null}_getOptionValue(U){const Q=function Nr(q){return q.split(":")[0]}(U);return this._optionMap.has(Q)?this._optionMap.get(Q)._value:U}}return q.\u0275fac=function(){let $;return function(Q){return($||($=E.n5z(q)))(Q||q)}}(),q.\u0275dir=E.lG2({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(U,Q){1&U&&E.NdJ("change",function(Cn){return Q.onChange(Cn.target)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([so]),E.qOj]}),q})(),mo=(()=>{class q{constructor(U,Q,rt){this._element=U,this._renderer=Q,this._select=rt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Ys(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Ys(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return q.\u0275fac=function(U){return new(U||q)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(go,9))},q.\u0275dir=E.lG2({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),q})(),Cr=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({imports:[[Wt]]}),q})(),Mn=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({imports:[Cr]}),q})(),oo=(()=>{class q{static withConfig(U){return{ngModule:q,providers:[{provide:Li,useValue:U.warnOnNgModelWithFormControl}]}}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({imports:[Cr]}),q})(),Vo=(()=>{class q{group(U,Q=null){const rt=this._reduceControls(U);let vr,Cn=null,zn=null;return null!=Q&&(function Is(q){return void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn}(Q)?(Cn=null!=Q.validators?Q.validators:null,zn=null!=Q.asyncValidators?Q.asyncValidators:null,vr=null!=Q.updateOn?Q.updateOn:void 0):(Cn=null!=Q.validator?Q.validator:null,zn=null!=Q.asyncValidator?Q.asyncValidator:null)),new Sr(rt,{asyncValidators:zn,updateOn:vr,validators:Cn})}control(U,Q,rt){return new ar(U,Q,rt)}array(U,Q,rt){const Cn=U.map(zn=>this._createControl(zn));return new xi(Cn,Q,rt)}_reduceControls(U){const Q={};return Object.keys(U).forEach(rt=>{Q[rt]=this._createControl(U[rt])}),Q}_createControl(U){return Kn(U)||Xr(U)||Ms(U)?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275prov=E.Yz7({token:q,factory:q.\u0275fac,providedIn:oo}),q})()},2313:(sn,st,K)=>{K.d(st,{H7:()=>He,b2:()=>zi,q6:()=>Ri,se:()=>mt});var E=K(9808),H=K(5e3);class ue extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends ue{static makeCurrent(){(0,E.HT)(new be)}onAndCancel(Se,fe,ze){return Se.addEventListener(fe,ze,!1),()=>{Se.removeEventListener(fe,ze,!1)}}dispatchEvent(Se,fe){Se.dispatchEvent(fe)}remove(Se){Se.parentNode&&Se.parentNode.removeChild(Se)}createElement(Se,fe){return(fe=fe||this.getDefaultDocument()).createElement(Se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Se){return Se.nodeType===Node.ELEMENT_NODE}isShadowRoot(Se){return Se instanceof DocumentFragment}getGlobalEventTarget(Se,fe){return"window"===fe?window:"document"===fe?Se:"body"===fe?Se.body:null}getBaseHref(Se){const fe=function ke(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==fe?null:function Ye(je){Je=Je||document.createElement("a"),Je.setAttribute("href",je);const Se=Je.pathname;return"/"===Se.charAt(0)?Se:`/${Se}`}(fe)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(Se){return(0,E.Mx)(document.cookie,Se)}}let Je,Ee=null;const tt=new H.OlP("TRANSITION_ID"),pe=[{provide:H.ip1,useFactory:function ge(je,Se,fe){return()=>{fe.get(H.CZH).donePromise.then(()=>{const ze=(0,E.q)(),At=Se.querySelectorAll(`style[ng-transition="${je}"]`);for(let zt=0;zt<At.length;zt++)ze.remove(At[zt])})}},deps:[tt,E.K0,H.zs3],multi:!0}];class Oe{static init(){(0,H.VLi)(new Oe)}addToWindow(Se){H.dqk.getAngularTestability=(ze,At=!0)=>{const zt=Se.findTestabilityInTree(ze,At);if(null==zt)throw new Error("Could not find testability for element.");return zt},H.dqk.getAllAngularTestabilities=()=>Se.getAllTestabilities(),H.dqk.getAllAngularRootElements=()=>Se.getAllRootElements(),H.dqk.frameworkStabilizers||(H.dqk.frameworkStabilizers=[]),H.dqk.frameworkStabilizers.push(ze=>{const At=H.dqk.getAllAngularTestabilities();let zt=At.length,xn=!1;const Ci=function(tr){xn=xn||tr,zt--,0==zt&&ze(xn)};At.forEach(function(tr){tr.whenStable(Ci)})})}findTestabilityInTree(Se,fe,ze){if(null==fe)return null;const At=Se.getTestability(fe);return null!=At?At:ze?(0,E.q)().isShadowRoot(fe)?this.findTestabilityInTree(Se,fe.host,!0):this.findTestabilityInTree(Se,fe.parentElement,!0):null}}let xt=(()=>{class je{build(){return new XMLHttpRequest}}return je.\u0275fac=function(fe){return new(fe||je)},je.\u0275prov=H.Yz7({token:je,factory:je.\u0275fac}),je})();const ht=new H.OlP("EventManagerPlugins");let it=(()=>{class je{constructor(fe,ze){this._zone=ze,this._eventNameToPlugin=new Map,fe.forEach(At=>At.manager=this),this._plugins=fe.slice().reverse()}addEventListener(fe,ze,At){return this._findPluginFor(ze).addEventListener(fe,ze,At)}addGlobalEventListener(fe,ze,At){return this._findPluginFor(ze).addGlobalEventListener(fe,ze,At)}getZone(){return this._zone}_findPluginFor(fe){const ze=this._eventNameToPlugin.get(fe);if(ze)return ze;const At=this._plugins;for(let zt=0;zt<At.length;zt++){const xn=At[zt];if(xn.supports(fe))return this._eventNameToPlugin.set(fe,xn),xn}throw new Error(`No event manager plugin found for event ${fe}`)}}return je.\u0275fac=function(fe){return new(fe||je)(H.LFG(ht),H.LFG(H.R0b))},je.\u0275prov=H.Yz7({token:je,factory:je.\u0275fac}),je})();class Ht{constructor(Se){this._doc=Se}addGlobalEventListener(Se,fe,ze){const At=(0,E.q)().getGlobalEventTarget(this._doc,Se);if(!At)throw new Error(`Unsupported event target ${At} for event ${fe}`);return this.addEventListener(At,fe,ze)}}let yt=(()=>{class je{constructor(){this._stylesSet=new Set}addStyles(fe){const ze=new Set;fe.forEach(At=>{this._stylesSet.has(At)||(this._stylesSet.add(At),ze.add(At))}),this.onStylesAdded(ze)}onStylesAdded(fe){}getAllStyles(){return Array.from(this._stylesSet)}}return je.\u0275fac=function(fe){return new(fe||je)},je.\u0275prov=H.Yz7({token:je,factory:je.\u0275fac}),je})(),ft=(()=>{class je extends yt{constructor(fe){super(),this._doc=fe,this._hostNodes=new Map,this._hostNodes.set(fe.head,[])}_addStylesToHost(fe,ze,At){fe.forEach(zt=>{const xn=this._doc.createElement("style");xn.textContent=zt,At.push(ze.appendChild(xn))})}addHost(fe){const ze=[];this._addStylesToHost(this._stylesSet,fe,ze),this._hostNodes.set(fe,ze)}removeHost(fe){const ze=this._hostNodes.get(fe);ze&&ze.forEach(Fe),this._hostNodes.delete(fe)}onStylesAdded(fe){this._hostNodes.forEach((ze,At)=>{this._addStylesToHost(fe,At,ze)})}ngOnDestroy(){this._hostNodes.forEach(fe=>fe.forEach(Fe))}}return je.\u0275fac=function(fe){return new(fe||je)(H.LFG(E.K0))},je.\u0275prov=H.Yz7({token:je,factory:je.\u0275fac}),je})();function Fe(je){(0,E.q)().remove(je)}const qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g;function Pe(je,Se,fe){for(let ze=0;ze<Se.length;ze++){let At=Se[ze];Array.isArray(At)?Pe(je,At,fe):(At=At.replace(at,je),fe.push(At))}return fe}function Ae(je){return Se=>{if("__ngUnwrap__"===Se)return je;!1===je(Se)&&(Se.preventDefault(),Se.returnValue=!1)}}let mt=(()=>{class je{constructor(fe,ze,At){this.eventManager=fe,this.sharedStylesHost=ze,this.appId=At,this.rendererByCompId=new Map,this.defaultRenderer=new lt(fe)}createRenderer(fe,ze){if(!fe||!ze)return this.defaultRenderer;switch(ze.encapsulation){case H.ifc.Emulated:{let At=this.rendererByCompId.get(ze.id);return At||(At=new Bn(this.eventManager,this.sharedStylesHost,ze,this.appId),this.rendererByCompId.set(ze.id,At)),At.applyToHost(fe),At}case 1:case H.ifc.ShadowDom:return new en(this.eventManager,this.sharedStylesHost,fe,ze);default:if(!this.rendererByCompId.has(ze.id)){const At=Pe(ze.id,ze.styles,[]);this.sharedStylesHost.addStyles(At),this.rendererByCompId.set(ze.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return je.\u0275fac=function(fe){return new(fe||je)(H.LFG(it),H.LFG(ft),H.LFG(H.AFp))},je.\u0275prov=H.Yz7({token:je,factory:je.\u0275fac}),je})();class lt{constructor(Se){this.eventManager=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Se,fe){return fe?document.createElementNS(qt[fe]||fe,Se):document.createElement(Se)}createComment(Se){return document.createComment(Se)}createText(Se){return document.createTextNode(Se)}appendChild(Se,fe){Se.appendChild(fe)}insertBefore(Se,fe,ze){Se&&Se.insertBefore(fe,ze)}removeChild(Se,fe){Se&&Se.removeChild(fe)}selectRootElement(Se,fe){let ze="string"==typeof Se?document.querySelector(Se):Se;if(!ze)throw new Error(`The selector "${Se}" did not match any elements`);return fe||(ze.textContent=""),ze}parentNode(Se){return Se.parentNode}nextSibling(Se){return Se.nextSibling}setAttribute(Se,fe,ze,At){if(At){fe=At+":"+fe;const zt=qt[At];zt?Se.setAttributeNS(zt,fe,ze):Se.setAttribute(fe,ze)}else Se.setAttribute(fe,ze)}removeAttribute(Se,fe,ze){if(ze){const At=qt[ze];At?Se.removeAttributeNS(At,fe):Se.removeAttribute(`${ze}:${fe}`)}else Se.removeAttribute(fe)}addClass(Se,fe){Se.classList.add(fe)}removeClass(Se,fe){Se.classList.remove(fe)}setStyle(Se,fe,ze,At){At&(H.JOm.DashCase|H.JOm.Important)?Se.style.setProperty(fe,ze,At&H.JOm.Important?"important":""):Se.style[fe]=ze}removeStyle(Se,fe,ze){ze&H.JOm.DashCase?Se.style.removeProperty(fe):Se.style[fe]=""}setProperty(Se,fe,ze){Se[fe]=ze}setValue(Se,fe){Se.nodeValue=fe}listen(Se,fe,ze){return"string"==typeof Se?this.eventManager.addGlobalEventListener(Se,fe,Ae(ze)):this.eventManager.addEventListener(Se,fe,Ae(ze))}}class Bn extends lt{constructor(Se,fe,ze,At){super(Se),this.component=ze;const zt=Pe(At+"-"+ze.id,ze.styles,[]);fe.addStyles(zt),this.contentAttr=function xe(je){return"_ngcontent-%COMP%".replace(at,je)}(At+"-"+ze.id),this.hostAttr=function Me(je){return"_nghost-%COMP%".replace(at,je)}(At+"-"+ze.id)}applyToHost(Se){super.setAttribute(Se,this.hostAttr,"")}createElement(Se,fe){const ze=super.createElement(Se,fe);return super.setAttribute(ze,this.contentAttr,""),ze}}class en extends lt{constructor(Se,fe,ze,At){super(Se),this.sharedStylesHost=fe,this.hostEl=ze,this.shadowRoot=ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const zt=Pe(At.id,At.styles,[]);for(let xn=0;xn<zt.length;xn++){const Ci=document.createElement("style");Ci.textContent=zt[xn],this.shadowRoot.appendChild(Ci)}}nodeOrShadowRoot(Se){return Se===this.hostEl?this.shadowRoot:Se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Se,fe){return super.appendChild(this.nodeOrShadowRoot(Se),fe)}insertBefore(Se,fe,ze){return super.insertBefore(this.nodeOrShadowRoot(Se),fe,ze)}removeChild(Se,fe){return super.removeChild(this.nodeOrShadowRoot(Se),fe)}parentNode(Se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Se)))}}let vt=(()=>{class je extends Ht{constructor(fe){super(fe)}supports(fe){return!0}addEventListener(fe,ze,At){return fe.addEventListener(ze,At,!1),()=>this.removeEventListener(fe,ze,At)}removeEventListener(fe,ze,At){return fe.removeEventListener(ze,At)}}return je.\u0275fac=function(fe){return new(fe||je)(H.LFG(E.K0))},je.\u0275prov=H.Yz7({token:je,factory:je.\u0275fac}),je})();const on=["alt","control","meta","shift"],Dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},It={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ve={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let Xe=(()=>{class je extends Ht{constructor(fe){super(fe)}supports(fe){return null!=je.parseEventName(fe)}addEventListener(fe,ze,At){const zt=je.parseEventName(ze),xn=je.eventCallback(zt.fullKey,At,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(fe,zt.domEventName,xn))}static parseEventName(fe){const ze=fe.toLowerCase().split("."),At=ze.shift();if(0===ze.length||"keydown"!==At&&"keyup"!==At)return null;const zt=je._normalizeKey(ze.pop());let xn="";if(on.forEach(tr=>{const Gs=ze.indexOf(tr);Gs>-1&&(ze.splice(Gs,1),xn+=tr+".")}),xn+=zt,0!=ze.length||0===zt.length)return null;const Ci={};return Ci.domEventName=At,Ci.fullKey=xn,Ci}static getEventFullKey(fe){let ze="",At=function Bt(je){let Se=je.key;if(null==Se){if(Se=je.keyIdentifier,null==Se)return"Unidentified";Se.startsWith("U+")&&(Se=String.fromCharCode(parseInt(Se.substring(2),16)),3===je.location&&It.hasOwnProperty(Se)&&(Se=It[Se]))}return Dt[Se]||Se}(fe);return At=At.toLowerCase()," "===At?At="space":"."===At&&(At="dot"),on.forEach(zt=>{zt!=At&&Ve[zt](fe)&&(ze+=zt+".")}),ze+=At,ze}static eventCallback(fe,ze,At){return zt=>{je.getEventFullKey(zt)===fe&&At.runGuarded(()=>ze(zt))}}static _normalizeKey(fe){return"esc"===fe?"escape":fe}}return je.\u0275fac=function(fe){return new(fe||je)(H.LFG(E.K0))},je.\u0275prov=H.Yz7({token:je,factory:je.\u0275fac}),je})();const Ri=(0,H.eFA)(H._c5,"browser",[{provide:H.Lbi,useValue:E.bD},{provide:H.g9A,useValue:function nn(){be.makeCurrent(),Oe.init()},multi:!0},{provide:E.K0,useFactory:function Fi(){return(0,H.RDi)(document),document},deps:[]}]),An=[{provide:H.zSh,useValue:"root"},{provide:H.qLn,useFactory:function Un(){return new H.qLn},deps:[]},{provide:ht,useClass:vt,multi:!0,deps:[E.K0,H.R0b,H.Lbi]},{provide:ht,useClass:Xe,multi:!0,deps:[E.K0]},{provide:mt,useClass:mt,deps:[it,ft,H.AFp]},{provide:H.FYo,useExisting:mt},{provide:yt,useExisting:ft},{provide:ft,useClass:ft,deps:[E.K0]},{provide:H.dDg,useClass:H.dDg,deps:[H.R0b]},{provide:it,useClass:it,deps:[ht,H.R0b]},{provide:E.JF,useClass:xt,deps:[]}];let zi=(()=>{class je{constructor(fe){if(fe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(fe){return{ngModule:je,providers:[{provide:H.AFp,useValue:fe.appId},{provide:tt,useExisting:H.AFp},pe]}}}return je.\u0275fac=function(fe){return new(fe||je)(H.LFG(je,12))},je.\u0275mod=H.oAB({type:je}),je.\u0275inj=H.cJS({providers:An,imports:[E.ez,H.hGG]}),je})();"undefined"!=typeof window&&window;let He=(()=>{class je{}return je.\u0275fac=function(fe){return new(fe||je)},je.\u0275prov=H.Yz7({token:je,factory:function(fe){let ze=null;return ze=fe?new(fe||je):H.LFG(Qe),ze},providedIn:"root"}),je})(),Qe=(()=>{class je extends He{constructor(fe){super(),this._doc=fe}sanitize(fe,ze){if(null==ze)return null;switch(fe){case H.q3G.NONE:return ze;case H.q3G.HTML:return(0,H.qzn)(ze,"HTML")?(0,H.z3N)(ze):(0,H.EiD)(this._doc,String(ze)).toString();case H.q3G.STYLE:return(0,H.qzn)(ze,"Style")?(0,H.z3N)(ze):ze;case H.q3G.SCRIPT:if((0,H.qzn)(ze,"Script"))return(0,H.z3N)(ze);throw new Error("unsafe value used in a script context");case H.q3G.URL:return(0,H.yhl)(ze),(0,H.qzn)(ze,"URL")?(0,H.z3N)(ze):(0,H.mCW)(String(ze));case H.q3G.RESOURCE_URL:if((0,H.qzn)(ze,"ResourceURL"))return(0,H.z3N)(ze);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${fe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(fe){return(0,H.JVY)(fe)}bypassSecurityTrustStyle(fe){return(0,H.L6k)(fe)}bypassSecurityTrustScript(fe){return(0,H.eBb)(fe)}bypassSecurityTrustUrl(fe){return(0,H.LAX)(fe)}bypassSecurityTrustResourceUrl(fe){return(0,H.pB0)(fe)}}return je.\u0275fac=function(fe){return new(fe||je)(H.LFG(E.K0))},je.\u0275prov=H.Yz7({token:je,factory:function(fe){let ze=null;return ze=fe?new fe:function _t(je){return new Qe(je.get(E.K0))}(H.LFG(H.zs3)),ze},providedIn:"root"}),je})()},441:(sn,st,K)=>{K.d(st,{F0:()=>ss,rH:()=>Ps,Od:()=>To,yS:()=>Io,Bz:()=>Ie,lC:()=>Qs});var E=K(5e3),H=K(8306),ue=K(4742),be=K(8996),Ee=K(4671),ke=K(3268),Je=K(7669),Ye=K(1810),tt=K(5403),ge=K(9672);function xt(P,M,x){P?(0,ge.f)(x,P,M):M()}var ht=K(576);function it(P,M){const x=(0,ht.m)(P)?P:()=>P,k=L=>L.error(x());return new H.y(M?L=>M.schedule(k,0,L):k)}var Ht=K(8421);function yt(P){return new H.y(M=>{(0,Ht.Xf)(P()).subscribe(M)})}var ft=K(727),Fe=K(4482);function qt(){return(0,Fe.e)((P,M)=>{let x=null;P._refCount++;const k=(0,tt.x)(M,void 0,void 0,void 0,()=>{if(!P||P._refCount<=0||0<--P._refCount)return void(x=null);const L=P._connection,X=x;x=null,L&&(!X||L===X)&&L.unsubscribe(),M.unsubscribe()});P.subscribe(k),k.closed||(x=P.connect())})}class at extends H.y{constructor(M,x){super(),this.source=M,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,Fe.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new ft.w0;const x=this.getSubject();M.add(this.source.subscribe((0,tt.x)(x,void 0,()=>{this._teardown(),x.complete()},k=>{this._teardown(),x.error(k)},()=>this._teardown()))),M.closed&&(this._connection=null,M=ft.w0.EMPTY)}return M}refCount(){return qt()(this)}}var _e=K(9646),qe=K(1135),Ot=K(6805),kt=K(7272),xe=K(515),Me=K(7579);function Pe(P){return(0,Fe.e)((M,x)=>{let X,k=null,L=!1;k=M.subscribe((0,tt.x)(x,void 0,void 0,me=>{X=(0,Ht.Xf)(P(me,Pe(P)(M))),k?(k.unsubscribe(),k=null,X.subscribe(x)):L=!0})),L&&(k.unsubscribe(),k=null,X.subscribe(x))})}var Ae=K(5577);function Ze(P,M){return(0,ht.m)(M)?(0,Ae.z)(P,M,1):(0,Ae.z)(P,1)}var mt=K(9300);function lt(P){return P<=0?()=>xe.E:(0,Fe.e)((M,x)=>{let k=[];M.subscribe((0,tt.x)(x,L=>{k.push(L),P<k.length&&k.shift()},()=>{for(const L of k)x.next(L);x.complete()},void 0,()=>{k=null}))})}var vn=K(8068),pn=K(6590),vt=K(4004),on=K(3900),wn=K(5698),Dt=K(8675),It=K(5026),Ve=K(590),Xe=K(8505),Bt=K(8189),nn=K(9808);class Un{constructor(M,x){this.id=M,this.url=x}}class Fi extends Un{constructor(M,x,k="imperative",L=null){super(M,x),this.navigationTrigger=k,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yi extends Un{constructor(M,x,k){super(M,x),this.urlAfterRedirects=k}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ri extends Un{constructor(M,x,k){super(M,x),this.reason=k}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class An extends Un{constructor(M,x,k){super(M,x),this.error=k}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zi extends Un{constructor(M,x,k,L){super(M,x),this.urlAfterRedirects=k,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends Un{constructor(M,x,k,L){super(M,x),this.urlAfterRedirects=k,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends Un{constructor(M,x,k,L,X){super(M,x),this.urlAfterRedirects=k,this.state=L,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qn extends Un{constructor(M,x,k,L){super(M,x),this.urlAfterRedirects=k,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends Un{constructor(M,x,k,L){super(M,x),this.urlAfterRedirects=k,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn{constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Er{constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $r{constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(M,x,k){this.routerEvent=M,this.position=x,this.anchor=k}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qt="primary";class Dn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const x=this.params[M];return Array.isArray(x)?x[0]:x}return null}getAll(M){if(this.has(M)){const x=this.params[M];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function In(P){return new Dn(P)}const er="ngNavigationCancelingError";function gr(P){const M=Error("NavigationCancelingError: "+P);return M[er]=!0,M}function Rr(P,M,x){const k=x.path.split("/");if(k.length>P.length||"full"===x.pathMatch&&(M.hasChildren()||k.length<P.length))return null;const L={};for(let X=0;X<k.length;X++){const me=k[X],Be=P[X];if(me.startsWith(":"))L[me.substring(1)]=Be;else if(me!==Be.path)return null}return{consumed:P.slice(0,k.length),posParams:L}}function hi(P,M){const x=P?Object.keys(P):void 0,k=M?Object.keys(M):void 0;if(!x||!k||x.length!=k.length)return!1;let L;for(let X=0;X<x.length;X++)if(L=x[X],!bn(P[L],M[L]))return!1;return!0}function bn(P,M){if(Array.isArray(P)&&Array.isArray(M)){if(P.length!==M.length)return!1;const x=[...P].sort(),k=[...M].sort();return x.every((L,X)=>k[X]===L)}return P===M}function cr(P){return Array.prototype.concat.apply([],P)}function kn(P){return P.length>0?P[P.length-1]:null}function Ct(P,M){for(const x in P)P.hasOwnProperty(x)&&M(P[x],x)}function un(P){return(0,E.CqO)(P)?P:(0,E.QGY)(P)?(0,be.D)(Promise.resolve(P)):(0,_e.of)(P)}const Gn={exact:function He(P,M,x){if(!zt(P.segments,M.segments)||!je(P.segments,M.segments,x)||P.numberOfChildren!==M.numberOfChildren)return!1;for(const k in M.children)if(!P.children[k]||!He(P.children[k],M.children[k],x))return!1;return!0},subset:Qe},$n={exact:function ve(P,M){return hi(P,M)},subset:function _t(P,M){return Object.keys(M).length<=Object.keys(P).length&&Object.keys(M).every(x=>bn(P[x],M[x]))},ignored:()=>!0};function Re(P,M,x){return Gn[x.paths](P.root,M.root,x.matrixParams)&&$n[x.queryParams](P.queryParams,M.queryParams)&&!("exact"===x.fragment&&P.fragment!==M.fragment)}function Qe(P,M,x){return Zt(P,M,M.segments,x)}function Zt(P,M,x,k){if(P.segments.length>x.length){const L=P.segments.slice(0,x.length);return!(!zt(L,x)||M.hasChildren()||!je(L,x,k))}if(P.segments.length===x.length){if(!zt(P.segments,x)||!je(P.segments,x,k))return!1;for(const L in M.children)if(!P.children[L]||!Qe(P.children[L],M.children[L],k))return!1;return!0}{const L=x.slice(0,P.segments.length),X=x.slice(P.segments.length);return!!(zt(P.segments,L)&&je(P.segments,L,k)&&P.children[Qt])&&Zt(P.children[Qt],M,X,k)}}function je(P,M,x){return M.every((k,L)=>$n[x](P[L].parameters,k.parameters))}class Se{constructor(M,x,k){this.root=M,this.queryParams=x,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return Gs.serialize(this)}}class fe{constructor(M,x){this.segments=M,this.children=x,this.parent=null,Ct(x,(k,L)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return as(this)}}class ze{constructor(M,x){this.path=M,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=In(this.parameters)),this._parameterMap}toString(){return or(this)}}function zt(P,M){return P.length===M.length&&P.every((x,k)=>x.path===M[k].path)}class Ci{}class tr{parse(M){const x=new Ms(M);return new Se(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(M){const x=`/${Pi(M.root,!0)}`,k=function Gi(P){const M=Object.keys(P).map(x=>{const k=P[x];return Array.isArray(k)?k.map(L=>`${Ur(x)}=${Ur(L)}`).join("&"):`${Ur(x)}=${Ur(k)}`}).filter(x=>!!x);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${x}${k}${"string"==typeof M.fragment?`#${function Ii(P){return encodeURI(P)}(M.fragment)}`:""}`}}const Gs=new tr;function as(P){return P.segments.map(M=>or(M)).join("/")}function Pi(P,M){if(!P.hasChildren())return as(P);if(M){const x=P.children[Qt]?Pi(P.children[Qt],!1):"",k=[];return Ct(P.children,(L,X)=>{X!==Qt&&k.push(`${X}:${Pi(L,!1)}`)}),k.length>0?`${x}(${k.join("//")})`:x}{const x=function xn(P,M){let x=[];return Ct(P.children,(k,L)=>{L===Qt&&(x=x.concat(M(k,L)))}),Ct(P.children,(k,L)=>{L!==Qt&&(x=x.concat(M(k,L)))}),x}(P,(k,L)=>L===Qt?[Pi(P.children[Qt],!1)]:[`${L}:${Pi(k,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[Qt]?`${as(P)}/${x[0]}`:`${as(P)}/(${x.join("//")})`}}function Yi(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ur(P){return Yi(P).replace(/%3B/gi,";")}function Nt(P){return Yi(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wn(P){return decodeURIComponent(P)}function wi(P){return Wn(P.replace(/\+/g,"%20"))}function or(P){return`${Nt(P.path)}${function ls(P){return Object.keys(P).map(M=>`;${Nt(M)}=${Nt(P[M])}`).join("")}(P.parameters)}`}const Yr=/^[^\/()?;=#]+/;function Ai(P){const M=P.match(Yr);return M?M[0]:""}const nr=/^[^=?&#]+/,Kn=/^[^&#]+/;class Ms{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(M.length>0||Object.keys(x).length>0)&&(k[Qt]=new fe(M,x)),k}parseSegment(){const M=Ai(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(M),new ze(Wn(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const x=Ai(this.remaining);if(!x)return;this.capture(x);let k="";if(this.consumeOptional("=")){const L=Ai(this.remaining);L&&(k=L,this.capture(k))}M[Wn(x)]=Wn(k)}parseQueryParam(M){const x=function Qr(P){const M=P.match(nr);return M?M[0]:""}(this.remaining);if(!x)return;this.capture(x);let k="";if(this.consumeOptional("=")){const me=function Xr(P){const M=P.match(Kn);return M?M[0]:""}(this.remaining);me&&(k=me,this.capture(k))}const L=wi(x),X=wi(k);if(M.hasOwnProperty(L)){let me=M[L];Array.isArray(me)||(me=[me],M[L]=me),me.push(X)}else M[L]=X}parseParens(M){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Ai(this.remaining),L=this.remaining[k.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let X;k.indexOf(":")>-1?(X=k.substr(0,k.indexOf(":")),this.capture(X),this.capture(":")):M&&(X=Qt);const me=this.parseChildren();x[X]=1===Object.keys(me).length?me[Qt]:new fe([],me),this.consumeOptional("//")}return x}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new Error(`Expected "${M}".`)}}class Ws{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const x=this.pathFromRoot(M);return x.length>1?x[x.length-2]:null}children(M){const x=Tr(M,this._root);return x?x.children.map(k=>k.value):[]}firstChild(M){const x=Tr(M,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(M){const x=Bi(M,this._root);return x.length<2?[]:x[x.length-2].children.map(L=>L.value).filter(L=>L!==M)}pathFromRoot(M){return Bi(M,this._root).map(x=>x.value)}}function Tr(P,M){if(P===M.value)return M;for(const x of M.children){const k=Tr(P,x);if(k)return k}return null}function Bi(P,M){if(P===M.value)return[M];for(const x of M.children){const k=Bi(P,x);if(k.length)return k.unshift(M),k}return[]}class ir{constructor(M,x){this.value=M,this.children=x}toString(){return`TreeNode(${this.value})`}}function ar(P){const M={};return P&&P.children.forEach(x=>M[x.value.outlet]=x),M}class Sr extends Ws{constructor(M,x){super(M),this.snapshot=x,Jr(this,M)}toString(){return this.snapshot.toString()}}function xi(P,M){const x=function ri(P,M){const me=new ms([],{},{},"",{},Qt,M,null,P.root,-1,{});return new Cs("",new ir(me,[]))}(P,M),k=new qe.X([new ze("",{})]),L=new qe.X({}),X=new qe.X({}),me=new qe.X({}),Be=new qe.X(""),Et=new zr(k,L,me,Be,X,Qt,M,x.root);return Et.snapshot=x.root,new Sr(new ir(Et,[]),x)}class zr{constructor(M,x,k,L,X,me,Be,Et){this.url=M,this.params=x,this.queryParams=k,this.fragment=L,this.data=X,this.outlet=me,this.component=Be,this._futureSnapshot=Et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(M=>In(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(M=>In(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(P,M="emptyOnly"){const x=P.pathFromRoot;let k=0;if("always"!==M)for(k=x.length-1;k>=1;){const L=x[k],X=x[k-1];if(L.routeConfig&&""===L.routeConfig.path)k--;else{if(X.component)break;k--}}return function mr(P){return P.reduce((M,x)=>({params:Object.assign(Object.assign({},M.params),x.params),data:Object.assign(Object.assign({},M.data),x.data),resolve:Object.assign(Object.assign({},M.resolve),x._resolvedData)}),{params:{},data:{},resolve:{}})}(x.slice(k))}class ms{constructor(M,x,k,L,X,me,Be,Et,gn,vi,Pt){this.url=M,this.params=x,this.queryParams=k,this.fragment=L,this.data=X,this.outlet=me,this.component=Be,this.routeConfig=Et,this._urlSegment=gn,this._lastPathIndex=vi,this._resolve=Pt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=In(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cs extends Ws{constructor(M,x){super(x),this.url=M,Jr(this,x)}toString(){return Gr(this._root)}}function Jr(P,M){M.value._routerState=P,M.children.forEach(x=>Jr(P,x))}function Gr(P){const M=P.children.length>0?` { ${P.children.map(Gr).join(", ")} } `:"";return`${P.value}${M}`}function po(P){if(P.snapshot){const M=P.snapshot,x=P._futureSnapshot;P.snapshot=x,hi(M.queryParams,x.queryParams)||P.queryParams.next(x.queryParams),M.fragment!==x.fragment&&P.fragment.next(x.fragment),hi(M.params,x.params)||P.params.next(x.params),function Zi(P,M){if(P.length!==M.length)return!1;for(let x=0;x<P.length;++x)if(!hi(P[x],M[x]))return!1;return!0}(M.url,x.url)||P.url.next(x.url),hi(M.data,x.data)||P.data.next(x.data)}else P.snapshot=P._futureSnapshot,P.data.next(P._futureSnapshot.data)}function us(P,M){const x=hi(P.params,M.params)&&function At(P,M){return zt(P,M)&&P.every((x,k)=>hi(x.parameters,M[k].parameters))}(P.url,M.url);return x&&!(!P.parent!=!M.parent)&&(!P.parent||us(P.parent,M.parent))}function Wi(P,M,x){if(x&&P.shouldReuseRoute(M.value,x.value.snapshot)){const k=x.value;k._futureSnapshot=M.value;const L=function ys(P,M,x){return M.children.map(k=>{for(const L of x.children)if(P.shouldReuseRoute(k.value,L.value.snapshot))return Wi(P,k,L);return Wi(P,k)})}(P,M,x);return new ir(k,L)}{if(P.shouldAttach(M.value)){const X=P.retrieve(M.value);if(null!==X){const me=X.route;return me.value._futureSnapshot=M.value,me.children=M.children.map(Be=>Wi(P,Be)),me}}const k=function ko(P){return new zr(new qe.X(P.url),new qe.X(P.params),new qe.X(P.queryParams),new qe.X(P.fragment),new qe.X(P.data),P.outlet,P.component,P)}(M.value),L=M.children.map(X=>Wi(P,X));return new ir(k,L)}}function Le(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function ut(P){return"object"==typeof P&&null!=P&&P.outlets}function Rt(P,M,x,k,L){let X={};if(k&&Ct(k,(Be,Et)=>{X[Et]=Array.isArray(Be)?Be.map(gn=>`${gn}`):`${Be}`}),P===M)return new Se(x,X,L);const me=Wt(P,M,x);return new Se(me,X,L)}function Wt(P,M,x){const k={};return Ct(P.children,(L,X)=>{k[X]=L===M?x:Wt(L,M,x)}),new fe(P.segments,k)}class Rn{constructor(M,x,k){if(this.isAbsolute=M,this.numberOfDoubleDots=x,this.commands=k,M&&k.length>0&&Le(k[0]))throw new Error("Root segment cannot have matrix parameters");const L=k.find(ut);if(L&&L!==kn(k))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dr{constructor(M,x,k){this.segmentGroup=M,this.processChildren=x,this.index=k}}function _s(P,M,x){if(P||(P=new fe([],{})),0===P.segments.length&&P.hasChildren())return Ks(P,M,x);const k=function wr(P,M,x){let k=0,L=M;const X={match:!1,pathIndex:0,commandIndex:0};for(;L<P.segments.length;){if(k>=x.length)return X;const me=P.segments[L],Be=x[k];if(ut(Be))break;const Et=`${Be}`,gn=k<x.length-1?x[k+1]:null;if(L>0&&void 0===Et)break;if(Et&&gn&&"object"==typeof gn&&void 0===gn.outlets){if(!Wr(Et,gn,me))return X;k+=2}else{if(!Wr(Et,{},me))return X;k++}L++}return{match:!0,pathIndex:L,commandIndex:k}}(P,M,x),L=x.slice(k.commandIndex);if(k.match&&k.pathIndex<P.segments.length){const X=new fe(P.segments.slice(0,k.pathIndex),{});return X.children[Qt]=new fe(P.segments.slice(k.pathIndex),P.children),Ks(X,0,L)}return k.match&&0===L.length?new fe(P.segments,{}):k.match&&!P.hasChildren()?qs(P,M,x):k.match?Ks(P,0,L):qs(P,M,x)}function Ks(P,M,x){if(0===x.length)return new fe(P.segments,{});{const k=function ji(P){return ut(P[0])?P[0].outlets:{[Qt]:P}}(x),L={};return Ct(k,(X,me)=>{"string"==typeof X&&(X=[X]),null!==X&&(L[me]=_s(P.children[me],M,X))}),Ct(P.children,(X,me)=>{void 0===k[me]&&(L[me]=X)}),new fe(P.segments,L)}}function qs(P,M,x){const k=P.segments.slice(0,M);let L=0;for(;L<x.length;){const X=x[L];if(ut(X)){const Et=vs(X.outlets);return new fe(k,Et)}if(0===L&&Le(x[0])){k.push(new ze(P.segments[M].path,io(x[0]))),L++;continue}const me=ut(X)?X.outlets[Qt]:`${X}`,Be=L<x.length-1?x[L+1]:null;me&&Be&&Le(Be)?(k.push(new ze(me,io(Be))),L+=2):(k.push(new ze(me,{})),L++)}return new fe(k,{})}function vs(P){const M={};return Ct(P,(x,k)=>{"string"==typeof x&&(x=[x]),null!==x&&(M[k]=qs(new fe([],{}),0,x))}),M}function io(P){const M={};return Ct(P,(x,k)=>M[k]=`${x}`),M}function Wr(P,M,x){return P==x.path&&hi(M,x.parameters)}class ro{constructor(M,x,k,L){this.routeReuseStrategy=M,this.futureState=x,this.currState=k,this.forwardEvent=L}activate(M){const x=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,k,M),po(this.futureState.root),this.activateChildRoutes(x,k,M)}deactivateChildRoutes(M,x,k){const L=ar(x);M.children.forEach(X=>{const me=X.value.outlet;this.deactivateRoutes(X,L[me],k),delete L[me]}),Ct(L,(X,me)=>{this.deactivateRouteAndItsChildren(X,k)})}deactivateRoutes(M,x,k){const L=M.value,X=x?x.value:null;if(L===X)if(L.component){const me=k.getContext(L.outlet);me&&this.deactivateChildRoutes(M,x,me.children)}else this.deactivateChildRoutes(M,x,k);else X&&this.deactivateRouteAndItsChildren(x,k)}deactivateRouteAndItsChildren(M,x){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,x):this.deactivateRouteAndOutlet(M,x)}detachAndStoreRouteSubtree(M,x){const k=x.getContext(M.value.outlet),L=k&&M.value.component?k.children:x,X=ar(M);for(const me of Object.keys(X))this.deactivateRouteAndItsChildren(X[me],L);if(k&&k.outlet){const me=k.outlet.detach(),Be=k.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:me,route:M,contexts:Be})}}deactivateRouteAndOutlet(M,x){const k=x.getContext(M.value.outlet),L=k&&M.value.component?k.children:x,X=ar(M);for(const me of Object.keys(X))this.deactivateRouteAndItsChildren(X[me],L);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(M,x,k){const L=ar(x);M.children.forEach(X=>{this.activateRoutes(X,L[X.value.outlet],k),this.forwardEvent(new Ni(X.value.snapshot))}),M.children.length&&this.forwardEvent(new oi(M.value.snapshot))}activateRoutes(M,x,k){const L=M.value,X=x?x.value:null;if(po(L),L===X)if(L.component){const me=k.getOrCreateContext(L.outlet);this.activateChildRoutes(M,x,me.children)}else this.activateChildRoutes(M,x,k);else if(L.component){const me=k.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Be=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),me.children.onOutletReAttached(Be.contexts),me.attachRef=Be.componentRef,me.route=Be.route.value,me.outlet&&me.outlet.attach(Be.componentRef,Be.route.value),po(Be.route.value),this.activateChildRoutes(M,null,me.children)}else{const Be=function Zs(P){for(let M=P.parent;M;M=M.parent){const x=M.routeConfig;if(x&&x._loadedConfig)return x._loadedConfig;if(x&&x.component)return null}return null}(L.snapshot),Et=Be?Be.module.componentFactoryResolver:null;me.attachRef=null,me.route=L,me.resolver=Et,me.outlet&&me.outlet.activateWith(L,Et),this.activateChildRoutes(M,null,me.children)}}else this.activateChildRoutes(M,null,k)}}class Fo{constructor(M,x){this.routes=M,this.module=x}}function Fs(P){return"function"==typeof P}function Dr(P){return P instanceof Se}const kr=Symbol("INITIAL_VALUE");function go(){return(0,on.w)(P=>function pe(...P){const M=(0,Je.yG)(P),x=(0,Je.jO)(P),{args:k,keys:L}=(0,ue.D)(P);if(0===k.length)return(0,be.D)([],M);const X=new H.y(function Oe(P,M,x=Ee.y){return k=>{xt(M,()=>{const{length:L}=P,X=new Array(L);let me=L,Be=L;for(let Et=0;Et<L;Et++)xt(M,()=>{const gn=(0,be.D)(P[Et],M);let vi=!1;gn.subscribe((0,tt.x)(k,Pt=>{X[Et]=Pt,vi||(vi=!0,Be--),Be||k.next(x(X.slice()))},()=>{--me||k.complete()}))},k)},k)}}(k,M,L?me=>(0,Ye.n)(L,me):Ee.y));return x?X.pipe((0,ke.Z)(x)):X}(P.map(M=>M.pipe((0,wn.q)(1),(0,Dt.O)(kr)))).pipe((0,It.R)((M,x)=>{let k=!1;return x.reduce((L,X,me)=>L!==kr?L:(X===kr&&(k=!0),k||!1!==X&&me!==x.length-1&&!Dr(X)?L:X),M)},kr),(0,mt.h)(M=>M!==kr),(0,vt.U)(M=>Dr(M)?M:!0===M),(0,wn.q)(1)))}class mo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yr,this.attachRef=null}}class yr{constructor(){this.contexts=new Map}onChildOutletCreated(M,x){const k=this.getOrCreateContext(M);k.outlet=x,this.contexts.set(M,k)}onChildOutletDestroyed(M){const x=this.getContext(M);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let x=this.getContext(M);return x||(x=new mo,this.contexts.set(M,x)),x}getContext(M){return this.contexts.get(M)||null}}let Qs=(()=>{class P{constructor(x,k,L,X,me){this.parentContexts=x,this.location=k,this.resolver=L,this.changeDetector=me,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=X||Qt,x.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const x=this.parentContexts.getContext(this.name);x&&x.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,k){this.activated=x,this._activatedRoute=k,this.location.insert(x.hostView),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,k){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=x;const me=(k=k||this.resolver).resolveComponentFactory(x._futureSnapshot.routeConfig.component),Be=this.parentContexts.getOrCreateContext(this.name).children,Et=new es(x,Be,this.location.injector);this.activated=this.location.createComponent(me,this.location.length,Et),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return P.\u0275fac=function(x){return new(x||P)(E.Y36(yr),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},P.\u0275dir=E.lG2({type:P,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),P})();class es{constructor(M,x,k){this.route=M,this.childContexts=x,this.parent=k}get(M,x){return M===zr?this.route:M===yr?this.childContexts:this.parent.get(M,x)}}let Fr=(()=>{class P{}return P.\u0275fac=function(x){return new(x||P)},P.\u0275cmp=E.Xpm({type:P,selectors:[["ng-component"]],decls:1,vars:0,template:function(x,k){1&x&&E._UZ(0,"router-outlet")},directives:[Qs],encapsulation:2}),P})();function Lo(P,M=""){for(let x=0;x<P.length;x++){const k=P[x];Xs(k,Ti(M,k))}}function Xs(P,M){P.children&&Lo(P.children,M)}function Ti(P,M){return M?P||M.path?P&&!M.path?`${P}/`:!P&&M.path?M.path:`${P}/${M.path}`:"":P}function G(P){const M=P.children&&P.children.map(G),x=M?Object.assign(Object.assign({},P),{children:M}):Object.assign({},P);return!x.component&&(M||x.loadChildren)&&x.outlet&&x.outlet!==Qt&&(x.component=Fr),x}function se(P){return P.outlet||Qt}function z(P,M){const x=P.filter(k=>se(k)===M);return x.push(...P.filter(k=>se(k)!==M)),x}const le={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ce(P,M,x){var k;if(""===M.path)return"full"===M.pathMatch&&(P.hasChildren()||x.length>0)?Object.assign({},le):{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const X=(M.matcher||Rr)(x,P,M);if(!X)return Object.assign({},le);const me={};Ct(X.posParams,(Et,gn)=>{me[gn]=Et.path});const Be=X.consumed.length>0?Object.assign(Object.assign({},me),X.consumed[X.consumed.length-1].parameters):me;return{matched:!0,consumedSegments:X.consumed,remainingSegments:x.slice(X.consumed.length),parameters:Be,positionalParamSegments:null!==(k=X.posParams)&&void 0!==k?k:{}}}function bt(P,M,x,k,L="corrected"){if(x.length>0&&function _i(P,M,x){return x.some(k=>ni(P,M,k)&&se(k)!==Qt)}(P,x,k)){const me=new fe(M,function Jt(P,M,x,k){const L={};L[Qt]=k,k._sourceSegment=P,k._segmentIndexShift=M.length;for(const X of x)if(""===X.path&&se(X)!==Qt){const me=new fe([],{});me._sourceSegment=P,me._segmentIndexShift=M.length,L[se(X)]=me}return L}(P,M,k,new fe(x,P.children)));return me._sourceSegment=P,me._segmentIndexShift=M.length,{segmentGroup:me,slicedSegments:[]}}if(0===x.length&&function Si(P,M,x){return x.some(k=>ni(P,M,k))}(P,x,k)){const me=new fe(P.segments,function Ft(P,M,x,k,L,X){const me={};for(const Be of k)if(ni(P,x,Be)&&!L[se(Be)]){const Et=new fe([],{});Et._sourceSegment=P,Et._segmentIndexShift="legacy"===X?P.segments.length:M.length,me[se(Be)]=Et}return Object.assign(Object.assign({},L),me)}(P,M,x,k,P.children,L));return me._sourceSegment=P,me._segmentIndexShift=M.length,{segmentGroup:me,slicedSegments:x}}const X=new fe(P.segments,P.children);return X._sourceSegment=P,X._segmentIndexShift=M.length,{segmentGroup:X,slicedSegments:x}}function ni(P,M,x){return(!(P.hasChildren()||M.length>0)||"full"!==x.pathMatch)&&""===x.path}function fi(P,M,x,k){return!!(se(P)===k||k!==Qt&&ni(M,x,P))&&("**"===P.path||Ce(M,P,x).matched)}function _r(P,M,x){return 0===M.length&&!P.children[x]}class Hi{constructor(M){this.segmentGroup=M||null}}class Vi{constructor(M){this.urlTree=M}}function bs(P){return it(new Hi(P))}function Cr(P){return it(new Vi(P))}class Vo{constructor(M,x,k,L,X){this.configLoader=x,this.urlSerializer=k,this.urlTree=L,this.config=X,this.allowRedirects=!0,this.ngModule=M.get(E.h0i)}apply(){const M=bt(this.urlTree.root,[],[],this.config).segmentGroup,x=new fe(M.segments,M.children);return this.expandSegmentGroup(this.ngModule,this.config,x,Qt).pipe((0,vt.U)(X=>this.createUrlTree(q(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pe(X=>{if(X instanceof Vi)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof Hi?this.noMatchError(X):X}))}match(M){return this.expandSegmentGroup(this.ngModule,this.config,M.root,Qt).pipe((0,vt.U)(L=>this.createUrlTree(q(L),M.queryParams,M.fragment))).pipe(Pe(L=>{throw L instanceof Hi?this.noMatchError(L):L}))}noMatchError(M){return new Error(`Cannot match any routes. URL Segment: '${M.segmentGroup}'`)}createUrlTree(M,x,k){const L=M.segments.length>0?new fe([],{[Qt]:M}):M;return new Se(L,x,k)}expandSegmentGroup(M,x,k,L){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(M,x,k).pipe((0,vt.U)(X=>new fe([],X))):this.expandSegment(M,k,x,k.segments,L,!0)}expandChildren(M,x,k){const L=[];for(const X of Object.keys(k.children))"primary"===X?L.unshift(X):L.push(X);return(0,be.D)(L).pipe(Ze(X=>{const me=k.children[X],Be=z(x,X);return this.expandSegmentGroup(M,Be,me,X).pipe((0,vt.U)(Et=>({segment:Et,outlet:X})))}),(0,It.R)((X,me)=>(X[me.outlet]=me.segment,X),{}),function Bn(P,M){const x=arguments.length>=2;return k=>k.pipe(P?(0,mt.h)((L,X)=>P(L,X,k)):Ee.y,lt(1),x?(0,pn.d)(M):(0,vn.T)(()=>new Ot.K))}())}expandSegment(M,x,k,L,X,me){return(0,be.D)(k).pipe(Ze(Be=>this.expandSegmentAgainstRoute(M,x,k,Be,L,X,me).pipe(Pe(gn=>{if(gn instanceof Hi)return(0,_e.of)(null);throw gn}))),(0,Ve.P)(Be=>!!Be),Pe((Be,Et)=>{if(Be instanceof Ot.K||"EmptyError"===Be.name)return _r(x,L,X)?(0,_e.of)(new fe([],{})):bs(x);throw Be}))}expandSegmentAgainstRoute(M,x,k,L,X,me,Be){return fi(L,x,X,me)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(M,x,L,X,me):Be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,x,k,L,X,me):bs(x):bs(x)}expandSegmentAgainstRouteUsingRedirect(M,x,k,L,X,me){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,k,L,me):this.expandRegularSegmentAgainstRouteUsingRedirect(M,x,k,L,X,me)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,x,k,L){const X=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Cr(X):this.lineralizeSegments(k,X).pipe((0,Ae.z)(me=>{const Be=new fe(me,{});return this.expandSegment(M,Be,x,me,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,x,k,L,X,me){const{matched:Be,consumedSegments:Et,remainingSegments:gn,positionalParamSegments:vi}=Ce(x,L,X);if(!Be)return bs(x);const Pt=this.applyRedirectCommands(Et,L.redirectTo,vi);return L.redirectTo.startsWith("/")?Cr(Pt):this.lineralizeSegments(L,Pt).pipe((0,Ae.z)(cn=>this.expandSegment(M,x,k,cn.concat(gn),me,!1)))}matchSegmentAgainstRoute(M,x,k,L,X){if("**"===k.path)return k.loadChildren?(k._loadedConfig?(0,_e.of)(k._loadedConfig):this.configLoader.load(M.injector,k)).pipe((0,vt.U)(Pt=>(k._loadedConfig=Pt,new fe(L,{})))):(0,_e.of)(new fe(L,{}));const{matched:me,consumedSegments:Be,remainingSegments:Et}=Ce(x,k,L);return me?this.getChildConfig(M,k,L).pipe((0,Ae.z)(vi=>{const Pt=vi.module,cn=vi.routes,{segmentGroup:rn,slicedSegments:ci}=bt(x,Be,Et,cn),fr=new fe(rn.segments,rn.children);if(0===ci.length&&fr.hasChildren())return this.expandChildren(Pt,cn,fr).pipe((0,vt.U)(mn=>new fe(Be,mn)));if(0===cn.length&&0===ci.length)return(0,_e.of)(new fe(Be,{}));const pr=se(k)===X;return this.expandSegment(Pt,fr,cn,ci,pr?Qt:X,!0).pipe((0,vt.U)(ps=>new fe(Be.concat(ps.segments),ps.children)))})):bs(x)}getChildConfig(M,x,k){return x.children?(0,_e.of)(new Fo(x.children,M)):x.loadChildren?void 0!==x._loadedConfig?(0,_e.of)(x._loadedConfig):this.runCanLoadGuards(M.injector,x,k).pipe((0,Ae.z)(L=>L?this.configLoader.load(M.injector,x).pipe((0,vt.U)(X=>(x._loadedConfig=X,X))):function oo(P){return it(gr(`Cannot load children because the guard of the route "path: '${P.path}'" returned false`))}(x))):(0,_e.of)(new Fo([],M))}runCanLoadGuards(M,x,k){const L=x.canLoad;if(!L||0===L.length)return(0,_e.of)(!0);const X=L.map(me=>{const Be=M.get(me);let Et;if(function is(P){return P&&Fs(P.canLoad)}(Be))Et=Be.canLoad(x,k);else{if(!Fs(Be))throw new Error("Invalid CanLoad guard");Et=Be(x,k)}return un(Et)});return(0,_e.of)(X).pipe(go(),(0,Xe.b)(me=>{if(!Dr(me))return;const Be=gr(`Redirecting to "${this.urlSerializer.serialize(me)}"`);throw Be.url=me,Be}),(0,vt.U)(me=>!0===me))}lineralizeSegments(M,x){let k=[],L=x.root;for(;;){if(k=k.concat(L.segments),0===L.numberOfChildren)return(0,_e.of)(k);if(L.numberOfChildren>1||!L.children[Qt])return it(new Error(`Only absolute redirects can have named outlets. redirectTo: '${M.redirectTo}'`));L=L.children[Qt]}}applyRedirectCommands(M,x,k){return this.applyRedirectCreatreUrlTree(x,this.urlSerializer.parse(x),M,k)}applyRedirectCreatreUrlTree(M,x,k,L){const X=this.createSegmentGroup(M,x.root,k,L);return new Se(X,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(M,x){const k={};return Ct(M,(L,X)=>{if("string"==typeof L&&L.startsWith(":")){const Be=L.substring(1);k[X]=x[Be]}else k[X]=L}),k}createSegmentGroup(M,x,k,L){const X=this.createSegments(M,x.segments,k,L);let me={};return Ct(x.children,(Be,Et)=>{me[Et]=this.createSegmentGroup(M,Be,k,L)}),new fe(X,me)}createSegments(M,x,k,L){return x.map(X=>X.path.startsWith(":")?this.findPosParam(M,X,L):this.findOrReturn(X,k))}findPosParam(M,x,k){const L=k[x.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${M}'. Cannot find '${x.path}'.`);return L}findOrReturn(M,x){let k=0;for(const L of x){if(L.path===M.path)return x.splice(k),L;k++}return M}}function q(P){const M={};for(const k of Object.keys(P.children)){const X=q(P.children[k]);(X.segments.length>0||X.hasChildren())&&(M[k]=X)}return function ao(P){if(1===P.numberOfChildren&&P.children[Qt]){const M=P.children[Qt];return new fe(P.segments.concat(M.segments),M.children)}return P}(new fe(P.segments,M))}class U{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Q{constructor(M,x){this.component=M,this.route=x}}function rt(P,M,x){const k=P._root;return cs(k,M?M._root:null,x,[k.value])}function zn(P,M,x){const k=function vr(P){if(!P)return null;for(let M=P.parent;M;M=M.parent){const x=M.routeConfig;if(x&&x._loadedConfig)return x._loadedConfig}return null}(M);return(k?k.module.injector:x).get(P)}function cs(P,M,x,k,L={canDeactivateChecks:[],canActivateChecks:[]}){const X=ar(M);return P.children.forEach(me=>{(function rs(P,M,x,k,L={canDeactivateChecks:[],canActivateChecks:[]}){const X=P.value,me=M?M.value:null,Be=x?x.getContext(P.value.outlet):null;if(me&&X.routeConfig===me.routeConfig){const Et=function wo(P,M,x){if("function"==typeof x)return x(P,M);switch(x){case"pathParamsChange":return!zt(P.url,M.url);case"pathParamsOrQueryParamsChange":return!zt(P.url,M.url)||!hi(P.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!us(P,M)||!hi(P.queryParams,M.queryParams);default:return!us(P,M)}}(me,X,X.routeConfig.runGuardsAndResolvers);Et?L.canActivateChecks.push(new U(k)):(X.data=me.data,X._resolvedData=me._resolvedData),cs(P,M,X.component?Be?Be.children:null:x,k,L),Et&&Be&&Be.outlet&&Be.outlet.isActivated&&L.canDeactivateChecks.push(new Q(Be.outlet.component,me))}else me&&Do(M,Be,L),L.canActivateChecks.push(new U(k)),cs(P,null,X.component?Be?Be.children:null:x,k,L)})(me,X[me.value.outlet],x,k.concat([me.value]),L),delete X[me.value.outlet]}),Ct(X,(me,Be)=>Do(me,x.getContext(Be),L)),L}function Do(P,M,x){const k=ar(P),L=P.value;Ct(k,(X,me)=>{Do(X,L.component?M?M.children.getContext(me):null:M,x)}),x.canDeactivateChecks.push(new Q(L.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,L))}class Lr{}function Zo(P){return new H.y(M=>M.error(P))}class Yo{constructor(M,x,k,L,X,me){this.rootComponentType=M,this.config=x,this.urlTree=k,this.url=L,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=me}recognize(){const M=bt(this.urlTree.root,[],[],this.config.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution).segmentGroup,x=this.processSegmentGroup(this.config,M,Qt);if(null===x)return null;const k=new ms([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new ir(k,x),X=new Cs(this.url,L);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(M){const x=M.value,k=Ar(x,this.paramsInheritanceStrategy);x.params=Object.freeze(k.params),x.data=Object.freeze(k.data),M.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(M,x,k){return 0===x.segments.length&&x.hasChildren()?this.processChildren(M,x):this.processSegment(M,x,x.segments,k)}processChildren(M,x){const k=[];for(const X of Object.keys(x.children)){const me=x.children[X],Be=z(M,X),Et=this.processSegmentGroup(Be,me,X);if(null===Et)return null;k.push(...Et)}const L=oa(k);return function rl(P){P.sort((M,x)=>M.value.outlet===Qt?-1:x.value.outlet===Qt?1:M.value.outlet.localeCompare(x.value.outlet))}(L),L}processSegment(M,x,k,L){for(const X of M){const me=this.processSegmentAgainstRoute(X,x,k,L);if(null!==me)return me}return _r(x,k,L)?[]:null}processSegmentAgainstRoute(M,x,k,L){if(M.redirectTo||!fi(M,x,k,L))return null;let X,me=[],Be=[];if("**"===M.path){const rn=k.length>0?kn(k).parameters:{};X=new ms(k,rn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hs(M),se(M),M.component,M,aa(x),va(x)+k.length,Ma(M))}else{const rn=Ce(x,M,k);if(!rn.matched)return null;me=rn.consumedSegments,Be=rn.remainingSegments,X=new ms(me,rn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hs(M),se(M),M.component,M,aa(x),va(x)+me.length,Ma(M))}const Et=function sa(P){return P.children?P.children:P.loadChildren?P._loadedConfig.routes:[]}(M),{segmentGroup:gn,slicedSegments:vi}=bt(x,me,Be,Et.filter(rn=>void 0===rn.redirectTo),this.relativeLinkResolution);if(0===vi.length&&gn.hasChildren()){const rn=this.processChildren(Et,gn);return null===rn?null:[new ir(X,rn)]}if(0===Et.length&&0===vi.length)return[new ir(X,[])];const Pt=se(M)===L,cn=this.processSegment(Et,gn,vi,Pt?Qt:L);return null===cn?null:[new ir(X,cn)]}}function Vs(P){const M=P.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function oa(P){const M=[],x=new Set;for(const k of P){if(!Vs(k)){M.push(k);continue}const L=M.find(X=>k.value.routeConfig===X.value.routeConfig);void 0!==L?(L.children.push(...k.children),x.add(L)):M.push(k)}for(const k of x){const L=oa(k.children);M.push(new ir(k.value,L))}return M.filter(k=>!x.has(k))}function aa(P){let M=P;for(;M._sourceSegment;)M=M._sourceSegment;return M}function va(P){let M=P,x=M._segmentIndexShift?M._segmentIndexShift:0;for(;M._sourceSegment;)M=M._sourceSegment,x+=M._segmentIndexShift?M._segmentIndexShift:0;return x-1}function hs(P){return P.data||{}}function Ma(P){return P.resolve||{}}function ba(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}function fs(P){return(0,on.w)(M=>{const x=P(M);return x?(0,be.D)(x).pipe((0,vt.U)(()=>M)):(0,_e.of)(M)})}class $a extends class ts{shouldDetach(M){return!1}store(M,x){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,x){return M.routeConfig===x.routeConfig}}{}const za=new E.OlP("ROUTES");class Gl{constructor(M,x,k,L){this.injector=M,this.compiler=x,this.onLoadStartListener=k,this.onLoadEndListener=L}load(M,x){if(x._loader$)return x._loader$;this.onLoadStartListener&&this.onLoadStartListener(x);const L=this.loadModuleFactory(x.loadChildren).pipe((0,vt.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(x);const me=X.create(M);return new Fo(cr(me.injector.get(za,void 0,E.XFs.Self|E.XFs.Optional)).map(G),me)}),Pe(X=>{throw x._loader$=void 0,X}));return x._loader$=new at(L,()=>new Me.x).pipe(qt()),x._loader$}loadModuleFactory(M){return un(M()).pipe((0,Ae.z)(x=>x instanceof E.YKP?(0,_e.of)(x):(0,be.D)(this.compiler.compileModuleAsync(x))))}}class Ga{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,x){return M}}function Ra(P){throw P}function Co(P,M,x){return M.parse("/")}function zo(P,M){return(0,_e.of)(null)}const la={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ns={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ss=(()=>{class P{constructor(x,k,L,X,me,Be,Et){this.rootComponentType=x,this.urlSerializer=k,this.rootContexts=L,this.location=X,this.config=Et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Me.x,this.errorHandler=Ra,this.malformedUriErrorHandler=Co,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zo,afterPreactivation:zo},this.urlHandlingStrategy=new Ga,this.routeReuseStrategy=new $a,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=me.get(E.h0i),this.console=me.get(E.c2e);const Pt=me.get(E.R0b);this.isNgZoneEnabled=Pt instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(Et),this.currentUrlTree=function ln(){return new Se(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gl(me,Be,cn=>this.triggerEvent(new Zn(cn)),cn=>this.triggerEvent(new Er(cn))),this.routerState=xi(this.currentUrlTree,this.rootComponentType),this.transitions=new qe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var x;return null===(x=this.location.getState())||void 0===x?void 0:x.\u0275routerPageId}setupNavigations(x){const k=this.events;return x.pipe((0,mt.h)(L=>0!==L.id),(0,vt.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,on.w)(L=>{let X=!1,me=!1;return(0,_e.of)(L).pipe((0,Xe.b)(Be=>{this.currentNavigation={id:Be.id,initialUrl:Be.currentRawUrl,extractedUrl:Be.extractedUrl,trigger:Be.source,extras:Be.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,on.w)(Be=>{const Et=this.browserUrlTree.toString(),gn=!this.navigated||Be.extractedUrl.toString()!==Et||Et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||gn)&&this.urlHandlingStrategy.shouldProcessUrl(Be.rawUrl))return yo(Be.source)&&(this.browserUrlTree=Be.extractedUrl),(0,_e.of)(Be).pipe((0,on.w)(Pt=>{const cn=this.transitions.getValue();return k.next(new Fi(Pt.id,this.serializeUrl(Pt.extractedUrl),Pt.source,Pt.restoredState)),cn!==this.transitions.getValue()?xe.E:Promise.resolve(Pt)}),function $(P,M,x,k){return(0,on.w)(L=>function Is(P,M,x,k,L){return new Vo(P,M,x,k,L).apply()}(P,M,x,L.extractedUrl,k).pipe((0,vt.U)(X=>Object.assign(Object.assign({},L),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xe.b)(Pt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Pt.urlAfterRedirects})}),function Bs(P,M,x,k,L){return(0,Ae.z)(X=>function Vr(P,M,x,k,L="emptyOnly",X="legacy"){try{const me=new Yo(P,M,x,k,L,X).recognize();return null===me?Zo(new Lr):(0,_e.of)(me)}catch(me){return Zo(me)}}(P,M,X.urlAfterRedirects,x(X.urlAfterRedirects),k,L).pipe((0,vt.U)(me=>Object.assign(Object.assign({},X),{targetSnapshot:me}))))}(this.rootComponentType,this.config,Pt=>this.serializeUrl(Pt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xe.b)(Pt=>{if("eager"===this.urlUpdateStrategy){if(!Pt.extras.skipLocationChange){const rn=this.urlHandlingStrategy.merge(Pt.urlAfterRedirects,Pt.rawUrl);this.setBrowserUrl(rn,Pt)}this.browserUrlTree=Pt.urlAfterRedirects}const cn=new zi(Pt.id,this.serializeUrl(Pt.extractedUrl),this.serializeUrl(Pt.urlAfterRedirects),Pt.targetSnapshot);k.next(cn)}));if(gn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:cn,extractedUrl:rn,source:ci,restoredState:fr,extras:pr}=Be,xr=new Fi(cn,this.serializeUrl(rn),ci,fr);k.next(xr);const ps=xi(rn,this.rootComponentType).snapshot;return(0,_e.of)(Object.assign(Object.assign({},Be),{targetSnapshot:ps,urlAfterRedirects:rn,extras:Object.assign(Object.assign({},pr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Be.rawUrl,Be.resolve(null),xe.E}),fs(Be=>{const{targetSnapshot:Et,id:gn,extractedUrl:vi,rawUrl:Pt,extras:{skipLocationChange:cn,replaceUrl:rn}}=Be;return this.hooks.beforePreactivation(Et,{navigationId:gn,appliedUrlTree:vi,rawUrlTree:Pt,skipLocationChange:!!cn,replaceUrl:!!rn})}),(0,Xe.b)(Be=>{const Et=new Ei(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot);this.triggerEvent(Et)}),(0,vt.U)(Be=>Object.assign(Object.assign({},Be),{guards:rt(Be.targetSnapshot,Be.currentSnapshot,this.rootContexts)})),function Ko(P,M){return(0,Ae.z)(x=>{const{targetSnapshot:k,currentSnapshot:L,guards:{canActivateChecks:X,canDeactivateChecks:me}}=x;return 0===me.length&&0===X.length?(0,_e.of)(Object.assign(Object.assign({},x),{guardsResult:!0})):function il(P,M,x,k){return(0,be.D)(P).pipe((0,Ae.z)(L=>function Ts(P,M,x,k,L){const X=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,_e.of)(!0);const me=X.map(Be=>{const Et=zn(Be,M,L);let gn;if(function Nr(P){return P&&Fs(P.canDeactivate)}(Et))gn=un(Et.canDeactivate(P,M,x,k));else{if(!Fs(Et))throw new Error("Invalid CanDeactivate guard");gn=un(Et(P,M,x,k))}return gn.pipe((0,Ve.P)())});return(0,_e.of)(me).pipe(go())}(L.component,L.route,x,M,k)),(0,Ve.P)(L=>!0!==L,!0))}(me,k,L,P).pipe((0,Ae.z)(Be=>Be&&function Os(P){return"boolean"==typeof P}(Be)?function qo(P,M,x,k){return(0,be.D)(M).pipe(Ze(L=>(0,kt.z)(function ds(P,M){return null!==P&&M&&M(new $r(P)),(0,_e.of)(!0)}(L.route.parent,k),function Es(P,M){return null!==P&&M&&M(new Ji(P)),(0,_e.of)(!0)}(L.route,k),function xa(P,M,x){const k=M[M.length-1],X=M.slice(0,M.length-1).reverse().map(me=>function Cn(P){const M=P.routeConfig?P.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:P,guards:M}:null}(me)).filter(me=>null!==me).map(me=>yt(()=>{const Be=me.guards.map(Et=>{const gn=zn(Et,me.node,x);let vi;if(function Ys(P){return P&&Fs(P.canActivateChild)}(gn))vi=un(gn.canActivateChild(k,P));else{if(!Fs(gn))throw new Error("Invalid CanActivateChild guard");vi=un(gn(k,P))}return vi.pipe((0,Ve.P)())});return(0,_e.of)(Be).pipe(go())}));return(0,_e.of)(X).pipe(go())}(P,L.path,x),function Ls(P,M,x){const k=M.routeConfig?M.routeConfig.canActivate:null;if(!k||0===k.length)return(0,_e.of)(!0);const L=k.map(X=>yt(()=>{const me=zn(X,M,x);let Be;if(function so(P){return P&&Fs(P.canActivate)}(me))Be=un(me.canActivate(M,P));else{if(!Fs(me))throw new Error("Invalid CanActivate guard");Be=un(me(M,P))}return Be.pipe((0,Ve.P)())}));return(0,_e.of)(L).pipe(go())}(P,L.route,x))),(0,Ve.P)(L=>!0!==L,!0))}(k,X,P,M):(0,_e.of)(Be)),(0,vt.U)(Be=>Object.assign(Object.assign({},x),{guardsResult:Be})))})}(this.ngModule.injector,Be=>this.triggerEvent(Be)),(0,Xe.b)(Be=>{if(Dr(Be.guardsResult)){const gn=gr(`Redirecting to "${this.serializeUrl(Be.guardsResult)}"`);throw gn.url=Be.guardsResult,gn}const Et=new dn(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot,!!Be.guardsResult);this.triggerEvent(Et)}),(0,mt.h)(Be=>!!Be.guardsResult||(this.restoreHistory(Be),this.cancelNavigationTransition(Be,""),!1)),fs(Be=>{if(Be.guards.canActivateChecks.length)return(0,_e.of)(Be).pipe((0,Xe.b)(Et=>{const gn=new Qn(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);this.triggerEvent(gn)}),(0,on.w)(Et=>{let gn=!1;return(0,_e.of)(Et).pipe(function Ha(P,M){return(0,Ae.z)(x=>{const{targetSnapshot:k,guards:{canActivateChecks:L}}=x;if(!L.length)return(0,_e.of)(x);let X=0;return(0,be.D)(L).pipe(Ze(me=>function sl(P,M,x,k){return function Qo(P,M,x,k){const L=ba(P);if(0===L.length)return(0,_e.of)({});const X={};return(0,be.D)(L).pipe((0,Ae.z)(me=>function Oa(P,M,x,k){const L=zn(P,M,k);return un(L.resolve?L.resolve(M,x):L(M,x))}(P[me],M,x,k).pipe((0,Xe.b)(Be=>{X[me]=Be}))),lt(1),(0,Ae.z)(()=>ba(X).length===L.length?(0,_e.of)(X):xe.E))}(P._resolve,P,M,k).pipe((0,vt.U)(X=>(P._resolvedData=X,P.data=Object.assign(Object.assign({},P.data),Ar(P,x).resolve),null)))}(me.route,k,P,M)),(0,Xe.b)(()=>X++),lt(1),(0,Ae.z)(me=>X===L.length?(0,_e.of)(x):xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xe.b)({next:()=>gn=!0,complete:()=>{gn||(this.restoreHistory(Et),this.cancelNavigationTransition(Et,"At least one route resolver didn't emit any value."))}}))}),(0,Xe.b)(Et=>{const gn=new Xn(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);this.triggerEvent(gn)}))}),fs(Be=>{const{targetSnapshot:Et,id:gn,extractedUrl:vi,rawUrl:Pt,extras:{skipLocationChange:cn,replaceUrl:rn}}=Be;return this.hooks.afterPreactivation(Et,{navigationId:gn,appliedUrlTree:vi,rawUrlTree:Pt,skipLocationChange:!!cn,replaceUrl:!!rn})}),(0,vt.U)(Be=>{const Et=function No(P,M,x){const k=Wi(P,M._root,x?x._root:void 0);return new Sr(k,M)}(this.routeReuseStrategy,Be.targetSnapshot,Be.currentRouterState);return Object.assign(Object.assign({},Be),{targetRouterState:Et})}),(0,Xe.b)(Be=>{this.currentUrlTree=Be.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Be.urlAfterRedirects,Be.rawUrl),this.routerState=Be.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Be.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Be),this.browserUrlTree=Be.urlAfterRedirects)}),((P,M,x)=>(0,vt.U)(k=>(new ro(M,k.targetRouterState,k.currentRouterState,x).activate(P),k)))(this.rootContexts,this.routeReuseStrategy,Be=>this.triggerEvent(Be)),(0,Xe.b)({next(){X=!0},complete(){X=!0}}),function en(P){return(0,Fe.e)((M,x)=>{try{M.subscribe(x)}finally{x.add(P)}})}(()=>{var Be;X||me||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Be=this.currentNavigation)||void 0===Be?void 0:Be.id)===L.id&&(this.currentNavigation=null)}),Pe(Be=>{if(me=!0,function ti(P){return P&&P[er]}(Be)){const Et=Dr(Be.url);Et||(this.navigated=!0,this.restoreHistory(L,!0));const gn=new Ri(L.id,this.serializeUrl(L.extractedUrl),Be.message);k.next(gn),Et?setTimeout(()=>{const vi=this.urlHandlingStrategy.merge(Be.url,this.rawUrlTree),Pt={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yo(L.source)};this.scheduleNavigation(vi,"imperative",null,Pt,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const Et=new An(L.id,this.serializeUrl(L.extractedUrl),Be);k.next(Et);try{L.resolve(this.errorHandler(Be))}catch(gn){L.reject(gn)}}return xe.E}))}))}resetRootComponentType(x){this.rootComponentType=x,this.routerState.root.component=this.rootComponentType}setTransition(x){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),x))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const k="popstate"===x.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{var L;const X={replaceUrl:!0},me=(null===(L=x.state)||void 0===L?void 0:L.navigationId)?x.state:null;if(me){const Et=Object.assign({},me);delete Et.navigationId,delete Et.\u0275routerPageId,0!==Object.keys(Et).length&&(X.state=Et)}const Be=this.parseUrl(x.url);this.scheduleNavigation(Be,k,me,X)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(x){this.events.next(x)}resetConfig(x){Lo(x),this.config=x.map(G),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,k={}){const{relativeTo:L,queryParams:X,fragment:me,queryParamsHandling:Be,preserveFragment:Et}=k,gn=L||this.routerState.root,vi=Et?this.currentUrlTree.fragment:me;let Pt=null;switch(Be){case"merge":Pt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":Pt=this.currentUrlTree.queryParams;break;default:Pt=X||null}return null!==Pt&&(Pt=this.removeEmptyProps(Pt)),function We(P,M,x,k,L){if(0===x.length)return Rt(M.root,M.root,M.root,k,L);const X=function ki(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new Rn(!0,0,P);let M=0,x=!1;const k=P.reduce((L,X,me)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Be={};return Ct(X.outlets,(Et,gn)=>{Be[gn]="string"==typeof Et?Et.split("/"):Et}),[...L,{outlets:Be}]}if(X.segmentPath)return[...L,X.segmentPath]}return"string"!=typeof X?[...L,X]:0===me?(X.split("/").forEach((Be,Et)=>{0==Et&&"."===Be||(0==Et&&""===Be?x=!0:".."===Be?M++:""!=Be&&L.push(Be))}),L):[...L,X]},[]);return new Rn(x,M,k)}(x);if(X.toRoot())return Rt(M.root,M.root,new fe([],{}),k,L);const me=function Di(P,M,x){if(P.isAbsolute)return new dr(M.root,!0,0);if(-1===x.snapshot._lastPathIndex){const X=x.snapshot._urlSegment;return new dr(X,X===M.root,0)}const k=Le(P.commands[0])?0:1;return function Li(P,M,x){let k=P,L=M,X=x;for(;X>L;){if(X-=L,k=k.parent,!k)throw new Error("Invalid number of '../'");L=k.segments.length}return new dr(k,!1,L-X)}(x.snapshot._urlSegment,x.snapshot._lastPathIndex+k,P.numberOfDoubleDots)}(X,M,P),Be=me.processChildren?Ks(me.segmentGroup,me.index,X.commands):_s(me.segmentGroup,me.index,X.commands);return Rt(M.root,me.segmentGroup,Be,k,L)}(gn,this.currentUrlTree,x,Pt,null!=vi?vi:null)}navigateByUrl(x,k={skipLocationChange:!1}){const L=Dr(x)?x:this.parseUrl(x),X=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,k)}navigate(x,k={skipLocationChange:!1}){return function Wa(P){for(let M=0;M<P.length;M++){const x=P[M];if(null==x)throw new Error(`The requested path contains ${x} segment at index ${M}`)}}(x),this.navigateByUrl(this.createUrlTree(x,k),k)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let k;try{k=this.urlSerializer.parse(x)}catch(L){k=this.malformedUriErrorHandler(L,this.urlSerializer,x)}return k}isActive(x,k){let L;if(L=!0===k?Object.assign({},la):!1===k?Object.assign({},ns):k,Dr(x))return Re(this.currentUrlTree,x,L);const X=this.parseUrl(x);return Re(this.currentUrlTree,X,L)}removeEmptyProps(x){return Object.keys(x).reduce((k,L)=>{const X=x[L];return null!=X&&(k[L]=X),k},{})}processNavigations(){this.navigations.subscribe(x=>{this.navigated=!0,this.lastSuccessfulId=x.id,this.currentPageId=x.targetPageId,this.events.next(new yi(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,x.resolve(!0)},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}scheduleNavigation(x,k,L,X,me){var Be,Et;if(this.disposed)return Promise.resolve(!1);let gn,vi,Pt;me?(gn=me.resolve,vi=me.reject,Pt=me.promise):Pt=new Promise((ci,fr)=>{gn=ci,vi=fr});const cn=++this.navigationId;let rn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),rn=L&&L.\u0275routerPageId?L.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==(Be=this.browserPageId)&&void 0!==Be?Be:0:(null!==(Et=this.browserPageId)&&void 0!==Et?Et:0)+1):rn=0,this.setTransition({id:cn,targetPageId:rn,source:k,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:x,extras:X,resolve:gn,reject:vi,promise:Pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pt.catch(ci=>Promise.reject(ci))}setBrowserUrl(x,k){const L=this.urlSerializer.serialize(x),X=Object.assign(Object.assign({},k.extras.state),this.generateNgRouterState(k.id,k.targetPageId));this.location.isCurrentPathEqualTo(L)||k.extras.replaceUrl?this.location.replaceState(L,"",X):this.location.go(L,"",X)}restoreHistory(x,k=!1){var L,X;if("computed"===this.canceledNavigationResolution){const me=this.currentPageId-x.targetPageId;"popstate"!==x.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===me?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===me&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(me)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(x,k){const L=new Ri(x.id,this.serializeUrl(x.extractedUrl),k);this.triggerEvent(L),x.resolve(!1)}generateNgRouterState(x,k){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:k}:{navigationId:x}}}return P.\u0275fac=function(x){E.$Z()},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac}),P})();function yo(P){return"imperative"!==P}let Ps=(()=>{class P{constructor(x,k,L,X,me){this.router=x,this.route=k,this.tabIndexAttribute=L,this.renderer=X,this.el=me,this.commands=null,this.onChanges=new Me.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(x){if(null!=this.tabIndexAttribute)return;const k=this.renderer,L=this.el.nativeElement;null!==x?k.setAttribute(L,"tabindex",x):k.removeAttribute(L,"tabindex")}ngOnChanges(x){this.onChanges.next(this)}set routerLink(x){null!=x?(this.commands=Array.isArray(x)?x:[x],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const x={skipLocationChange:_o(this.skipLocationChange),replaceUrl:_o(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,x),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_o(this.preserveFragment)})}}return P.\u0275fac=function(x){return new(x||P)(E.Y36(ss),E.Y36(zr),E.$8M("tabindex"),E.Y36(E.Qsj),E.Y36(E.SBq))},P.\u0275dir=E.lG2({type:P,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(x,k){1&x&&E.NdJ("click",function(){return k.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[E.TTD]}),P})(),Io=(()=>{class P{constructor(x,k,L){this.router=x,this.route=k,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new Me.x,this.subscription=x.events.subscribe(X=>{X instanceof yi&&this.updateTargetUrlAndHref()})}set routerLink(x){this.commands=null!=x?Array.isArray(x)?x:[x]:null}ngOnChanges(x){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(x,k,L,X,me){if(0!==x||k||L||X||me||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Be={skipLocationChange:_o(this.skipLocationChange),replaceUrl:_o(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Be),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_o(this.preserveFragment)})}}return P.\u0275fac=function(x){return new(x||P)(E.Y36(ss),E.Y36(zr),E.Y36(nn.S$))},P.\u0275dir=E.lG2({type:P,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(x,k){1&x&&E.NdJ("click",function(X){return k.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&x&&E.uIk("target",k.target)("href",k.href,E.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[E.TTD]}),P})();function _o(P){return""===P||!!P}let To=(()=>{class P{constructor(x,k,L,X,me,Be){this.router=x,this.element=k,this.renderer=L,this.cdr=X,this.link=me,this.linkWithHref=Be,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new E.vpe,this.routerEventsSubscription=x.events.subscribe(Et=>{Et instanceof yi&&this.update()})}ngAfterContentInit(){(0,_e.of)(this.links.changes,this.linksWithHrefs.changes,(0,_e.of)(null)).pipe((0,Bt.J)()).subscribe(x=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var x;null===(x=this.linkInputChangesSubscription)||void 0===x||x.unsubscribe();const k=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,be.D)(k).pipe((0,Bt.J)()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(x){const k=Array.isArray(x)?x:x.split(" ");this.classes=k.filter(L=>!!L)}ngOnChanges(x){this.update()}ngOnDestroy(){var x;this.routerEventsSubscription.unsubscribe(),null===(x=this.linkInputChangesSubscription)||void 0===x||x.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const x=this.hasActiveLinks();this.isActive!==x&&(this.isActive=x,this.cdr.markForCheck(),this.classes.forEach(k=>{x?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),this.isActiveChange.emit(x))})}isLinkActive(x){const k=function Ka(P){return!!P.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&x.isActive(L.urlTree,k)}hasActiveLinks(){const x=this.isLinkActive(this.router);return this.link&&x(this.link)||this.linkWithHref&&x(this.linkWithHref)||this.links.some(x)||this.linksWithHrefs.some(x)}}return P.\u0275fac=function(x){return new(x||P)(E.Y36(ss),E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(E.sBO),E.Y36(Ps,8),E.Y36(Io,8))},P.\u0275dir=E.lG2({type:P,selectors:[["","routerLinkActive",""]],contentQueries:function(x,k,L){if(1&x&&(E.Suo(L,Ps,5),E.Suo(L,Io,5)),2&x){let X;E.iGM(X=E.CRH())&&(k.links=X),E.iGM(X=E.CRH())&&(k.linksWithHrefs=X)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[E.TTD]}),P})();class Js{}class Wl{preload(M,x){return(0,_e.of)(null)}}let W=(()=>{class P{constructor(x,k,L,X){this.router=x,this.injector=L,this.preloadingStrategy=X,this.loader=new Gl(L,k,Et=>x.triggerEvent(new Zn(Et)),Et=>x.triggerEvent(new Er(Et)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.h)(x=>x instanceof yi),Ze(()=>this.preload())).subscribe(()=>{})}preload(){const x=this.injector.get(E.h0i);return this.processRoutes(x,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,k){const L=[];for(const X of k)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const me=X._loadedConfig;L.push(this.processRoutes(me.module,me.routes))}else X.loadChildren&&!X.canLoad?L.push(this.preloadConfig(x,X)):X.children&&L.push(this.processRoutes(x,X.children));return(0,be.D)(L).pipe((0,Bt.J)(),(0,vt.U)(X=>{}))}preloadConfig(x,k){return this.preloadingStrategy.preload(k,()=>(k._loadedConfig?(0,_e.of)(k._loadedConfig):this.loader.load(x.injector,k)).pipe((0,Ae.z)(X=>(k._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return P.\u0275fac=function(x){return new(x||P)(E.LFG(ss),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(Js))},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac}),P})(),D=(()=>{class P{constructor(x,k,L={}){this.router=x,this.viewportScroller=k,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(x=>{x instanceof Fi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof yi&&(this.lastId=x.id,this.scheduleScrollEvent(x,this.router.parseUrl(x.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(x=>{x instanceof qi&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,k){this.router.triggerEvent(new qi(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return P.\u0275fac=function(x){E.$Z()},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac}),P})();const B=new E.OlP("ROUTER_CONFIGURATION"),ie=new E.OlP("ROUTER_FORROOT_GUARD"),he=[nn.Ye,{provide:Ci,useClass:tr},{provide:ss,useFactory:function Vn(P,M,x,k,L,X,me={},Be,Et){const gn=new ss(null,P,M,x,k,L,cr(X));return Be&&(gn.urlHandlingStrategy=Be),Et&&(gn.routeReuseStrategy=Et),function pi(P,M){P.errorHandler&&(M.errorHandler=P.errorHandler),P.malformedUriErrorHandler&&(M.malformedUriErrorHandler=P.malformedUriErrorHandler),P.onSameUrlNavigation&&(M.onSameUrlNavigation=P.onSameUrlNavigation),P.paramsInheritanceStrategy&&(M.paramsInheritanceStrategy=P.paramsInheritanceStrategy),P.relativeLinkResolution&&(M.relativeLinkResolution=P.relativeLinkResolution),P.urlUpdateStrategy&&(M.urlUpdateStrategy=P.urlUpdateStrategy),P.canceledNavigationResolution&&(M.canceledNavigationResolution=P.canceledNavigationResolution)}(me,gn),me.enableTracing&&gn.events.subscribe(vi=>{var Pt,cn;null===(Pt=console.group)||void 0===Pt||Pt.call(console,`Router Event: ${vi.constructor.name}`),console.log(vi.toString()),console.log(vi),null===(cn=console.groupEnd)||void 0===cn||cn.call(console)}),gn},deps:[Ci,yr,nn.Ye,E.zs3,E.Sil,za,B,[class Pa{},new E.FiY],[class $o{},new E.FiY]]},yr,{provide:zr,useFactory:function Fn(P){return P.routerState.root},deps:[ss]},W,Wl,class eo{preload(M,x){return x().pipe(Pe(()=>(0,_e.of)(null)))}},{provide:B,useValue:{enableTracing:!1}}];function Ne(){return new E.PXZ("Router",ss)}let Ie=(()=>{class P{constructor(x,k){}static forRoot(x,k){return{ngModule:P,providers:[he,Tn(x),{provide:ie,useFactory:_n,deps:[[ss,new E.FiY,new E.tp0]]},{provide:B,useValue:k||{}},{provide:nn.S$,useFactory:Tt,deps:[nn.lw,[new E.tBr(nn.mr),new E.FiY],B]},{provide:D,useFactory:ot,deps:[ss,nn.EM,B]},{provide:Js,useExisting:k&&k.preloadingStrategy?k.preloadingStrategy:Wl},{provide:E.PXZ,multi:!0,useFactory:Ne},[li,{provide:E.ip1,multi:!0,useFactory:Ui,deps:[li]},{provide:ai,useFactory:Lt,deps:[li]},{provide:E.tb,multi:!0,useExisting:ai}]]}}static forChild(x){return{ngModule:P,providers:[Tn(x)]}}}return P.\u0275fac=function(x){return new(x||P)(E.LFG(ie,8),E.LFG(ss,8))},P.\u0275mod=E.oAB({type:P}),P.\u0275inj=E.cJS({}),P})();function ot(P,M,x){return x.scrollOffset&&M.setOffset(x.scrollOffset),new D(P,M,x)}function Tt(P,M,x={}){return x.useHash?new nn.Do(P,M):new nn.b0(P,M)}function _n(P){return"guarded"}function Tn(P){return[{provide:E.deG,multi:!0,useValue:P},{provide:za,multi:!0,useValue:P}]}let li=(()=>{class P{constructor(x){this.injector=x,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Me.x}appInitializer(){return this.injector.get(nn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let k=null;const L=new Promise(Be=>k=Be),X=this.injector.get(ss),me=this.injector.get(B);return"disabled"===me.initialNavigation?(X.setUpLocationChangeListener(),k(!0)):"enabled"===me.initialNavigation||"enabledBlocking"===me.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?(0,_e.of)(null):(this.initNavigation=!0,k(!0),this.resultOfPreactivationDone),X.initialNavigation()):k(!0),L})}bootstrapListener(x){const k=this.injector.get(B),L=this.injector.get(W),X=this.injector.get(D),me=this.injector.get(ss),Be=this.injector.get(E.z2F);x===Be.components[0]&&(("enabledNonBlocking"===k.initialNavigation||void 0===k.initialNavigation)&&me.initialNavigation(),L.setUpPreloading(),X.init(),me.resetRootComponentType(Be.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return P.\u0275fac=function(x){return new(x||P)(E.LFG(E.zs3))},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac}),P})();function Ui(P){return P.appInitializer.bind(P)}function Lt(P){return P.bootstrapListener.bind(P)}const ai=new E.OlP("Router Initializer")},3942:(sn,st,K)=>{K.d(st,{Z:()=>it});var E=K(2090),H=K(4859),ue=K(9681),be=K(1877);class Ee{constructor(yt,ft){this._delegate=yt,this.firebase=ft,(0,ue._addComponent)(yt,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ue.deleteApp)(this._delegate)))}_getService(yt,ft=ue._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const qt=this._delegate.container.getProvider(yt);return!qt.isInitialized()&&"EXPLICIT"===(null===(Fe=qt.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&qt.initialize(),qt.getImmediate({identifier:ft})}_removeServiceInstance(yt,ft=ue._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(ft)}_addComponent(yt){(0,ue._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,ue._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Je=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function tt(){const Ht=function Ye(Ht){const yt={},ft={__esModule:!0,initializeApp:function at(kt,xe={}){const Me=ue.initializeApp(kt,xe);if((0,E.r3)(yt,Me.name))return yt[Me.name];const Pe=new Ht(Me,ft);return yt[Me.name]=Pe,Pe},app:qt,registerVersion:ue.registerVersion,setLogLevel:ue.setLogLevel,onLog:ue.onLog,apps:null,SDK_VERSION:ue.SDK_VERSION,INTERNAL:{registerComponent:function qe(kt){const xe=kt.name,Me=xe.replace("-compat","");if(ue._registerComponent(kt)&&"PUBLIC"===kt.type){const Pe=(Ae=qt())=>{if("function"!=typeof Ae[Me])throw Je.create("invalid-app-argument",{appName:xe});return Ae[Me]()};void 0!==kt.serviceProps&&(0,E.ZB)(Pe,kt.serviceProps),ft[Me]=Pe,Ht.prototype[Me]=function(...Ae){return this._getService.bind(this,xe).apply(this,kt.multipleInstances?Ae:[])}}return"PUBLIC"===kt.type?ft[Me]:null},removeApp:function Fe(kt){delete yt[kt]},useAsService:function Ot(kt,xe){return"serverAuth"===xe?null:xe},modularAPIs:ue}};function qt(kt){if(!(0,E.r3)(yt,kt=kt||ue._DEFAULT_ENTRY_NAME))throw Je.create("no-app",{appName:kt});return yt[kt]}return ft.default=ft,Object.defineProperty(ft,"apps",{get:function _e(){return Object.keys(yt).map(kt=>yt[kt])}}),qt.App=Ht,ft}(Ee);return Ht.INTERNAL=Object.assign(Object.assign({},Ht.INTERNAL),{createFirebaseNamespace:tt,extendNamespace:function yt(ft){(0,E.ZB)(Ht,ft)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),Ht}(),pe=new be.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ht=self.firebase.SDK_VERSION;Ht&&Ht.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=ge;!function ht(Ht){(0,ue.registerVersion)("@firebase/app-compat","0.1.22",Ht)}()},9681:(sn,st,K)=>{K.r(st),K.d(st,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>yi,_DEFAULT_ENTRY_NAME:()=>Bn,_addComponent:()=>wn,_addOrOverwriteComponent:()=>Dt,_apps:()=>vt,_clearComponents:()=>Bt,_components:()=>on,_getProvider:()=>Ve,_registerComponent:()=>It,_removeServiceInstance:()=>Xe,deleteApp:()=>Ei,getApp:()=>An,getApps:()=>zi,initializeApp:()=>Ri,onLog:()=>Xn,registerVersion:()=>Qn,setLogLevel:()=>Zn});var E=K(5861),H=K(4859),ue=K(1877),be=K(2090);class Ee{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(un=>{if(function ke(hn){const Ct=hn.getComponent();return"VERSION"===(null==Ct?void 0:Ct.type)}(un)){const ln=un.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(un=>un).join(" ")}}const Je="@firebase/app",tt=new ue.Yd("@firebase/app"),Bn="[DEFAULT]",en={[Je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,on=new Map;function wn(hn,Ct){try{hn.container.addComponent(Ct)}catch(un){tt.debug(`Component ${Ct.name} failed to register with FirebaseApp ${hn.name}`,un)}}function Dt(hn,Ct){hn.container.addOrOverwriteComponent(Ct)}function It(hn){const Ct=hn.name;if(on.has(Ct))return tt.debug(`There were multiple attempts to register component ${Ct}.`),!1;on.set(Ct,hn);for(const un of vt.values())wn(un,hn);return!0}function Ve(hn,Ct){const un=hn.container.getProvider("heartbeat").getImmediate({optional:!0});return un&&un.triggerHeartbeat(),hn.container.getProvider(Ct)}function Xe(hn,Ct,un=Bn){Ve(hn,Ct).clearInstance(un)}function Bt(){on.clear()}const Un=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Fi{constructor(Ct,un,ln){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},un),this._name=un.name,this._automaticDataCollectionEnabled=un.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const yi="9.6.11";function Ri(hn,Ct={}){"object"!=typeof Ct&&(Ct={name:Ct});const un=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},Ct),ln=un.name;if("string"!=typeof ln||!ln)throw Un.create("bad-app-name",{appName:String(ln)});const Gn=vt.get(ln);if(Gn){if((0,be.vZ)(hn,Gn.options)&&(0,be.vZ)(un,Gn.config))return Gn;throw Un.create("duplicate-app",{appName:ln})}const $n=new H.H0(ln);for(const ve of on.values())$n.addComponent(ve);const Re=new Fi(hn,un,$n);return vt.set(ln,Re),Re}function An(hn=Bn){const Ct=vt.get(hn);if(!Ct)throw Un.create("no-app",{appName:hn});return Ct}function zi(){return Array.from(vt.values())}function Ei(hn){return dn.apply(this,arguments)}function dn(){return(dn=(0,E.Z)(function*(hn){const Ct=hn.name;vt.has(Ct)&&(vt.delete(Ct),yield Promise.all(hn.container.getProviders().map(un=>un.delete())),hn.isDeleted=!0)})).apply(this,arguments)}function Qn(hn,Ct,un){var ln;let Gn=null!==(ln=en[hn])&&void 0!==ln?ln:hn;un&&(Gn+=`-${un}`);const $n=Gn.match(/\s|\//),Re=Ct.match(/\s|\//);if($n||Re){const ve=[`Unable to register library "${Gn}" with version "${Ct}":`];return $n&&ve.push(`library name "${Gn}" contains illegal characters (whitespace or "/")`),$n&&Re&&ve.push("and"),Re&&ve.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void tt.warn(ve.join(" "))}It(new H.wA(`${Gn}-version`,()=>({library:Gn,version:Ct}),"VERSION"))}function Xn(hn,Ct){if(null!==hn&&"function"!=typeof hn)throw Un.create("invalid-log-argument");(0,ue.Am)(hn,Ct)}function Zn(hn){(0,ue.Ub)(hn)}const oi="firebase-heartbeat-store";let Ji=null;function Ni(){return Ji||(Ji=(0,be.X3)("firebase-heartbeat-database",1,(hn,Ct)=>{0===Ct&&hn.createObjectStore(oi)}).catch(hn=>{throw Un.create("storage-open",{originalErrorMessage:hn.message})})),Ji}function Qt(){return(Qt=(0,E.Z)(function*(hn){try{return(yield Ni()).transaction(oi).objectStore(oi).get(er(hn))}catch(Ct){throw Un.create("storage-get",{originalErrorMessage:Ct.message})}})).apply(this,arguments)}function Dn(hn,Ct){return In.apply(this,arguments)}function In(){return(In=(0,E.Z)(function*(hn,Ct){try{const ln=(yield Ni()).transaction(oi,"readwrite");return yield ln.objectStore(oi).put(Ct,er(hn)),ln.complete}catch(un){throw Un.create("storage-set",{originalErrorMessage:un.message})}})).apply(this,arguments)}function er(hn){return`${hn.name}!${hn.options.appId}`}class Rr{constructor(Ct){this.container=Ct,this._heartbeatsCache=null;const un=this.container.getProvider("app").getImmediate();this._storage=new bn(un),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var Ct=this;return(0,E.Z)(function*(){const ln=Ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gn=Zi();if(null===Ct._heartbeatsCache&&(Ct._heartbeatsCache=yield Ct._heartbeatsCachePromise),Ct._heartbeatsCache.lastSentHeartbeatDate!==Gn&&!Ct._heartbeatsCache.heartbeats.some($n=>$n.date===Gn))return Ct._heartbeatsCache.heartbeats.push({date:Gn,agent:ln}),Ct._heartbeatsCache.heartbeats=Ct._heartbeatsCache.heartbeats.filter($n=>{const Re=new Date($n.date).valueOf();return Date.now()-Re<=2592e6}),Ct._storage.overwrite(Ct._heartbeatsCache)})()}getHeartbeatsHeader(){var Ct=this;return(0,E.Z)(function*(){if(null===Ct._heartbeatsCache&&(yield Ct._heartbeatsCachePromise),null===Ct._heartbeatsCache||0===Ct._heartbeatsCache.heartbeats.length)return"";const un=Zi(),{heartbeatsToSend:ln,unsentEntries:Gn}=function hi(hn,Ct=1024){const un=[];let ln=hn.slice();for(const Gn of hn){const $n=un.find(Re=>Re.agent===Gn.agent);if($n){if($n.dates.push(Gn.date),cr(un)>Ct){$n.dates.pop();break}}else if(un.push({agent:Gn.agent,dates:[Gn.date]}),cr(un)>Ct){un.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:un,unsentEntries:ln}}(Ct._heartbeatsCache.heartbeats),$n=(0,be.L)(JSON.stringify({version:2,heartbeats:ln}));return Ct._heartbeatsCache.lastSentHeartbeatDate=un,Gn.length>0?(Ct._heartbeatsCache.heartbeats=Gn,yield Ct._storage.overwrite(Ct._heartbeatsCache)):(Ct._heartbeatsCache.heartbeats=[],Ct._storage.overwrite(Ct._heartbeatsCache)),$n})()}}function Zi(){return(new Date).toISOString().substring(0,10)}class bn{constructor(Ct){this.app=Ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ct=this;return(0,E.Z)(function*(){return(yield Ct._canUseIndexedDBPromise)&&(yield function qi(hn){return Qt.apply(this,arguments)}(Ct.app))||{heartbeats:[]}})()}overwrite(Ct){var un=this;return(0,E.Z)(function*(){var ln;if(yield un._canUseIndexedDBPromise){const $n=yield un.read();return Dn(un.app,{lastSentHeartbeatDate:null!==(ln=Ct.lastSentHeartbeatDate)&&void 0!==ln?ln:$n.lastSentHeartbeatDate,heartbeats:Ct.heartbeats})}})()}add(Ct){var un=this;return(0,E.Z)(function*(){var ln;if(yield un._canUseIndexedDBPromise){const $n=yield un.read();return Dn(un.app,{lastSentHeartbeatDate:null!==(ln=Ct.lastSentHeartbeatDate)&&void 0!==ln?ln:$n.lastSentHeartbeatDate,heartbeats:[...$n.heartbeats,...Ct.heartbeats]})}})()}}function cr(hn){return(0,be.L)(JSON.stringify({version:2,heartbeats:hn})).length}!function kn(hn){It(new H.wA("platform-logger",Ct=>new Ee(Ct),"PRIVATE")),It(new H.wA("heartbeat",Ct=>new Rr(Ct),"PRIVATE")),Qn(Je,"0.7.21",hn),Qn(Je,"0.7.21","esm2017"),Qn("fire-js","")}("")},4859:(sn,st,K)=>{K.d(st,{H0:()=>Ye,wA:()=>ue,zt:()=>Ee});var E=K(5861),H=K(2090);class ue{constructor(ge,pe,Oe){this.name=ge,this.instanceFactory=pe,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const be="[DEFAULT]";class Ee{constructor(ge,pe){this.name=ge,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const pe=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(pe)){const Oe=new H.BH;if(this.instancesDeferred.set(pe,Oe),this.isInitialized(pe)||this.shouldAutoInitialize())try{const xt=this.getOrInitializeService({instanceIdentifier:pe});xt&&Oe.resolve(xt)}catch(xt){}}return this.instancesDeferred.get(pe).promise}getImmediate(ge){var pe;const Oe=this.normalizeInstanceIdentifier(null==ge?void 0:ge.identifier),xt=null!==(pe=null==ge?void 0:ge.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(xt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ht){if(xt)return null;throw ht}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function Je(tt){return"EAGER"===tt.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:be})}catch(pe){}for(const[pe,Oe]of this.instancesDeferred.entries()){const xt=this.normalizeInstanceIdentifier(pe);try{const ht=this.getOrInitializeService({instanceIdentifier:xt});Oe.resolve(ht)}catch(ht){}}}}clearInstance(ge=be){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,E.Z)(function*(){const pe=Array.from(ge.instances.values());yield Promise.all([...pe.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...pe.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=be){return this.instances.has(ge)}getOptions(ge=be){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:pe={}}=ge,Oe=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xt=this.getOrInitializeService({instanceIdentifier:Oe,options:pe});for(const[ht,it]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ht)&&it.resolve(xt);return xt}onInit(ge,pe){var Oe;const xt=this.normalizeInstanceIdentifier(pe),ht=null!==(Oe=this.onInitCallbacks.get(xt))&&void 0!==Oe?Oe:new Set;ht.add(ge),this.onInitCallbacks.set(xt,ht);const it=this.instances.get(xt);return it&&ge(it,xt),()=>{ht.delete(ge)}}invokeOnInitCallbacks(ge,pe){const Oe=this.onInitCallbacks.get(pe);if(Oe)for(const xt of Oe)try{xt(ge,pe)}catch(ht){}}getOrInitializeService({instanceIdentifier:ge,options:pe={}}){let Oe=this.instances.get(ge);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(tt=ge,tt===be?void 0:tt),options:pe}),this.instances.set(ge,Oe),this.instancesOptions.set(ge,pe),this.invokeOnInitCallbacks(Oe,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,Oe)}catch(xt){}var tt;return Oe||null}normalizeInstanceIdentifier(ge=be){return this.component?this.component.multipleInstances?ge:be:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ye{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const pe=this.getProvider(ge.name);if(pe.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);pe.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const pe=new Ee(ge,this);return this.providers.set(ge,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(sn,st,K)=>{K.d(st,{Am:()=>tt,Ub:()=>Ye,Yd:()=>Je,in:()=>H});const E=[];var H=(()=>{return(ge=H||(H={}))[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",H;var ge})();const ue={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},be=H.INFO,Ee={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ke=(ge,pe,...Oe)=>{if(pe<ge.logLevel)return;const xt=(new Date).toISOString(),ht=Ee[pe];if(!ht)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[ht](`[${xt}]  ${ge.name}:`,...Oe)};class Je{constructor(pe){this.name=pe,this._logLevel=be,this._logHandler=ke,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in H))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?ue[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...pe),this._logHandler(this,H.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...pe),this._logHandler(this,H.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,H.INFO,...pe),this._logHandler(this,H.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,H.WARN,...pe),this._logHandler(this,H.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...pe),this._logHandler(this,H.ERROR,...pe)}}function Ye(ge){E.forEach(pe=>{pe.setLogLevel(ge)})}function tt(ge,pe){for(const Oe of E){let xt=null;pe&&pe.level&&(xt=ue[pe.level]),Oe.userLogHandler=null===ge?null:(ht,it,...Ht)=>{const yt=Ht.map(ft=>{if(null==ft)return null;if("string"==typeof ft)return ft;if("number"==typeof ft||"boolean"==typeof ft)return ft.toString();if(ft instanceof Error)return ft.message;try{return JSON.stringify(ft)}catch(Fe){return null}}).filter(ft=>ft).join(" ");it>=(null!=xt?xt:ht.logLevel)&&ge({level:H[it].toLowerCase(),message:yt,args:Ht,type:ht.name})}}}},7562:(sn,st,K)=>{K.d(st,{Ro:()=>kt,ef:()=>xe,t2:()=>qe});var E=K(5e3),H=K(1135),ue=K(7579),be=K(4482),Ee=K(5403),ke=K(8421),Je=K(5032),tt=K(9300),ge=K(1777),pe=K(9808),Oe=K(2313);const xt=["overlay"];function ht(Me,Pe){1&Me&&E._UZ(0,"div")}function it(Me,Pe){if(1&Me&&(E.TgZ(0,"div"),E.YNc(1,ht,1,0,"div",6),E.qZA()),2&Me){const Ae=E.oxw(2);E.Tol(Ae.spinner.class),E.Udp("color",Ae.spinner.color),E.xp6(1),E.Q6J("ngForOf",Ae.spinner.divArray)}}function Ht(Me,Pe){if(1&Me&&(E._UZ(0,"div",7),E.ALo(1,"safeHtml")),2&Me){const Ae=E.oxw(2);E.Q6J("innerHTML",E.lcZ(1,1,Ae.template),E.oJD)}}function yt(Me,Pe){if(1&Me&&(E.TgZ(0,"div",1,2),E.YNc(2,it,2,5,"div",3),E.YNc(3,Ht,2,3,"div",4),E.TgZ(4,"div",5),E.Hsn(5),E.qZA()()),2&Me){const Ae=E.oxw();E.Udp("background-color",Ae.spinner.bdColor)("z-index",Ae.spinner.zIndex)("position",Ae.spinner.fullScreen?"fixed":"absolute"),E.Q6J("@.disabled",Ae.disableAnimation)("@fadeIn","in"),E.xp6(2),E.Q6J("ngIf",!Ae.template),E.xp6(1),E.Q6J("ngIf",Ae.template),E.xp6(1),E.Udp("z-index",Ae.spinner.zIndex)}}const ft=["*"],Fe={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},at="primary";class _e{constructor(Pe){Object.assign(this,Pe)}static create(Pe){return(null==(null==Pe?void 0:Pe.type)||0===Pe.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new _e(Pe)}}let qe=(()=>{class Me{constructor(){this.spinnerObservable=new H.X(null)}getSpinner(Ae){return this.spinnerObservable.asObservable().pipe((0,tt.h)(Ze=>Ze&&Ze.name===Ae))}show(Ae=at,Ze){return new Promise((mt,lt)=>{setTimeout(()=>{Ze&&Object.keys(Ze).length?(Ze.name=Ae,this.spinnerObservable.next(new _e(Object.assign(Object.assign({},Ze),{show:!0}))),mt(!0)):(this.spinnerObservable.next(new _e({name:Ae,show:!0})),mt(!0))},10)})}hide(Ae=at,Ze=10){return new Promise((mt,lt)=>{setTimeout(()=>{this.spinnerObservable.next(new _e({name:Ae,show:!1})),mt(!0)},Ze)})}}return Me.\u0275fac=function(Ae){return new(Ae||Me)},Me.\u0275prov=E.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})(),Ot=(()=>{class Me{constructor(Ae){this._sanitizer=Ae}transform(Ae){if(Ae)return this._sanitizer.bypassSecurityTrustHtml(Ae)}}return Me.\u0275fac=function(Ae){return new(Ae||Me)(E.Y36(Oe.H7,16))},Me.\u0275pipe=E.Yjl({name:"safeHtml",type:Me,pure:!0}),Me})(),kt=(()=>{class Me{constructor(Ae,Ze,mt){this.spinnerService=Ae,this.changeDetector=Ze,this.elementRef=mt,this.disableAnimation=!1,this.spinner=new _e,this.ngUnsubscribe=new ue.x,this.setDefaultOptions=()=>{this.spinner=_e.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=at,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(Ae){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(Ae.target))&&(Ae.returnValue=!1,Ae.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(function Ye(Me){return(0,be.e)((Pe,Ae)=>{(0,ke.Xf)(Me).subscribe((0,Ee.x)(Ae,()=>Ae.complete(),Je.Z)),!Ae.closed&&Pe.subscribe(Ae)})}(this.ngUnsubscribe)).subscribe(Ae=>{this.setDefaultOptions(),Object.assign(this.spinner,Ae),Ae.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(Ae){return Ae===this.elementRef.nativeElement.parentElement||Ae.parentNode&&this.isSpinnerZone(Ae.parentNode)}ngOnChanges(Ae){for(const Ze in Ae)if(Ze){const mt=Ae[Ze];if(mt.isFirstChange())return;void 0!==mt.currentValue&&mt.currentValue!==mt.previousValue&&""!==mt.currentValue&&(this.spinner[Ze]=mt.currentValue,"showSpinner"===Ze&&(mt.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===Ze&&this.initObservable())}}getClass(Ae,Ze){this.spinner.divCount=Fe[Ae],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((lt,vn)=>vn);let mt="";switch(Ze.toLowerCase()){case"small":mt="la-sm";break;case"medium":mt="la-2x";break;case"large":mt="la-3x"}return"la-"+Ae+" "+mt}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return Me.\u0275fac=function(Ae){return new(Ae||Me)(E.Y36(qe),E.Y36(E.sBO),E.Y36(E.SBq))},Me.\u0275cmp=E.Xpm({type:Me,selectors:[["ngx-spinner"]],viewQuery:function(Ae,Ze){if(1&Ae&&E.Gf(xt,5),2&Ae){let mt;E.iGM(mt=E.CRH())&&(Ze.spinnerDOM=mt.first)}},hostBindings:function(Ae,Ze){1&Ae&&E.NdJ("keydown",function(lt){return Ze.handleKeyboardEvent(lt)},!1,E.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[E.TTD],ngContentSelectors:ft,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Ae,Ze){1&Ae&&(E.F$t(),E.YNc(0,yt,6,12,"div",0)),2&Ae&&E.Q6J("ngIf",Ze.spinner.show)},directives:[pe.O5,pe.sg],pipes:[Ot],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,ge.X$)("fadeIn",[(0,ge.SB)("in",(0,ge.oB)({opacity:1})),(0,ge.eR)(":enter",[(0,ge.oB)({opacity:0}),(0,ge.jt)(300)]),(0,ge.eR)(":leave",(0,ge.jt)(200,(0,ge.oB)({opacity:0})))])]},changeDetection:0}),Me})(),xe=(()=>{class Me{}return Me.\u0275fac=function(Ae){return new(Ae||Me)},Me.\u0275mod=E.oAB({type:Me}),Me.\u0275inj=E.cJS({imports:[[pe.ez]]}),Me})()},2290:(sn,st,K)=>{K.d(st,{Rh:()=>Bn,_W:()=>lt});var E=K(5e3),H=K(1777),ue=K(7579),be=K(9808),Ee=K(2313);const ke=["toast-component",""];function Je(Dt,It){if(1&Dt){const Ve=E.EpF();E.TgZ(0,"button",5),E.NdJ("click",function(){return E.CHM(Ve),E.oxw().remove()}),E.TgZ(1,"span",6),E._uU(2,"\xd7"),E.qZA()()}}function Ye(Dt,It){if(1&Dt&&(E.ynx(0),E._uU(1),E.BQk()),2&Dt){const Ve=E.oxw(2);E.xp6(1),E.hij("[",Ve.duplicatesCount+1,"]")}}function tt(Dt,It){if(1&Dt&&(E.TgZ(0,"div"),E._uU(1),E.YNc(2,Ye,2,1,"ng-container",4),E.qZA()),2&Dt){const Ve=E.oxw();E.Tol(Ve.options.titleClass),E.uIk("aria-label",Ve.title),E.xp6(1),E.hij(" ",Ve.title," "),E.xp6(1),E.Q6J("ngIf",Ve.duplicatesCount)}}function ge(Dt,It){if(1&Dt&&E._UZ(0,"div",7),2&Dt){const Ve=E.oxw();E.Tol(Ve.options.messageClass),E.Q6J("innerHTML",Ve.message,E.oJD)}}function pe(Dt,It){if(1&Dt&&(E.TgZ(0,"div",8),E._uU(1),E.qZA()),2&Dt){const Ve=E.oxw();E.Tol(Ve.options.messageClass),E.uIk("aria-label",Ve.message),E.xp6(1),E.hij(" ",Ve.message," ")}}function Oe(Dt,It){if(1&Dt&&(E.TgZ(0,"div"),E._UZ(1,"div",9),E.qZA()),2&Dt){const Ve=E.oxw();E.xp6(1),E.Udp("width",Ve.width+"%")}}function xt(Dt,It){if(1&Dt){const Ve=E.EpF();E.TgZ(0,"button",5),E.NdJ("click",function(){return E.CHM(Ve),E.oxw().remove()}),E.TgZ(1,"span",6),E._uU(2,"\xd7"),E.qZA()()}}function ht(Dt,It){if(1&Dt&&(E.ynx(0),E._uU(1),E.BQk()),2&Dt){const Ve=E.oxw(2);E.xp6(1),E.hij("[",Ve.duplicatesCount+1,"]")}}function it(Dt,It){if(1&Dt&&(E.TgZ(0,"div"),E._uU(1),E.YNc(2,ht,2,1,"ng-container",4),E.qZA()),2&Dt){const Ve=E.oxw();E.Tol(Ve.options.titleClass),E.uIk("aria-label",Ve.title),E.xp6(1),E.hij(" ",Ve.title," "),E.xp6(1),E.Q6J("ngIf",Ve.duplicatesCount)}}function Ht(Dt,It){if(1&Dt&&E._UZ(0,"div",7),2&Dt){const Ve=E.oxw();E.Tol(Ve.options.messageClass),E.Q6J("innerHTML",Ve.message,E.oJD)}}function yt(Dt,It){if(1&Dt&&(E.TgZ(0,"div",8),E._uU(1),E.qZA()),2&Dt){const Ve=E.oxw();E.Tol(Ve.options.messageClass),E.uIk("aria-label",Ve.message),E.xp6(1),E.hij(" ",Ve.message," ")}}function ft(Dt,It){if(1&Dt&&(E.TgZ(0,"div"),E._UZ(1,"div",9),E.qZA()),2&Dt){const Ve=E.oxw();E.xp6(1),E.Udp("width",Ve.width+"%")}}class at{constructor(It,Ve){this.component=It,this.injector=Ve}attach(It,Ve){return this._attachedHost=It,It.attach(this,Ve)}detach(){const It=this._attachedHost;if(It)return this._attachedHost=void 0,It.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(It){this._attachedHost=It}}class qe{constructor(It,Ve,Xe,Bt,nn,Un){this.toastId=It,this.config=Ve,this.message=Xe,this.title=Bt,this.toastType=nn,this.toastRef=Un,this._onTap=new ue.x,this._onAction=new ue.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(It){this._onAction.next(It)}onAction(){return this._onAction.asObservable()}}const Ot={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},kt=new E.OlP("ToastConfig");class xe{constructor(It){this._overlayRef=It,this.duplicatesCount=0,this._afterClosed=new ue.x,this._activate=new ue.x,this._manualClose=new ue.x,this._resetTimeout=new ue.x,this._countDuplicate=new ue.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(It,Ve){It&&this._resetTimeout.next(),Ve&&this._countDuplicate.next(++this.duplicatesCount)}}class Me{constructor(It,Ve){this._toastPackage=It,this._parentInjector=Ve}get(It,Ve,Xe){return It===qe?this._toastPackage:this._parentInjector.get(It,Ve,Xe)}}class Pe extends class _e{attach(It,Ve){return this._attachedPortal=It,this.attachComponentPortal(It,Ve)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(It){this._disposeFn=It}}{constructor(It,Ve,Xe){super(),this._hostDomElement=It,this._componentFactoryResolver=Ve,this._appRef=Xe}attachComponentPortal(It,Ve){const Xe=this._componentFactoryResolver.resolveComponentFactory(It.component);let Bt;return Bt=Xe.create(It.injector),this._appRef.attachView(Bt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Bt.hostView),Bt.destroy()}),Ve?this._hostDomElement.insertBefore(this._getComponentRootNode(Bt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Bt)),Bt}_getComponentRootNode(It){return It.hostView.rootNodes[0]}}class Ae{constructor(It){this._portalHost=It}attach(It,Ve=!0){return this._portalHost.attach(It,Ve)}detach(){return this._portalHost.detach()}}let Ze=(()=>{class Dt{constructor(Ve){this._document=Ve}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ve=this._document.createElement("div");Ve.classList.add("overlay-container"),Ve.setAttribute("aria-live","polite"),this._document.body.appendChild(Ve),this._containerElement=Ve}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(E.LFG(be.K0))},Dt.\u0275prov=E.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})(),mt=(()=>{class Dt{constructor(Ve,Xe,Bt,nn){this._overlayContainer=Ve,this._componentFactoryResolver=Xe,this._appRef=Bt,this._document=nn,this._paneElements=new Map}create(Ve,Xe){return this._createOverlayRef(this.getPaneElement(Ve,Xe))}getPaneElement(Ve="",Xe){return this._paneElements.get(Xe)||this._paneElements.set(Xe,{}),this._paneElements.get(Xe)[Ve]||(this._paneElements.get(Xe)[Ve]=this._createPaneElement(Ve,Xe)),this._paneElements.get(Xe)[Ve]}_createPaneElement(Ve,Xe){const Bt=this._document.createElement("div");return Bt.id="toast-container",Bt.classList.add(Ve),Bt.classList.add("toast-container"),Xe?Xe.getContainerElement().appendChild(Bt):this._overlayContainer.getContainerElement().appendChild(Bt),Bt}_createPortalHost(Ve){return new Pe(Ve,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ve){return new Ae(this._createPortalHost(Ve))}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(E.LFG(Ze),E.LFG(E._Vd),E.LFG(E.z2F),E.LFG(be.K0))},Dt.\u0275prov=E.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})(),lt=(()=>{class Dt{constructor(Ve,Xe,Bt,nn,Un){this.overlay=Xe,this._injector=Bt,this.sanitizer=nn,this.ngZone=Un,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ve.default),Ve.config),Ve.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ve.default.iconClasses),Ve.config.iconClasses))}show(Ve,Xe,Bt={},nn=""){return this._preBuildNotification(nn,Ve,Xe,this.applyConfig(Bt))}success(Ve,Xe,Bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ve,Xe,this.applyConfig(Bt))}error(Ve,Xe,Bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ve,Xe,this.applyConfig(Bt))}info(Ve,Xe,Bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ve,Xe,this.applyConfig(Bt))}warning(Ve,Xe,Bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ve,Xe,this.applyConfig(Bt))}clear(Ve){for(const Xe of this.toasts)if(void 0!==Ve){if(Xe.toastId===Ve)return void Xe.toastRef.manualClose()}else Xe.toastRef.manualClose()}remove(Ve){const Xe=this._findToast(Ve);if(!Xe||(Xe.activeToast.toastRef.close(),this.toasts.splice(Xe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Bt=this.toasts[this.currentlyActive].toastRef;Bt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Bt.activate())}return!0}findDuplicate(Ve="",Xe="",Bt,nn){const{includeTitleDuplicates:Un}=this.toastrConfig;for(const Fi of this.toasts){const yi=Un&&Fi.title===Ve;if((!Un||yi)&&Fi.message===Xe)return Fi.toastRef.onDuplicate(Bt,nn),Fi}return null}applyConfig(Ve={}){return Object.assign(Object.assign({},this.toastrConfig),Ve)}_findToast(Ve){for(let Xe=0;Xe<this.toasts.length;Xe++)if(this.toasts[Xe].toastId===Ve)return{index:Xe,activeToast:this.toasts[Xe]};return null}_preBuildNotification(Ve,Xe,Bt,nn){return nn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ve,Xe,Bt,nn)):this._buildNotification(Ve,Xe,Bt,nn)}_buildNotification(Ve,Xe,Bt,nn){if(!nn.toastComponent)throw new Error("toastComponent required");const Un=this.findDuplicate(Bt,Xe,this.toastrConfig.resetTimeoutOnDuplicate&&nn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Bt||Xe)&&this.toastrConfig.preventDuplicates&&null!==Un)return Un;this.previousToastMessage=Xe;let Fi=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Fi=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const yi=this.overlay.create(nn.positionClass,this.overlayContainer);this.index=this.index+1;let Ri=Xe;Xe&&nn.enableHtml&&(Ri=this.sanitizer.sanitize(E.q3G.HTML,Xe));const An=new xe(yi),zi=new qe(this.index,nn,Ri,Bt,Ve,An),Ei=new Me(zi,this._injector),dn=new at(nn.toastComponent,Ei),Qn=yi.attach(dn,this.toastrConfig.newestOnTop);An.componentInstance=Qn.instance;const Xn={toastId:this.index,title:Bt||"",message:Xe||"",toastRef:An,onShown:An.afterActivate(),onHidden:An.afterClosed(),onTap:zi.onTap(),onAction:zi.onAction(),portal:Qn};return Fi||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Xn.toastRef.activate()})),this.toasts.push(Xn),Xn}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(E.LFG(kt),E.LFG(mt),E.LFG(E.zs3),E.LFG(Ee.H7),E.LFG(E.R0b))},Dt.\u0275prov=E.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})(),vn=(()=>{class Dt{constructor(Ve,Xe,Bt){this.toastrService=Ve,this.toastPackage=Xe,this.ngZone=Bt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Xe.message,this.title=Xe.title,this.options=Xe.config,this.originalTimeout=Xe.config.timeOut,this.toastClasses=`${Xe.toastType} ${Xe.config.toastClass}`,this.sub=Xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Xe.toastRef.countDuplicate().subscribe(nn=>{this.duplicatesCount=nn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ve=(new Date).getTime();this.width=(this.hideTime-Ve)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ve,Xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ve),Xe)):this.timeout=setTimeout(()=>Ve(),Xe)}outsideInterval(Ve,Xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ve),Xe)):this.intervalId=setInterval(()=>Ve(),Xe)}runInsideAngular(Ve){this.ngZone?this.ngZone.run(()=>Ve()):Ve()}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(E.Y36(lt),E.Y36(qe),E.Y36(E.R0b))},Dt.\u0275cmp=E.Xpm({type:Dt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ve,Xe){1&Ve&&E.NdJ("click",function(){return Xe.tapToast()})("mouseenter",function(){return Xe.stickAround()})("mouseleave",function(){return Xe.delayedHideToast()}),2&Ve&&(E.d8E("@flyInOut",Xe.state),E.Tol(Xe.toastClasses),E.Udp("display",Xe.displayStyle))},attrs:ke,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ve,Xe){1&Ve&&(E.YNc(0,Je,3,0,"button",0),E.YNc(1,tt,3,5,"div",1),E.YNc(2,ge,1,3,"div",2),E.YNc(3,pe,2,4,"div",3),E.YNc(4,Oe,2,2,"div",4)),2&Ve&&(E.Q6J("ngIf",Xe.options.closeButton),E.xp6(1),E.Q6J("ngIf",Xe.title),E.xp6(1),E.Q6J("ngIf",Xe.message&&Xe.options.enableHtml),E.xp6(1),E.Q6J("ngIf",Xe.message&&!Xe.options.enableHtml),E.xp6(1),E.Q6J("ngIf",Xe.options.progressBar))},directives:[be.O5],encapsulation:2,data:{animation:[(0,H.X$)("flyInOut",[(0,H.SB)("inactive",(0,H.oB)({opacity:0})),(0,H.SB)("active",(0,H.oB)({opacity:1})),(0,H.SB)("removed",(0,H.oB)({opacity:0})),(0,H.eR)("inactive => active",(0,H.jt)("{{ easeTime }}ms {{ easing }}")),(0,H.eR)("active => removed",(0,H.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Dt})();const pn=Object.assign(Object.assign({},Ot),{toastComponent:vn});let Bn=(()=>{class Dt{static forRoot(Ve={}){return{ngModule:Dt,providers:[{provide:kt,useValue:{default:pn,config:Ve}}]}}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)},Dt.\u0275mod=E.oAB({type:Dt}),Dt.\u0275inj=E.cJS({imports:[[be.ez]]}),Dt})(),vt=(()=>{class Dt{constructor(Ve,Xe,Bt){this.toastrService=Ve,this.toastPackage=Xe,this.appRef=Bt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Xe.message,this.title=Xe.title,this.options=Xe.config,this.originalTimeout=Xe.config.timeOut,this.toastClasses=`${Xe.toastType} ${Xe.config.toastClass}`,this.sub=Xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Xe.toastRef.countDuplicate().subscribe(nn=>{this.duplicatesCount=nn})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ve=(new Date).getTime();this.width=(this.hideTime-Ve)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return Dt.\u0275fac=function(Ve){return new(Ve||Dt)(E.Y36(lt),E.Y36(qe),E.Y36(E.z2F))},Dt.\u0275cmp=E.Xpm({type:Dt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ve,Xe){1&Ve&&E.NdJ("click",function(){return Xe.tapToast()})("mouseenter",function(){return Xe.stickAround()})("mouseleave",function(){return Xe.delayedHideToast()}),2&Ve&&(E.Tol(Xe.toastClasses),E.Udp("display",Xe.displayStyle))},attrs:ke,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ve,Xe){1&Ve&&(E.YNc(0,xt,3,0,"button",0),E.YNc(1,it,3,5,"div",1),E.YNc(2,Ht,1,3,"div",2),E.YNc(3,yt,2,4,"div",3),E.YNc(4,ft,2,2,"div",4)),2&Ve&&(E.Q6J("ngIf",Xe.options.closeButton),E.xp6(1),E.Q6J("ngIf",Xe.title),E.xp6(1),E.Q6J("ngIf",Xe.message&&Xe.options.enableHtml),E.xp6(1),E.Q6J("ngIf",Xe.message&&!Xe.options.enableHtml),E.xp6(1),E.Q6J("ngIf",Xe.options.progressBar))},directives:[be.O5],encapsulation:2}),Dt})();Object.assign(Object.assign({},Ot),{toastComponent:vt})},5861:(sn,st,K)=>{function E(ue,be,Ee,ke,Je,Ye,tt){try{var ge=ue[Ye](tt),pe=ge.value}catch(Oe){return void Ee(Oe)}ge.done?be(pe):Promise.resolve(pe).then(ke,Je)}function H(ue){return function(){var be=this,Ee=arguments;return new Promise(function(ke,Je){var Ye=ue.apply(be,Ee);function tt(pe){E(Ye,ke,Je,tt,ge,"next",pe)}function ge(pe){E(Ye,ke,Je,tt,ge,"throw",pe)}tt(void 0)})}}K.d(st,{Z:()=>H})}},sn=>{sn(sn.s=692)}]);