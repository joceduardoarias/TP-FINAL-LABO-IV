"use strict";var lD=Object.defineProperty,uD=Object.defineProperties,cD=Object.getOwnPropertyDescriptors,Fb=Object.getOwnPropertySymbols,dD=Object.prototype.hasOwnProperty,hD=Object.prototype.propertyIsEnumerable,Vb=(an,tt,N)=>tt in an?lD(an,tt,{enumerable:!0,configurable:!0,writable:!0,value:N}):an[tt]=N,jv=(an,tt)=>{for(var N in tt||(tt={}))dD.call(tt,N)&&Vb(an,N,tt[N]);if(Fb)for(var N of Fb(tt))hD.call(tt,N)&&Vb(an,N,tt[N]);return an},Hv=(an,tt)=>uD(an,cD(tt));(self.webpackChunktpfinal=self.webpackChunktpfinal||[]).push([[179],{440:(an,tt,N)=>{N.d(tt,{nm:()=>rs});var y=N(5813);N(5e3),N(5867);var pt=N(5861),Le=N(9681),ke=N(4859),Et=N(2090),ot=N(1877);const ge=new Map,Ve={activated:!1,tokenObservers:[]},ze={initialized:!1,enabled:!1};function ht(et){return ge.get(et)||Ve}function yt(et,He){ge.set(et,He)}function It(){return ze}class Ht{constructor(He,Dt,Kt,fn,Kn){if(this.operation=He,this.retryPolicy=Dt,this.getWaitDuration=Kt,this.lowerBound=fn,this.upperBound=Kn,this.pending=null,this.nextErrorWaitInterval=fn,fn>Kn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(He){var Dt=this;return(0,pt.Z)(function*(){Dt.stop();try{Dt.pending=new Et.BH,yield function un(et){return new Promise(He=>{setTimeout(He,et)})}(Dt.getNextRun(He)),Dt.pending.resolve(),yield Dt.pending.promise,Dt.pending=new Et.BH,yield Dt.operation(),Dt.pending.resolve(),yield Dt.pending.promise,Dt.process(!0).catch(()=>{})}catch(Kt){Dt.retryPolicy(Kt)?Dt.process(!1).catch(()=>{}):Dt.stop()}})()}getNextRun(He){if(He)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Dt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Dt}}}const Rt=new Et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ut(et){if(!ht(et).activated)throw Rt.create("use-before-activation",{appName:et.name})}function Ci(et,He){return si.apply(this,arguments)}function si(){return(si=(0,pt.Z)(function*({url:et,body:He},Dt){const Kt={"Content-Type":"application/json"},fn=Dt.getImmediate({optional:!0});if(fn){const Es=yield fn.getHeartbeatsHeader();Es&&(Kt["X-Firebase-Client"]=Es)}const Kn={method:"POST",body:JSON.stringify(He),headers:Kt};let ki,kr;try{ki=yield fetch(et,Kn)}catch(Es){throw Rt.create("fetch-network-error",{originalErrorMessage:Es.message})}if(200!==ki.status)throw Rt.create("fetch-status-error",{httpStatus:ki.status});try{kr=yield ki.json()}catch(Es){throw Rt.create("fetch-parse-error",{originalErrorMessage:Es.message})}const Ai=kr.ttl.match(/^([\d.]+)(s)$/);if(!Ai||!Ai[2]||isNaN(Number(Ai[1])))throw Rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kr.ttl}`});const Xi=1e3*Number(Ai[1]),qi=Date.now();return{token:kr.attestationToken,expireTimeMillis:qi+Xi,issuedAtTimeMillis:qi}})).apply(this,arguments)}function fi(et,He){const{projectId:Dt,appId:Kt,apiKey:fn}=et.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Dt}/apps/${Kt}:exchangeDebugToken?key=${fn}`,body:{debug_token:He}}}const Fn="firebase-app-check-store";let wn=null;function Xt(){return wn||(wn=new Promise((et,He)=>{try{const Dt=indexedDB.open("firebase-app-check-database",1);Dt.onsuccess=Kt=>{et(Kt.target.result)},Dt.onerror=Kt=>{var fn;He(Rt.create("storage-open",{originalErrorMessage:null===(fn=Kt.target.error)||void 0===fn?void 0:fn.message}))},Dt.onupgradeneeded=Kt=>{0===Kt.oldVersion&&Kt.target.result.createObjectStore(Fn,{keyPath:"compositeKey"})}}catch(Dt){He(Rt.create("storage-open",{originalErrorMessage:Dt.message}))}}),wn)}function Mt(){return(Mt=(0,pt.Z)(function*(et,He){const Kt=(yield Xt()).transaction(Fn,"readwrite"),Kn=Kt.objectStore(Fn).put({compositeKey:et,value:He});return new Promise((ki,kr)=>{Kn.onsuccess=Ai=>{ki()},Kt.onerror=Ai=>{var Xi;kr(Rt.create("storage-set",{originalErrorMessage:null===(Xi=Ai.target.error)||void 0===Xi?void 0:Xi.message}))}})})).apply(this,arguments)}const Pn=new ot.Yd("@firebase/app-check");function Bi(et,He){return(0,Et.hl)()?function _t(et,He){return function Gt(et,He){return Mt.apply(this,arguments)}(function Ei(et){return`${et.options.appId}-${et.name}`}(et),He)}(et,He).catch(Dt=>{Pn.warn(`Failed to write token to IndexedDB. Error: ${Dt}`)}):Promise.resolve()}function mi(){return It().enabled}function Bn(){return bn.apply(this,arguments)}function bn(){return(bn=(0,pt.Z)(function*(){const et=It();if(et.enabled&&et.token)return et.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const In={error:"UNKNOWN_ERROR"};function An(et){return Et.US.encodeString(JSON.stringify(et),!1)}function Yn(et){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,pt.Z)(function*(et,He=!1){const Dt=et.app;ut(Dt);const Kt=ht(Dt);let Kn,fn=Kt.token;if(!fn){const Ai=yield Kt.cachedTokenPromise;Ai&&pn(Ai)&&(fn=Ai)}if(!He&&fn&&pn(fn))return{token:fn.token};let kr,ki=!1;if(mi()){Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Ci(fi(Dt,yield Bn()),et.heartbeatServiceProvider).then(Xi=>(Kt.exchangeTokenPromise=void 0,Xi)),ki=!0);const Ai=yield Kt.exchangeTokenPromise;return yield Bi(Dt,Ai),yt(Dt,Object.assign(Object.assign({},Kt),{token:Ai})),{token:Ai.token}}try{Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Kt.provider.getToken().then(Ai=>(Kt.exchangeTokenPromise=void 0,Ai)),ki=!0),fn=yield Kt.exchangeTokenPromise}catch(Ai){"appCheck/throttled"===Ai.code?Pn.warn(Ai.message):Pn.error(Ai),Kn=Ai}return fn?(kr={token:fn.token},yt(Dt,Object.assign(Object.assign({},Kt),{token:fn})),yield Bi(Dt,fn)):kr=Ye(Kn),ki&&ct(Dt,kr),kr})).apply(this,arguments)}function De(et,He){const Dt=ht(et),Kt=Dt.tokenObservers.filter(fn=>fn.next!==He);0===Kt.length&&Dt.tokenRefresher&&Dt.tokenRefresher.isRunning()&&Dt.tokenRefresher.stop(),yt(et,Object.assign(Object.assign({},Dt),{tokenObservers:Kt}))}function Ke(et){const{app:He}=et,Dt=ht(He);let Kt=Dt.tokenRefresher;Kt||(Kt=function At(et){const{app:He}=et;return new Ht((0,pt.Z)(function*(){let Kt;if(Kt=ht(He).token?yield Yn(et,!0):yield Yn(et),Kt.error)throw Kt.error}),()=>!0,()=>{const Dt=ht(He);if(Dt.token){let Kt=Dt.token.issuedAtTimeMillis+.5*(Dt.token.expireTimeMillis-Dt.token.issuedAtTimeMillis)+3e5;return Kt=Math.min(Kt,Dt.token.expireTimeMillis-3e5),Math.max(0,Kt-Date.now())}return 0},3e4,96e4)}(et),yt(He,Object.assign(Object.assign({},Dt),{tokenRefresher:Kt}))),!Kt.isRunning()&&Dt.isTokenAutoRefreshEnabled&&Kt.start()}function ct(et,He){const Dt=ht(et).tokenObservers;for(const Kt of Dt)try{"EXTERNAL"===Kt.type&&null!=He.error?Kt.error(He.error):Kt.next(He)}catch(fn){}}function pn(et){return et.expireTimeMillis-Date.now()>0}function Ye(et){return{token:An(In),error:et}}class Me{constructor(He,Dt){this.app=He,this.heartbeatServiceProvider=Dt}_delete(){const{tokenObservers:He}=ht(this.app);for(const Dt of He)De(this.app,Dt.next);return Promise.resolve()}}const Ar="app-check-internal";!function Ki(){(0,Le._registerComponent)(new ke.wA("app-check",et=>function ye(et,He){return new Me(et,He)}(et.getProvider("app").getImmediate(),et.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((et,He,Dt)=>{et.getProvider(Ar).initialize()})),(0,Le._registerComponent)(new ke.wA(Ar,et=>function qe(et){return{getToken:He=>Yn(et,He),addTokenListener:He=>function Ne(et,He,Dt,Kt){const{app:fn}=et,Kn=ht(fn),ki={next:Dt,error:Kt,type:He};if(yt(fn,Object.assign(Object.assign({},Kn),{tokenObservers:[...Kn.tokenObservers,ki]})),Kn.token&&pn(Kn.token)){const kr=Kn.token;Promise.resolve().then(()=>{Dt({token:kr.token}),Ke(et)}).catch(()=>{})}Kn.cachedTokenPromise.then(()=>Ke(et))}(et,"INTERNAL",He),removeTokenListener:He=>De(et.app,He)}}(et.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Le.registerVersion)("@firebase/app-check","0.5.6")}();class rs{constructor(){return(0,y.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(an,tt,N)=>{N.d(tt,{zQ:()=>ht,ww:()=>yt,rT:()=>ot,f7:()=>Ve,L6:()=>ke,_Q:()=>Et,lh:()=>ge,Qv:()=>Le,nw:()=>ze});var y=N(5e3),R=N(7579),ne=N(9646),me=N(8306),we=N(8996),ve=N(6451),Re=N(3900),Ce=N(576);function Te(It,lt){return(0,Ce.m)(lt)?(0,Re.w)(()=>It,lt):(0,Re.w)(()=>It)}var ce=N(5363),fe=N(4004),be=N(3151),vt=N(590),at=N(9468),it=N(9300),Lt=N(5813),Xe=N(2011),st=N(9808),Oe=N(440),on=N(127);const Le=new y.OlP("angularfire2.auth.use-emulator"),ke=new y.OlP("angularfire2.auth.settings"),Et=new y.OlP("angularfire2.auth.tenant-id"),ot=new y.OlP("angularfire2.auth.langugage-code"),ge=new y.OlP("angularfire2.auth.use-device-language"),Ve=new y.OlP("angularfire.auth.persistence"),ze=(It,lt,ft,dn,Pe,nt,rt,Ht)=>(0,Xe.cc)(`${It.name}.auth`,"AngularFireAuth",It.name,()=>{const un=lt.runOutsideAngular(()=>It.auth());if(ft&&un.useEmulator(...ft),dn&&(un.tenantId=dn),un.languageCode=Pe,nt&&un.useDeviceLanguage(),rt)for(const[Ut,Rt]of Object.entries(rt))un.settings[Ut]=Rt;return Ht&&un.setPersistence(Ht),un},[ft,dn,Pe,nt,rt,Ht]);let ht=(()=>{class It{constructor(ft,dn,Pe,nt,rt,Ht,un,Ut,Rt,Ge,ut,qt){const Sn=new R.x,ti=(0,ne.of)(void 0).pipe((0,ce.Q)(rt.outsideAngular),(0,Re.w)(()=>nt.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,820)))),(0,fe.U)(()=>(0,Xe.on)(ft,nt,dn)),(0,fe.U)(Ci=>ze(Ci,nt,Ht,Ut,Rt,Ge,un,ut)),(0,be.d)({bufferSize:1,refCount:!1}));if((0,st.PM)(Pe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ne.of)(null);else{ti.pipe((0,vt.P)()).subscribe();const si=ti.pipe((0,Re.w)(fi=>fi.getRedirectResult().then(pi=>pi,()=>null)),Lt.iC,(0,be.d)({bufferSize:1,refCount:!1})),qn=ti.pipe((0,Re.w)(fi=>new me.y(pi=>({unsubscribe:nt.runOutsideAngular(()=>fi.onAuthStateChanged(vn=>pi.next(vn),vn=>pi.error(vn),()=>pi.complete()))})))),ii=ti.pipe((0,Re.w)(fi=>new me.y(pi=>({unsubscribe:nt.runOutsideAngular(()=>fi.onIdTokenChanged(vn=>pi.next(vn),vn=>pi.error(vn),()=>pi.complete()))}))));this.authState=si.pipe(Te(qn),(0,at.R)(rt.outsideAngular),(0,ce.Q)(rt.insideAngular)),this.user=si.pipe(Te(ii),(0,at.R)(rt.outsideAngular),(0,ce.Q)(rt.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(fi=>fi?(0,we.D)(fi.getIdToken()):(0,ne.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(fi=>fi?(0,we.D)(fi.getIdTokenResult()):(0,ne.of)(null))),this.credential=(0,ve.T)(si,Sn,this.authState.pipe((0,it.h)(fi=>!fi))).pipe((0,fe.U)(fi=>(null==fi?void 0:fi.user)?fi:null),(0,at.R)(rt.outsideAngular),(0,ce.Q)(rt.insideAngular))}return(0,Xe.pX)(this,ti,nt,{spy:{apply:(Ci,si,qn)=>{(Ci.startsWith("signIn")||Ci.startsWith("createUser"))&&qn.then(ii=>Sn.next(ii))}}})}}return It.\u0275fac=function(ft){return new(ft||It)(y.LFG(Xe.Dh),y.LFG(Xe.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Lt.HU),y.LFG(Le,8),y.LFG(ke,8),y.LFG(Et,8),y.LFG(ot,8),y.LFG(ge,8),y.LFG(Ve,8),y.LFG(Oe.nm,8))},It.\u0275prov=y.Yz7({token:It,factory:It.\u0275fac,providedIn:"any"}),It})(),yt=(()=>{class It{constructor(){on.Z.registerVersion("angularfire",Lt.q4.full,"auth-compat")}}return It.\u0275fac=function(ft){return new(ft||It)},It.\u0275mod=y.oAB({type:It}),It.\u0275inj=y.cJS({providers:[ht]}),It})()},7407:(an,tt,N)=>{N.d(tt,{ST:()=>Fy,yb:()=>ef});var y=N(5e3),R=N(4986),ne=N(8306),me=N(8996),we=N(9646),ve=N(5813),Re=N(4482),Ce=N(5403);function Te(){return(0,Re.e)((r,e)=>{let t,o=!1;r.subscribe((0,Ce.x)(e,h=>{const v=t;t=h,o&&e.next([v,h]),o=!0}))})}var ge,ce=N(8675),fe=N(4004),be=N(5026),vt=N(1884),at=N(9300),it=N(2011),Lt=N(9808),st=(N(820),N(3942)),Oe=N(5861),on=N(9681),pt=N(4859),Le=N(1877),ke=N(2090),Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ot={},Ve=Ve||{},ze=Et||self;function ht(){}function yt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function It(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ft="closure_uid_"+(1e9*Math.random()>>>0),dn=0;function Pe(r,e,t){return r.call.apply(r.bind,arguments)}function nt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),r.apply(e,h)}}return function(){return r.apply(e,arguments)}}function rt(r,e,t){return(rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pe:nt).apply(null,arguments)}function Ht(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function un(r,e){function t(){}t.prototype=e.prototype,r.Z=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(o,h,v){for(var T=Array(arguments.length-2),V=2;V<arguments.length;V++)T[V-2]=arguments[V];return e.prototype[h].apply(o,T)}}function Ut(){this.s=this.s,this.o=this.o}var Ge={};Ut.prototype.s=!1,Ut.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function lt(r){return Object.prototype.hasOwnProperty.call(r,ft)&&r[ft]||(r[ft]=++dn)}(this);delete Ge[r]}},Ut.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ut=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1},qt=Array.prototype.forEach?function(r,e,t){Array.prototype.forEach.call(r,e,t)}:function(r,e,t){const o=r.length,h="string"==typeof r?r.split(""):r;for(let v=0;v<o;v++)v in h&&e.call(t,h[v],v,r)};function ti(r){return Array.prototype.concat.apply([],arguments)}function Ci(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function si(r){return/^[\s\xa0]*$/.test(r)}var pi,qn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ii(r,e){return-1!=r.indexOf(e)}function fi(r,e){return r<e?-1:r>e?1:0}e:{var vn=ze.navigator;if(vn){var Fn=vn.userAgent;if(Fn){pi=Fn;break e}}pi=""}function Tt(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function wn(r){const e={};for(const t in r)e[t]=r[t];return e}var Xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ni(r,e){let t,o;for(let h=1;h<arguments.length;h++){for(t in o=arguments[h],o)r[t]=o[t];for(let v=0;v<Xt.length;v++)t=Xt[v],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function _t(r){return _t[" "](r),r}_t[" "]=ht;var Nn,r,je=ii(pi,"Opera"),Gt=ii(pi,"Trident")||ii(pi,"MSIE"),Mt=ii(pi,"Edge"),Zt=Mt||Gt,_n=ii(pi,"Gecko")&&!(ii(pi.toLowerCase(),"webkit")&&!ii(pi,"Edge"))&&!(ii(pi,"Trident")||ii(pi,"MSIE"))&&!ii(pi,"Edge"),Ei=ii(pi.toLowerCase(),"webkit")&&!ii(pi,"Edge");function Pn(){var r=ze.document;return r?r.documentMode:void 0}e:{var Zi="",Bi=(r=pi,_n?/rv:([^\);]+)(\)|;)/.exec(r):Mt?/Edge\/([\d\.]+)/.exec(r):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ei?/WebKit\/(\S+)/.exec(r):je?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Bi&&(Zi=Bi?Bi[1]:""),Gt){var gi=Pn();if(null!=gi&&gi>parseFloat(Zi)){Nn=String(gi);break e}}Nn=Zi}var sn={};var Vt=ze.document&&Gt&&(Pn()||parseInt(Nn,10))||void 0,In=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ze.addEventListener("test",ht,e),ze.removeEventListener("test",ht,e)}catch(t){}return r}();function An(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function Yn(r,e){if(An.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(_n){e:{try{_t(e.nodeName);var h=!0;break e}catch(v){}h=!1}h||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Dn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Yn.Z.h.call(this)}}An.prototype.h=function(){this.defaultPrevented=!0},un(Yn,An);var Dn={2:"touch",3:"pen",4:"mouse"};Yn.prototype.h=function(){Yn.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ke(r,e,t,o,h){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=h,this.key=++De,this.ca=this.fa=!1}function At(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function ct(r){this.src=r,this.g={},this.h=0}function pn(r,e){var t=e.type;if(t in r.g){var v,o=r.g[t],h=ut(o,e);(v=0<=h)&&Array.prototype.splice.call(o,h,1),v&&(At(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ye(r,e,t,o){for(var h=0;h<r.length;++h){var v=r[h];if(!v.ca&&v.listener==e&&v.capture==!!t&&v.ia==o)return h}return-1}ct.prototype.add=function(r,e,t,o,h){var v=r.toString();(r=this.g[v])||(r=this.g[v]=[],this.h++);var T=Ye(r,e,o,h);return-1<T?(e=r[T],t||(e.fa=!1)):((e=new Ke(e,this.src,v,!!o,h)).fa=t,r.push(e)),e};var Me="closure_lm_"+(1e6*Math.random()|0),ye={};function qe(r,e,t,o,h){if(o&&o.once)return jn(r,e,t,o,h);if(Array.isArray(e)){for(var v=0;v<e.length;v++)qe(r,e[v],t,o,h);return null}return t=Er(t),r&&r[Ne]?r.N(e,t,It(o)?!!o.capture:!!o,h):kt(r,e,t,!1,o,h)}function kt(r,e,t,o,h,v){if(!e)throw Error("Invalid event type");var T=It(h)?!!h.capture:!!h,V=Nr(r);if(V||(r[Me]=V=new ct(r)),(t=V.add(e,t,o,T,v)).proxy)return t;if(o=function mn(){var e=rr;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)In||(h=T),void 0===h&&(h=!1),r.addEventListener(e.toString(),o,h);else if(r.attachEvent)r.attachEvent(_s(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function jn(r,e,t,o,h){if(Array.isArray(e)){for(var v=0;v<e.length;v++)jn(r,e[v],t,o,h);return null}return t=Er(t),r&&r[Ne]?r.O(e,t,It(o)?!!o.capture:!!o,h):kt(r,e,t,!0,o,h)}function xi(r,e,t,o,h){if(Array.isArray(e))for(var v=0;v<e.length;v++)xi(r,e[v],t,o,h);else o=It(o)?!!o.capture:!!o,t=Er(t),r&&r[Ne]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ye(v=r.g[e],t,o,h))&&(At(v[t]),Array.prototype.splice.call(v,t,1),0==v.length&&(delete r.g[e],r.h--))):r&&(r=Nr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ye(e,t,o,h)),(t=-1<r?e[r]:null)&&ir(t))}function ir(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[Ne])pn(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(_s(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Nr(e))?(pn(t,r),0==t.h&&(t.src=null,e[Me]=null)):At(r)}}}function _s(r){return r in ye?ye[r]:ye[r]="on"+r}function rr(r,e){if(r.ca)r=!0;else{e=new Yn(e,this);var t=r.listener,o=r.ia||r.src;r.fa&&ir(r),r=t.call(o,e)}return r}function Nr(r){return(r=r[Me])instanceof ct?r:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Er(r){return"function"==typeof r?r:(r[hr]||(r[hr]=function(e){return r.handleEvent(e)}),r[hr])}function Wi(){Ut.call(this),this.i=new ct(this),this.P=this,this.I=null}function Jt(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new An(e,r);else if(e instanceof An)e.target=e.target||r;else{var h=e;ni(e=new An(o,r),h)}if(h=!0,t)for(var v=t.length-1;0<=v;v--){var T=e.g=t[v];h=yi(T,o,!0,e)&&h}if(h=yi(T=e.g=r,o,!0,e)&&h,h=yi(T,o,!1,e)&&h,t)for(v=0;v<t.length;v++)h=yi(T=e.g=t[v],o,!1,e)&&h}function yi(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,v=0;v<e.length;++v){var T=e[v];if(T&&!T.ca&&T.capture==t){var V=T.listener,Q=T.ia||T.src;T.fa&&pn(r.i,T),h=!1!==V.call(Q,o)&&h}}return h&&!o.defaultPrevented}un(Wi,Ut),Wi.prototype[Ne]=!0,Wi.prototype.removeEventListener=function(r,e,t,o){xi(this,r,e,t,o)},Wi.prototype.M=function(){if(Wi.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)At(t[o]);delete r.g[e],r.h--}}this.I=null},Wi.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Wi.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var Gi=ze.JSON.stringify;function wr(){var r=is;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ts,fr=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Fr,r=>r.reset());class Fr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mi(r){ze.setTimeout(()=>{throw r},0)}function Hi(r,e){ts||function oi(){var r=ze.Promise.resolve(void 0);ts=function(){r.then(Fs)}}(),ns||(ts(),ns=!0),is.add(r,e)}var ns=!1,is=new class vr{constructor(){this.h=this.g=null}add(e,t){const o=fr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Fs(){for(var r;r=wr();){try{r.h.call(r.g)}catch(t){Mi(t)}var e=fr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ns=!1}function Ar(r,e){Wi.call(this),this.h=r||1,this.g=e||ze,this.j=rt(this.kb,this),this.l=Date.now()}function Ki(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Gr(r,e,t){if("function"==typeof r)t&&(r=rt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=rt(r.handleEvent,r)}return 2147483647<Number(e)?-1:ze.setTimeout(r,e||0)}function Vr(r){r.g=Gr(()=>{r.g=null,r.i&&(r.i=!1,Vr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}un(Ar,Wi),(ge=Ar.prototype).da=!1,ge.S=null,ge.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jt(this,"tick"),this.da&&(Ki(this),this.start()))}},ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.M=function(){Ar.Z.M.call(this),Ki(this),delete this.g};class rs extends Ut{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vr(this)}M(){super.M(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(r){Ut.call(this),this.h=r,this.g={}}un($i,Ut);var di=[];function No(r,e,t,o){Array.isArray(t)||(t&&(di[0]=t.toString()),t=di);for(var h=0;h<t.length;h++){var v=qe(e,t[h],o||r.handleEvent,!1,r.h||r);if(!v)break;r.g[v.key]=v}}function Ji(r){Tt(r.g,function(e,t){this.g.hasOwnProperty(t)&&ir(e)},r),r.g={}}function Br(){this.g=!0}function ss(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vs(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var h=o[1];if(Array.isArray(h)&&!(1>h.length)){var v=h[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var T=1;T<h.length;T++)h[T]=""}}}return Gi(t)}catch(V){return e}}(r,t)+(o?" "+o:"")})}$i.prototype.M=function(){$i.Z.M.call(this),Ji(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Br.prototype.Aa=function(){this.g=!1},Br.prototype.info=function(){};var bs={},ko=null;function pr(){return ko=ko||new Wi}function Os(r){An.call(this,bs.Ma,r)}function oo(r){const e=pr();Jt(e,new Os(e,r))}function et(r,e){An.call(this,bs.STAT_EVENT,r),this.stat=e}function He(r){const e=pr();Jt(e,new et(e,r))}function Dt(r,e){An.call(this,bs.Na,r),this.size=e}function Kt(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){r()},e)}bs.Ma="serverreachability",un(Os,An),bs.STAT_EVENT="statevent",un(et,An),bs.Na="timingevent",un(Dt,An);var fn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Kn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ki(){}function Ai(){}ki.prototype.h=null;var Xs,Xi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qi(){An.call(this,"d")}function Es(){An.call(this,"c")}function or(){}function To(r,e,t,o){this.l=r,this.j=e,this.m=t,this.X=o||1,this.V=new $i(this),this.P=ao,this.W=new Ar(r=Zt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ur}function Ur(){this.i=null,this.g="",this.h=!1}un(qi,An),un(Es,An),un(or,ki),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},Xs=new or;var ao=45e3,Wr={},Bs={};function eo(r,e,t){r.K=1,r.v=Pt(Ui(e)),r.s=t,r.U=!0,Ps(r,null)}function Ps(r,e){r.F=Date.now(),Kr(r),r.A=Ui(r.v);var t=r.A,o=r.X;Array.isArray(o)||(o=[String(o)]),Un(t.h,"t",o),r.C=0,t=r.l.H,r.h=new Ur,r.g=Cs(r.l,t?e:null,!r.s),0<r.O&&(r.L=new rs(rt(r.Ia,r,r.g),r.O)),No(r.V,r.g,"readystatechange",r.gb),e=r.H?wn(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),oo(1),function vs(r,e,t,o,h,v){r.info(function(){if(r.g)if(v)for(var T="",V=v.split("&"),Q=0;Q<V.length;Q++){var oe=V[Q].split("=");if(1<oe.length){var Ie=oe[0];oe=oe[1];var Qe=Ie.split("_");T=2<=Qe.length&&"type"==Qe[1]?T+(Ie+"=")+oe+"&":T+(Ie+"=redacted&")}}else T=null;else T=v;return"XMLHTTP REQ ("+o+") [attempt "+h+"]: "+e+"\n"+t+"\n"+T})}(r.j,r.u,r.A,r.m,r.X,r.s)}function _o(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function sa(r,e,t){let h,o=!0;for(;!r.I&&r.C<t.length;){if(h=os(r,t),h==Bs){4==e&&(r.o=4,He(14),o=!1),ss(r.j,r.m,null,"[Incomplete Response]");break}if(h==Wr){r.o=4,He(15),ss(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}ss(r.j,r.m,h,null),Zr(r,h)}_o(r)&&h!=Bs&&h!=Wr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,He(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Yo(e),e.L=!0,He(11))):(ss(r.j,r.m,t,"[Invalid Chunked Response]"),gr(r),Us(r))}function os(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Bs:(t=Number(e.substring(t,o)),isNaN(t)?Wr:(o+=1)+t>e.length?Bs:(e=e.substr(o,t),r.C=o+t,e))}function Kr(r){r.Y=Date.now()+r.P,ws(r,r.P)}function ws(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Kt(rt(r.eb,r),e)}function to(r){r.B&&(ze.clearTimeout(r.B),r.B=null)}function Us(r){0==r.l.G||r.I||li(r.l,r)}function gr(r){to(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Ki(r.W),Ji(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Zr(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||Sr(t.i,r)))if(t.I=r.N,!r.J&&Sr(t.i,r)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(oe){o=null}if(Array.isArray(o)&&3==o.length){var h=o;if(0==h[0])e:if(t.u)t.ta=h[1],0<t.ta-t.U&&37500>h[2]&&t.N&&0==t.A&&!t.v&&(t.v=Kt(rt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;ei(t),Ws(t)}Lo(t),He(18)}if(1>=Oa(t.i)&&t.ka){try{t.ka()}catch(oe){}t.ka=void 0}}else sr(t,11)}else if((r.J||t.g==r)&&ei(t),!si(e))for(h=t.Ca.g.parse(e),e=0;e<h.length;e++){let oe=h[e];if(t.U=oe[0],oe=oe[1],2==t.G)if("c"==oe[0]){t.J=oe[1],t.la=oe[2];const Ie=oe[3];null!=Ie&&(t.ma=Ie,t.h.info("VER="+t.ma));const Qe=oe[4];null!=Qe&&(t.za=Qe,t.h.info("SVER="+t.za));const Nt=oe[5];null!=Nt&&"number"==typeof Nt&&0<Nt&&(t.K=o=1.5*Nt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const cn=r.g;if(cn){const gn=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gn){var v=o.i;!v.g&&(ii(gn,"spdy")||ii(gn,"quic")||ii(gn,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(vo(v,v.h),v.h=null))}if(o.D){const Xn=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xn&&(o.sa=Xn,Se(o.F,o.D,Xn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var T=r;if((o=t).oa=xr(o,o.H?o.la:null,o.W),T.J){oa(o.i,T);var V=T,Q=o.K;Q&&V.setTimeout(Q),V.B&&(to(V),Kr(V)),o.g=T}else Yr(o);0<t.l.length&&jr(t)}else"stop"!=oe[0]&&"close"!=oe[0]||sr(t,7);else 3==t.G&&("stop"==oe[0]||"close"==oe[0]?"stop"==oe[0]?sr(t,7):tr(t):"noop"!=oe[0]&&t.j&&t.j.wa(oe),t.A=0)}oo(4)}catch(oe){}}function er(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(yt(r)||"string"==typeof r)qt(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(yt(r)||"string"==typeof r){t=[];for(var o=r.length,h=0;h<o;h++)t.push(h)}else for(h in t=[],o=0,r)t[o++]=h;o=function Wo(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(yt(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),h=o.length;for(var v=0;v<h;v++)e.call(void 0,o[v],t&&t[v],r)}}function js(r,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(r)if(r instanceof js)for(t=r.T(),o=0;o<t.length;o++)this.set(t[o],r.get(t[o]));else for(o in r)this.set(o,r[o])}function Hs(r){if(r.i!=r.g.length){for(var e=0,t=0;e<r.g.length;){var o=r.g[e];as(r.h,o)&&(r.g[t++]=o),e++}r.g.length=t}if(r.i!=r.g.length){var h={};for(t=e=0;e<r.g.length;)as(h,o=r.g[e])||(r.g[t++]=o,h[o]=1),e++;r.g.length=t}}function as(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(ge=To.prototype).setTimeout=function(r){this.P=r},ge.gb=function(r){r=r.target;const e=this.L;e&&3==zn(r)?e.l():this.Ia(r)},ge.Ia=function(r){try{if(r==this.g)e:{const Ie=zn(this.g);var e=this.g.Da();const Qe=this.g.ba();if(!(3>Ie)&&(3!=Ie||Zt||this.g&&(this.h.h||this.g.ga()||Di(this.g)))){this.I||4!=Ie||7==e||oo(8==e||0>=Qe?3:2),to(this);var t=this.g.ba();this.N=t;t:if(_o(this)){var o=Di(this.g);r="";var h=o.length,v=4==zn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gr(this),Us(this);var T="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:v&&e==h-1});o.splice(0,h),this.h.g+=r,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==t,function ds(r,e,t,o,h,v,T){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+v+" "+T})}(this.j,this.u,this.A,this.m,this.X,Ie,t),this.i){if(this.$&&!this.J){t:{if(this.g){var V,Q=this.g;if((V=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!si(V)){var oe=V;break t}}oe=null}if(!(t=oe)){this.i=!1,this.o=3,He(12),gr(this),Us(this);break e}ss(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zr(this,t)}this.U?(sa(this,Ie,T),Zt&&this.i&&3==Ie&&(No(this.V,this.W,"tick",this.fb),this.W.start())):(ss(this.j,this.m,T,null),Zr(this,T)),4==Ie&&gr(this),this.i&&!this.I&&(4==Ie?li(this.l,this):(this.i=!1,Kr(this)))}else 400==t&&0<T.indexOf("Unknown SID")?(this.o=3,He(12)):(this.o=0,He(13)),gr(this),Us(this)}}}catch(Ie){}},ge.fb=function(){if(this.g){var r=zn(this.g),e=this.g.ga();this.C<e.length&&(to(this),sa(this,r,e),this.i&&4!=r&&Kr(this))}},ge.cancel=function(){this.I=!0,gr(this)},ge.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Dr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(oo(3),He(17)),gr(this),this.o=2,Us(this)):ws(this,this.Y-r)},(ge=js.prototype).R=function(){Hs(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},ge.T=function(){return Hs(this),this.g.concat()},ge.get=function(r,e){return as(this.h,r)?this.h[r]:e},ge.set=function(r,e){as(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},ge.forEach=function(r,e){for(var t=this.T(),o=0;o<t.length;o++){var h=t[o],v=this.get(h);r.call(e,v,h,this)}};var ls=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $s(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof $s){this.g=void 0!==e?e:r.g,z(this,r.j),this.s=r.s,se(this,r.i),$(this,r.m),this.l=r.l,e=r.h;var t=new H;t.i=e.i,e.g&&(t.g=new js(e.g),t.h=e.h),ue(this,t),this.o=r.o}else r&&(t=String(r).match(ls))?(this.g=!!e,z(this,t[1]||"",!0),this.s=Yi(t[2]||""),se(this,t[3]||"",!0),$(this,t[4]),this.l=Yi(t[5]||"",!0),ue(this,t[6]||"",!0),this.o=Yi(t[7]||"")):(this.g=!!e,this.h=new H(null,this.g))}function Ui(r){return new $s(r)}function z(r,e,t){r.j=t?Yi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function se(r,e,t){r.i=t?Yi(e,!0):e}function $(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ue(r,e,t){e instanceof H?(r.h=e,function us(r,e){e&&!r.j&&(L(r),r.i=null,r.g.forEach(function(t,o){var h=o.toLowerCase();o!=h&&(le(this,o),Un(this,h,t))},r)),r.j=e}(r.h,r.g)):(t||(e=Li(e,ar)),r.h=new H(e,r.g))}function Se(r,e,t){r.h.set(e,t)}function Pt(r){return Se(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Yi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Li(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,wi),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function wi(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}$s.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Li(e,Ri,!0),":");var t=this.i;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Li(e,Ri,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(Li(t,"/"==t.charAt(0)?Qi:Cr,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Li(t,W)),r.join("")};var Ri=/[#\/\?@]/g,Cr=/[#\?:]/g,Qi=/[#\?]/g,ar=/[#\?@]/g,W=/#/g;function H(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function L(r){r.g||(r.g=new js,r.h=0,r.i&&function Io(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),h=null;if(0<=o){var v=r[t].substring(0,o);h=r[t].substring(o+1)}else v=r[t];e(v,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function le(r,e){L(r),e=zi(r,e),as(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,as((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&Hs(r)))}function Ot(r,e){return L(r),e=zi(r,e),as(r.g.h,e)}function Un(r,e,t){le(r,e),0<t.length&&(r.i=null,r.g.set(zi(r,e),Ci(t)),r.h+=t.length)}function zi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function zs(r){this.l=r||nn,r=ze.PerformanceNavigationTiming?0<(r=ze.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ze.g&&ze.g.Ea&&ze.g.Ea()&&ze.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ge=H.prototype).add=function(r,e){L(this),this.i=null,r=zi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ge.forEach=function(r,e){L(this),this.g.forEach(function(t,o){qt(t,function(h){r.call(e,h,o,this)},this)},this)},ge.T=function(){L(this);for(var r=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var h=r[o],v=0;v<h.length;v++)t.push(e[o]);return t},ge.R=function(r){L(this);var e=[];if("string"==typeof r)Ot(this,r)&&(e=ti(e,this.g.get(zi(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)e=ti(e,r[t])}return e},ge.set=function(r,e){return L(this),this.i=null,Ot(this,r=zi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ge.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],h=encodeURIComponent(String(o));o=this.R(o);for(var v=0;v<o.length;v++){var T=h;""!==o[v]&&(T+="="+encodeURIComponent(String(o[v]))),r.push(T)}}return this.i=r.join("&")};var nn=10;function Fi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Oa(r){return r.h?1:r.g?r.g.size:0}function Sr(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function vo(r,e){r.g?r.g.add(e):r.h=e}function oa(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function lo(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Ci(r.i)}function _a(){}function Qa(){this.g=new _a}function aa(r,e,t){const o=t||"";try{er(r,function(h,v){let T=h;It(h)&&(T=Gi(h)),e.push(o+v+"="+encodeURIComponent(T))})}catch(h){throw e.push(o+"type="+encodeURIComponent("_badmap")),h}}function Zo(r,e,t,o,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(o)}catch(v){}}function Ds(r){this.l=r.$b||null,this.j=r.ib||!1}function ps(r,e){Wi.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zs.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},_a.prototype.stringify=function(r){return ze.JSON.stringify(r,void 0)},_a.prototype.parse=function(r){return ze.JSON.parse(r,void 0)},un(Ds,ki),Ds.prototype.g=function(){return new ps(this.l,this.j)},Ds.prototype.i=function(r){return function(){return r}}({}),un(ps,Wi);var Gs=0;function va(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function ee(r){r.readyState=4,r.l=null,r.j=null,r.A=null,C(r)}function C(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ge=ps.prototype).open=function(r,e){if(this.readyState!=Gs)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,C(this)},ge.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ze).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ee(this)),this.readyState=Gs},ge.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,C(this)),this.g&&(this.readyState=3,C(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ze.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;va(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},ge.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ee(this):C(this),3==this.readyState&&va(this)}},ge.Ua=function(r){this.g&&(this.response=this.responseText=r,ee(this))},ge.Ta=function(r){this.g&&(this.response=r,ee(this))},ge.ha=function(){this.g&&ee(this)},ge.setRequestHeader=function(r,e){this.v.append(r,e)},ge.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var S=ze.JSON.parse;function j(r){Wi.call(this),this.headers=new js,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ie,this.K=this.L=!1}un(j,Wi);var ie="",pe=/^https?$/i,Fe=["POST","PUT"];function bt(r){return"content-type"==r.toLowerCase()}function Wt(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,kn(r),Qn(r)}function kn(r){r.D||(r.D=!0,Jt(r,"complete"),Jt(r,"error"))}function Zn(r){if(r.h&&void 0!==Ve&&(!r.C[1]||4!=zn(r)||2!=r.ba()))if(r.v&&4==zn(r))Gr(r.Fa,0,r);else if(Jt(r,"readystatechange"),4==zn(r)){r.h=!1;try{const V=r.ba();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===V){var h=String(r.H).match(ls)[1]||null;if(!h&&ze.self&&ze.self.location){var v=ze.self.location.protocol;h=v.substr(0,v.length-1)}o=!pe.test(h?h.toLowerCase():"")}t=o}if(t)Jt(r,"complete"),Jt(r,"success");else{r.m=6;try{var T=2<zn(r)?r.g.statusText:""}catch(Q){T=""}r.j=T+" ["+r.ba()+"]",kn(r)}}finally{Qn(r)}}}function Qn(r,e){if(r.g){Vi(r);const t=r.g,o=r.C[0]?ht:null;r.g=null,r.C=null,e||Jt(r,"ready");try{t.onreadystatechange=o}catch(h){}}}function Vi(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ze.clearTimeout(r.A),r.A=null)}function zn(r){return r.g?r.g.readyState:0}function Di(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case ie:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Tr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function lr(r){let e="";return Tt(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Se(r,e,t))}function qr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function gs(r){this.za=0,this.l=[],this.h=new Br,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qr("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qr("baseRetryDelayMs",5e3,r),this.$a=qr("retryDelaySeedMs",1e4,r),this.Ya=qr("forwardChannelMaxRetries",2,r),this.ra=qr("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new zs(r&&r.concurrentRequestLimit),this.Ca=new Qa,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function tr(r){if(ur(r),3==r.G){var e=r.V++,t=Ui(r.F);Se(t,"SID",r.J),Se(t,"RID",e),Se(t,"TYPE","terminate"),qo(r,t),(e=new To(r,r.h,e,void 0)).K=2,e.v=Pt(Ui(t)),t=!1,ze.navigator&&ze.navigator.sendBeacon&&(t=ze.navigator.sendBeacon(e.v.toString(),"")),!t&&ze.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cs(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Kr(e)}Rs(r)}function Ws(r){r.g&&(Yo(r),r.g.cancel(),r.g=null)}function ur(r){Ws(r),r.u&&(ze.clearTimeout(r.u),r.u=null),ei(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ze.clearTimeout(r.m),r.m=null)}function ms(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&jr(r)}function jr(r){Fi(r.i)||r.m||(r.m=!0,Hi(r.Ha,r),r.C=0)}function no(r,e){var t;t=e?e.m:r.V++;const o=Ui(r.F);Se(o,"SID",r.J),Se(o,"RID",t),Se(o,"AID",r.U),qo(r,o),r.o&&r.s&&Tr(o,r.o,r.s),t=new To(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.l=e.D.concat(r.l)),e=bo(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),vo(r.i,t),eo(t,o,e)}function qo(r,e){r.j&&er({},function(t,o){Se(e,o,t)})}function bo(r,e,t){t=Math.min(r.l.length,t);var o=r.j?rt(r.j.Oa,r.j,r):null;e:{var h=r.l;let v=-1;for(;;){const T=["count="+t];-1==v?0<t?(v=h[0].h,T.push("ofs="+v)):v=0:T.push("ofs="+v);let V=!0;for(let Q=0;Q<t;Q++){let oe=h[Q].h;const Ie=h[Q].g;if(oe-=v,0>oe)v=Math.max(0,h[Q].h-100),V=!1;else try{aa(Ie,T,"req"+oe+"_")}catch(Qe){o&&o(Ie)}}if(V){o=T.join("&");break e}}}return r=r.l.splice(0,t),e.D=r,o}function Yr(r){r.g||r.u||(r.Y=1,Hi(r.Ga,r),r.A=0)}function Lo(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Kt(rt(r.Ga,r),Si(r,r.A)),r.A++,0))}function Yo(r){null!=r.B&&(ze.clearTimeout(r.B),r.B=null)}function Tn(r){r.g=new To(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=Ui(r.oa);Se(e,"RID","rpc"),Se(e,"SID",r.J),Se(e,"CI",r.N?"0":"1"),Se(e,"AID",r.U),qo(r,e),Se(e,"TYPE","xmlhttp"),r.o&&r.s&&Tr(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Pt(Ui(e)),t.s=null,t.U=!0,Ps(t,r)}function ei(r){null!=r.v&&(ze.clearTimeout(r.v),r.v=null)}function li(r,e){var t=null;if(r.g==e){ei(r),Yo(r),r.g=null;var o=2}else{if(!Sr(r.i,e))return;t=e.D,oa(r.i,e),o=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=r.C;Jt(o=pr(),new Dt(o,t,e,h)),jr(r)}else Yr(r);else if(3==(h=e.o)||0==h&&0<r.I||!(1==o&&function jo(r,e){return!(Oa(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Kt(rt(r.Ha,r,e),Si(r,r.C)),r.C++,0)))}(r,e)||2==o&&Lo(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),h){case 1:sr(r,5);break;case 4:sr(r,10);break;case 3:sr(r,6);break;default:sr(r,2)}}function Si(r,e){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*e}function sr(r,e){if(r.h.info("Error code "+e),2==e){var t=null;r.j&&(t=null);var o=rt(r.jb,r);t||(t=new $s("//www.google.com/images/cleardot.gif"),ze.location&&"http"==ze.location.protocol||z(t,"https"),Pt(t)),function Ba(r,e){const t=new Br;if(ze.Image){const o=new Image;o.onload=Ht(Zo,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ht(Zo,t,o,"TestLoadImage: error",!1,e),o.onabort=Ht(Zo,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ht(Zo,t,o,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else He(2);r.G=0,r.j&&r.j.va(e),Rs(r),ur(r)}function Rs(r){r.G=0,r.I=-1,r.j&&((0!=lo(r.i).length||0!=r.l.length)&&(r.i.i.length=0,Ci(r.l),r.l.length=0),r.j.ua())}function xr(r,e,t){let o=function $t(r){return r instanceof $s?Ui(r):new $s(r,void 0)}(t);if(""!=o.i)e&&se(o,e+"."+o.i),$(o,o.m);else{const h=ze.location;o=function En(r,e,t,o){var h=new $s(null,void 0);return r&&z(h,r),e&&se(h,e),t&&$(h,t),o&&(h.l=o),h}(h.protocol,e?e+"."+h.hostname:h.hostname,+h.port,t)}return r.aa&&Tt(r.aa,function(h,v){Se(o,v,h)}),t=r.sa,(e=r.D)&&t&&Se(o,e,t),Se(o,"VER",r.ma),qo(r,o),o}function Cs(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new j(t&&r.Ba&&!r.qa?new Ds({ib:!0}):r.qa)).L=r.H,e}function Ir(){}function uo(){if(Gt&&!(10<=Number(Vt)))throw Error("Environmental error: no available transport.")}function co(r,e){Wi.call(this),this.g=new gs(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!si(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!si(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ks(this)}function io(r){qi.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Qr(){Es.call(this),this.status=1}function Ks(r){this.g=r}(ge=j.prototype).ea=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xs.g(),this.C=function kr(r){return r.h||(r.h=r.i())}(this.u?this.u:Xs),this.g.onreadystatechange=rt(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(v){return void Wt(this,v)}r=t||"";const h=new js(this.headers);o&&er(o,function(v,T){h.set(T,v)}),o=function Sn(r){e:{var e=bt;const t=r.length,o="string"==typeof r?r.split(""):r;for(let h=0;h<t;h++)if(h in o&&e.call(void 0,o[h],h,r)){e=h;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(h.T()),t=ze.FormData&&r instanceof ze.FormData,!(0<=ut(Fe,e))||o||t||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(v,T){this.g.setRequestHeader(T,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vi(this),0<this.B&&((this.K=function Ue(r){return Gt&&function mi(){return function Be(r){var e=sn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=qn(String(Nn)).split("."),t=qn("9").split("."),o=Math.max(e.length,t.length);for(let T=0;0==r&&T<o;T++){var h=e[T]||"",v=t[T]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==h[0].length&&0==v[0].length)break;r=fi(0==h[1].length?0:parseInt(h[1],10),0==v[1].length?0:parseInt(v[1],10))||fi(0==h[2].length,0==v[2].length)||fi(h[2],v[2]),h=h[3],v=v[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.pa,this)):this.A=Gr(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(v){Wt(this,v)}},ge.pa=function(){void 0!==Ve&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},ge.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Jt(this,"complete"),Jt(this,"abort"),Qn(this))},ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qn(this,!0)),j.Z.M.call(this)},ge.Fa=function(){this.s||(this.F||this.v||this.l?Zn(this):this.cb())},ge.cb=function(){Zn(this)},ge.ba=function(){try{return 2<zn(this)?this.g.status:-1}catch(r){return-1}},ge.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ge.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),S(e)}},ge.Da=function(){return this.m},ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ge=gs.prototype).ma=8,ge.G=1,ge.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},ge.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const h=new To(this,this.h,r,void 0);let v=this.s;if(this.P&&(v?(v=wn(v),ni(v,this.P)):v=this.P),null===this.o&&(h.H=v),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bo(this,h,e),Se(t=Ui(this.F),"RID",r),Se(t,"CVER",22),this.D&&Se(t,"X-HTTP-Session-Id",this.D),qo(this,t),this.o&&v&&Tr(t,this.o,v),vo(this.i,h),this.Ra&&Se(t,"TYPE","init"),this.ja?(Se(t,"$req",e),Se(t,"SID","null"),h.$=!0,eo(h,t,null)):eo(h,t,e),this.G=2}}else 3==this.G&&(r?no(this,r):0==this.l.length||Fi(this.i)||no(this))},ge.Ga=function(){if(this.u=null,Tn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Kt(rt(this.bb,this),r)}},ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,He(10),Ws(this),Tn(this))},ge.ab=function(){null!=this.v&&(this.v=null,Ws(this),Lo(this),He(19))},ge.jb=function(r){r?(this.h.info("Successfully pinged google.com"),He(2)):(this.h.info("Failed to ping google.com"),He(1))},(ge=Ir.prototype).xa=function(){},ge.wa=function(){},ge.va=function(){},ge.ua=function(){},ge.Oa=function(){},uo.prototype.g=function(r,e){return new co(r,e)},un(co,Wi),co.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),Hi(rt(r.hb,r,e))),He(0),r.W=e,r.aa=t||{},r.N=r.X,r.F=xr(r,null,r.W),jr(r)},co.prototype.close=function(){tr(this.g)},co.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,ms(this.g,e)}else this.v?((e={}).__data__=Gi(r),ms(this.g,e)):ms(this.g,r)},co.prototype.M=function(){this.g.j=null,delete this.j,tr(this.g),delete this.g,co.Z.M.call(this)},un(io,qi),un(Qr,Es),un(Ks,Ir),Ks.prototype.xa=function(){Jt(this.g,"a")},Ks.prototype.wa=function(r){Jt(this.g,new io(r))},Ks.prototype.va=function(r){Jt(this.g,new Qr(r))},Ks.prototype.ua=function(){Jt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,Kn.COMPLETE="complete",Ai.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",Wi.prototype.listen=Wi.prototype.N,j.prototype.listenOnce=j.prototype.O,j.prototype.getLastError=j.prototype.La,j.prototype.getLastErrorCode=j.prototype.Da,j.prototype.getStatus=j.prototype.ba,j.prototype.getResponseJson=j.prototype.Qa,j.prototype.getResponseText=j.prototype.ga,j.prototype.send=j.prototype.ea;var Ns=ot.createWebChannelTransport=function(){return new uo},ba=ot.getStatEventTarget=function(){return pr()},Ea=ot.ErrorCode=fn,wa=ot.EventType=Kn,hl=ot.Event=bs,Mr=ot.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ju=ot.FetchXmlHttpFactory=Ds,ho=ot.WebChannel=Ai,fl=ot.XhrIo=j;const la="@firebase/firestore";class F{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}F.UNAUTHENTICATED=new F(null),F.GOOGLE_CREDENTIALS=new F("google-credentials-uid"),F.FIRST_PARTY=new F("first-party-uid"),F.MOCK_USER=new F("mock-user");let O="9.6.11";const x=new Le.Yd("@firebase/firestore");function G(){return x.logLevel}function X(r,...e){if(x.logLevel<=Le.in.DEBUG){const t=e.map(Ft);x.debug(`Firestore (${O}): ${r}`,...t)}}function _e(r,...e){if(x.logLevel<=Le.in.ERROR){const t=e.map(Ft);x.error(`Firestore (${O}): ${r}`,...t)}}function $e(r,...e){if(x.logLevel<=Le.in.WARN){const t=e.map(Ft);x.warn(`Firestore (${O}): ${r}`,...t)}}function Ft(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function jt(r="Unexpected state"){const e=`FIRESTORE (${O}) INTERNAL ASSERTION FAILED: `+r;throw _e(e),new Error(e)}function xn(r,e){r||jt()}function ln(r,e){return r}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends ke.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ll{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Da{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(F.UNAUTHENTICATED))}shutdown(){}}class Eo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fl{constructor(e){this.t=e,this.currentUser=F.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let h=this.i;const v=oe=>this.i!==h?(h=this.i,t(oe)):Promise.resolve();let T=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new Lr,e.enqueueRetryable(()=>v(this.currentUser))};const V=()=>{const oe=T;e.enqueueRetryable((0,Oe.Z)(function*(){yield oe.promise,yield v(o.currentUser)}))},Q=oe=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=oe,this.auth.addAuthTokenListener(this.o),V()};this.t.onInit(oe=>Q(oe)),setTimeout(()=>{if(!this.auth){const oe=this.t.getImmediate({optional:!0});oe?Q(oe):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new Lr)}},0),V()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(xn("string"==typeof o.accessToken),new Ll(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xn(null===e||"string"==typeof e),new F(e)}}class uu{constructor(e,t,o){this.type="FirstParty",this.user=F.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const h=e.auth.getAuthHeaderValueForFirstParty([]);h&&this.headers.set("Authorization",h),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class uc{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new uu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(F.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ho{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hu{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=v=>{null!=v.error&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const T=v.token!==this.p;return this.p=v.token,X("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?t(v.token):Promise.resolve()};this.o=v=>{e.enqueueRetryable(()=>o(v))};const h=v=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.g.onInit(v=>h(v)),setTimeout(()=>{if(!this.appCheck){const v=this.g.getImmediate({optional:!0});v?h(v):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xn("string"==typeof t.token),this.p=t.token,new Ho(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class fo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Qo(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}fo.A=-1;class Ua{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const h=Qo(40);for(let v=0;v<h.length;++v)o.length<20&&h[v]<t&&(o+=e.charAt(h[v]%e.length))}return o}}function ui(r,e){return r<e?-1:r>e?1:0}function pl(r,e,t){return r.length===e.length&&r.every((o,h)=>t(o,e[h]))}function cu(r){return r+"\0"}class Jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Jr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ui(this.nanoseconds,e.nanoseconds):ui(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _i{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _i(e)}static min(){return new _i(new Jr(0,0))}static max(){return new _i(new Jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Hr(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Wc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class $u{constructor(e,t,o){void 0===t?t=0:t>e.length&&jt(),void 0===o?o=e.length-t:o>e.length-t&&jt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===$u.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $u?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let h=0;h<o;h++){const v=e.get(h),T=t.get(h);if(v<T)return-1;if(v>T)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yr extends $u{construct(e,t,o){return new yr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Yt(gt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(h=>h.length>0))}return new yr(t)}static emptyPath(){return new yr([])}}const gl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ss extends $u{construct(e,t,o){return new Ss(e,t,o)}static isValidIdentifier(e){return gl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ss.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ss(["__name__"])}static fromServerFormat(e){const t=[];let o="",h=0;const v=()=>{if(0===o.length)throw new Yt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let T=!1;for(;h<e.length;){const V=e[h];if("\\"===V){if(h+1===e.length)throw new Yt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Q=e[h+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new Yt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Q,h+=2}else"`"===V?(T=!T,h++):"."!==V||T?(o+=V,h++):(v(),h++)}if(v(),T)throw new Yt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ss(t)}static emptyPath(){return new Ss([])}}class ml{constructor(e){this.fields=e,e.sort(Ss.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xr(t)}static fromUint8Array(e){const t=function(o){let h="";for(let v=0;v<o.length;++v)h+=String.fromCharCode(o[v]);return h}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ui(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const Rd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(r){if(xn(!!r),"string"==typeof r){let e=0;const t=Rd.exec(r);if(xn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:hs(r.seconds),nanos:hs(r.nanos)}}function hs(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function $o(r){return"string"==typeof r?Xr.fromBase64String(r):Xr.fromUint8Array(r)}function dc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bl(r){const e=r.mapValue.fields.__previous_value__;return dc(e)?Bl(e):e}function Zs(r){const e=br(r.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}class Jo{constructor(e,t,o,h,v,T,V,Q){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=h,this.ssl=v,this.forceLongPolling=T,this.autoDetectLongPolling=V,this.useFetchStreams=Q}}class Ca{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ca("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}function po(r){return null==r}function So(r){return 0===r&&1/r==-1/0}function ua(r){return"number"==typeof r&&Number.isInteger(r)&&!So(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Cn{constructor(e){this.path=e}static fromPath(e){return new Cn(yr.fromString(e))}static fromName(e){return new Cn(yr.fromString(e).popFirst(5))}static empty(){return new Cn(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Cn(new yr(e.slice()))}}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},du={nullValue:"NULL_VALUE"};function ja(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dc(r)?4:fu(r)?9:10:jt()}function Xo(r,e){if(r===e)return!0;const t=ja(r);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zs(r).isEqual(Zs(e));case 3:return function(o,h){if("string"==typeof o.timestampValue&&"string"==typeof h.timestampValue&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const v=br(o.timestampValue),T=br(h.timestampValue);return v.seconds===T.seconds&&v.nanos===T.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return h=e,$o(r.bytesValue).isEqual($o(h.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return hs(o.geoPointValue.latitude)===hs(h.geoPointValue.latitude)&&hs(o.geoPointValue.longitude)===hs(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return hs(o.integerValue)===hs(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const v=hs(o.doubleValue),T=hs(h.doubleValue);return v===T?So(v)===So(T):isNaN(v)&&isNaN(T)}return!1}(r,e);case 9:return pl(r.arrayValue.values||[],e.arrayValue.values||[],Xo);case 10:return function(o,h){const v=o.mapValue.fields||{},T=h.mapValue.fields||{};if(cc(v)!==cc(T))return!1;for(const V in v)if(v.hasOwnProperty(V)&&(void 0===T[V]||!Xo(v[V],T[V])))return!1;return!0}(r,e);default:return jt()}var h}function go(r,e){return void 0!==(r.values||[]).find(t=>Xo(t,e))}function ca(r,e){if(r===e)return 0;const t=ja(r),o=ja(e);if(t!==o)return ui(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ui(r.booleanValue,e.booleanValue);case 2:return function(h,v){const T=hs(h.integerValue||h.doubleValue),V=hs(v.integerValue||v.doubleValue);return T<V?-1:T>V?1:T===V?0:isNaN(T)?isNaN(V)?0:-1:1}(r,e);case 3:return Ja(r.timestampValue,e.timestampValue);case 4:return Ja(Zs(r),Zs(e));case 5:return ui(r.stringValue,e.stringValue);case 6:return function(h,v){const T=$o(h),V=$o(v);return T.compareTo(V)}(r.bytesValue,e.bytesValue);case 7:return function(h,v){const T=h.split("/"),V=v.split("/");for(let Q=0;Q<T.length&&Q<V.length;Q++){const oe=ui(T[Q],V[Q]);if(0!==oe)return oe}return ui(T.length,V.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,v){const T=ui(hs(h.latitude),hs(v.latitude));return 0!==T?T:ui(hs(h.longitude),hs(v.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(h,v){const T=h.values||[],V=v.values||[];for(let Q=0;Q<T.length&&Q<V.length;++Q){const oe=ca(T[Q],V[Q]);if(oe)return oe}return ui(T.length,V.length)}(r.arrayValue,e.arrayValue);case 10:return function(h,v){const T=h.fields||{},V=Object.keys(T),Q=v.fields||{},oe=Object.keys(Q);V.sort(),oe.sort();for(let Ie=0;Ie<V.length&&Ie<oe.length;++Ie){const Qe=ui(V[Ie],oe[Ie]);if(0!==Qe)return Qe;const Nt=ca(T[V[Ie]],Q[oe[Ie]]);if(0!==Nt)return Nt}return ui(V.length,oe.length)}(r.mapValue,e.mapValue);default:throw jt()}}function Ja(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ui(r,e);const t=br(r),o=br(e),h=ui(t.seconds,o.seconds);return 0!==h?h:ui(t.nanos,o.nanos)}function Xa(r){return Pa(r)}function Pa(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const h=br(o);return`time(${h.seconds},${h.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?$o(r.bytesValue).toBase64():"referenceValue"in r?Cn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let h="[",v=!0;for(const T of o.values||[])v?v=!1:h+=",",h+=Pa(T);return h+"]"}(r.arrayValue):"mapValue"in r?function(o){const h=Object.keys(o.fields||{}).sort();let v="{",T=!0;for(const V of h)T?T=!1:v+=",",v+=`${V}:${Pa(o.fields[V])}`;return v+"}"}(r.mapValue):jt();var e}function ks(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function hu(r){return!!r&&"integerValue"in r}function el(r){return!!r&&"arrayValue"in r}function zo(r){return!!r&&"nullValue"in r}function hc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fo(r){return!!r&&"mapValue"in r}function yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hr(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=yl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function fu(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function zu(r){return"nullValue"in r?du:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ks(Ca.empty(),Cn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:jt()}function Ta(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ks(Ca.empty(),Cn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Ul:jt()}function _l(r,e){return void 0===r?e:void 0===e||ca(r,e)>0?r:e}function pu(r,e){return void 0===r?e:void 0===e||ca(r,e)<0?r:e}class U{constructor(e){this.value=e}static empty(){return new U({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Fo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(t)}setAll(e){let t=Ss.emptyPath(),o={},h=[];e.forEach((T,V)=>{if(!t.isImmediateParentOf(V)){const Q=this.getFieldsMap(t);this.applyChanges(Q,o,h),o={},h=[],t=V.popLast()}T?o[V.lastSegment()]=yl(T):h.push(V.lastSegment())});const v=this.getFieldsMap(t);this.applyChanges(v,o,h)}delete(e){const t=this.field(e.popLast());Fo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=t.mapValue.fields[e.get(o)];Fo(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,o){Hr(t,(h,v)=>e[h]=v);for(const h of o)delete e[h]}clone(){return new U(yl(this.value))}}function K(r){const e=[];return Hr(r.fields,(t,o)=>{const h=new Ss([t]);if(Fo(o)){const v=K(o.mapValue).fields;if(0===v.length)e.push(h);else for(const T of v)e.push(h.child(T))}else e.push(h)}),new ml(e)}class re{constructor(e,t,o,h,v,T){this.key=e,this.documentType=t,this.version=o,this.readTime=h,this.data=v,this.documentState=T}static newInvalidDocument(e){return new re(e,0,_i.min(),_i.min(),U.empty(),0)}static newFoundDocument(e,t,o){return new re(e,1,t,_i.min(),o,0)}static newNoDocument(e,t){return new re(e,2,t,_i.min(),U.empty(),0)}static newUnknownDocument(e,t){return new re(e,3,t,_i.min(),U.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=U.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=U.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new re(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ae{constructor(e,t,o,h){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=h}}function mt(r){return r.fields.find(e=>2===e.kind)}function St(r){return r.fields.filter(e=>2!==e.kind)}Ae.UNKNOWN_ID=-1;class yn{constructor(e,t){this.fieldPath=e,this.kind=t}}class $n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $n(0,Ti.min())}}function ri(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,h=_i.fromTimestamp(1e9===o?new Jr(t+1,0):new Jr(t,o));return new Ti(h,Cn.empty(),e)}function Ni(r){return new Ti(r.readTime,r.key,-1)}class Ti{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ti(_i.min(),Cn.empty(),-1)}static max(){return new Ti(_i.max(),Cn.empty(),-1)}}function Oi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Cn.comparator(r.documentKey,e.documentKey),0!==t?t:ui(r.largestBatchId,e.largestBatchId))}class ro{constructor(e,t=null,o=[],h=[],v=null,T=null,V=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=h,this.limit=v,this.startAt=T,this.endAt=V,this.P=null}}function xs(r,e=null,t=[],o=[],h=null,v=null,T=null){return new ro(r,e,t,o,h,v,T)}function ea(r){const e=ln(r);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(h=o).field.canonicalString()+h.op.toString()+Xa(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),po(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Xa(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Xa(o)).join(",")),e.P=t}return e.P}function Ts(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<r.orderBy.length;h++)if(!Gu(r.orderBy[h],e.orderBy[h]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let h=0;h<r.filters.length;h++)if((t=r.filters[h]).op!==(o=e.filters[h]).op||!t.field.isEqual(o.field)||!Xo(t.value,o.value))return!1;var t,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vu(r.startAt,e.startAt)&&vu(r.endAt,e.endAt)}function Vo(r){return Cn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function da(r,e){return r.filters.filter(t=>t instanceof wo&&t.field.isEqual(e))}function Ha(r,e,t){let o,h=!0;for(const v of da(r,e)){let T,V=!0;switch(v.op){case"<":case"<=":T=zu(v.value);break;case"==":case"in":case">=":T=v.value;break;case">":T=v.value,V=!1;break;case"!=":case"not-in":T=du}_l(o,T)===T&&(o=T,h=V)}if(null!==t)for(let v=0;v<r.orderBy.length;++v)if(r.orderBy[v].field.isEqual(e)){const T=t.position[v];_l(o,T)===T&&(o=T,h=t.inclusive);break}return{value:o,inclusive:h}}function Kc(r,e,t){let o,h=!0;for(const v of da(r,e)){let T,V=!0;switch(v.op){case">=":case">":T=Ta(v.value),V=!1;break;case"==":case"in":case"<=":T=v.value;break;case"<":T=v.value,V=!1;break;case"!=":case"not-in":T=Ul}pu(o,T)===T&&(o=T,h=V)}if(null!==t)for(let v=0;v<r.orderBy.length;++v)if(r.orderBy[v].field.isEqual(e)){const T=t.position[v];pu(o,T)===T&&(o=T,h=t.inclusive);break}return{value:o,inclusive:h}}class wo extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new mu(e,t,o):"array-contains"===t?new Zc(e,o):"in"===t?new vl(e,o):"not-in"===t?new _u(e,o):"array-contains-any"===t?new Ld(e,o):new wo(e,t,o)}static V(e,t,o){return"in"===t?new yu(e,o):new Nd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ca(t,this.value)):null!==t&&ja(this.value)===ja(t)&&this.v(ca(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mu extends wo{constructor(e,t,o){super(e,t,o),this.key=Cn.fromName(o.referenceValue)}matches(e){const t=Cn.comparator(e.key,this.key);return this.v(t)}}class yu extends wo{constructor(e,t){super(e,"in",t),this.keys=kd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nd extends wo{constructor(e,t){super(e,"not-in",t),this.keys=kd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kd(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Cn.fromName(o.referenceValue))}class Zc extends wo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return el(t)&&go(t.arrayValue,this.value)}}class vl extends wo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&go(this.value.arrayValue,t)}}class _u extends wo{constructor(e,t){super(e,"not-in",t)}matches(e){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!go(this.value.arrayValue,t)}}class Ld extends wo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!el(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>go(this.value.arrayValue,o))}}class bl{constructor(e,t){this.position=e,this.inclusive=t}}class El{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gu(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function fc(r,e,t){let o=0;for(let h=0;h<r.position.length;h++){const v=e[h],T=r.position[h];if(o=v.field.isKeyField()?Cn.comparator(Cn.fromName(T.referenceValue),t.key):ca(T,t.data.field(v.field)),"desc"===v.dir&&(o*=-1),0!==o)break}return o}function vu(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Xo(r.position[t],e.position[t]))return!1;return!0}class tl{constructor(e,t=null,o=[],h=[],v=null,T="F",V=null,Q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=h,this.limit=v,this.limitType=T,this.startAt=V,this.endAt=Q,this.D=null,this.C=null}}function qc(r,e,t,o,h,v,T,V){return new tl(r,e,t,o,h,v,T,V)}function nl(r){return new tl(r)}function bu(r){return!po(r.limit)&&"F"===r.limitType}function il(r){return!po(r.limit)&&"L"===r.limitType}function Yc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Eu(r){for(const e of r.filters)if(e.S())return e.field;return null}function Qc(r){return null!==r.collectionGroup}function $a(r){const e=ln(r);if(null===e.D){e.D=[];const t=Eu(e),o=Yc(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new El(t)),e.D.push(new El(Ss.keyField(),"asc"));else{let h=!1;for(const v of e.explicitOrderBy)e.D.push(v),v.field.isKeyField()&&(h=!0);if(!h){const v=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new El(Ss.keyField(),v))}}}return e.D}function ta(r){const e=ln(r);if(!e.C)if("F"===e.limitType)e.C=xs(e.path,e.collectionGroup,$a(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const v of $a(e))t.push(new El(v.field,"desc"===v.dir?"asc":"desc"));const o=e.endAt?new bl(e.endAt.position,!e.endAt.inclusive):null,h=e.startAt?new bl(e.startAt.position,!e.startAt.inclusive):null;e.C=xs(e.path,e.collectionGroup,t,e.filters,e.limit,o,h)}return e.C}function pc(r,e,t){return new tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function rl(r,e){return Ts(ta(r),ta(e))&&r.limitType===e.limitType}function Wu(r){return`${ea(ta(r))}|lt:${r.limitType}`}function sl(r){return`Query(target=${function gu(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Xa(o.value)}`;var o}).join(", ")}]`),po(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>Xa(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>Xa(t)).join(",")),`Target(${e})`}(ta(r))}; limitType=${r.limitType})`}function Jc(r,e){return e.isFoundDocument()&&function(t,o){const h=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):Cn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(r,e)&&function(t,o){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1;return!0}(r,e)&&function(t,o){for(const h of t.filters)if(!h.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(h,v,T){const V=fc(h,v,T);return h.inclusive?V<=0:V<0}(t.startAt,$a(t),o)||t.endAt&&!function(h,v,T){const V=fc(h,v,T);return h.inclusive?V>=0:V>0}(t.endAt,$a(t),o)));var t,o}function gc(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Xc(r){return(e,t)=>{let o=!1;for(const h of $a(r)){const v=za(h,e,t);if(0!==v)return v;o=o||h.field.isKeyField()}return 0}}function za(r,e,t){const o=r.field.isKeyField()?Cn.comparator(e.key,t.key):function(h,v,T){const V=v.data.field(h),Q=T.data.field(h);return null!==V&&null!==Q?ca(V,Q):jt()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return jt()}}function ed(r,e){if(r.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:So(e)?"-0":e}}function Ia(r){return{integerValue:""+r}}function jl(r,e){return ua(e)?Ia(e):ed(r,e)}class Ra{constructor(){this._=void 0}}function td(r,e,t){return r instanceof Hl?function(o,h){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&(v.fields.__previous_value__=h),{mapValue:v}}(t,e):r instanceof Na?mc(r,e):r instanceof $l?Vd(r,e):function(o,h){const v=Fd(o,h),T=wl(v)+wl(o.k);return hu(v)&&hu(o.k)?Ia(T):ed(o.M,T)}(r,e)}function nd(r,e,t){return r instanceof Na?mc(r,e):r instanceof $l?Vd(r,e):t}function Fd(r,e){return r instanceof wu?hu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Hl extends Ra{}class Na extends Ra{constructor(e){super(),this.elements=e}}function mc(r,e){const t=gh(e);for(const o of r.elements)t.some(h=>Xo(h,o))||t.push(o);return{arrayValue:{values:t}}}class $l extends Ra{constructor(e){super(),this.elements=e}}function Vd(r,e){let t=gh(e);for(const o of r.elements)t=t.filter(h=>!Xo(h,o));return{arrayValue:{values:t}}}class wu extends Ra{constructor(e,t){super(),this.M=e,this.k=t}}function wl(r){return hs(r.integerValue||r.doubleValue)}function gh(r){return el(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zl{constructor(e,t){this.field=e,this.transform=t}}class Bd{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Ku{}function Wl(r,e,t){r instanceof Kl?function(o,h,v){const T=o.value.clone(),V=id(o.fieldTransforms,h,v.transformResults);T.setAll(V),h.convertToFoundDocument(v.version,T).setHasCommittedMutations()}(r,e,t):r instanceof ol?function(o,h,v){if(!Dl(o.precondition,h))return void h.convertToUnknownDocument(v.version);const T=id(o.fieldTransforms,h,v.transformResults),V=h.data;V.setAll(_c(o)),V.setAll(T),h.convertToFoundDocument(v.version,V).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zu(r,e,t){var h;r instanceof Kl?function(o,h,v){if(!Dl(o.precondition,h))return;const T=o.value.clone(),V=Ud(o.fieldTransforms,v,h);T.setAll(V),h.convertToFoundDocument(Cl(h),T).setHasLocalMutations()}(r,e,t):r instanceof ol?function(o,h,v){if(!Dl(o.precondition,h))return;const T=Ud(o.fieldTransforms,v,h),V=h.data;V.setAll(_c(o)),V.setAll(T),h.convertToFoundDocument(Cl(h),V).setHasLocalMutations()}(r,e,t):Dl(r.precondition,h=e)&&h.convertToNoDocument(_i.min())}function rf(r,e){let t=null;for(const o of r.fieldTransforms){const h=e.data.field(o.field),v=Fd(o.transform,h||null);null!=v&&(null==t&&(t=U.empty()),t.set(o.field,v))}return t||null}function yc(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&pl(t,o,(h,v)=>function Gl(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Na&&o instanceof Na||t instanceof $l&&o instanceof $l?pl(t.elements,o.elements,Xo):t instanceof wu&&o instanceof wu?Xo(t.k,o.k):t instanceof Hl&&o instanceof Hl);var t,o}(h,v))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}function Cl(r){return r.isFoundDocument()?r.version:_i.min()}class Kl extends Ku{constructor(e,t,o,h=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=h,this.type=0}}class ol extends Ku{constructor(e,t,o,h,v=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=h,this.fieldTransforms=v,this.type=1}}function _c(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function id(r,e,t){const o=new Map;xn(r.length===t.length);for(let h=0;h<t.length;h++){const v=r[h],T=v.transform,V=e.data.field(v.field);o.set(v.field,nd(T,V,t[h]))}return o}function Ud(r,e,t){const o=new Map;for(const h of r){const v=h.transform,T=t.data.field(h.field);o.set(h.field,td(v,T,e))}return o}class Tl extends Ku{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class qu extends Ku{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class vc{constructor(e){this.count=e}}var Ls,mr;function rd(r){switch(r){default:return jt();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function Du(r){if(void 0===r)return _e("GRPC error has no .code"),gt.UNKNOWN;switch(r){case Ls.OK:return gt.OK;case Ls.CANCELLED:return gt.CANCELLED;case Ls.UNKNOWN:return gt.UNKNOWN;case Ls.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Ls.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Ls.INTERNAL:return gt.INTERNAL;case Ls.UNAVAILABLE:return gt.UNAVAILABLE;case Ls.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Ls.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Ls.NOT_FOUND:return gt.NOT_FOUND;case Ls.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Ls.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Ls.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Ls.ABORTED:return gt.ABORTED;case Ls.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Ls.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Ls.DATA_LOSS:return gt.DATA_LOSS;default:return jt()}}(mr=Ls||(Ls={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[h,v]of o)if(this.equalsFn(h,e))return v}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,t]],void this.innerSize++;for(let v=0;v<h.length;v++)if(this.equalsFn(h[v][0],e))return void(h[v]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[t]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(t,o)=>{for(const[h,v]of o)e(h,v)})}isEmpty(){return Wc(this.inner)}size(){return this.innerSize}}class Ms{constructor(e,t){this.comparator=e,this.root=t||cr.EMPTY}insert(e,t){return new Ms(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new Ms(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return t+o.left.size;h<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,o,h){this.isReverse=h,this.nodeStack=[];let v=1;for(;!e.isEmpty();)if(v=t?o(e.key,t):1,t&&h&&(v*=-1),v<0)e=this.isReverse?e.left:e.right;else{if(0===v){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cr{constructor(e,t,o,h,v){this.key=e,this.value=t,this.color=null!=o?o:cr.RED,this.left=null!=h?h:cr.EMPTY,this.right=null!=v?v:cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,h,v){return new cr(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=h?h:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let h=this;const v=o(e,h.key);return h=v<0?h.copy(null,null,null,h.left.insert(e,t,o),null):0===v?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return cr.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const e=this.left.check();if(e!==this.right.check())throw jt();return e+(this.isRed()?0:1)}}cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1,cr.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(r,e,t,o,h){return this}insert(r,e,t){return new cr(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $r{constructor(e){this.comparator=e,this.data=new Ms(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jd(this.data.getIterator())}getIteratorFrom(e){return new jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,v=o.getNext().key;if(0!==this.comparator(h,v))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $r(this.comparator);return t.data=e,t}}class jd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ga(r){return r.hasNext()?r.getNext():void 0}const sd=new Ms(Cn.comparator);function fa(){return sd}const Ec=new Ms(Cn.comparator);function od(){return Ec}function Cu(){return new ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const mh=new Ms(Cn.comparator),sf=new $r(Cn.comparator);function zr(...r){let e=sf;for(const t of r)e=e.add(t);return e}const Yu=new $r(ui);function mo(){return Yu}class al{constructor(e,t,o,h,v){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,t)),new al(_i.min(),o,mo(),fa(),zr())}}class Il{constructor(e,t,o,h,v){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Il(Xr.EMPTY_BYTE_STRING,t,zr(),zr(),zr())}}class Zl{constructor(e,t,o,h){this.O=e,this.removedTargetIds=t,this.key=o,this.F=h}}class xo{constructor(e,t){this.targetId=e,this.$=t}}class Al{constructor(e,t,o=Xr.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=h}}class wc{constructor(){this.B=0,this.L=Iu(),this.U=Xr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=zr(),t=zr(),o=zr();return this.L.forEach((h,v)=>{switch(v){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:o=o.add(h);break;default:jt()}}),new Il(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=Iu()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class pa{constructor(e){this.nt=e,this.st=new Map,this.it=fa(),this.rt=Tu(),this.ot=new $r(ui)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,h)=>{this.ft(h)&&t(h)})}_t(e){const t=e.targetId,o=e.$.count,h=this.wt(t);if(h){const v=h.target;if(Vo(v))if(0===o){const T=new Cn(v.path);this.ct(t,T,re.newNoDocument(T,_i.min()))}else xn(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((v,T)=>{const V=this.wt(T);if(V){if(v.current&&Vo(V.target)){const Q=new Cn(V.target.path);null!==this.it.get(Q)||this.It(T,Q)||this.ct(T,Q,re.newNoDocument(Q,e))}v.j&&(t.set(T,v.H()),v.J())}});let o=zr();this.rt.forEach((v,T)=>{let V=!0;T.forEachWhile(Q=>{const oe=this.wt(Q);return!oe||2===oe.purpose||(V=!1,!1)}),V&&(o=o.add(v))}),this.it.forEach((v,T)=>T.setReadTime(e));const h=new al(e,t,this.ot,this.it,o);return this.it=fa(),this.rt=Tu(),this.ot=new $r(ui),h}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const h=this.lt(e);this.It(e,t)?h.Y(t,1):h.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new wc,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new $r(ui),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||X("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new wc),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Tu(){return new Ms(Cn.comparator)}function Iu(){return new Ms(Cn.comparator)}const yh={asc:"ASCENDING",desc:"DESCENDING"},Qu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Dc{constructor(e,t){this.databaseId=e,this.N=t}}function Au(r,e){return r.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cc(r,e){return r.N?e.toBase64():e.toUint8Array()}function _h(r,e){return Au(r,e.toTimestamp())}function es(r){return xn(!!r),_i.fromTimestamp(function(e){const t=br(e);return new Jr(t.seconds,t.nanos)}(r))}function Tc(r,e){return(t=r,new yr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ad(r){const e=yr.fromString(r);return xn(Rn(e)),e}function ql(r,e){return Tc(r.databaseId,e.path)}function Wa(r,e){const t=ad(e);if(t.get(1)!==r.databaseId.projectId)throw new Yt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Yt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Cn(Ql(t))}function Su(r,e){return Tc(r.databaseId,e)}function Do(r){const e=ad(r);return 4===e.length?yr.emptyPath():Ql(e)}function Yl(r){return new yr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ql(r){return xn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Hd(r,e,t){return{name:ql(r,e),fields:t.value.mapValue.fields}}function na(r,e,t){const o=Wa(r,e.name),h=es(e.updateTime),v=new U({mapValue:{fields:e.fields}}),T=re.newFoundDocument(o,h,v);return t&&T.setHasCommittedMutations(),t?T.setHasCommittedMutations():T}function xu(r,e){let t;if(e instanceof Kl)t={update:Hd(r,e.key,e.value)};else if(e instanceof Tl)t={delete:ql(r,e.key)};else if(e instanceof ol)t={update:Hd(r,e.key,e.data),updateMask:Bt(e.fieldMask)};else{if(!(e instanceof qu))return jt();t={verify:ql(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(h,v){const T=v.transform;if(T instanceof Hl)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof Na)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof $l)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof wu)return{fieldPath:v.field.canonicalString(),increment:T.k};throw jt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:_h(r,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:jt()),t;var h}function Ic(r,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Or.updateTime(es(h.updateTime)):void 0!==h.exists?Or.exists(h.exists):Or.none():Or.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(v,T){let V=null;"setToServerValue"in T?(xn("REQUEST_TIME"===T.setToServerValue),V=new Hl):"appendMissingElements"in T?V=new Na(T.appendMissingElements.values||[]):"removeAllFromArray"in T?V=new $l(T.removeAllFromArray.values||[]):"increment"in T?V=new wu(v,T.increment):jt();const Q=Ss.fromServerFormat(T.fieldPath);return new zl(Q,V)}(r,h)):[];var h;if(e.update){const h=Wa(r,e.update.name),v=new U({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new ml((e.updateMask.fieldPaths||[]).map(oe=>Ss.fromServerFormat(oe)));return new ol(h,v,T,t,o)}return new Kl(h,v,t,o)}if(e.delete){const h=Wa(r,e.delete);return new Tl(h,t)}if(e.verify){const h=Wa(r,e.verify);return new qu(h,t)}return jt()}function $d(r,e){return{documents:[Su(r,e.path)]}}function zd(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Su(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Su(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const h=function(Q){if(0===Q.length)return;const oe=Q.map(Ie=>function(Qe){if("=="===Qe.op){if(hc(Qe.value))return{unaryFilter:{field:M(Qe.field),op:"IS_NAN"}};if(zo(Qe.value))return{unaryFilter:{field:M(Qe.field),op:"IS_NULL"}}}else if("!="===Qe.op){if(hc(Qe.value))return{unaryFilter:{field:M(Qe.field),op:"IS_NOT_NAN"}};if(zo(Qe.value))return{unaryFilter:{field:M(Qe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:M(Qe.field),op:b(Qe.op),value:Qe.value}}}(Ie));return 1===oe.length?oe[0]:{compositeFilter:{op:"AND",filters:oe}}}(e.filters);h&&(t.structuredQuery.where=h);const v=function(Q){if(0!==Q.length)return Q.map(oe=>{return{field:M((Ie=oe).field),direction:m(Ie.dir)};var Ie})}(e.orderBy);v&&(t.structuredQuery.orderBy=v);const T=(oe=e.limit,r.N||po(oe)?oe:{value:oe});var oe,V,Q;return null!==T&&(t.structuredQuery.limit=T),e.startAt&&(t.structuredQuery.startAt={before:(V=e.startAt).inclusive,values:V.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Q=e.endAt).inclusive,values:Q.position}),t}function ud(r){let e=Do(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let h=null;if(o>0){xn(1===o);const Ie=t.from[0];Ie.allDescendants?h=Ie.collectionId:e=e.child(Ie.collectionId)}let v=[];t.where&&(v=D(t.where));let T=[];t.orderBy&&(T=t.orderBy.map(Ie=>{return new El(Y((Qe=Ie).field),function(Nt){switch(Nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qe.direction));var Qe}));let V=null;t.limit&&(V=function(Ie){let Qe;return Qe="object"==typeof Ie?Ie.value:Ie,po(Qe)?null:Qe}(t.limit));let Q=null;var Ie;t.startAt&&(Q=new bl((Ie=t.startAt).values||[],!!Ie.before));let oe=null;return t.endAt&&(oe=function(Ie){return new bl(Ie.values||[],!Ie.before)}(t.endAt)),qc(e,h,T,v,V,"F",Q,oe)}function D(r){return r?void 0!==r.unaryFilter?[dt(r)]:void 0!==r.fieldFilter?[de(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>D(e)).reduce((e,t)=>e.concat(t)):jt():[]}function m(r){return yh[r]}function b(r){return Qu[r]}function M(r){return{fieldPath:r.canonicalString()}}function Y(r){return Ss.fromServerFormat(r.fieldPath)}function de(r){return wo.create(Y(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jt()}}(r.fieldFilter.op),r.fieldFilter.value)}function dt(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Y(r.unaryFilter.field);return wo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Y(r.unaryFilter.field);return wo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Y(r.unaryFilter.field);return wo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Y(r.unaryFilter.field);return wo.create(h,"!=",{nullValue:"NULL_VALUE"});default:return jt()}}function Bt(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rn(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Ln(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=hi(e)),e=Ii(r.get(t),e);return hi(e)}function Ii(r,e){let t=e;const o=r.length;for(let h=0;h<o;h++){const v=r.charAt(h);switch(v){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=v}}return t}function hi(r){return r+"\x01\x01"}function _r(r){const e=r.length;if(xn(e>=2),2===e)return xn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),yr.emptyPath();const t=e-2,o=[];let h="";for(let v=0;v<e;){const T=r.indexOf("\x01",v);switch((T<0||T>t)&&jt(),r.charAt(T+1)){case"\x01":const V=r.substring(v,T);let Q;0===h.length?Q=V:(h+=V,Q=h,h=""),o.push(Q);break;case"\x10":h+=r.substring(v,T),h+="\0";break;case"\x11":h+=r.substring(v,T+1);break;default:jt()}v=T+2}return new yr(o)}const ga=["userId","batchId"];function ll(r,e){return[r,Ln(e)]}function Sl(r,e,t){return[r,Ln(e),t]}const Jl={},Ac=["prefixPath","collectionGroup","readTime","documentId"],vh=["prefixPath","collectionGroup","documentId"],Ka=["collectionGroup","readTime","prefixPath","documentId"],Mu=["canonicalId","targetId"],cd=["targetId","path"],Sc=["path","targetId"],xc=["collectionId","parent"],bh=["indexId","uid"],dd=["uid","sequenceNumber"],Eh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dp=["indexId","uid","orderedDocumentKey"],hp=["userId","collectionPath","documentId"],fp=["userId","collectionPath","largestBatchId"],wh=["userId","collectionGroup","largestBatchId"],Wd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],of=[...Wd,"documentOverlays"],Ou=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Kd=[...Ou,"indexConfiguration","indexState","indexEntries"],ma="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class zt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zt((o,h)=>{this.nextCallback=v=>{this.wrapSuccess(e,v).next(o,h)},this.catchCallback=v=>{this.wrapFailure(t,v).next(o,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof zt?t:zt.resolve(t)}catch(t){return zt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):zt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):zt.reject(t)}static resolve(e){return new zt((t,o)=>{t(e)})}static reject(e){return new zt((t,o)=>{o(e)})}static waitFor(e){return new zt((t,o)=>{let h=0,v=0,T=!1;e.forEach(V=>{++h,V.next(()=>{++v,T&&v===h&&t()},Q=>o(Q))}),T=!0,v===h&&t()})}static or(e){let t=zt.resolve(!1);for(const o of e)t=t.next(h=>h?zt.resolve(h):o());return t}static forEach(e,t){const o=[];return e.forEach((h,v)=>{o.push(t.call(this,h,v))}),this.waitFor(o)}}class ul{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Lr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Mc(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const h=Pc(o.target.error);this.At.reject(new Mc(e,h))}}static open(e,t,o,h){try{return new ul(t,e.transaction(h,o))}catch(v){throw new Mc(t,v)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lf(t)}}class Za{constructor(e,t,o){this.name=e,this.version=t,this.bt=o,12.2===Za.Vt((0,ke.z$)())&&_e("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),Ml(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,ke.hl)())return!1;if(Za.St())return!0;const e=(0,ke.z$)(),t=Za.Vt(e),o=0<t&&t<10,h=Za.Dt(e),v=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||v)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(X("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,h)=>{const v=indexedDB.open(t.name,t.version);v.onsuccess=T=>{o(T.target.result)},v.onblocked=()=>{h(new Mc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=T=>{const V=T.target.error;h("VersionError"===V.name?new Yt(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===V.name?new Yt(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+V):new Mc(e,V))},v.onupgradeneeded=T=>{X("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',T.oldVersion),t.bt.kt(T.target.result,v.transaction,T.oldVersion,t.version).next(()=>{X("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,h){var v=this;return(0,Oe.Z)(function*(){const T="readonly"===t;let V=0;for(;;){++V;try{v.db=yield v.Nt(e);const Q=ul.open(v.db,e,T?"readonly":"readwrite",o),oe=h(Q).next(Ie=>(Q.Pt(),Ie)).catch(Ie=>(Q.abort(Ie),zt.reject(Ie))).toPromise();return oe.catch(()=>{}),yield Q.Rt,oe}catch(Q){const oe="FirebaseError"!==Q.name&&V<3;if(X("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",oe),v.close(),!oe)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class af{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ml(this.Ft.delete())}}class Mc extends Yt{constructor(e,t){super(gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xl(r){return"IndexedDbTransactionError"===r.name}class lf{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(X("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ml(o)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),Ml(this.store.add(e))}get(e){return Ml(this.store.get(e)).next(t=>(void 0===t&&(t=null),X("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),Ml(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),Ml(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const h=this.cursor(o),v=[];return this.Kt(h,(T,V)=>{v.push(V)}).next(()=>v)}{const h=this.store.getAll(o.range);return new zt((v,T)=>{h.onerror=V=>{T(V.target.error)},h.onsuccess=V=>{v(V.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new zt((h,v)=>{o.onerror=T=>{v(T.target.error)},o.onsuccess=T=>{h(T.target.result)}})}Qt(e,t){X("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const h=this.cursor(o);return this.Kt(h,(v,T,V)=>V.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const h=this.cursor(o);return this.Kt(h,t)}zt(e){const t=this.cursor({});return new zt((o,h)=>{t.onerror=v=>{const T=Pc(v.target.error);h(T)},t.onsuccess=v=>{const T=v.target.result;T?e(T.primaryKey,T.value).next(V=>{V?T.continue():o()}):o()}})}Kt(e,t){const o=[];return new zt((h,v)=>{e.onerror=T=>{v(T.target.error)},e.onsuccess=T=>{const V=T.target.result;if(!V)return void h();const Q=new af(V),oe=t(V.primaryKey,V.value,Q);if(oe instanceof zt){const Ie=oe.catch(Qe=>(Q.done(),zt.reject(Qe)));o.push(Ie)}Q.isDone?h():null===Q.Lt?V.continue():V.continue(Q.Lt)}}).next(()=>zt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ml(r){return new zt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const h=Pc(o.target.error);t(h)}})}let Oc=!1;function Pc(r){const e=Za.Vt((0,ke.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oc||(Oc=!0,setTimeout(()=>{throw o},0)),o}}return r}class Zd extends Dh{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Mo(r,e){const t=ln(r);return Za.xt(t.Ht,e)}class u{constructor(e,t,o,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const v=this.mutations[h];v.key.isEqual(e.key)&&Wl(v,e,o[h])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Zu(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Zu(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),h=o;this.applyToLocalView(h),o.isValidDocument()||h.convertToNoDocument(_i.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zr())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(t,o)=>yc(t,o))&&pl(this.baseMutations,e.baseMutations,(t,o)=>yc(t,o))}}class l{constructor(e,t,o,h){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=h}static from(e,t,o){xn(e.mutations.length===o.length);let h=mh;const v=e.mutations;for(let T=0;T<v.length;T++)h=h.insert(v[T].key,o[T].version);return new l(e,t,o,h)}}class a{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class c{constructor(e,t,o,h,v=_i.min(),T=_i.min(),V=Xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=V}withSequenceNumber(e){return new c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class f{constructor(e){this.Jt=e}}function _(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:w(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:ql(h=r.Jt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Au(h,v.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:A(e.version)};else{if(!e.isUnknownDocument())return jt();o.unknownDocument={path:t.path.toArray(),version:A(e.version)}}var h,v;return o}function w(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function A(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function k(r){const e=new Jr(r.seconds,r.nanoseconds);return _i.fromTimestamp(e)}function Z(r,e){const t=(e.baseMutations||[]).map(v=>Ic(r.Jt,v));for(let v=0;v<e.mutations.length-1;++v){const T=e.mutations[v];v+1<e.mutations.length&&void 0!==e.mutations[v+1].transform&&(T.updateTransforms=e.mutations[v+1].transform.fieldTransforms,e.mutations.splice(v+1,1),++v)}const o=e.mutations.map(v=>Ic(r.Jt,v)),h=Jr.fromMillis(e.localWriteTimeMs);return new u(e.batchId,h,t,o)}function te(r){const e=k(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?k(r.lastLimboFreeSnapshotVersion):_i.min();let o;var h;return void 0!==r.query.documents?(xn(1===(h=r.query).documents.length),o=ta(nl(Do(h.documents[0])))):o=ta(ud(r.query)),new c(o,r.targetId,0,r.lastListenSequenceNumber,e,t,Xr.fromBase64String(r.resumeToken))}function he(r,e){const t=A(e.snapshotVersion),o=A(e.lastLimboFreeSnapshotVersion);let h;h=Vo(e.target)?$d(r.Jt,e.target):zd(r.Jt,e.target);const v=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ea(e.target),readTime:t,resumeToken:v,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function xe(r){const e=ud({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?pc(e,e.limit,"L"):e}function We(r,e){return new a(e.largestBatchId,Ic(r.Jt,e.overlayMutation))}function Je(r,e){const t=e.path.lastSegment();return[r,Ln(e.path.popLast()),t]}class Ct{getBundleMetadata(e,t){return xt(e).get(t).next(o=>{if(o)return{id:(h=o).bundleId,createTime:k(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return xt(e).put({bundleId:(o=t).id,createTime:A(es(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return rn(e).get(t).next(o=>{if(o)return{name:(h=o).name,query:xe(h.bundledQuery),readTime:k(h.readTime)};var h})}saveNamedQuery(e,t){return rn(e).put({name:(o=t).name,readTime:A(es(o.readTime)),bundledQuery:o.bundledQuery});var o}}function xt(r){return Mo(r,"bundles")}function rn(r){return Mo(r,"namedQueries")}class Mn{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Mn(e,t.uid||"")}getOverlay(e,t){return tn(e).get(Je(this.userId,t)).next(o=>o?We(this.M,o):null)}saveOverlays(e,t,o){const h=[];return o.forEach((v,T)=>{const V=new a(t,T);h.push(this.Xt(e,V))}),zt.waitFor(h)}removeOverlaysForBatchId(e,t,o){const h=new Set;t.forEach(T=>h.add(Ln(T.getCollectionPath())));const v=[];return h.forEach(T=>{const V=IDBKeyRange.bound([this.userId,T,o],[this.userId,T,o+1],!1,!0);v.push(tn(e).Qt("collectionPathOverlayIndex",V))}),zt.waitFor(v)}getOverlaysForCollection(e,t,o){const h=Cu(),v=Ln(t),T=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,Number.POSITIVE_INFINITY],!0);return tn(e).qt("collectionPathOverlayIndex",T).next(V=>{for(const Q of V){const oe=We(this.M,Q);h.set(oe.getKey(),oe)}return h})}getOverlaysForCollectionGroup(e,t,o,h){const v=Cu();let T;const V=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tn(e).Wt({index:"collectionGroupOverlayIndex",range:V},(Q,oe,Ie)=>{const Qe=We(this.M,oe);v.size()<h||Qe.largestBatchId===T?(v.set(Qe.getKey(),Qe),T=Qe.largestBatchId):Ie.done()}).next(()=>v)}Xt(e,t){return tn(e).put(function(o,h,v){const[T,V,Q]=Je(h,v.mutation.key);return{userId:h,collectionPath:V,documentId:Q,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:xu(o.Jt,v.mutation)}}(this.M,this.userId,t))}}function tn(r){return Mo(r,"documentOverlays")}class en{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(hs(e.integerValue));else if("doubleValue"in e){const o=hs(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),So(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue($o(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?fu(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):jt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const h of Object.keys(o))this.re(h,t),this.te(o[h],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const h of o)this.te(h,t)}ae(e,t){this.ne(t,37),Cn.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Gn(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Wn(r){const e=64-function(t){let o=0;for(let h=0;h<8;++h){const v=Gn(255&t[h]);if(o+=v,8!==v)break}return o}(r);return Math.ceil(e/8)}en.fe=new en;class ci{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const h=t.codePointAt(0);this._e(240|h>>>18),this._e(128|63&h>>>12),this._e(128|63&h>>>6),this._e(128|63&h)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const h=t.codePointAt(0);this.ge(240|h>>>18),this.ge(128|63&h>>>12),this.ge(128|63&h>>>6),this.ge(128|63&h)}}this.ye()}Te(e){const t=this.Ee(e),o=Wn(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let h=t.length-o;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Re(e){const t=this.Ee(e),o=Wn(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let h=t.length-o;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(h){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,h,!1),new Uint8Array(v.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let h=1;h<t.length;++h)t[h]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class vi{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class cs{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class dr{constructor(){this.De=new ci,this.Ce=new vi(this.De),this.xe=new cs(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class nr{constructor(e,t,o,h){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=h}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new nr(this.indexId,this.documentKey,this.arrayValue,o)}}function Is(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=ra(r.arrayValue,e.arrayValue),0!==t?t:(t=ra(r.directionalValue,e.directionalValue),0!==t?t:Cn.comparator(r.documentKey,e.documentKey)))}function ra(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Vn{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=mt(e);if(void 0!==t&&!this.Be(t))return!1;const o=St(e);let h=0,v=0;for(;h<o.length&&this.Be(o[h]);++h);if(h===o.length)return!0;if(void 0!==this.Fe){const T=o[h];if(!this.Le(this.Fe,T)||!this.Ue(this.Me[v++],T))return!1;++h}for(;h<o.length;++h){const T=o[h];if(v>=this.Me.length||!this.Ue(this.Me[v++],T))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class fs{constructor(){this.qe=new Pu}addToCollectionParentIndex(e,t){return this.qe.add(t),zt.resolve()}getCollectionParents(e,t){return zt.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return zt.resolve()}deleteFieldIndex(e,t){return zt.resolve()}getDocumentsMatchingTarget(e,t){return zt.resolve(null)}getFieldIndex(e,t){return zt.resolve(null)}getFieldIndexes(e,t){return zt.resolve([])}getNextCollectionGroupToUpdate(e){return zt.resolve(null)}updateCollectionGroup(e,t,o){return zt.resolve()}updateIndexEntries(e,t){return zt.resolve()}}class Pu{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),h=this.index[t]||new $r(yr.comparator),v=!h.has(o);return this.index[t]=h.add(o),v}has(e){const t=e.lastSegment(),o=e.popLast(),h=this.index[t];return h&&h.has(o)}getEntries(e){return(this.index[e]||new $r(yr.comparator)).toArray()}}const La=new Uint8Array(0);class Ru{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Pu,this.Ge=new ha(o=>ea(o),(o,h)=>Ts(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const v={collectionId:o,parent:Ln(h)};return Go(e).put(v)}return zt.resolve()}getCollectionParents(e,t){const o=[],h=IDBKeyRange.bound([t,""],[cu(t),""],!1,!0);return Go(e).qt(h).next(v=>{for(const T of v){if(T.collectionId!==t)break;o.push(_r(T.parent))}return o})}addFieldIndex(e,t){const o=eu(e),h={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var v;return delete h.indexId,o.add(h).next()}deleteFieldIndex(e,t){const o=eu(e),h=Ol(e),v=Xl(e);return o.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Xl(e);let h=!0;const v=new Map;return zt.forEach(this.Qe(t),T=>this.getFieldIndex(e,T).next(V=>{h&&(h=!!V),v.set(T,V)})).next(()=>{if(h){let T=zr();const V=[];return zt.forEach(v,(Q,oe)=>{var Ie;X("IndexedDbIndexManager",`Using index ${Ie=Q,`id=${Ie.indexId}|cg=${Ie.collectionGroup}|f=${Ie.fields.map(ys=>`${ys.fieldPath}:${ys.kind}`).join(",")}`} to execute ${ea(t)}`);const Qe=function(ys,so){const Js=mt(so);if(void 0===Js)return null;for(const yo of da(ys,Js.fieldPath))switch(yo.op){case"array-contains-any":return yo.value.arrayValue.values||[];case"array-contains":return[yo.value]}return null}(oe,Q),Nt=function(ys,so){const Js=new Map;for(const yo of St(so))for(const Ma of da(ys,yo.fieldPath))switch(Ma.op){case"==":case"in":Js.set(yo.fieldPath.canonicalString(),Ma.value);break;case"not-in":case"!=":return Js.set(yo.fieldPath.canonicalString(),Ma.value),Array.from(Js.values())}return null}(oe,Q),cn=function(ys,so){const Js=[];let yo=!0;for(const Ma of St(so)){const Pd=0===Ma.kind?Ha(ys,Ma.fieldPath,ys.startAt):Kc(ys,Ma.fieldPath,ys.startAt);if(!Pd.value)return null;Js.push(Pd.value),yo&&(yo=Pd.inclusive)}return new bl(Js,yo)}(oe,Q),gn=function(ys,so){const Js=[];let yo=!0;for(const Ma of St(so)){const Pd=0===Ma.kind?Kc(ys,Ma.fieldPath,ys.endAt):Ha(ys,Ma.fieldPath,ys.endAt);if(!Pd.value)return null;Js.push(Pd.value),yo&&(yo=Pd.inclusive)}return new bl(Js,yo)}(oe,Q),Xn=this.je(Q,oe,cn),ji=this.je(Q,oe,gn),Qs=this.We(Q,oe,Nt),Ro=this.ze(Q.indexId,Qe,Xn,!!cn&&cn.inclusive,ji,!!gn&&gn.inclusive,Qs);return zt.forEach(Ro,ys=>o.Gt(ys,t.limit).next(so=>{so.forEach(Js=>{const yo=Cn.fromSegments(Js.documentKey);T.has(yo)||(T=T.add(yo),V.push(yo))})}))}).next(()=>V)}return zt.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,o,h,v,T,V){const Q=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=v?v.length:1),oe=Q/(null!=t?t.length:1),Ie=[];for(let Qe=0;Qe<Q;++Qe){const Nt=t?this.He(t[Qe/oe]):La,cn=o?this.Je(e,Nt,o[Qe%oe],h):this.Ye(e),gn=v?this.Xe(e,Nt,v[Qe%oe],T):this.Ye(e+1);Ie.push(...this.createRange(cn,gn,V.map(Xn=>this.Je(e,Nt,Xn,!0))))}return Ie}Je(e,t,o,h){const v=new nr(e,Cn.empty(),t,o);return h?v:v.ke()}Xe(e,t,o,h){const v=new nr(e,Cn.empty(),t,o);return h?v.ke():v}Ye(e){return new nr(e,Cn.empty(),La,La)}getFieldIndex(e,t){const o=new Vn(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(v=>{const T=v.filter(V=>o.$e(V));return T.sort((V,Q)=>Q.fields.length-V.fields.length),T.length>0?T[0]:null})}Ze(e,t){const o=new dr;for(const h of St(e)){const v=t.data.field(h.fieldPath);if(null==v)return null;const T=o.Ne(h.kind);en.fe.Zt(v,T)}return o.Se()}He(e){const t=new dr;return en.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new dr;return en.fe.Zt(ks(this.databaseId,t),o.Ne(function(h){const v=St(h);return 0===v.length?0:v[v.length-1].kind}(e))),o.Se()}We(e,t,o){if(null===o)return[];let h=[];h.push(new dr);let v=0;for(const T of St(e)){const V=o[v++];for(const Q of h)if(this.en(t,T.fieldPath)&&el(V))h=this.nn(h,T,V);else{const oe=Q.Ne(T.kind);en.fe.Zt(V,oe)}}return this.sn(h)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const h=[...e],v=[];for(const T of o.arrayValue.values||[])for(const V of h){const Q=new dr;Q.seed(V.Se()),en.fe.Zt(T,Q.Ne(t.kind)),v.push(Q)}return v}en(e,t){return!!e.filters.find(o=>o instanceof wo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=eu(e),h=Ol(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(v=>{const T=[];return zt.forEach(v,V=>h.get([V.indexId,this.uid]).next(Q=>{T.push(function(oe,Ie){const Qe=Ie?new $n(Ie.sequenceNumber,new Ti(k(Ie.readTime),new Cn(_r(Ie.documentKey)),Ie.largestBatchId)):$n.empty(),Nt=oe.fields.map(([cn,gn])=>new yn(Ss.fromServerFormat(cn),gn));return new Ae(oe.indexId,oe.collectionGroup,Nt,Qe)}(V,Q))})).next(()=>T)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,h)=>{const v=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==v?v:ui(o.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const h=eu(e),v=Ol(e);return this.rn(e).next(T=>h.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(V=>zt.forEach(V,Q=>{return v.put({indexId:Q.indexId,uid:this.user.uid||"",sequenceNumber:T,readTime:A((Nt=o).readTime),documentKey:Ln(Nt.documentKey.path),largestBatchId:Nt.largestBatchId});var Nt})))}updateIndexEntries(e,t){const o=new Map;return zt.forEach(t,(h,v)=>{const T=o.get(h.collectionGroup);return(T?zt.resolve(T):this.getFieldIndexes(e,h.collectionGroup)).next(V=>(o.set(h.collectionGroup,V),zt.forEach(V,Q=>this.on(e,h,Q).next(oe=>{const Ie=this.un(v,Q);return oe.isEqual(Ie)?zt.resolve():this.an(e,v,Q,oe,Ie)}))))})}cn(e,t,o,h){return Xl(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,h){return Xl(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const h=Xl(e);let v=new $r(Is);return h.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(T,V)=>{v=v.add(new nr(o.indexId,t,V.arrayValue,V.directionalValue))}).next(()=>v)}un(e,t){let o=new $r(Is);const h=this.Ze(t,e);if(null==h)return o;const v=mt(t);if(null!=v){const T=e.data.field(v.fieldPath);if(el(T))for(const V of T.arrayValue.values||[])o=o.add(new nr(t.indexId,e.key,this.He(V),h))}else o=o.add(new nr(t.indexId,e.key,La,h));return o}an(e,t,o,h,v){X("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const T=[];return function(V,Q,oe,Ie,Qe){const Nt=V.getIterator(),cn=Q.getIterator();let gn=Ga(Nt),Xn=Ga(cn);for(;gn||Xn;){let ji=!1,Qs=!1;if(gn&&Xn){const Ro=oe(gn,Xn);Ro<0?Qs=!0:Ro>0&&(ji=!0)}else null!=gn?Qs=!0:ji=!0;ji?(Ie(Xn),Xn=Ga(cn)):Qs?(Qe(gn),gn=Ga(Nt)):(gn=Ga(Nt),Xn=Ga(cn))}}(h,v,Is,V=>{T.push(this.cn(e,t,o,V))},V=>{T.push(this.hn(e,t,o,V))}),zt.waitFor(T)}rn(e){let t=1;return Ol(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,v)=>{v.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((T,V)=>Is(T,V)).filter((T,V,Q)=>!V||0!==Is(T,Q[V-1]));const h=[];h.push(e);for(const T of o){const V=Is(T,e),Q=Is(T,t);if(0===V)h[0]=e.ke();else if(V>0&&Q<0)h.push(T),h.push(T.ke());else if(Q>0)break}h.push(t);const v=[];for(let T=0;T<h.length;T+=2)v.push(IDBKeyRange.bound([h[T].indexId,this.uid,h[T].arrayValue,h[T].directionalValue,La,[]],[h[T+1].indexId,this.uid,h[T+1].arrayValue,h[T+1].directionalValue,La,[]]));return v}}function Go(r){return Mo(r,"collectionParents")}function Xl(r){return Mo(r,"indexEntries")}function eu(r){return Mo(r,"indexConfiguration")}function Ol(r){return Mo(r,"indexState")}const qa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hd(r,e,t){const o=r.store("mutations"),h=r.store("documentMutations"),v=[],T=IDBKeyRange.only(t.batchId);let V=0;const Q=o.Wt({range:T},(Ie,Qe,Nt)=>(V++,Nt.delete()));v.push(Q.next(()=>{xn(1===V)}));const oe=[];for(const Ie of t.mutations){const Qe=Sl(e,Ie.key.path,t.batchId);v.push(h.delete(Qe)),oe.push(Ie.key)}return zt.waitFor(v).next(()=>oe)}function qd(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw jt();e=r.noDocument}return JSON.stringify(e).length}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class Gg{constructor(e,t,o,h){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=h,this.ln={}}static Yt(e,t,o,h){xn(""!==e.uid);const v=e.isAuthenticated()?e.uid:"";return new Gg(v,t,o,h)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fd(e).Wt({index:"userMutationsIndex",range:o},(h,v,T)=>{t=!1,T.done()}).next(()=>t)}addMutationBatch(e,t,o,h){const v=Ju(e),T=fd(e);return T.add({}).next(V=>{xn("number"==typeof V);const Q=new u(V,t,o,h),oe=function(Nt,cn,gn){const Xn=gn.baseMutations.map(Qs=>xu(Nt.Jt,Qs)),ji=gn.mutations.map(Qs=>xu(Nt.Jt,Qs));return{userId:cn,batchId:gn.batchId,localWriteTimeMs:gn.localWriteTime.toMillis(),baseMutations:Xn,mutations:ji}}(this.M,this.userId,Q),Ie=[];let Qe=new $r((Nt,cn)=>ui(Nt.canonicalString(),cn.canonicalString()));for(const Nt of h){const cn=Sl(this.userId,Nt.key.path,V);Qe=Qe.add(Nt.key.path.popLast()),Ie.push(T.put(oe)),Ie.push(v.put(cn,Jl))}return Qe.forEach(Nt=>{Ie.push(this.indexManager.addToCollectionParentIndex(e,Nt))}),e.addOnCommittedListener(()=>{this.ln[V]=Q.keys()}),zt.waitFor(Ie).next(()=>Q)})}lookupMutationBatch(e,t){return fd(e).get(t).next(o=>o?(xn(o.userId===this.userId),Z(this.M,o)):null)}fn(e,t){return this.ln[t]?zt.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const h=o.keys();return this.ln[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,h=IDBKeyRange.lowerBound([this.userId,o]);let v=null;return fd(e).Wt({index:"userMutationsIndex",range:h},(T,V,Q)=>{V.userId===this.userId&&(xn(V.batchId>=o),v=Z(this.M,V)),Q.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return fd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(h,v,T)=>{o=v.batchId,T.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fd(e).qt("userMutationsIndex",t).next(o=>o.map(h=>Z(this.M,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=ll(this.userId,t.path),h=IDBKeyRange.lowerBound(o),v=[];return Ju(e).Wt({range:h},(T,V,Q)=>{const[oe,Ie,Qe]=T,Nt=_r(Ie);if(oe===this.userId&&t.path.isEqual(Nt))return fd(e).get(Qe).next(cn=>{if(!cn)throw jt();xn(cn.userId===this.userId),v.push(Z(this.M,cn))});Q.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new $r(ui);const h=[];return t.forEach(v=>{const T=ll(this.userId,v.path),V=IDBKeyRange.lowerBound(T),Q=Ju(e).Wt({range:V},(oe,Ie,Qe)=>{const[Nt,cn,gn]=oe,Xn=_r(cn);Nt===this.userId&&v.path.isEqual(Xn)?o=o.add(gn):Qe.done()});h.push(Q)}),zt.waitFor(h).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,h=o.length+1,v=ll(this.userId,o),T=IDBKeyRange.lowerBound(v);let V=new $r(ui);return Ju(e).Wt({range:T},(Q,oe,Ie)=>{const[Qe,Nt,cn]=Q,gn=_r(Nt);Qe===this.userId&&o.isPrefixOf(gn)?gn.length===h&&(V=V.add(cn)):Ie.done()}).next(()=>this.dn(e,V))}dn(e,t){const o=[],h=[];return t.forEach(v=>{h.push(fd(e).get(v).next(T=>{if(null===T)throw jt();xn(T.userId===this.userId),o.push(Z(this.M,T))}))}),zt.waitFor(h).next(()=>o)}removeMutationBatch(e,t){return hd(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),zt.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return zt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return Ju(e).Wt({range:o},(v,T,V)=>{if(v[0]===this.userId){const Q=_r(v[1]);h.push(Q)}else V.done()}).next(()=>{xn(0===h.length)})})}containsKey(e,t){return pp(e,this.userId,t)}wn(e){return Ch(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pp(r,e,t){const o=ll(e,t.path),h=o[1],v=IDBKeyRange.lowerBound(o);let T=!1;return Ju(r).Wt({range:v,jt:!0},(V,Q,oe)=>{const[Ie,Qe,Nt]=V;Ie===e&&Qe===h&&(T=!0),oe.done()}).next(()=>T)}function fd(r){return Mo(r,"mutations")}function Ju(r){return Mo(r,"documentMutations")}function Ch(r){return Mo(r,"mutationQueues")}class Xu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Xu(0)}static yn(){return new Xu(-1)}}class gp{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new Xu(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>_i.fromTimestamp(new Jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(h=>(h.highestListenSequenceNumber=t,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.In(e,h)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rc(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(xn(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let h=0;const v=[];return Rc(e).Wt((T,V)=>{const Q=te(V);Q.sequenceNumber<=t&&null===o.get(Q.targetId)&&(h++,v.push(this.removeTargetData(e,Q)))}).next(()=>zt.waitFor(v)).next(()=>h)}forEachTarget(e,t){return Rc(e).Wt((o,h)=>{const v=te(h);t(v)})}pn(e){return Zy(e).get("targetGlobalKey").next(t=>(xn(null!==t),t))}In(e,t){return Zy(e).put("targetGlobalKey",t)}Tn(e,t){return Rc(e).put(he(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=ea(t),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let v=null;return Rc(e).Wt({range:h,index:"queryTargetsIndex"},(T,V,Q)=>{const oe=te(V);Ts(t,oe.target)&&(v=oe,Q.done())}).next(()=>v)}addMatchingKeys(e,t,o){const h=[],v=Nc(e);return t.forEach(T=>{const V=Ln(T.path);h.push(v.put({targetId:o,path:V})),h.push(this.referenceDelegate.addReference(e,o,T))}),zt.waitFor(h)}removeMatchingKeys(e,t,o){const h=Nc(e);return zt.forEach(t,v=>{const T=Ln(v.path);return zt.waitFor([h.delete([o,T]),this.referenceDelegate.removeReference(e,o,v)])})}removeMatchingKeysForTargetId(e,t){const o=Nc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),h=Nc(e);let v=zr();return h.Wt({range:o,jt:!0},(T,V,Q)=>{const oe=_r(T[1]),Ie=new Cn(oe);v=v.add(Ie)}).next(()=>v)}containsKey(e,t){const o=Ln(t.path),h=IDBKeyRange.bound([o],[cu(o)],!1,!0);let v=0;return Nc(e).Wt({index:"documentTargetsIndex",jt:!0,range:h},([T,V],Q,oe)=>{0!==T&&(v++,oe.done())}).next(()=>v>0)}Et(e,t){return Rc(e).get(t).next(o=>o?te(o):null)}}function Rc(r){return Mo(r,"targets")}function Zy(r){return Mo(r,"targetGlobal")}function Nc(r){return Mo(r,"targetDocuments")}function pd(r){return mp.apply(this,arguments)}function mp(){return mp=(0,Oe.Z)(function*(r){if(r.code!==gt.FAILED_PRECONDITION||r.message!==ma)throw r;X("LocalStore","Unexpectedly lost primary lease")}),mp.apply(this,arguments)}function Wg([r,e],[t,o]){const h=ui(r,t);return 0===h?ui(e,o):h}class Kg{constructor(e){this.An=e,this.buffer=new $r(Wg),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Wg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $v{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;X("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Oe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(h){xl(h)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield pd(h)}yield t.Sn(e)}))}}class qy{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return zt.resolve(fo.A);const o=new Kg(t);return this.Dn.forEachTarget(e,h=>o.bn(h.sequenceNumber)).next(()=>this.Dn.xn(e,h=>o.bn(h))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector","Garbage collection skipped; disabled"),zt.resolve(qa)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qa):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,h,v,T,V,Q,oe;const Ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Qe=>(Qe>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Qe}`),h=this.params.maximumSequenceNumbersToCollect):h=Qe,T=Date.now(),this.nthSequenceNumber(e,h))).next(Qe=>(o=Qe,V=Date.now(),this.removeTargets(e,o,t))).next(Qe=>(v=Qe,Q=Date.now(),this.removeOrphanedDocuments(e,o))).next(Qe=>(oe=Date.now(),G()<=Le.in.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-Ie}ms\n\tDetermined least recently used ${h} in `+(V-T)+`ms\n\tRemoved ${v} targets in `+(Q-V)+`ms\n\tRemoved ${Qe} documents in `+(oe-Q)+`ms\nTotal Duration: ${oe-Ie}ms`),zt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:v,documentsRemoved:Qe})))}}class zv{constructor(e,t){this.db=e,this.garbageCollector=new qy(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(h=>o+h))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,h)=>t(h))}addReference(e,t,o){return Th(e,o)}removeReference(e,t,o){return Th(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Th(e,t)}On(e,t){return function(o,h){let v=!1;return Ch(o).zt(T=>pp(o,T,h).next(V=>(V&&(v=!0),zt.resolve(!V)))).next(()=>v)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let v=0;return this.Mn(e,(T,V)=>{if(V<=t){const Q=this.On(e,T).next(oe=>{if(!oe)return v++,o.getEntry(e,T).next(()=>(o.removeEntry(T,_i.min()),Nc(e).delete([0,Ln(T.path)])))});h.push(Q)}}).next(()=>zt.waitFor(h)).next(()=>o.apply(e)).next(()=>v)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Th(e,t)}Mn(e,t){const o=Nc(e);let h,v=fo.A;return o.Wt({index:"documentTargetsIndex"},([T,V],{path:Q,sequenceNumber:oe})=>{0===T?(v!==fo.A&&t(new Cn(_r(h)),v),v=oe,h=Q):v=fo.A}).next(()=>{v!==fo.A&&t(new Cn(_r(h)),v)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Th(r,e){return Nc(r).put((o=r.currentSequenceNumber,{targetId:0,path:Ln(e.path),sequenceNumber:o}));var o}class yp{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,re.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?zt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yy{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Yd(e).put(o)}removeEntry(e,t,o){return Yd(e).delete(function(h,v){const T=h.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],w(v),T[T.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=re.newInvalidDocument(t);return Yd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(h,v)=>{o=this.$n(t,v)}).next(()=>o)}Bn(e,t){let o={size:0,document:re.newInvalidDocument(t)};return Yd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(h,v)=>{o={document:this.$n(t,v),size:qd(v)}}).next(()=>o)}getEntries(e,t){let o=fa();return this.Ln(e,t,(h,v)=>{const T=this.$n(h,v);o=o.insert(h,T)}).next(()=>o)}Un(e,t){let o=fa(),h=new Ms(Cn.comparator);return this.Ln(e,t,(v,T)=>{const V=this.$n(v,T);o=o.insert(v,V),h=h.insert(v,qd(T))}).next(()=>({documents:o,qn:h}))}Ln(e,t,o){if(t.isEmpty())return zt.resolve();let h=new $r(Xy);t.forEach(Q=>h=h.add(Q));const v=IDBKeyRange.bound(uf(h.first()),uf(h.last())),T=h.getIterator();let V=T.getNext();return Yd(e).Wt({index:"documentKeyIndex",range:v},(Q,oe,Ie)=>{const Qe=Cn.fromSegments([...oe.prefixPath,oe.collectionGroup,oe.documentId]);for(;V&&Xy(V,Qe)<0;)o(V,null),V=T.getNext();V&&V.isEqual(Qe)&&(o(V,oe),V=T.hasNext()?T.getNext():null),V?Ie.Ut(uf(V)):Ie.done()}).next(()=>{for(;V;)o(V,null),V=T.hasNext()?T.getNext():null})}getAllFromCollection(e,t,o){const h=[t.popLast().toArray(),t.lastSegment(),w(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],v=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yd(e).qt(IDBKeyRange.bound(h,v,!0)).next(T=>{let V=fa();for(const Q of T){const oe=this.$n(Cn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);V=V.insert(oe.key,oe)}return V})}getAllFromCollectionGroup(e,t,o,h){let v=fa();const T=Jy(t,o),V=Jy(t,Ti.max());return Yd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,V,!0)},(Q,oe,Ie)=>{const Qe=this.$n(Cn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);v=v.insert(Qe.key,Qe),v.size===h&&Ie.done()}).next(()=>v)}newChangeBuffer(e){return new _p(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Qy(e).get("remoteDocumentGlobalKey").next(t=>(xn(!!t),t))}Fn(e,t){return Qy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function g(r,e){let t;if(e.document)t=na(r.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Cn.fromSegments(e.noDocument.path),h=k(e.noDocument.readTime);t=re.newNoDocument(o,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return jt();{const o=Cn.fromSegments(e.unknownDocument.path),h=k(e.unknownDocument.version);t=re.newUnknownDocument(o,h)}}return e.readTime&&t.setReadTime(function(o){const h=new Jr(o[0],o[1]);return _i.fromTimestamp(h)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(_i.min()))return o}return re.newInvalidDocument(e)}}class _p extends yp{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new ha(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const t=[];let o=0,h=new $r((v,T)=>ui(v.canonicalString(),T.canonicalString()));return this.changes.forEach((v,T)=>{const V=this.Gn.get(v);if(t.push(this.Kn.removeEntry(e,v,V.readTime)),T.isValidDocument()){const Q=_(this.Kn.M,T);h=h.add(v.path.popLast()),o+=qd(Q)-V.size,t.push(this.Kn.addEntry(e,v,Q))}else if(o-=V.size,this.trackRemovals){const Q=_(this.Kn.M,T.convertToNoDocument(_i.min()));t.push(this.Kn.addEntry(e,v,Q))}}),h.forEach(v=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,v))}),t.push(this.Kn.updateMetadata(e,o)),zt.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:h})=>(h.forEach((v,T)=>{this.Gn.set(v,{size:T,readTime:o.get(v).readTime})}),o))}}function Qy(r){return Mo(r,"remoteDocumentGlobal")}function Yd(r){return Mo(r,"remoteDocumentsV14")}function uf(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jy(r,e){const t=e.documentKey.path.toArray();return[r,w(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Xy(r,e){const t=r.path.toArray(),o=e.path.toArray();let h=0;for(let v=0;v<t.length-2&&v<o.length-2;++v)if(h=ui(t[v],o[v]),h)return h;return h=ui(t.length,o.length),h||(h=ui(t[t.length-2],o[o.length-2]),h||ui(t[t.length-1],o[o.length-1]))}class Gv{constructor(e){this.M=e}kt(e,t,o,h){const v=new ul("createOrUpgrade",t);var V;o<1&&h>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ga,{unique:!0}),V.createObjectStore("documentMutations"),e_(e),function(V){V.createObjectStore("remoteDocuments")}(e));let T=zt.resolve();return o<3&&h>=3&&(0!==o&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),e_(e)),T=T.next(()=>function(V){const Q=V.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_i.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",oe)}(v))),o<4&&h>=4&&(0!==o&&(T=T.next(()=>function(V,Q){return Q.store("mutations").qt().next(oe=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ga,{unique:!0});const Ie=Q.store("mutations"),Qe=oe.map(Nt=>Ie.put(Nt));return zt.waitFor(Qe)})}(e,v))),T=T.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(T=T.next(()=>this.Qn(v))),o<6&&h>=6&&(T=T.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.jn(v)))),o<7&&h>=7&&(T=T.next(()=>this.Wn(v))),o<8&&h>=8&&(T=T.next(()=>this.zn(e,v))),o<9&&h>=9&&(T=T.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(T=T.next(()=>this.Hn(v))),o<11&&h>=11&&(T=T.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(T=T.next(()=>{!function(V){const Q=V.createObjectStore("documentOverlays",{keyPath:hp});Q.createIndex("collectionPathOverlayIndex",fp,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",wh,{unique:!1})}(e)})),o<13&&h>=13&&(T=T.next(()=>function(V){const Q=V.createObjectStore("remoteDocumentsV14",{keyPath:Ac});Q.createIndex("documentKeyIndex",vh),Q.createIndex("collectionGroupIndex",Ka)}(e)).next(()=>this.Jn(e,v)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(T=T.next(()=>{!function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:bh}).createIndex("sequenceNumberIndex",dd,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:Eh}).createIndex("documentKeyIndex",dp,{unique:!1})}(e)})),T}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,h)=>{t+=qd(h)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(h=>zt.forEach(h,v=>{const T=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",T).next(V=>zt.forEach(V,Q=>{xn(Q.userId===v.userId);const oe=Z(this.M,Q);return hd(e,v.userId,oe).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const v=[];return o.Wt((T,V)=>{const Q=new yr(T),oe=[0,Ln(Q)];v.push(t.get(oe).next(Ie=>Ie?zt.resolve():t.put({targetId:0,path:Ln(Q),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>zt.waitFor(v))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:xc});const o=t.store("collectionParents"),h=new Pu,v=T=>{if(h.add(T)){const V=T.lastSegment(),Q=T.popLast();return o.put({collectionId:V,parent:Ln(Q)})}};return t.store("remoteDocuments").Wt({jt:!0},(T,V)=>{const Q=new yr(T);return v(Q.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([T,V,Q],oe)=>{const Ie=_r(V);return v(Ie.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,h)=>{const v=te(h),T=he(this.M,v);return t.put(T)})}Jn(e,t){const o=t.store("remoteDocuments"),h=[];return o.Wt((v,T)=>{const V=t.store("remoteDocumentsV14"),Q=(oe=T,oe.document?new Cn(yr.fromString(oe.document.name).popFirst(5)):oe.noDocument?Cn.fromSegments(oe.noDocument.path):oe.unknownDocument?Cn.fromSegments(oe.unknownDocument.path):jt()).path.toArray();var oe;const Ie={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};h.push(V.put(Ie))}).next(()=>zt.waitFor(h))}}function e_(r){r.createObjectStore("targetDocuments",{keyPath:cd}).createIndex("documentTargetsIndex",Sc,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mu,{unique:!0}),r.createObjectStore("targetGlobal")}const Zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qg{constructor(e,t,o,h,v,T,V,Q,oe,Ie,Qe=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=v,this.window=T,this.document=V,this.Xn=oe,this.Zn=Ie,this.ts=Qe,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Nt=>Promise.resolve(),!qg.vt())throw new Yt(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zv(this,h),this.hs=t+"main",this.M=new f(Q),this.ls=new Za(this.hs,this.ts,new Gv(this.M)),this.fs=new gp(this.referenceDelegate,this.M),this.ds=new Yy(this.M),this._s=new Ct,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Ie&&_e("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Yt(gt.FAILED_PRECONDITION,Zg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new fo(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,Oe.Z)(function*(h){if(t.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(xl(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return cf(e).get("owner").next(t=>zt.resolve(this.bs(t)))}Vs(e){return tu(e).delete(this.clientId)}vs(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Mo(o,"clientMetadata");return h.qt().next(v=>{const T=e.Ds(v,18e5),V=v.filter(Q=>-1===T.indexOf(Q));return zt.forEach(V,Q=>h.delete(Q.clientId)).next(()=>V)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?zt.resolve(!0):cf(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Yt(gt.FAILED_PRECONDITION,Zg);return!1}}return!(!this.networkEnabled||!this.inForeground)||tu(e).qt().next(o=>void 0===this.Ds(o,5e3).find(h=>{if(this.clientId!==h.clientId){const T=!this.inForeground&&h.inForeground,V=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||T&&V)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&X("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Zd(t,fo.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>tu(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Gg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Ru(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Mn.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){X("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",v=14===(T=this.ts)?Kd:13===T?Ou:12===T?of:11===T?Wd:void jt();var T;let V;return this.ls.runTransaction(e,h,v,Q=>(V=new Zd(Q,this.es?this.es.next():fo.A),"readwrite-primary"===t?this.Es(V).next(oe=>!!oe||this.As(V)).next(oe=>{if(!oe)throw _e(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Yt(gt.FAILED_PRECONDITION,ma);return o(V)}).next(oe=>this.Ps(V).next(()=>oe)):this.$s(V).next(()=>o(V)))).then(Q=>(V.raiseOnCommittedEvent(),Q))}$s(e){return cf(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Yt(gt.FAILED_PRECONDITION,Zg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cf(e).put("owner",t)}static vt(){return Za.vt()}Rs(e){const t=cf(e);return t.get("owner").next(o=>this.bs(o)?(X("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):zt.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(_e(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return X("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return _e("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){_e("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cf(r){return Mo(r,"owner")}function tu(r){return Mo(r,"clientMetadata")}function Ih(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class t_{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(h=>{for(const v of o)v.applyToLocalView(h);return h})}qs(e,t){e.forEach((o,h)=>{for(const v of t)v.applyToLocalView(h)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return Cn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.js(e,t.path):Qc(t)?this.Ws(e,t,o):this.zs(e,t,o);var h}js(e,t){return this.Ls(e,new Cn(t)).next(o=>{let h=od();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}Ws(e,t,o){const h=t.collectionGroup;let v=od();return this.indexManager.getCollectionParents(e,h).next(T=>zt.forEach(T,V=>{const Q=(oe=t,Ie=V.child(h),new tl(Ie,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,Ie;return this.zs(e,Q,o).next(oe=>{oe.forEach((Ie,Qe)=>{v=v.insert(Ie,Qe)})})}).next(()=>v))}zs(e,t,o){let h;return this.ds.getAllFromCollection(e,t.path,o).next(v=>(h=v,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(v=>{for(const T of v)for(const V of T.mutations){const Q=V.key;let oe=h.get(Q);null==oe&&(oe=re.newInvalidDocument(Q),h=h.insert(Q,oe)),Zu(V,oe,T.localWriteTime),oe.isFoundDocument()||(h=h.remove(Q))}}).next(()=>(h.forEach((v,T)=>{Jc(t,T)||(h=h.remove(v))}),h))}}class df{constructor(e,t,o,h){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=h}static Ys(e,t){let o=zr(),h=zr();for(const v of t.docChanges)switch(v.type){case 0:o=o.add(v.doc.key);break;case 1:h=h.add(v.doc.key)}return new df(e,t.fromCache,o,h)}}class hf{Xs(e){this.Zs=e}Qs(e,t,o,h){return 0===(v=t).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.explicitOrderBy.length||1===v.explicitOrderBy.length&&v.explicitOrderBy[0].field.isKeyField())||o.isEqual(_i.min())?this.ti(e,t):this.Zs.Ks(e,h).next(v=>{const T=this.ei(t,v);return(bu(t)||il(t))&&this.ni(t.limitType,T,h,o)?this.ti(e,t):(G()<=Le.in.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sl(t)),this.Zs.Qs(e,t,ri(o,-1)).next(V=>(T.forEach(Q=>{V=V.insert(Q.key,Q)}),V)))});var v}ei(e,t){let o=new $r(Xc(e));return t.forEach((h,v)=>{Jc(e,v)&&(o=o.add(v))}),o}ni(e,t,o,h){if(o.size!==t.size)return!0;const v="F"===e?t.last():t.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(h)>0)}ti(e,t){return G()<=Le.in.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",sl(t)),this.Zs.Qs(e,t,Ti.min())}}class Yg{constructor(e,t,o,h){this.persistence=e,this.si=t,this.M=h,this.ii=new Ms(ui),this.ri=new ha(v=>ea(v),Ts),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new t_(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function ff(r,e,t,o){return new Yg(r,e,t,o)}function Qg(r,e){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,Oe.Z)(function*(r,e){const t=ln(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let h;return t.Bs.getAllMutationBatches(o).next(v=>(h=v,t.ai(e),t.Bs.getAllMutationBatches(o))).next(v=>{const T=[],V=[];let Q=zr();for(const oe of h){T.push(oe.batchId);for(const Ie of oe.mutations)Q=Q.add(Ie.key)}for(const oe of v){V.push(oe.batchId);for(const Ie of oe.mutations)Q=Q.add(Ie.key)}return t.ci.Ks(o,Q).next(oe=>({hi:oe,removedBatchIds:T,addedBatchIds:V}))})})}),Nu.apply(this,arguments)}function Jg(r,e){const t=ln(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),v=t.ui.newChangeBuffer({trackRemovals:!0});return function(T,V,Q,oe){const Ie=Q.batch,Qe=Ie.keys();let Nt=zt.resolve();return Qe.forEach(cn=>{Nt=Nt.next(()=>oe.getEntry(V,cn)).next(gn=>{const Xn=Q.docVersions.get(cn);xn(null!==Xn),gn.version.compareTo(Xn)<0&&(Ie.applyToRemoteDocument(gn,Q),gn.isValidDocument()&&(gn.setReadTime(Q.commitVersion),oe.addEntry(gn)))})}),Nt.next(()=>T.Bs.removeMutationBatch(V,Ie))}(t,o,e,v).next(()=>v.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.ci.Ks(o,h))})}function Xg(r){const e=ln(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function vp(r,e){const t=ln(r),o=e.snapshotVersion;let h=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const T=t.ui.newChangeBuffer({trackRemovals:!0});h=t.ii;const V=[];e.targetChanges.forEach((oe,Ie)=>{const Qe=h.get(Ie);if(!Qe)return;V.push(t.fs.removeMatchingKeys(v,oe.removedDocuments,Ie).next(()=>t.fs.addMatchingKeys(v,oe.addedDocuments,Ie)));let Nt=Qe.withSequenceNumber(v.currentSequenceNumber);var cn,gn,Xn;e.targetMismatches.has(Ie)?Nt=Nt.withResumeToken(Xr.EMPTY_BYTE_STRING,_i.min()).withLastLimboFreeSnapshotVersion(_i.min()):oe.resumeToken.approximateByteSize()>0&&(Nt=Nt.withResumeToken(oe.resumeToken,o)),h=h.insert(Ie,Nt),gn=Nt,Xn=oe,(0===(cn=Qe).resumeToken.approximateByteSize()||gn.snapshotVersion.toMicroseconds()-cn.snapshotVersion.toMicroseconds()>=3e8||Xn.addedDocuments.size+Xn.modifiedDocuments.size+Xn.removedDocuments.size>0)&&V.push(t.fs.updateTargetData(v,Nt))});let Q=fa();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&V.push(t.persistence.referenceDelegate.updateLimboDocument(v,oe))}),V.push(em(v,T,e.documentUpdates).next(oe=>{Q=oe})),!o.isEqual(_i.min())){const oe=t.fs.getLastRemoteSnapshotVersion(v).next(Ie=>t.fs.setTargetsMetadata(v,v.currentSequenceNumber,o));V.push(oe)}return zt.waitFor(V).next(()=>T.apply(v)).next(()=>t.ci.Gs(v,Q)).next(()=>Q)}).then(v=>(t.ii=h,v))}function em(r,e,t){let o=zr();return t.forEach(h=>o=o.add(h)),e.getEntries(r,o).next(h=>{let v=fa();return t.forEach((T,V)=>{const Q=h.get(T);V.isNoDocument()&&V.version.isEqual(_i.min())?(e.removeEntry(T,V.readTime),v=v.insert(T,V)):!Q.isValidDocument()||V.version.compareTo(Q.version)>0||0===V.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(V),v=v.insert(T,V)):X("LocalStore","Ignoring outdated watch update for ",T,". Current version:",Q.version," Watch version:",V.version)}),v})}function tm(r,e){const t=ln(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function Qd(r,e){const t=ln(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return t.fs.getTargetData(o,e).next(v=>v?(h=v,zt.resolve(h)):t.fs.allocateTargetId(o).next(T=>(h=new c(e,T,0,o.currentSequenceNumber),t.fs.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=t.ii.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.ii=t.ii.insert(o.targetId,o),t.ri.set(e,o.targetId)),o})}function Jd(r,e,t){return gd.apply(this,arguments)}function gd(){return gd=(0,Oe.Z)(function*(r,e,t){const o=ln(r),h=o.ii.get(e),v=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",v,T=>o.persistence.referenceDelegate.removeTarget(T,h)))}catch(T){if(!xl(T))throw T;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}o.ii=o.ii.remove(e),o.ri.delete(h.target)}),gd.apply(this,arguments)}function ec(r,e,t){const o=ln(r);let h=_i.min(),v=zr();return o.persistence.runTransaction("Execute query","readonly",T=>function(V,Q,oe){const Ie=ln(V),Qe=Ie.ri.get(oe);return void 0!==Qe?zt.resolve(Ie.ii.get(Qe)):Ie.fs.getTargetData(Q,oe)}(o,T,ta(e)).next(V=>{if(V)return h=V.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(T,V.targetId).next(Q=>{v=Q})}).next(()=>o.si.Qs(T,e,t?h:_i.min(),t?v:zr())).next(V=>(Xd(o,gc(e),V),{documents:V,li:v})))}function pf(r,e){const t=ln(r),o=ln(t.fs),h=t.ii.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",v=>o.Et(v,e).next(T=>T?T.target:null))}function md(r,e){const t=ln(r),o=t.oi.get(e)||_i.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.ui.getAllFromCollectionGroup(h,e,ri(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Xd(t,e,h),h))}function Xd(r,e,t){let o=_i.min();t.forEach((h,v)=>{v.readTime.compareTo(o)>0&&(o=v.readTime)}),r.oi.set(e,o)}function bp(){return bp=(0,Oe.Z)(function*(r,e,t,o){const h=ln(r);let v=zr(),T=fa();for(const oe of t){const Ie=e.fi(oe.metadata.name);oe.document&&(v=v.add(Ie));const Qe=e.di(oe);Qe.setReadTime(e._i(oe.metadata.readTime)),T=T.insert(Ie,Qe)}const V=h.ui.newChangeBuffer({trackRemovals:!0}),Q=yield Qd(h,(oe=o,ta(nl(yr.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",oe=>em(oe,V,T).next(Ie=>(V.apply(oe),Ie)).next(Ie=>h.fs.removeMatchingKeysForTargetId(oe,Q.targetId).next(()=>h.fs.addMatchingKeys(oe,v,Q.targetId)).next(()=>h.ci.Gs(oe,Ie)).next(()=>Ie)))}),bp.apply(this,arguments)}function nm(r,e){return gf.apply(this,arguments)}function gf(){return gf=(0,Oe.Z)(function*(r,e,t=zr()){const o=yield Qd(r,ta(xe(e.bundledQuery))),h=ln(r);return h.persistence.runTransaction("Save named query","readwrite",v=>{const T=es(e.readTime);if(o.snapshotVersion.compareTo(T)>=0)return h._s.saveNamedQuery(v,e);const V=o.withResumeToken(Xr.EMPTY_BYTE_STRING,T);return h.ii=h.ii.insert(V.targetId,V),h.fs.updateTargetData(v,V).next(()=>h.fs.removeMatchingKeysForTargetId(v,o.targetId)).next(()=>h.fs.addMatchingKeys(v,t,o.targetId)).next(()=>h._s.saveNamedQuery(v,e))})}),gf.apply(this,arguments)}class Ep{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return zt.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var o;return this.wi.set(t.id,{id:(o=t).id,version:o.version,createTime:es(o.createTime)}),zt.resolve()}getNamedQuery(e,t){return zt.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(o=t).name,query:xe(o.bundledQuery),readTime:es(o.readTime)}),zt.resolve();var o}}class wp{constructor(){this.overlays=new Ms(Cn.comparator),this.gi=new Map}getOverlay(e,t){return zt.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((h,v)=>{this.Xt(e,t,v)}),zt.resolve()}removeOverlaysForBatchId(e,t,o){const h=this.gi.get(o);return void 0!==h&&(h.forEach(v=>this.overlays=this.overlays.remove(v)),this.gi.delete(o)),zt.resolve()}getOverlaysForCollection(e,t,o){const h=Cu(),v=t.length+1,T=new Cn(t.child("")),V=this.overlays.getIteratorFrom(T);for(;V.hasNext();){const Q=V.getNext().value,oe=Q.getKey();if(!t.isPrefixOf(oe.path))break;oe.path.length===v&&Q.largestBatchId>o&&h.set(Q.getKey(),Q)}return zt.resolve(h)}getOverlaysForCollectionGroup(e,t,o,h){let v=new Ms((oe,Ie)=>oe-Ie);const T=this.overlays.getIterator();for(;T.hasNext();){const oe=T.getNext().value;if(oe.getKey().getCollectionGroup()===t&&oe.largestBatchId>o){let Ie=v.get(oe.largestBatchId);null===Ie&&(Ie=Cu(),v=v.insert(oe.largestBatchId,Ie)),Ie.set(oe.getKey(),oe)}}const V=Cu(),Q=v.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((oe,Ie)=>V.set(oe,Ie)),!(V.size()>=h)););return zt.resolve(V)}Xt(e,t,o){if(null===o)return;const h=this.overlays.get(o.key);if(null!==h){const T=this.gi.get(h.largestBatchId).delete(o.key);this.gi.set(h.largestBatchId,T)}this.overlays=this.overlays.insert(o.key,new a(t,o));let v=this.gi.get(t);void 0===v&&(v=zr(),this.gi.set(t,v)),this.gi.set(t,v.add(o.key))}}class mf{constructor(){this.yi=new $r(Oo.pi),this.Ii=new $r(Oo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const o=new Oo(e,t);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ai(new Oo(e,t))}Ri(e,t){e.forEach(o=>this.removeReference(o,t))}Pi(e){const t=new Cn(new yr([])),o=new Oo(t,e),h=new Oo(t,e+1),v=[];return this.Ii.forEachInRange([o,h],T=>{this.Ai(T),v.push(T.key)}),v}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Cn(new yr([])),o=new Oo(t,e),h=new Oo(t,e+1);let v=zr();return this.Ii.forEachInRange([o,h],T=>{v=v.add(T.key)}),v}containsKey(e){const t=new Oo(e,0),o=this.yi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Oo{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Cn.comparator(e.key,t.key)||ui(e.vi,t.vi)}static Ti(e,t){return ui(e.vi,t.vi)||Cn.comparator(e.key,t.key)}}class n_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new $r(Oo.pi)}checkEmpty(e){return zt.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,h){const v=this.Si;this.Si++;const T=new u(v,t,o,h);this.Bs.push(T);for(const V of h)this.Di=this.Di.add(new Oo(V.key,v)),this.indexManager.addToCollectionParentIndex(e,V.key.path.popLast());return zt.resolve(T)}lookupMutationBatch(e,t){return zt.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.xi(t+1),v=h<0?0:h;return zt.resolve(this.Bs.length>v?this.Bs[v]:null)}getHighestUnacknowledgedBatchId(){return zt.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return zt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Oo(t,0),h=new Oo(t,Number.POSITIVE_INFINITY),v=[];return this.Di.forEachInRange([o,h],T=>{const V=this.Ci(T.vi);v.push(V)}),zt.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new $r(ui);return t.forEach(h=>{const v=new Oo(h,0),T=new Oo(h,Number.POSITIVE_INFINITY);this.Di.forEachInRange([v,T],V=>{o=o.add(V.vi)})}),zt.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,h=o.length+1;let v=o;Cn.isDocumentKey(v)||(v=v.child(""));const T=new Oo(new Cn(v),0);let V=new $r(ui);return this.Di.forEachWhile(Q=>{const oe=Q.key.path;return!!o.isPrefixOf(oe)&&(oe.length===h&&(V=V.add(Q.vi)),!0)},T),zt.resolve(this.Ni(V))}Ni(e){const t=[];return e.forEach(o=>{const h=this.Ci(o);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){xn(0===this.ki(t.batchId,"removed")),this.Bs.shift();let o=this.Di;return zt.forEach(t.mutations,h=>{const v=new Oo(h.key,t.batchId);return o=o.delete(v),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,t){const o=new Oo(t,0),h=this.Di.firstAfterOrEqual(o);return zt.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return zt.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class im{constructor(e){this.Mi=e,this.docs=new Ms(Cn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,h=this.docs.get(o),v=h?h.size:0,T=this.Mi(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:T}),this.size+=T-v,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return zt.resolve(o?o.document.mutableCopy():re.newInvalidDocument(t))}getEntries(e,t){let o=fa();return t.forEach(h=>{const v=this.docs.get(h);o=o.insert(h,v?v.document.mutableCopy():re.newInvalidDocument(h))}),zt.resolve(o)}getAllFromCollection(e,t,o){let h=fa();const v=new Cn(t.child("")),T=this.docs.getIteratorFrom(v);for(;T.hasNext();){const{key:V,value:{document:Q}}=T.getNext();if(!t.isPrefixOf(V.path))break;V.path.length>t.length+1||Oi(Ni(Q),o)<=0||(h=h.insert(Q.key,Q.mutableCopy()))}return zt.resolve(h)}getAllFromCollectionGroup(e,t,o,h){jt()}Oi(e,t){return zt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Wv(this)}getSize(e){return zt.resolve(this.size)}}class Wv extends yp{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?t.push(this.Kn.addEntry(e,h)):this.Kn.removeEntry(o)}),zt.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class rm{constructor(e){this.persistence=e,this.Fi=new ha(t=>ea(t),Ts),this.lastRemoteSnapshotVersion=_i.min(),this.highestTargetId=0,this.$i=0,this.Bi=new mf,this.targetCount=0,this.Li=Xu.gn()}forEachTarget(e,t){return this.Fi.forEach((o,h)=>t(h)),zt.resolve()}getLastRemoteSnapshotVersion(e){return zt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zt.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),zt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$i&&(this.$i=t),zt.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Xu(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,zt.resolve()}updateTargetData(e,t){return this.Tn(t),zt.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,zt.resolve()}removeTargets(e,t,o){let h=0;const v=[];return this.Fi.forEach((T,V)=>{V.sequenceNumber<=t&&null===o.get(V.targetId)&&(this.Fi.delete(T),v.push(this.removeMatchingKeysForTargetId(e,V.targetId)),h++)}),zt.waitFor(v).next(()=>h)}getTargetCount(e){return zt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Fi.get(t)||null;return zt.resolve(o)}addMatchingKeys(e,t,o){return this.Bi.Ei(t,o),zt.resolve()}removeMatchingKeys(e,t,o){this.Bi.Ri(t,o);const h=this.persistence.referenceDelegate,v=[];return h&&t.forEach(T=>{v.push(h.markPotentiallyOrphaned(e,T))}),zt.waitFor(v)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),zt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Bi.Vi(t);return zt.resolve(o)}containsKey(e,t){return zt.resolve(this.Bi.containsKey(t))}}class sm{constructor(e,t){this.Ui={},this.overlays={},this.es=new fo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new rm(this),this.indexManager=new fs,this.ds=new im(o=>this.referenceDelegate.qi(o)),this.M=new f(t),this._s=new Ep(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ui[e.toKey()];return o||(o=new n_(t,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){X("MemoryPersistence","Starting transaction:",e);const h=new i_(this.es.next());return this.referenceDelegate.Ki(),o(h).next(v=>this.referenceDelegate.Gi(h).next(()=>v)).toPromise().then(v=>(h.raiseOnCommittedEvent(),v))}Qi(e,t){return zt.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,t)))}}class i_ extends Dh{constructor(e){super(),this.currentSequenceNumber=e}}class yf{constructor(e){this.persistence=e,this.ji=new mf,this.Wi=null}static zi(e){return new yf(e)}get Hi(){if(this.Wi)return this.Wi;throw jt()}addReference(e,t,o){return this.ji.addReference(o,t),this.Hi.delete(o.toString()),zt.resolve()}removeReference(e,t,o){return this.ji.removeReference(o,t),this.Hi.add(o.toString()),zt.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),zt.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(h=>this.Hi.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(v=>this.Hi.add(v.toString()))}).next(()=>o.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.Hi,o=>{const h=Cn.fromPath(o);return this.Ji(e,h).next(v=>{v||t.removeEntry(h,_i.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(o=>{o?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return zt.or([()=>zt.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function om(r,e){return`firestore_clients_${r}_${e}`}function am(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Fa(r,e){return`firestore_targets_${r}_${e}`}class _f{constructor(e,t,o,h){this.user=e,this.batchId=t,this.state=o,this.error=h}static Yi(e,t,o){const h=JSON.parse(o);let v,T="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return T&&h.error&&(T="string"==typeof h.error.message&&"string"==typeof h.error.code,T&&(v=new Yt(h.error.code,h.error.message))),T?new _f(e,t,h.state,v):(_e("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ah{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Yi(e,t){const o=JSON.parse(t);let h,v="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return v&&o.error&&(v="string"==typeof o.error.message&&"string"==typeof o.error.code,v&&(h=new Yt(o.error.code,o.error.message))),v?new Ah(e,o.state,h):(_e("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const o=JSON.parse(t);let h="object"==typeof o&&o.activeTargetIds instanceof Array,v=mo();for(let T=0;h&&T<o.activeTargetIds.length;++T)h=ua(o.activeTargetIds[T]),v=v.add(o.activeTargetIds[T]);return h?new Dp(e,v):(_e("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lm{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lm(t.clientId,t.onlineState):(_e("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vf{constructor(){this.activeTargetIds=mo()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class um{constructor(e,t,o,h,v){this.window=e,this.Yn=t,this.persistenceKey=o,this.er=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Ms(ui),this.started=!1,this.rr=[];const T=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.ur=om(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new vf),this.cr=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const h of t){if(h===e.er)continue;const v=e.getItem(om(e.persistenceKey,h));if(v){const T=Dp.Yi(h,v);T&&(e.ir=e.ir.insert(T.clientId,T))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const h=e.mr(o);h&&e.gr(h)}for(const h of e.rr)e.sr(h);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((o,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,o){this.pr(e,t,o),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Fa(this.persistenceKey,e));if(o){const h=Ah.Yi(e,o);h&&(t=h.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fa(this.persistenceKey,e))}updateQueryState(e,t,o){this.Er(e,t,o)}handleUserChange(e,t,o){t.forEach(h=>{this.Ir(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return X("SharedClientState","READ",e,t),t}setItem(e,t){X("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(X("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void _e("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const h=t.Pr(o.key);return t.br(h,null)}{const h=t.Vr(o.key,o.newValue);if(h)return t.br(h.clientId,h)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const h=t.vr(o.key,o.newValue);if(h)return t.Sr(h)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const h=t.Dr(o.key,o.newValue);if(h)return t.Cr(h)}}else if(o.key===t.dr){if(null!==o.newValue){const h=t.mr(o.newValue);if(h)return t.gr(h)}}else if(o.key===t.ar){const h=function(v){let T=fo.A;if(null!=v)try{const V=JSON.parse(v);xn("number"==typeof V),T=V}catch(V){_e("SharedClientState","Failed to read sequence number from WebStorage",V)}return T}(o.newValue);h!==fo.A&&t.sequenceNumberHandler(h)}else if(o.key===t._r){const h=t.Nr(o.newValue);yield Promise.all(h.map(v=>t.syncEngine.kr(v)))}}else t.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,o){const h=new _f(this.currentUser,e,t,o),v=am(this.persistenceKey,this.currentUser,e);this.setItem(v,h.Xi())}Ir(e){const t=am(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,o){const h=Fa(this.persistenceKey,e),v=new Ah(e,t,o);this.setItem(h,v.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.Pr(e);return Dp.Yi(o,t)}vr(e,t){const o=this.hr.exec(e),h=Number(o[1]);return _f.Yi(new F(void 0!==o[2]?o[2]:null),h,t)}Dr(e,t){const o=this.lr.exec(e),h=Number(o[1]);return Ah.Yi(h,t)}mr(e){return lm.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);X("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.ir.insert(e,t):this.ir.remove(e),h=this.yr(this.ir),v=this.yr(o),T=[],V=[];return v.forEach(Q=>{h.has(Q)||T.push(Q)}),h.forEach(Q=>{v.has(Q)||V.push(Q)}),this.syncEngine.Fr(T,V).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=mo();return e.forEach((o,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class cm{constructor(){this.$r=new vf,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,o){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new vf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cp{Lr(e){}shutdown(){}}class Tp{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const r_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class s_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class o_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,o,h,v){const T=this.uo(e,t);X("RestConnection","Sending: ",T,o);const V={};return this.ao(V,h,v),this.co(e,T,V,o).then(Q=>(X("RestConnection","Received: ",Q),Q),Q=>{throw $e("RestConnection",`${e} failed with error: `,Q,"url: ",T,"request:",o),Q})}ho(e,t,o,h,v){return this.oo(e,t,o,h,v)}ao(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+O,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,v)=>e[v]=h),o&&o.headers.forEach((h,v)=>e[v]=h)}uo(e,t){return`${this.io}/v1/${t}:${r_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,h){return new Promise((v,T)=>{const V=new fl;V.listenOnce(wa.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Ea.NO_ERROR:const oe=V.getResponseJson();X("Connection","XHR received:",JSON.stringify(oe)),v(oe);break;case Ea.TIMEOUT:X("Connection",'RPC "'+e+'" timed out'),T(new Yt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Ea.HTTP_ERROR:const Ie=V.getStatus();if(X("Connection",'RPC "'+e+'" failed with status:',Ie,"response text:",V.getResponseText()),Ie>0){const Qe=V.getResponseJson().error;if(Qe&&Qe.status&&Qe.message){const Nt=function(cn){const gn=cn.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(gn)>=0?gn:gt.UNKNOWN}(Qe.status);T(new Yt(Nt,Qe.message))}else T(new Yt(gt.UNKNOWN,"Server responded with status "+V.getStatus()))}else T(new Yt(gt.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{X("Connection",'RPC "'+e+'" completed.')}});const Q=JSON.stringify(h);V.send(t,"POST",Q,o,15)})}lo(e,t,o){const h=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Ns(),T=ba(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(V.xmlHttpFactory=new ju({})),this.ao(V.initMessageHeaders,t,o),(0,ke.uI)()||(0,ke.b$)()||(0,ke.d)()||(0,ke.w1)()||(0,ke.Mn)()||(0,ke.ru)()||(V.httpHeadersOverwriteParam="$httpHeaders");const Q=h.join("");X("Connection","Creating WebChannel: "+Q,V);const oe=v.createWebChannel(Q,V);let Ie=!1,Qe=!1;const Nt=new s_({Wr:gn=>{Qe?X("Connection","Not sending because WebChannel is closed:",gn):(Ie||(X("Connection","Opening WebChannel transport."),oe.open(),Ie=!0),X("Connection","WebChannel sending:",gn),oe.send(gn))},zr:()=>oe.close()}),cn=(gn,Xn,ji)=>{gn.listen(Xn,Qs=>{try{ji(Qs)}catch(Ro){setTimeout(()=>{throw Ro},0)}})};return cn(oe,ho.EventType.OPEN,()=>{Qe||X("Connection","WebChannel transport opened.")}),cn(oe,ho.EventType.CLOSE,()=>{Qe||(Qe=!0,X("Connection","WebChannel transport closed"),Nt.no())}),cn(oe,ho.EventType.ERROR,gn=>{Qe||(Qe=!0,$e("Connection","WebChannel transport errored:",gn),Nt.no(new Yt(gt.UNAVAILABLE,"The operation could not be completed")))}),cn(oe,ho.EventType.MESSAGE,gn=>{var Xn;if(!Qe){const ji=gn.data[0];xn(!!ji);const Qs=ji,Ro=Qs.error||(null===(Xn=Qs[0])||void 0===Xn?void 0:Xn.error);if(Ro){X("Connection","WebChannel received error:",Ro);const ys=Ro.status;let so=function(yo){const Ma=Ls[yo];if(void 0!==Ma)return Du(Ma)}(ys),Js=Ro.message;void 0===so&&(so=gt.INTERNAL,Js="Unknown error status: "+ys+" with message "+Ro.message),Qe=!0,Nt.no(new Yt(so,Js)),oe.close()}else X("Connection","WebChannel received:",ji),Nt.so(ji)}}),cn(T,hl.STAT_EVENT,gn=>{gn.stat===Mr.PROXY?X("Connection","Detected buffering proxy"):gn.stat===Mr.NOPROXY&&X("Connection","Detected no buffering proxy")}),setTimeout(()=>{Nt.eo()},0),Nt}}function Ip(){return"undefined"!=typeof window?window:null}function bf(){return"undefined"!=typeof document?document:null}function th(r){return new Dc(r,!0)}class Ap{constructor(e,t,o=1e3,h=1.5,v=6e4){this.Yn=e,this.timerId=t,this.fo=o,this._o=h,this.wo=v,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),h=Math.max(0,t-o);h>0&&X("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,h,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class dm{constructor(e,t,o,h,v,T,V,Q){this.Yn=e,this.Ro=o,this.Po=h,this.bo=v,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=V,this.listener=Q,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Ap(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Oe.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Oe.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var o=this;return(0,Oe.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():t&&t.code===gt.RESOURCE_EXHAUSTED?(_e(t.toString()),_e("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):t&&t.code===gt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Vo===t&&this.qo(o,h)},o=>{e(()=>{const h=new Yt(gt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(h)})})}qo(e,t){const o=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(h=>{o(()=>this.Ko(h))}),this.stream.onMessage(h=>{o(()=>this.onMessage(h))})}No(){var e=this;this.state=5,this.Do.To((0,Oe.Z)(function*(){e.state=0,e.start()}))}Ko(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hm extends dm{constructor(e,t,o,h,v,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,h,T),this.M=v}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function ka(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:jt(),h=e.targetChange.targetIds||[],v=function(Q,oe){return Q.N?(xn(void 0===oe||"string"==typeof oe),Xr.fromBase64String(oe||"")):(xn(void 0===oe||oe instanceof Uint8Array),Xr.fromUint8Array(oe||new Uint8Array))}(r,e.targetChange.resumeToken),T=e.targetChange.cause,V=T&&function(Q){const oe=void 0===Q.code?gt.UNKNOWN:Du(Q.code);return new Yt(oe,Q.message||"")}(T);t=new Al(o,h,v,V||null)}else if("documentChange"in e){const o=e.documentChange,h=Wa(r,o.document.name),v=es(o.document.updateTime),T=new U({mapValue:{fields:o.document.fields}}),V=re.newFoundDocument(h,v,T);t=new Zl(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,h=Wa(r,o.document),v=o.readTime?es(o.readTime):_i.min(),T=re.newNoDocument(h,v);t=new Zl([],o.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const o=e.documentRemove,h=Wa(r,o.document);t=new Zl([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return jt();{const o=e.filter,v=new vc(o.count||0);t=new xo(o.targetId,v)}}var Q;return t}(this.M,e),o=function(h){if(!("targetChange"in h))return _i.min();const v=h.targetChange;return v.targetIds&&v.targetIds.length?_i.min():v.readTime?es(v.readTime):_i.min()}(e);return this.listener.Qo(t,o)}jo(e){const t={};t.database=Yl(this.M),t.addTarget=function(h,v){let T;const V=v.target;return T=Vo(V)?{documents:$d(h,V)}:{query:zd(h,V)},T.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?T.resumeToken=Cc(h,v.resumeToken):v.snapshotVersion.compareTo(_i.min())>0&&(T.readTime=Au(h,v.snapshotVersion.toTimestamp())),T}(this.M,e);const o=function Gd(r,e){const t=function(o,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=Yl(this.M),t.removeTarget=e,this.Fo(t)}}class fm extends dm{constructor(e,t,o,h,v,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,h,T),this.M=v,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(xn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function ld(r,e){return r&&r.length>0?(xn(void 0!==e),r.map(t=>function(o,h){let v=es(o.updateTime?o.updateTime:h);return v.isEqual(_i.min())&&(v=es(h)),new Bd(v,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=es(e.commitTime);return this.listener.Yo(o,t)}return xn(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Yl(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>xu(this.M,o))};this.Fo(t)}}class a_ extends class{}{constructor(e,t,o,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=h,this.tu=!1}eu(){if(this.tu)throw new Yt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,v])=>this.bo.oo(e,t,o,h,v)).catch(h=>{throw"FirebaseError"===h.name?(h.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Yt(gt.UNKNOWN,h.toString())})}ho(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,v])=>this.bo.ho(e,t,o,h,v)).catch(h=>{throw"FirebaseError"===h.name?(h.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Yt(gt.UNKNOWN,h.toString())})}terminate(){this.tu=!0}}class ku{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(_e(t),this.iu=!1):X("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Sp{constructor(e,t,o,h,v){var T=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=v,this._u.Lr(V=>{o.enqueueAndForget((0,Oe.Z)(function*(){var Q;nu(T)&&(X("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,Oe.Z)(function*(oe){const Ie=ln(oe);Ie.fu.add(4),yield xh(Ie),Ie.wu.set("Unknown"),Ie.fu.delete(4),yield Sh(Ie)}),function(oe){return Q.apply(this,arguments)})(T))}))}),this.wu=new ku(o,h)}}function Sh(r){return xp.apply(this,arguments)}function xp(){return xp=(0,Oe.Z)(function*(r){if(nu(r))for(const e of r.du)yield e(!0)}),xp.apply(this,arguments)}function xh(r){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Oe.Z)(function*(r){for(const e of r.du)yield e(!1)}),Ef.apply(this,arguments)}function wf(r,e){const t=ln(r);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Pp(t)?Op(t):vd(t).xo()&&Mp(t,e))}function Mh(r,e){const t=ln(r),o=vd(t);t.lu.delete(e),o.xo()&&Df(t,e),0===t.lu.size&&(o.xo()?o.Mo():nu(t)&&t.wu.set("Unknown"))}function Mp(r,e){r.mu.Z(e.targetId),vd(r).jo(e)}function Df(r,e){r.mu.Z(e),vd(r).Wo(e)}function Op(r){r.mu=new pa({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.lu.get(e)||null}),vd(r).start(),r.wu.ru()}function Pp(r){return nu(r)&&!vd(r).Co()&&r.lu.size>0}function nu(r){return 0===ln(r).fu.size}function Cf(r){r.mu=void 0}function l_(r){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,Oe.Z)(function*(r){r.lu.forEach((e,t)=>{Mp(r,e)})}),Oh.apply(this,arguments)}function Rp(r,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Oe.Z)(function*(r,e){Cf(r),Pp(r)?(r.wu.au(e),Op(r)):r.wu.set("Unknown")}),Tf.apply(this,arguments)}function u_(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Oe.Z)(function*(r,e,t){if(r.wu.set("Online"),e instanceof Al&&2===e.state&&e.cause)try{yield(o=(0,Oe.Z)(function*(h,v){const T=v.cause;for(const V of v.targetIds)h.lu.has(V)&&(yield h.remoteSyncer.rejectListen(V,T),h.lu.delete(V),h.mu.removeTarget(V))}),function(h,v){return o.apply(this,arguments)})(r,e)}catch(o){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield nh(r,o)}else if(e instanceof Zl?r.mu.ut(e):e instanceof xo?r.mu._t(e):r.mu.ht(e),!t.isEqual(_i.min()))try{const o=yield Xg(r.localStore);t.compareTo(o)>=0&&(yield function(h,v){const T=h.mu.yt(v);return T.targetChanges.forEach((V,Q)=>{if(V.resumeToken.approximateByteSize()>0){const oe=h.lu.get(Q);oe&&h.lu.set(Q,oe.withResumeToken(V.resumeToken,v))}}),T.targetMismatches.forEach(V=>{const Q=h.lu.get(V);if(!Q)return;h.lu.set(V,Q.withResumeToken(Xr.EMPTY_BYTE_STRING,Q.snapshotVersion)),Df(h,V);const oe=new c(Q.target,V,1,Q.sequenceNumber);Mp(h,oe)}),h.remoteSyncer.applyRemoteEvent(T)}(r,t))}catch(o){X("RemoteStore","Failed to raise snapshot:",o),yield nh(r,o)}var o}),Np.apply(this,arguments)}function nh(r,e,t){return pm.apply(this,arguments)}function pm(){return pm=(0,Oe.Z)(function*(r,e,t){if(!xl(e))throw e;r.fu.add(1),yield xh(r),r.wu.set("Offline"),t||(t=()=>Xg(r.localStore)),r.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){X("RemoteStore","Retrying IndexedDB access"),yield t(),r.fu.delete(1),yield Sh(r)}))}),pm.apply(this,arguments)}function gm(r,e){return e().catch(t=>nh(r,t,e))}function yd(r){return If.apply(this,arguments)}function If(){return If=(0,Oe.Z)(function*(r){const e=ln(r),t=kc(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;mm(e);)try{const h=yield tm(e.localStore,o);if(null===h){0===e.hu.length&&t.Mo();break}o=h.batchId,ym(e,h)}catch(h){yield nh(e,h)}kp(e)&&Lu(e)}),If.apply(this,arguments)}function mm(r){return nu(r)&&r.hu.length<10}function ym(r,e){r.hu.push(e);const t=kc(r);t.xo()&&t.Ho&&t.Jo(e.mutations)}function kp(r){return nu(r)&&!kc(r).Co()&&r.hu.length>0}function Lu(r){kc(r).start()}function Af(r){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,Oe.Z)(function*(r){kc(r).Zo()}),Lp.apply(this,arguments)}function c_(r){return _m.apply(this,arguments)}function _m(){return _m=(0,Oe.Z)(function*(r){const e=kc(r);for(const t of r.hu)e.Jo(t.mutations)}),_m.apply(this,arguments)}function Fp(r,e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Oe.Z)(function*(r,e,t){const o=r.hu.shift(),h=l.from(o,e,t);yield gm(r,()=>r.remoteSyncer.applySuccessfulWrite(h)),yield yd(r)}),Sf.apply(this,arguments)}function Vp(r,e){return _d.apply(this,arguments)}function _d(){return _d=(0,Oe.Z)(function*(r,e){var t;e&&kc(r).Ho&&(yield(t=(0,Oe.Z)(function*(o,h){if(rd(v=h.code)&&v!==gt.ABORTED){const T=o.hu.shift();kc(o).ko(),yield gm(o,()=>o.remoteSyncer.rejectFailedWrite(T.batchId,h)),yield yd(o)}var v}),function(o,h){return t.apply(this,arguments)})(r,e)),kp(r)&&Lu(r)}),_d.apply(this,arguments)}function vm(r,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,Oe.Z)(function*(r,e){const t=ln(r);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const o=nu(t);t.fu.add(3),yield xh(t),o&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Sh(t)}),Ph.apply(this,arguments)}function xf(r,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Oe.Z)(function*(r,e){const t=ln(r);e?(t.fu.delete(2),yield Sh(t)):e||(t.fu.add(2),yield xh(t),t.wu.set("Unknown"))}),Mf.apply(this,arguments)}function vd(r){return r.gu||(r.gu=function(e,t,o){const h=ln(e);return h.eu(),new hm(t,h.bo,h.authCredentials,h.appCheckCredentials,h.M,o)}(r.datastore,r.asyncQueue,{Hr:l_.bind(null,r),Yr:Rp.bind(null,r),Qo:u_.bind(null,r)}),r.du.push(function(){var e=(0,Oe.Z)(function*(t){t?(r.gu.ko(),Pp(r)?Op(r):r.wu.set("Unknown")):(yield r.gu.stop(),Cf(r))});return function(t){return e.apply(this,arguments)}}())),r.gu}function kc(r){return r.yu||(r.yu=function(e,t,o){const h=ln(e);return h.eu(),new fm(t,h.bo,h.authCredentials,h.appCheckCredentials,h.M,o)}(r.datastore,r.asyncQueue,{Hr:Af.bind(null,r),Yr:Vp.bind(null,r),Xo:c_.bind(null,r),Yo:Fp.bind(null,r)}),r.du.push(function(){var e=(0,Oe.Z)(function*(t){t?(r.yu.ko(),yield yd(r)):(yield r.yu.stop(),r.hu.length>0&&(X("RemoteStore",`Stopping write stream with ${r.hu.length} pending writes`),r.hu=[]))});return function(t){return e.apply(this,arguments)}}())),r.yu}class Rh{constructor(e,t,o,h,v){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=h,this.removalCallback=v,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}static createAndSchedule(e,t,o,h,v){const T=Date.now()+o,V=new Rh(e,t,T,h,v);return V.start(o),V}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ih(r,e){if(_e("AsyncQueue",`${e}: ${r}`),xl(r))return new Yt(gt.UNAVAILABLE,`${e}: ${r}`);throw r}class rh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Cn.comparator(t.key,o.key):(t,o)=>Cn.comparator(t.key,o.key),this.keyedMap=od(),this.sortedSet=new Ms(this.comparator)}static emptySet(e){return new rh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,v=o.getNext().key;if(!h.isEqual(v))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new rh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Bp{constructor(){this.pu=new Ms(Cn.comparator)}track(e){const t=e.doc.key,o=this.pu.get(t);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(t):1===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):jt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,o)=>{e.push(o)}),e}}class iu{constructor(e,t,o,h,v,T,V,Q){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=v,this.fromCache=T,this.syncStateChanged=V,this.excludesMetadataChanges=Q}static fromInitialDocuments(e,t,o,h){const v=[];return t.forEach(T=>{v.push({type:0,doc:T})}),new iu(e,t,rh.emptySet(t),v,o,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==o[h].type||!t[h].doc.isEqual(o[h].doc))return!1;return!0}}class bm{constructor(){this.Tu=void 0,this.listeners=[]}}class d_{constructor(){this.queries=new ha(e=>Wu(e),rl),this.onlineState="Unknown",this.Eu=new Set}}function Up(r,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,Oe.Z)(function*(r,e){const t=ln(r),o=e.query;let h=!1,v=t.queries.get(o);if(v||(h=!0,v=new bm),h)try{v.Tu=yield t.onListen(o)}catch(T){const V=ih(T,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(V)}t.queries.set(o,v),v.listeners.push(e),e.Au(t.onlineState),v.Tu&&e.Ru(v.Tu)&&Pl(t)}),Lc.apply(this,arguments)}function jp(r,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,Oe.Z)(function*(r,e){const t=ln(r),o=e.query;let h=!1;const v=t.queries.get(o);if(v){const T=v.listeners.indexOf(e);T>=0&&(v.listeners.splice(T,1),h=0===v.listeners.length)}if(h)return t.queries.delete(o),t.onUnlisten(o)}),Hp.apply(this,arguments)}function h_(r,e){const t=ln(r);let o=!1;for(const h of e){const T=t.queries.get(h.query);if(T){for(const V of T.listeners)V.Ru(h)&&(o=!0);T.Tu=h}}o&&Pl(t)}function f_(r,e,t){const o=ln(r),h=o.queries.get(e);if(h)for(const v of h.listeners)v.onError(t);o.queries.delete(e)}function Pl(r){r.Eu.forEach(e=>{e.next()})}class Nh{constructor(e,t,o){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new iu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Em{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class $p{constructor(e){this.M=e}fi(e){return Wa(this.M,e)}di(e){return e.metadata.exists?na(this.M,e.document,!1):re.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return es(e)}}class wm{constructor(e,t,o){this.Nu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zp(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=yr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new $p(this.M);for(const h of e)if(h.metadata.queries){const v=o.fi(h.metadata.name);for(const T of h.metadata.queries){const V=(t.get(T)||zr()).add(v);t.set(T,V)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function eh(r,e,t,o){return bp.apply(this,arguments)}(e.localStore,new $p(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const h of e.queries)yield nm(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function zp(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Dm{constructor(e){this.key=e}}class Cm{constructor(e){this.key=e}}class Tm{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=zr(),this.mutatedKeys=zr(),this.Uu=Xc(e),this.qu=new rh(this.Uu)}get Ku(){return this.$u}Gu(e,t){const o=t?t.Qu:new Bp,h=t?t.qu:this.qu;let v=t?t.mutatedKeys:this.mutatedKeys,T=h,V=!1;const Q=bu(this.query)&&h.size===this.query.limit?h.last():null,oe=il(this.query)&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Ie,Qe)=>{const Nt=h.get(Ie),cn=Jc(this.query,Qe)?Qe:null,gn=!!Nt&&this.mutatedKeys.has(Nt.key),Xn=!!cn&&(cn.hasLocalMutations||this.mutatedKeys.has(cn.key)&&cn.hasCommittedMutations);let ji=!1;Nt&&cn?Nt.data.isEqual(cn.data)?gn!==Xn&&(o.track({type:3,doc:cn}),ji=!0):this.ju(Nt,cn)||(o.track({type:2,doc:cn}),ji=!0,(Q&&this.Uu(cn,Q)>0||oe&&this.Uu(cn,oe)<0)&&(V=!0)):!Nt&&cn?(o.track({type:0,doc:cn}),ji=!0):Nt&&!cn&&(o.track({type:1,doc:Nt}),ji=!0,(Q||oe)&&(V=!0)),ji&&(cn?(T=T.add(cn),v=Xn?v.add(Ie):v.delete(Ie)):(T=T.delete(Ie),v=v.delete(Ie)))}),bu(this.query)||il(this.query))for(;T.size>this.query.limit;){const Ie=bu(this.query)?T.last():T.first();T=T.delete(Ie.key),v=v.delete(Ie.key),o.track({type:1,doc:Ie})}return{qu:T,Qu:o,ni:V,mutatedKeys:v}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const h=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const v=e.Qu.Iu();v.sort((oe,Ie)=>function(Qe,Nt){const cn=gn=>{switch(gn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return cn(Qe)-cn(Nt)}(oe.type,Ie.type)||this.Uu(oe.doc,Ie.doc)),this.Wu(o);const T=t?this.zu():[],V=0===this.Lu.size&&this.current?1:0,Q=V!==this.Bu;return this.Bu=V,0!==v.length||Q?{snapshot:new iu(this.query,e.qu,h,v,e.mutatedKeys,0===V,Q,!1),Hu:T}:{Hu:T}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Bp,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=zr(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const t=[];return e.forEach(o=>{this.Lu.has(o)||t.push(new Cm(o))}),this.Lu.forEach(o=>{e.has(o)||t.push(new Dm(o))}),t}Yu(e){this.$u=e.li,this.Lu=zr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return iu.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class p_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Im{constructor(e){this.key=e,this.Zu=!1}}class Kv{constructor(e,t,o,h,v,T){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=h,this.currentUser=v,this.maxConcurrentLimboResolutions=T,this.ta={},this.ea=new ha(V=>Wu(V),rl),this.na=new Map,this.sa=new Set,this.ia=new Ms(Cn.comparator),this.ra=new Map,this.oa=new mf,this.ua={},this.aa=new Map,this.ca=Xu.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Am(r,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Oe.Z)(function*(r,e){const t=jc(r);let o,h;const v=t.ea.get(e);if(v)o=v.targetId,t.sharedClientState.addLocalQueryTarget(o),h=v.view.Xu();else{const T=yield Qd(t.localStore,ta(e));t.isPrimaryClient&&wf(t.remoteStore,T);const V=t.sharedClientState.addLocalQueryTarget(T.targetId);o=T.targetId,h=yield Wp(t,e,o,"current"===V)}return h}),Gp.apply(this,arguments)}function Wp(r,e,t,o){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,Oe.Z)(function*(r,e,t,o){r.la=(Ie,Qe,Nt)=>{return(cn=(0,Oe.Z)(function*(gn,Xn,ji,Qs){let Ro=Xn.view.Gu(ji);Ro.ni&&(Ro=yield ec(gn.localStore,Xn.query,!1).then(({documents:Js})=>Xn.view.Gu(Js,Ro)));const ys=Qs&&Qs.targetChanges.get(Xn.targetId),so=Xn.view.applyChanges(Ro,gn.isPrimaryClient,ys);return Yp(gn,Xn.targetId,so.Hu),so.snapshot}),function(gn,Xn,ji,Qs){return cn.apply(this,arguments)})(r,Ie,Qe,Nt);var cn};const h=yield ec(r.localStore,e,!0),v=new Tm(e,h.li),T=v.Gu(h.documents),V=Il.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState),Q=v.applyChanges(T,r.isPrimaryClient,V);Yp(r,t,Q.Hu);const oe=new p_(e,t,v);return r.ea.set(e,oe),r.na.has(t)?r.na.get(t).push(e):r.na.set(t,[e]),Q.snapshot}),Sm.apply(this,arguments)}function Zv(r,e){return kh.apply(this,arguments)}function kh(){return kh=(0,Oe.Z)(function*(r,e){const t=ln(r),o=t.ea.get(e),h=t.na.get(o.targetId);if(h.length>1)return t.na.set(o.targetId,h.filter(v=>!rl(v,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Jd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Mh(t.remoteStore,o.targetId),Fc(t,o.targetId)}).catch(pd))):(Fc(t,o.targetId),yield Jd(t.localStore,o.targetId,!0))}),kh.apply(this,arguments)}function Of(){return Of=(0,Oe.Z)(function*(r,e,t){const o=Hc(r);try{const h=yield function(v,T){const V=ln(v),Q=Jr.now(),oe=T.reduce((Qe,Nt)=>Qe.add(Nt.key),zr());let Ie;return V.persistence.runTransaction("Locally write mutations","readwrite",Qe=>V.ci.Ks(Qe,oe).next(Nt=>{Ie=Nt;const cn=[];for(const gn of T){const Xn=rf(gn,Ie.get(gn.key));null!=Xn&&cn.push(new ol(gn.key,Xn,K(Xn.value.mapValue),Or.exists(!0)))}return V.Bs.addMutationBatch(Qe,Q,cn,T)})).then(Qe=>(Qe.applyToLocalDocumentSet(Ie),{batchId:Qe.batchId,changes:Ie}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(v,T,V){let Q=v.ua[v.currentUser.toKey()];Q||(Q=new Ms(ui)),Q=Q.insert(T,V),v.ua[v.currentUser.toKey()]=Q}(o,h.batchId,t),yield tc(o,h.changes),yield yd(o.remoteStore)}catch(h){const v=ih(h,"Failed to persist write");t.reject(v)}}),Of.apply(this,arguments)}function Kp(r,e){return xm.apply(this,arguments)}function xm(){return xm=(0,Oe.Z)(function*(r,e){const t=ln(r);try{const o=yield vp(t.localStore,e);e.targetChanges.forEach((h,v)=>{const T=t.ra.get(v);T&&(xn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?T.Zu=!0:h.modifiedDocuments.size>0?xn(T.Zu):h.removedDocuments.size>0&&(xn(T.Zu),T.Zu=!1))}),yield tc(t,o,e)}catch(o){yield pd(o)}}),xm.apply(this,arguments)}function Rl(r,e,t){const o=ln(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const h=[];o.ea.forEach((v,T)=>{const V=T.view.Au(e);V.snapshot&&h.push(V.snapshot)}),function(v,T){const V=ln(v);V.onlineState=T;let Q=!1;V.queries.forEach((oe,Ie)=>{for(const Qe of Ie.listeners)Qe.Au(T)&&(Q=!0)}),Q&&Pl(V)}(o.eventManager,e),h.length&&o.ta.Qo(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function qv(r,e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Oe.Z)(function*(r,e,t){const o=ln(r);o.sharedClientState.updateQueryState(e,"rejected",t);const h=o.ra.get(e),v=h&&h.key;if(v){let T=new Ms(Cn.comparator);T=T.insert(v,re.newNoDocument(v,_i.min()));const V=zr().add(v),Q=new al(_i.min(),new Map,new $r(ui),T,V);yield Kp(o,Q),o.ia=o.ia.remove(v),o.ra.delete(e),Qp(o)}else yield Jd(o.localStore,e,!1).then(()=>Fc(o,e,t)).catch(pd)}),Mm.apply(this,arguments)}function Om(r,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Oe.Z)(function*(r,e){const t=ln(r),o=e.batch.batchId;try{const h=yield Jg(t.localStore,e);qp(t,o,null),Lh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield tc(t,h)}catch(h){yield pd(h)}}),Pf.apply(this,arguments)}function Pm(r,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Oe.Z)(function*(r,e,t){const o=ln(r);try{const h=yield function(v,T){const V=ln(v);return V.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let oe;return V.Bs.lookupMutationBatch(Q,T).next(Ie=>(xn(null!==Ie),oe=Ie.keys(),V.Bs.removeMutationBatch(Q,Ie))).next(()=>V.Bs.performConsistencyCheck(Q)).next(()=>V.ci.Ks(Q,oe))})}(o.localStore,e);qp(o,e,t),Lh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield tc(o,h)}catch(h){yield pd(h)}}),Zp.apply(this,arguments)}function Rf(){return Rf=(0,Oe.Z)(function*(r,e){const t=ln(r);nu(t.remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(v){const T=ln(v);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>T.Bs.getHighestUnacknowledgedBatchId(V))}(t.localStore);if(-1===o)return void e.resolve();const h=t.aa.get(o)||[];h.push(e),t.aa.set(o,h)}catch(o){const h=ih(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Rf.apply(this,arguments)}function Lh(r,e){(r.aa.get(e)||[]).forEach(t=>{t.resolve()}),r.aa.delete(e)}function qp(r,e,t){const o=ln(r);let h=o.ua[o.currentUser.toKey()];if(h){const v=h.get(e);v&&(t?v.reject(t):v.resolve(),h=h.remove(e)),o.ua[o.currentUser.toKey()]=h}}function Fc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.na.get(e))r.ea.delete(o),t&&r.ta.fa(o,t);r.na.delete(e),r.isPrimaryClient&&r.oa.Pi(e).forEach(o=>{r.oa.containsKey(o)||Rm(r,o)})}function Rm(r,e){r.sa.delete(e.path.canonicalString());const t=r.ia.get(e);null!==t&&(Mh(r.remoteStore,t),r.ia=r.ia.remove(e),r.ra.delete(t),Qp(r))}function Yp(r,e,t){for(const o of t)o instanceof Dm?(r.oa.addReference(o.key,e),m_(r,o)):o instanceof Cm?(X("SyncEngine","Document no longer in limbo: "+o.key),r.oa.removeReference(o.key,e),r.oa.containsKey(o.key)||Rm(r,o.key)):jt()}function m_(r,e){const t=e.key,o=t.path.canonicalString();r.ia.get(t)||r.sa.has(o)||(X("SyncEngine","New document in limbo: "+t),r.sa.add(o),Qp(r))}function Qp(r){for(;r.sa.size>0&&r.ia.size<r.maxConcurrentLimboResolutions;){const e=r.sa.values().next().value;r.sa.delete(e);const t=new Cn(yr.fromString(e)),o=r.ca.next();r.ra.set(o,new Im(t)),r.ia=r.ia.insert(t,o),wf(r.remoteStore,new c(ta(nl(t.path)),o,2,fo.A))}}function tc(r,e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,Oe.Z)(function*(r,e,t){const o=ln(r),h=[],v=[],T=[];var V;o.ea.isEmpty()||(o.ea.forEach((V,Q)=>{T.push(o.la(Q,e,t).then(oe=>{if(oe){o.isPrimaryClient&&o.sharedClientState.updateQueryState(Q.targetId,oe.fromCache?"not-current":"current"),h.push(oe);const Ie=df.Ys(Q.targetId,oe);v.push(Ie)}}))}),yield Promise.all(T),o.ta.Qo(h),yield(V=(0,Oe.Z)(function*(Q,oe){const Ie=ln(Q);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Qe=>zt.forEach(oe,Nt=>zt.forEach(Nt.Hs,cn=>Ie.persistence.referenceDelegate.addReference(Qe,Nt.targetId,cn)).next(()=>zt.forEach(Nt.Js,cn=>Ie.persistence.referenceDelegate.removeReference(Qe,Nt.targetId,cn)))))}catch(Qe){if(!xl(Qe))throw Qe;X("LocalStore","Failed to update sequence numbers: "+Qe)}for(const Qe of oe){const Nt=Qe.targetId;if(!Qe.fromCache){const cn=Ie.ii.get(Nt),Xn=cn.withLastLimboFreeSnapshotVersion(cn.snapshotVersion);Ie.ii=Ie.ii.insert(Nt,Xn)}}}),function(Q,oe){return V.apply(this,arguments)})(o.localStore,v))}),Jp.apply(this,arguments)}function Nf(r,e){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,Oe.Z)(function*(r,e){const t=ln(r);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const o=yield Qg(t.localStore,e);t.currentUser=e,(h=t).aa.forEach(T=>{T.forEach(V=>{V.reject(new Yt(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.aa.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield tc(t,o.hi)}var h}),Vc.apply(this,arguments)}function y_(r,e){const t=ln(r),o=t.ra.get(e);if(o&&o.Zu)return zr().add(o.key);{let h=zr();const v=t.na.get(e);if(!v)return h;for(const T of v){const V=t.ea.get(T);h=h.unionWith(V.view.Ku)}return h}}function Fh(r,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Oe.Z)(function*(r,e){const t=ln(r),o=yield ec(t.localStore,e.query,!0),h=e.view.Yu(o);return t.isPrimaryClient&&Yp(t,e.targetId,h.Hu),h}),Xp.apply(this,arguments)}function __(r,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,Oe.Z)(function*(r,e){const t=ln(r);return md(t.localStore,e).then(o=>tc(t,o))}),Vh.apply(this,arguments)}function Fu(r,e,t,o){return bd.apply(this,arguments)}function bd(){return bd=(0,Oe.Z)(function*(r,e,t,o){const h=ln(r),v=yield function(T,V){const Q=ln(T),oe=ln(Q.Bs);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>oe.fn(Ie,V).next(Qe=>Qe?Q.ci.Ks(Ie,Qe):zt.resolve(null)))}(h.localStore,e);var V;null!==v?("pending"===t?yield yd(h.remoteStore):"acknowledged"===t||"rejected"===t?(qp(h,e,o||null),Lh(h,e),V=e,ln(ln(h.localStore).Bs)._n(V)):jt(),yield tc(h,v)):X("SyncEngine","Cannot apply mutation batch with id: "+e)}),bd.apply(this,arguments)}function nc(){return nc=(0,Oe.Z)(function*(r,e){const t=ln(r);if(jc(t),Hc(t),!0===e&&!0!==t.ha){const o=t.sharedClientState.getAllActiveQueryTargets(),h=yield Bh(t,o.toArray());t.ha=!0,yield xf(t.remoteStore,!0);for(const v of h)wf(t.remoteStore,v)}else if(!1===e&&!1!==t.ha){const o=[];let h=Promise.resolve();t.na.forEach((v,T)=>{t.sharedClientState.isLocalQueryTarget(T)?o.push(T):h=h.then(()=>(Fc(t,T),Jd(t.localStore,T,!0))),Mh(t.remoteStore,T)}),yield h,yield Bh(t,o),function(v){const T=ln(v);T.ra.forEach((V,Q)=>{Mh(T.remoteStore,Q)}),T.oa.bi(),T.ra=new Map,T.ia=new Ms(Cn.comparator)}(t),t.ha=!1,yield xf(t.remoteStore,!1)}}),nc.apply(this,arguments)}function Bh(r,e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,Oe.Z)(function*(r,e,t){const o=ln(r),h=[],v=[];for(const T of e){let V;const Q=o.na.get(T);if(Q&&0!==Q.length){V=yield Qd(o.localStore,ta(Q[0]));for(const oe of Q){const Ie=o.ea.get(oe),Qe=yield Fh(o,Ie);Qe.snapshot&&v.push(Qe.snapshot)}}else{const oe=yield pf(o.localStore,T);V=yield Qd(o.localStore,oe),yield Wp(o,kf(oe),T,!1)}h.push(V)}return o.ta.Qo(v),h}),Ya.apply(this,arguments)}function kf(r){return qc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function sh(r){const e=ln(r);return ln(ln(e.localStore).persistence).Fs()}function oh(r,e,t,o){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,Oe.Z)(function*(r,e,t,o){const h=ln(r);if(h.ha)return void X("SyncEngine","Ignoring unexpected query state notification.");const v=h.na.get(e);if(v&&v.length>0)switch(t){case"current":case"not-current":{const T=yield md(h.localStore,gc(v[0])),V=al.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield tc(h,T,V);break}case"rejected":yield Jd(h.localStore,e,!0),Fc(h,e,o);break;default:jt()}}),Bc.apply(this,arguments)}function ah(r,e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,Oe.Z)(function*(r,e,t){const o=jc(r);if(o.ha){for(const h of e){if(o.na.has(h)){X("SyncEngine","Adding an already active target "+h);continue}const v=yield pf(o.localStore,h),T=yield Qd(o.localStore,v);yield Wp(o,kf(v),T.targetId,!1),wf(o.remoteStore,T)}for(const h of t)o.na.has(h)&&(yield Jd(o.localStore,h,!1).then(()=>{Mh(o.remoteStore,h),Fc(o,h)}).catch(pd))}}),Uc.apply(this,arguments)}function jc(r){const e=ln(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qv.bind(null,e),e.ta.Qo=h_.bind(null,e.eventManager),e.ta.fa=f_.bind(null,e.eventManager),e}function Hc(r){const e=ln(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Om.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pm.bind(null,e),e}class Ed{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.M=th(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return ff(this.persistence,new hf,e.initialUser,this.M)}wa(e){return new sm(yf.zi,this.M)}_a(e){return new cm}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eg extends Ed{constructor(e,t,o){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield t().call(o,e),yield o.ya.initialize(o,e),yield Hc(o.ya.syncEngine),yield yd(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return ff(this.persistence,new hf,e.initialUser,this.M)}ma(e){return new $v(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=Ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Bo.withCacheSize(this.cacheSizeBytes):Bo.DEFAULT;return new qg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Ip(),bf(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new cm}}class Nm extends eg{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Oe.Z)(function*(){yield t().call(o,e);const h=o.ya.syncEngine;o.sharedClientState instanceof um&&(o.sharedClientState.syncEngine={Mr:Fu.bind(null,h),Or:oh.bind(null,h),Fr:ah.bind(null,h),Fs:sh.bind(null,h),kr:__.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var v=(0,Oe.Z)(function*(T){yield function Aa(r,e){return nc.apply(this,arguments)}(o.ya.syncEngine,T),o.gcScheduler&&(T&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):T||o.gcScheduler.stop())});return function(T){return v.apply(this,arguments)}}())})()}_a(e){const t=Ip();if(!um.vt(t))throw new Yt(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Ih(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new um(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Lf{initialize(e,t){var o=this;return(0,Oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=h=>Rl(o.syncEngine,h,1),o.remoteStore.remoteSyncer.handleCredentialChange=Nf.bind(null,o.syncEngine),yield xf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new d_}createDatastore(e){const t=th(e.databaseInfo.databaseId),o=new o_(e.databaseInfo);return new a_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,h=e.asyncQueue,v=V=>Rl(this.syncEngine,V,0),T=Tp.vt()?new Tp:new Cp,new Sp(t,o,h,v,T);var t,o,h,v,T}createSyncEngine(e,t){return function(o,h,v,T,V,Q,oe){const Ie=new Kv(o,h,v,T,V,Q);return oe&&(Ie.ha=!0),Ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const o=ln(t);X("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield xh(o),o._u.shutdown(),o.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tg(r,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Uh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class km{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Lr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const o=e.Ea.decode(t),h=Number(o);isNaN(h)&&e.Pa(`length string (${o}) is not valid number`);const v=yield e.ba(h);return new Em(JSON.parse(v),t.length+h)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Oe.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const o=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Lm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Yt(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(h=(0,Oe.Z)(function*(v,T){const V=ln(v),Q=Yl(V.M)+"/documents",oe={documents:T.map(cn=>ql(V.M,cn))},Ie=yield V.ho("BatchGetDocuments",Q,oe),Qe=new Map;Ie.forEach(cn=>{const gn=function ia(r,e){return"found"in e?function(t,o){xn(!!o.found);const h=Wa(t,o.found.name),v=es(o.found.updateTime),T=new U({mapValue:{fields:o.found.fields}});return re.newFoundDocument(h,v,T)}(r,e):"missing"in e?function(t,o){xn(!!o.missing),xn(!!o.readTime);const h=Wa(t,o.missing),v=es(o.readTime);return re.newNoDocument(h,v)}(r,e):jt()}(V.M,cn);Qe.set(gn.key.toString(),gn)});const Nt=[];return T.forEach(cn=>{const gn=Qe.get(cn.toString());xn(!!gn),Nt.push(gn)}),Nt}),function(v,T){return h.apply(this,arguments)})(t.datastore,e);var h;return o.forEach(h=>t.recordVersion(h)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,h)=>{const v=Cn.fromPath(h);e.mutations.push(new qu(v,e.precondition(v)))}),yield(o=(0,Oe.Z)(function*(h,v){const T=ln(h),V=Yl(T.M)+"/documents",Q={writes:v.map(oe=>xu(T.M,oe))};yield T.oo("Commit",V,Q)}),function(h,v){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jt();t=_i.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Yt(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Or.updateTime(t):Or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_i.min()))throw new Yt(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Or.updateTime(t)}return Or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fm{constructor(e,t,o,h){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=h,this.Sa=5,this.Do=new Ap(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Oe.Z)(function*(){const t=new Lm(e.datastore),o=e.Ca(t);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(v=>{e.xa(v)}))}).catch(h=>{e.xa(h)})}))}Ca(e){try{const t=this.updateFunction(e);return!po(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rd(t)}return!1}}class Vm{constructor(e,t,o,h){var v=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=h,this.user=F.UNAUTHENTICATED,this.clientId=Ua.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var T=(0,Oe.Z)(function*(V){X("FirestoreClient","Received user=",V.uid),yield v.authCredentialListener(V),v.user=V});return function(V){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(o,T=>(X("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Yt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const h=ih(o,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Bm(r,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,Oe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var h=(0,Oe.Z)(function*(v){o.isEqual(v)||(yield Qg(e.localStore,v),o=v)});return function(v){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),Ff.apply(this,arguments)}function Um(r,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,Oe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Bf(r);X("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(h=>vm(e.remoteStore,h)),r.setAppCheckTokenChangeListener((h,v)=>vm(e.remoteStore,v)),r.onlineComponents=e}),Vf.apply(this,arguments)}function Bf(r){return ng.apply(this,arguments)}function ng(){return ng=(0,Oe.Z)(function*(r){return r.offlineComponents||(X("FirestoreClient","Using default OfflineComponentProvider"),yield Bm(r,new Ed)),r.offlineComponents}),ng.apply(this,arguments)}function Uf(r){return jf.apply(this,arguments)}function jf(){return jf=(0,Oe.Z)(function*(r){return r.onlineComponents||(X("FirestoreClient","Using default OnlineComponentProvider"),yield Um(r,new Lf)),r.onlineComponents}),jf.apply(this,arguments)}function jm(r){return Bf(r).then(e=>e.persistence)}function Hf(r){return Bf(r).then(e=>e.localStore)}function Hm(r){return Uf(r).then(e=>e.remoteStore)}function ig(r){return Uf(r).then(e=>e.syncEngine)}function jh(r){return rg.apply(this,arguments)}function rg(){return rg=(0,Oe.Z)(function*(r){const e=yield Uf(r),t=e.eventManager;return t.onListen=Am.bind(null,e.syncEngine),t.onUnlisten=Zv.bind(null,e.syncEngine),t}),rg.apply(this,arguments)}function b_(r,e,t={}){const o=new Lr;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(h,v,T,V,Q){const oe=new Uh({next:Qe=>{v.enqueueAndForget(()=>jp(h,Ie));const Nt=Qe.docs.has(T);!Nt&&Qe.fromCache?Q.reject(new Yt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):Nt&&Qe.fromCache&&V&&"server"===V.source?Q.reject(new Yt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(Qe)},error:Qe=>Q.reject(Qe)}),Ie=new Nh(nl(T.path),oe,{includeMetadataChanges:!0,Cu:!0});return Up(h,Ie)}(yield jh(r),r.asyncQueue,e,t,o)})),o.promise}function E_(r,e,t={}){const o=new Lr;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(h,v,T,V,Q){const oe=new Uh({next:Qe=>{v.enqueueAndForget(()=>jp(h,Ie)),Qe.fromCache&&"server"===V.source?Q.reject(new Yt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(Qe)},error:Qe=>Q.reject(Qe)}),Ie=new Nh(T,oe,{includeMetadataChanges:!0,Cu:!0});return Up(h,Ie)}(yield jh(r),r.asyncQueue,e,t,o)})),o.promise}const wd=new Map;function ag(r,e,t){if(!t)throw new Yt(gt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lg(r,e,t,o){if(!0===e&&!0===o)throw new Yt(gt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function zm(r){if(!Cn.isDocumentKey(r))throw new Yt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ug(r){if(Cn.isDocumentKey(r))throw new Yt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dd(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":jt()}function Pr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Yt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dd(r);throw new Yt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function cg(r,e){if(e<=0)throw new Yt(gt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Gm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Yt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gm({}),this._settingsFrozen=!1,e instanceof Ca?this._databaseId=e:(this._app=e,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Yt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(h.options.projectId)}(e))}get app(){if(!this._app)throw new Yt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Da;switch(t.type){case"gapi":const o=t.client;return xn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new uc(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Yt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wd.get(e);t&&(X("ComponentProvider","Removing Datastore"),wd.delete(e),t.terminate())}(this),Promise.resolve()}}class qs{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qs(this.firestore,e,this._key)}}class Sa{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class ru extends Sa{constructor(e,t,o){super(e,t,nl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qs(this.firestore,null,new Cn(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function Wm(r,e,...t){if(r=(0,ke.m9)(r),ag("collection","path",e),r instanceof Hh){const o=yr.fromString(e,...t);return ug(o),new ru(r,null,o)}{if(!(r instanceof qs||r instanceof ru))throw new Yt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(yr.fromString(e,...t));return ug(o),new ru(r.firestore,null,o)}}function $h(r,e,...t){if(r=(0,ke.m9)(r),1===arguments.length&&(e=Ua.R()),ag("doc","path",e),r instanceof Hh){const o=yr.fromString(e,...t);return zm(o),new qs(r,null,new Cn(o))}{if(!(r instanceof qs||r instanceof ru))throw new Yt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(yr.fromString(e,...t));return zm(o),new qs(r.firestore,r instanceof ru?r.converter:null,new Cn(o))}}function $f(r,e){return r=(0,ke.m9)(r),e=(0,ke.m9)(e),(r instanceof qs||r instanceof ru)&&(e instanceof qs||e instanceof ru)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function T_(r,e){return r=(0,ke.m9)(r),e=(0,ke.m9)(e),r instanceof Sa&&e instanceof Sa&&r.firestore===e.firestore&&rl(r._query,e._query)&&r.converter===e.converter}class dg{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Ap(this,"async_queue_retry"),this.qa=()=>{const t=bf();t&&X("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Lr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!xl(t))throw t;X("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,_e("INTERNAL UNHANDLED ERROR: ",function(v){let T=v.message||"";return v.stack&&(T=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),T}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=t,t}enqueueAfterDelay(e,t,o){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const h=Rh.createAndSchedule(this,e,t,o,v=>this.ja(v));return this.Fa.push(h),h}Ka(){this.$a&&jt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function hg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const h of["next","error","complete"])if(h in o&&"function"==typeof o[h])return!0;return!1}(r)}class Xv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ys extends Hh{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new dg,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Gh(this),this._firestoreClient.terminate()}}function Uo(r){return r._firestoreClient||Gh(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Gh(r){var e;const t=r._freezeSettings(),o=(v=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Jo(r._databaseId,v,r._persistenceKey,(V=t).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,V.useFetchStreams));var v,V;r._firestoreClient=new Vm(r._authCredentials,r._appCheckCredentials,r._queue,o)}function I_(r,e,t){const o=new Lr;return r.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield Bm(r,t),yield Um(r,e),o.resolve()}catch(h){if(!("FirebaseError"===(v=h).name?v.code===gt.FAILED_PRECONDITION||v.code===gt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),o.reject(h)}var v})).then(()=>o.promise)}function mg(r){if(r._initialized||r._terminated)throw new Yt(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Yt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vu(Xr.fromBase64String(e))}catch(t){throw new Yt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vu(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $c{constructor(e){this._methodName=e}}class Wh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ui(this._lat,e._lat)||ui(this._long,e._long)}}const yg=/^__.*__$/;class Jm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kl(e,this.data,t,this.fieldTransforms)}}class Xm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _g(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class Kh{constructor(e,t,o,h,v,T){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=h,void 0===v&&this.Ya(),this.fieldTransforms=v||[],this.fieldMask=T||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Za({path:o,ec:!1});return h.nc(e),h}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Za({path:o,ec:!1});return h.Ya(),h}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return qh(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(_g(this.Xa)&&yg.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class vg{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||th(e)}ac(e,t,o,h=!1){return new Kh({Xa:e,methodName:t,uc:o,path:Ss.emptyPath(),ec:!1,oc:h},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ic(r){const e=r._freezeSettings(),t=th(r._databaseId);return new vg(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Zh(r,e,t,o,h,v={}){const T=r.ac(v.merge||v.mergeFields?2:0,e,t,h);Po("Data must be an object, but it was:",T,o);const V=Eg(o,T);let Q,oe;if(v.merge)Q=new ml(T.fieldMask),oe=T.fieldTransforms;else if(v.mergeFields){const Ie=[];for(const Qe of v.mergeFields){const Nt=qf(e,Qe,t);if(!T.contains(Nt))throw new Yt(gt.INVALID_ARGUMENT,`Field '${Nt}' is specified in your field mask but missing from your input data.`);oy(Ie,Nt)||Ie.push(Nt)}Q=new ml(Ie),oe=T.fieldTransforms.filter(Qe=>Q.covers(Qe.field))}else Q=null,oe=T.fieldTransforms;return new Jm(new U(V),Q,oe)}class uh extends $c{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uh}}function bg(r,e,t){return new Kh({Xa:3,uc:e.settings.uc,methodName:r._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Kf extends $c{_toFieldTransform(e){return new zl(e.path,new Hl)}isEqual(e){return e instanceof Kf}}class ey extends $c{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=bg(this,e,!0),o=this.cc.map(v=>Cd(v,t)),h=new Na(o);return new zl(e.path,h)}isEqual(e){return this===e}}class ty extends $c{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=bg(this,e,!0),o=this.cc.map(v=>Cd(v,t)),h=new $l(o);return new zl(e.path,h)}isEqual(e){return this===e}}class ny extends $c{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new wu(e.M,jl(e.M,this.hc));return new zl(e.path,t)}isEqual(e){return this===e}}function Zf(r,e,t,o){const h=r.ac(1,e,t);Po("Data must be an object, but it was:",h,o);const v=[],T=U.empty();Hr(o,(Q,oe)=>{const Ie=Yf(e,Q,t);oe=(0,ke.m9)(oe);const Qe=h.sc(Ie);if(oe instanceof uh)v.push(Ie);else{const Nt=Cd(oe,Qe);null!=Nt&&(v.push(Ie),T.set(Ie,Nt))}});const V=new ml(v);return new Xm(T,V,h.fieldTransforms)}function iy(r,e,t,o,h,v){const T=r.ac(1,e,t),V=[qf(e,o,t)],Q=[h];if(v.length%2!=0)throw new Yt(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Nt=0;Nt<v.length;Nt+=2)V.push(qf(e,v[Nt])),Q.push(v[Nt+1]);const oe=[],Ie=U.empty();for(let Nt=V.length-1;Nt>=0;--Nt)if(!oy(oe,V[Nt])){const cn=V[Nt];let gn=Q[Nt];gn=(0,ke.m9)(gn);const Xn=T.sc(cn);if(gn instanceof uh)oe.push(cn);else{const ji=Cd(gn,Xn);null!=ji&&(oe.push(cn),Ie.set(cn,ji))}}const Qe=new ml(oe);return new Xm(Ie,Qe,T.fieldTransforms)}function ry(r,e,t,o=!1){return Cd(t,r.ac(o?4:3,e))}function Cd(r,e){if(sy(r=(0,ke.m9)(r)))return Po("Unsupported field value:",e,r),Eg(r,e);if(r instanceof $c)return function(t,o){if(!_g(o.Xa))throw o.rc(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,o){const h=[];let v=0;for(const T of t){let V=Cd(T,o.ic(v));null==V&&(V={nullValue:"NULL_VALUE"}),h.push(V),v++}return{arrayValue:{values:h}}}(r,e)}return function(t,o){if(null===(t=(0,ke.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jl(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Jr.fromDate(t);return{timestampValue:Au(o.M,h)}}if(t instanceof Jr){const h=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Au(o.M,h)}}if(t instanceof Wh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vu)return{bytesValue:Cc(o.M,t._byteString)};if(t instanceof qs){const h=o.databaseId,v=t.firestore._databaseId;if(!v.isEqual(h))throw o.rc(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Tc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.rc(`Unsupported field value: ${Dd(t)}`)}(r,e)}function Eg(r,e){const t={};return Wc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(r,(o,h)=>{const v=Cd(h,e.tc(o));null!=v&&(t[o]=v)}),{mapValue:{fields:t}}}function sy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Jr||r instanceof Wh||r instanceof Vu||r instanceof qs||r instanceof $c)}function Po(r,e,t){if(!sy(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Dd(t);throw e.rc("an object"===o?r+" a custom object":r+" "+o)}var o}function qf(r,e,t){if((e=(0,ke.m9)(e))instanceof su)return e._internalPath;if("string"==typeof e)return Yf(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,t)}const x_=new RegExp("[~\\*/\\[\\]]");function Yf(r,e,t){if(e.search(x_)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new su(...e.split("."))._internalPath}catch(o){throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function qh(r,e,t,o,h){const v=o&&!o.isEmpty(),T=void 0!==h;let V=`Function ${e}() called with invalid data`;t&&(V+=" (via `toFirestore()`)"),V+=". ";let Q="";return(v||T)&&(Q+=" (found",v&&(Q+=` in field ${o}`),T&&(Q+=` in document ${h}`),Q+=")"),new Yt(gt.INVALID_ARGUMENT,V+r+Q)}function oy(r,e){return r.some(t=>t.isEqual(e))}class ch{constructor(e,t,o,h,v){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=h,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new qs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ay extends ch{data(){return super.data()}}function rc(r,e){return"string"==typeof e?Yf(r,e):e instanceof su?e._internalPath:e._delegate._internalPath}class Td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends ch{constructor(e,t,o,h,v,T){super(e,t,o,h,T),this._firestore=e,this._firestoreImpl=e,this.metadata=v}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(rc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class dh extends sc{data(e={}){return super.data(e)}}class zc{constructor(e,t,o,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Td(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new dh(this._firestore,this._userDataWriter,o.key,o,new Td(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let v=0;return o._snapshot.docChanges.map(T=>({type:"added",doc:new dh(o._firestore,o._userDataWriter,T.doc.key,T.doc,new Td(o._snapshot.mutatedKeys.has(T.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:v++}))}{let v=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(T=>h||3!==T.type).map(T=>{const V=new dh(o._firestore,o._userDataWriter,T.doc.key,T.doc,new Td(o._snapshot.mutatedKeys.has(T.doc.key),o._snapshot.fromCache),o.query.converter);let Q=-1,oe=-1;return 0!==T.type&&(Q=v.indexOf(T.doc.key),v=v.delete(T.doc.key)),1!==T.type&&(v=v.add(T.doc),oe=v.indexOf(T.doc.key)),{type:ly(T.type),doc:V,oldIndex:Q,newIndex:oe}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ly(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}function M_(r,e){return r instanceof sc&&e instanceof sc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof zc&&e instanceof zc&&r._firestore===e._firestore&&T_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Qf(r){if(il(r)&&0===r.explicitOrderBy.length)throw new Yt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}function ya(r,...e){for(const t of e)r=t._apply(r);return r}class O_ extends Id{constructor(e,t,o){super(),this.lc=e,this.fc=t,this.dc=o,this.type="where"}_apply(e){const t=ic(e.firestore),o=function(h,v,T,V,Q,oe,Ie){let Qe;if(Q.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new Yt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){gy(Ie,oe);const cn=[];for(const gn of Ie)cn.push(Dg(V,h,gn));Qe={arrayValue:{values:cn}}}else Qe=Dg(V,h,Ie)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||gy(Ie,oe),Qe=ry(T,"where",Ie,"in"===oe||"not-in"===oe);const Nt=wo.create(Q,oe,Qe);return function(cn,gn){if(gn.S()){const ji=Eu(cn);if(null!==ji&&!ji.isEqual(gn.field))throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ji.toString()}' and '${gn.field.toString()}'`);const Qs=Yc(cn);null!==Qs&&Cg(0,gn.field,Qs)}const Xn=function(ji,Qs){for(const Ro of ji.filters)if(Qs.indexOf(Ro.op)>=0)return Ro.op;return null}(cn,function(ji){switch(ji){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(gn.op));if(null!==Xn)throw new Yt(gt.INVALID_ARGUMENT,Xn===gn.op?`Invalid query. You cannot use more than one '${gn.op.toString()}' filter.`:`Invalid query. You cannot use '${gn.op.toString()}' filters with '${Xn.toString()}' filters.`)}(h,Nt),Nt}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Sa(e.firestore,e.converter,function(h,v){const T=h.filters.concat([v]);return new tl(h.path,h.collectionGroup,h.explicitOrderBy.slice(),T,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,o))}}class Bu extends Id{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(o,h,v){if(null!==o.startAt)throw new Yt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Yt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const T=new El(h,v);return function(V,Q){if(null===Yc(V)){const oe=Eu(V);null!==oe&&Cg(0,oe,Q.field)}}(o,T),T}(e._query,this.lc,this._c);return new Sa(e.firestore,e.converter,function(o,h){const v=o.explicitOrderBy.concat([h]);return new tl(o.path,o.collectionGroup,v,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Nl extends Id{constructor(e,t,o){super(),this.type=e,this.wc=t,this.mc=o}_apply(e){return new Sa(e.firestore,e.converter,pc(e._query,this.wc,this.mc))}}class hy extends Id{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=py(e,this.type,this.gc,this.yc);return new Sa(e.firestore,e.converter,(h=t,new tl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)));var o,h}}class fy extends Id{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=py(e,this.type,this.gc,this.yc);return new Sa(e.firestore,e.converter,(h=t,new tl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,h)));var o,h}}function py(r,e,t,o){if(t[0]=(0,ke.m9)(t[0]),t[0]instanceof ch)return function(h,v,T,V,Q){if(!V)throw new Yt(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const oe=[];for(const Ie of $a(h))if(Ie.field.isKeyField())oe.push(ks(v,V.key));else{const Qe=V.data.field(Ie.field);if(dc(Qe))throw new Yt(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Qe){const Nt=Ie.field.canonicalString();throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Nt}' (used as the orderBy) does not exist.`)}oe.push(Qe)}return new bl(oe,Q)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const h=ic(r.firestore);return function(v,T,V,Q,oe,Ie){const Qe=v.explicitOrderBy;if(oe.length>Qe.length)throw new Yt(gt.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Nt=[];for(let cn=0;cn<oe.length;cn++){const gn=oe[cn];if(Qe[cn].field.isKeyField()){if("string"!=typeof gn)throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof gn}`);if(!Qc(v)&&-1!==gn.indexOf("/"))throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${gn}' contains a slash.`);const Xn=v.path.child(yr.fromString(gn));if(!Cn.isDocumentKey(Xn))throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${Xn}' is not because it contains an odd number of segments.`);const ji=new Cn(Xn);Nt.push(ks(T,ji))}else{const Xn=ry(V,Q,gn);Nt.push(Xn)}}return new bl(Nt,Ie)}(r._query,r.firestore._databaseId,h,e,t,o)}}function Dg(r,e,t){if("string"==typeof(t=(0,ke.m9)(t))){if(""===t)throw new Yt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qc(e)&&-1!==t.indexOf("/"))throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(yr.fromString(t));if(!Cn.isDocumentKey(o))throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ks(r,new Cn(o))}if(t instanceof qs)return ks(r,t._key);throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dd(t)}.`)}function gy(r,e){if(!Array.isArray(r)||0===r.length)throw new Yt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Yt(gt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Cg(r,e,t){if(!t.isEqual(e))throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Jf{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jt()}}convertObject(e,t){const o={};return Hr(e.fields,(h,v)=>{o[h]=this.convertValue(v,t)}),o}convertGeoPoint(e){return new Wh(hs(e.latitude),hs(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Bl(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}convertTimestamp(e){const t=br(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=yr.fromString(e);xn(Rn(o));const h=new Ca(o.get(1),o.get(3)),v=new Cn(o.popFirst(5));return h.isEqual(t)||_e(`Document ${v} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),v}}function Ad(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class N_ extends Jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qs(this.firestore,null,t)}}class Tg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ic(e)}set(e,t,o){this._verifyNotCommitted();const h=oc(e,this._firestore),v=Ad(h.converter,t,o),T=Zh(this._dataReader,"WriteBatch.set",h._key,v,null!==h.converter,o);return this._mutations.push(T.toMutation(h._key,Or.none())),this}update(e,t,o,...h){this._verifyNotCommitted();const v=oc(e,this._firestore);let T;return T="string"==typeof(t=(0,ke.m9)(t))||t instanceof su?iy(this._dataReader,"WriteBatch.update",v._key,t,o,h):Zf(this._dataReader,"WriteBatch.update",v._key,t),this._mutations.push(T.toMutation(v._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=oc(e,this._firestore);return this._mutations=this._mutations.concat(new Tl(t._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function oc(r,e){if((r=(0,ke.m9)(r)).firestore!==e)throw new Yt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Uu extends Jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qs(this.firestore,null,t)}}function Sg(r,e,t){r=Pr(r,qs);const o=Pr(r.firestore,Ys),h=Ad(r.converter,e,t);return hh(o,[Zh(ic(o),"setDoc",r._key,h,null!==r.converter,t).toMutation(r._key,Or.none())])}function xg(r,e,t,...o){r=Pr(r,qs);const h=Pr(r.firestore,Ys),v=ic(h);let T;return T="string"==typeof(e=(0,ke.m9)(e))||e instanceof su?iy(v,"updateDoc",r._key,e,t,o):Zf(v,"updateDoc",r._key,e),hh(h,[T.toMutation(r._key,Or.exists(!0))])}function wy(r,...e){var t,o,h;r=(0,ke.m9)(r);let v={includeMetadataChanges:!1},T=0;"object"!=typeof e[T]||hg(e[T])||(v=e[T],T++);const V={includeMetadataChanges:v.includeMetadataChanges};if(hg(e[T])){const Qe=e[T];e[T]=null===(t=Qe.next)||void 0===t?void 0:t.bind(Qe),e[T+1]=null===(o=Qe.error)||void 0===o?void 0:o.bind(Qe),e[T+2]=null===(h=Qe.complete)||void 0===h?void 0:h.bind(Qe)}let Q,oe,Ie;if(r instanceof qs)oe=Pr(r.firestore,Ys),Ie=nl(r._key.path),Q={next:Qe=>{e[T]&&e[T](Mg(oe,r,Qe))},error:e[T+1],complete:e[T+2]};else{const Qe=Pr(r,Sa);oe=Pr(Qe.firestore,Ys),Ie=Qe._query;const Nt=new Uu(oe);Q={next:cn=>{e[T]&&e[T](new zc(oe,Nt,Qe,cn))},error:e[T+1],complete:e[T+2]},Qf(r._query)}return function(Qe,Nt,cn,gn){const Xn=new Uh(gn),ji=new Nh(Nt,Xn,cn);return Qe.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return Up(yield jh(Qe),ji)})),()=>{Xn.Ia(),Qe.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return jp(yield jh(Qe),ji)}))}}(Uo(oe),Ie,V,Q)}function hh(r,e){return function(t,o){const h=new Lr;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function g_(r,e,t){return Of.apply(this,arguments)}(yield ig(t),o,h)})),h.promise}(Uo(r),e)}function Mg(r,e,t){const o=t.docs.get(e._key),h=new Uu(r);return new sc(r,h,e._key,o,new Td(t.hasPendingWrites,t.fromCache),e.converter)}class L_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ic(e)}get(e){const t=oc(e,this._firestore),o=new N_(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return jt();const v=h[0];if(v.isFoundDocument())return new ch(this._firestore,o,v.key,v,t.converter);if(v.isNoDocument())return new ch(this._firestore,o,t._key,null,t.converter);throw jt()})}set(e,t,o){const h=oc(e,this._firestore),v=Ad(h.converter,t,o),T=Zh(this._dataReader,"Transaction.set",h._key,v,null!==h.converter,o);return this._transaction.set(h._key,T),this}update(e,t,o,...h){const v=oc(e,this._firestore);let T;return T="string"==typeof(t=(0,ke.m9)(t))||t instanceof su?iy(this._dataReader,"Transaction.update",v._key,t,o,h):Zf(this._dataReader,"Transaction.update",v._key,t),this._transaction.update(v._key,T),this}delete(e){const t=oc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=oc(e,this._firestore),o=new Uu(this._firestore);return super.get(e).then(h=>new sc(this._firestore,o,t._key,h._document,new Td(!1,!1),t.converter))}}function Og(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Yt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Pg(){if("undefined"==typeof Uint8Array)throw new Yt("unimplemented","Uint8Arrays are not available in this environment.")}function Rg(){if(!function Ao(){return"undefined"!=typeof atob}())throw new Yt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){O=on.SDK_VERSION,(0,on._registerComponent)(new pt.wA("firestore",(t,{options:o})=>{const h=t.getProvider("app").getImmediate(),v=new Ys(h,new Fl(t.getProvider("auth-internal")),new Hu(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),v._setSettings(o),v},"PUBLIC")),(0,on.registerVersion)(la,"3.4.8",r),(0,on.registerVersion)(la,"3.4.8","esm2017")}();class fh{constructor(e){this._delegate=e}static fromBase64String(e){return Rg(),new fh(Vu.fromBase64String(e))}static fromUint8Array(e){return Pg(),new fh(Vu.fromUint8Array(e))}toBase64(){return Rg(),this._delegate.toBase64()}toUint8Array(){return Pg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xf(r){return function Cy(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class Ty{enableIndexedDbPersistence(e,t){return function zf(r,e){mg(r=Pr(r,Ys));const t=Uo(r),o=r._freezeSettings(),h=new Lf;return I_(t,h,new eg(h,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fg(r){mg(r=Pr(r,Ys));const e=Uo(r),t=r._freezeSettings(),o=new Lf;return I_(e,o,new Nm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function A_(r){if(r._initialized&&!r._terminated)throw new Yt(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(o){if(!Za.vt())return Promise.resolve();const h=o+"main";yield Za.delete(h)}),function(o){return t.apply(this,arguments)})(Ih(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ng{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ca||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$e("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function C_(r,e,t,o={}){var h;const v=(r=Pr(r,Hh))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==e&&$e("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},v),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let T,V;if("string"==typeof o.mockUserToken)T=o.mockUserToken,V=F.MOCK_USER;else{T=(0,ke.Sg)(o.mockUserToken,null===(h=r._app)||void 0===h?void 0:h.options.projectId);const Q=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Q)throw new Yt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new F(Q)}r._authCredentials=new Eo(new Ll(T,V))}}(this._delegate,e,t,o)}enableNetwork(){return function Wf(r){return function sg(r){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield jm(r),t=yield Hm(r);return e.setNetworkEnabled(!0),function(o){const h=ln(o);return h.fu.delete(0),Sh(h)}(t)}))}(Uo(r=Pr(r,Ys)))}(this._delegate)}disableNetwork(){return function pg(r){return function og(r){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield jm(r),t=yield Hm(r);return e.setNetworkEnabled(!1),(o=(0,Oe.Z)(function*(h){const v=ln(h);v.fu.add(0),yield xh(v),v.wu.set("Offline")}),function(h){return o.apply(this,arguments)})(t);var o}))}(Uo(r=Pr(r,Ys)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,lg("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gf(r){return function(e){const t=new Lr;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function Yv(r,e){return Rf.apply(this,arguments)}(yield ig(e),t)})),t.promise}(Uo(r=Pr(r,Ys)))}(this._delegate)}onSnapshotsInSync(e){return function k_(r,e){return function w_(r,e){const t=new Uh(e);return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield jh(r),h=t,ln(o).Eu.add(h),void h.next();var o,h})),()=>{t.Ia(),r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return o=yield jh(r),h=t,void ln(o).Eu.delete(h);var o,h}))}}(Uo(r=Pr(r,Ys)),hg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Yt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new bi(this,Wm(this._delegate,e))}catch(t){throw Va(t,"collection()","Firestore.collection()")}}doc(e){try{return new kl(this,$h(this._delegate,e))}catch(t){throw Va(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xa(this,function Km(r,e){if(r=Pr(r,Hh),ag("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Yt(gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sa(r,null,(t=e,new tl(yr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Va(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function F_(r,e){return function $m(r,e){const t=new Lr;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const o=yield(h=r,Uf(h).then(v=>v.datastore));var h;new Fm(r.asyncQueue,o,e,t).run()})),t.promise}(Uo(r=Pr(r,Ys)),t=>e(new L_(r,t)))}(this._delegate,t=>e(new ep(this,t)))}batch(){return Uo(this._delegate),new tp(new Tg(this._delegate,e=>hh(this._delegate,e)))}loadBundle(e){return function gg(r,e){const t=Uo(r=Pr(r,Ys)),o=new Xv;return function Jv(r,e,t,o){const h=function(v,T){let V;return V="string"==typeof v?(new TextEncoder).encode(v):v,Q=function(Q,oe){if(Q instanceof Uint8Array)return tg(Q,void 0);if(Q instanceof ArrayBuffer)return tg(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new km(Q,T);var Q}(t,th(e));r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function lh(r,e,t){const o=ln(r);var h;(h=(0,Oe.Z)(function*(v,T,V){try{const Q=yield T.getMetadata();if(yield function(Nt,cn){const gn=ln(Nt),Xn=es(cn.createTime);return gn.persistence.runTransaction("hasNewerBundle","readonly",ji=>gn._s.getBundleMetadata(ji,cn.id)).then(ji=>!!ji&&ji.createTime.compareTo(Xn)>=0)}(v.localStore,Q))return yield T.close(),V._completeWith({taskState:"Success",documentsLoaded:(Nt=Q).totalDocuments,bytesLoaded:Nt.totalBytes,totalDocuments:Nt.totalDocuments,totalBytes:Nt.totalBytes}),Promise.resolve(new Set);V._updateProgress(zp(Q));const oe=new wm(Q,v.localStore,T.M);let Ie=yield T.da();for(;Ie;){const Nt=yield oe.ku(Ie);Nt&&V._updateProgress(Nt),Ie=yield T.da()}const Qe=yield oe.complete();return yield tc(v,Qe.Fu,void 0),yield function(Nt,cn){const gn=ln(Nt);return gn.persistence.runTransaction("Save bundle","readwrite",Xn=>gn._s.saveBundleMetadata(Xn,cn))}(v.localStore,Q),V._completeWith(Qe.progress),Promise.resolve(Qe.Ou)}catch(Q){return $e("SyncEngine",`Loading bundle failed with ${Q}`),V._failWith(Q),Promise.resolve(new Set)}var Nt}),function(v,T,V){return h.apply(this,arguments)})(o,e,t).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield ig(r),h,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Ym(r,e){return function D_(r,e){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,o){const h=ln(t);return h.persistence.runTransaction("Get named query","readonly",v=>h._s.getNamedQuery(v,o))}(yield Hf(r),e)}))}(Uo(r=Pr(r,Ys)),e).then(t=>t?new Sa(r,null,t.query):null)}(this._delegate,e).then(t=>t?new xa(this,t):null)}}class Qh extends Jf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fh(new Vu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return kl.forKey(t,this.firestore,null)}}class ep{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Qh(e)}get(e){const t=Md(e);return this._delegate.get(t).then(o=>new xd(this._firestore,new sc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const h=Md(e);return o?(Og("Transaction.set",o),this._delegate.set(h,t,o)):this._delegate.set(h,t),this}update(e,t,o,...h){const v=Md(e);return 2===arguments.length?this._delegate.update(v,t):this._delegate.update(v,t,o,...h),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}}class tp{constructor(e){this._delegate=e}set(e,t,o){const h=Md(e);return o?(Og("WriteBatch.set",o),this._delegate.set(h,t,o)):this._delegate.set(h,t),this}update(e,t,o,...h){const v=Md(e);return 2===arguments.length?this._delegate.update(v,t):this._delegate.update(v,t,o,...h),this}delete(e){const t=Md(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cl{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new dh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new np(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=cl.INSTANCES;let h=o.get(e);h||(h=new WeakMap,o.set(e,h));let v=h.get(t);return v||(v=new cl(e,new Qh(e),t),h.set(t,v)),v}}cl.INSTANCES=new WeakMap;class kl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Yt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new kl(t,new qs(t._delegate,o,new Cn(e)))}static forKey(e,t,o){return new kl(t,new qs(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new bi(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bi(this.firestore,Wm(this._delegate,e))}catch(t){throw Va(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ke.m9)(e))instanceof qs&&$f(this._delegate,e)}set(e,t){t=Og("DocumentReference.set",t);try{return t?Sg(this._delegate,e,t):Sg(this._delegate,e)}catch(o){throw Va(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?xg(this._delegate,e):xg(this._delegate,e,t,...o)}catch(h){throw Va(h,"updateDoc()","DocumentReference.update()")}}delete(){return function by(r){return hh(Pr(r.firestore,Ys),[new Tl(r._key,Or.none())])}(this._delegate)}onSnapshot(...e){const t=Sd(e),o=G_(e,h=>new xd(this.firestore,new sc(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return wy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Ag(r){r=Pr(r,qs);const e=Pr(r.firestore,Ys),t=Uo(e),o=new Uu(e);return function v_(r,e){const t=new Lr;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(h,v,T){try{const V=yield function(Q,oe){const Ie=ln(Q);return Ie.persistence.runTransaction("read document","readonly",Qe=>Ie.ci.Ls(Qe,oe))}(h,v);V.isFoundDocument()?T.resolve(V):V.isNoDocument()?T.resolve(null):T.reject(new Yt(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const Q=ih(V,`Failed to get document '${v} from cache`);T.reject(Q)}}),function(h,v,T){return o.apply(this,arguments)})(yield Hf(r),e,t);var o})),t.promise}(t,r._key).then(h=>new sc(e,o,r._key,h,new Td(null!==h&&h.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function my(r){r=Pr(r,qs);const e=Pr(r.firestore,Ys);return b_(Uo(e),r._key,{source:"server"}).then(t=>Mg(e,r,t))}(this._delegate):function Ig(r){r=Pr(r,qs);const e=Pr(r.firestore,Ys);return b_(Uo(e),r._key).then(t=>Mg(e,r,t))}(this._delegate),t.then(o=>new xd(this.firestore,new sc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new kl(this.firestore,this._delegate.withConverter(e?cl.getInstance(this.firestore,e):null))}}function Va(r,e,t){return r.message=r.message.replace(e,t),r}function Sd(r){for(const e of r)if("object"==typeof e&&!Xf(e))return e;return{}}function G_(r,e){var t,o;let h;return h=Xf(r[0])?r[0]:Xf(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:v=>{h.next&&h.next(e(v))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(o=h.complete)||void 0===o?void 0:o.bind(h)}}class xd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new kl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return M_(this._delegate,e._delegate)}}class np extends xd{data(e){const t=this._delegate.data(e);return function Jn(r,e){r||jt()}(void 0!==t),t}}class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qh(e)}where(e,t,o){try{return new xa(this.firestore,ya(this._delegate,function uy(r,e,t){const o=e,h=rc("where",r);return new O_(h,o,t)}(e,t,o)))}catch(h){throw Va(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xa(this.firestore,ya(this._delegate,function ou(r,e="asc"){const t=e,o=rc("orderBy",r);return new Bu(o,t)}(e,t)))}catch(o){throw Va(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xa(this.firestore,ya(this._delegate,function cy(r){return cg("limit",r),new Nl("limit",r,"F")}(e)))}catch(t){throw Va(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xa(this.firestore,ya(this._delegate,function dy(r){return cg("limitToLast",r),new Nl("limitToLast",r,"L")}(e)))}catch(t){throw Va(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xa(this.firestore,ya(this._delegate,function P_(...r){return new hy("startAt",r,!0)}(...e)))}catch(t){throw Va(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xa(this.firestore,ya(this._delegate,function R_(...r){return new hy("startAfter",r,!1)}(...e)))}catch(t){throw Va(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xa(this.firestore,ya(this._delegate,function wg(...r){return new fy("endBefore",r,!1)}(...e)))}catch(t){throw Va(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xa(this.firestore,ya(this._delegate,function Yh(...r){return new fy("endAt",r,!0)}(...e)))}catch(t){throw Va(t,"endAt()","Query.endAt()")}}isEqual(e){return T_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function _y(r){r=Pr(r,Sa);const e=Pr(r.firestore,Ys),t=Uo(e),o=new Uu(e);return function Qv(r,e){const t=new Lr;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(o=(0,Oe.Z)(function*(h,v,T){try{const V=yield ec(h,v,!0),Q=new Tm(v,V.li),oe=Q.Gu(V.documents),Ie=Q.applyChanges(oe,!1);T.resolve(Ie.snapshot)}catch(V){const Q=ih(V,`Failed to execute query '${v} against cache`);T.reject(Q)}}),function(h,v,T){return o.apply(this,arguments)})(yield Hf(r),e,t);var o})),t.promise}(t,r._query).then(h=>new zc(e,o,r,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function vy(r){r=Pr(r,Sa);const e=Pr(r.firestore,Ys),t=Uo(e),o=new Uu(e);return E_(t,r._query,{source:"server"}).then(h=>new zc(e,o,r,h))}(this._delegate):function yy(r){r=Pr(r,Sa);const e=Pr(r.firestore,Ys),t=Uo(e),o=new Uu(e);return Qf(r._query),E_(t,r._query).then(h=>new zc(e,o,r,h))}(this._delegate),t.then(o=>new Sy(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Sd(e),o=G_(e,h=>new Sy(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return wy(this._delegate,t,o)}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?cl.getInstance(this.firestore,e):null))}}class Ay{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new np(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new np(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ay(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new np(this._firestore,o))})}isEqual(e){return M_(this._delegate,e._delegate)}}class bi extends xa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new kl(this.firestore,e):null}doc(e){try{return new kl(this.firestore,void 0===e?$h(this._delegate):$h(this._delegate,e))}catch(t){throw Va(t,"doc()","CollectionReference.doc()")}}add(e){return function Ey(r,e){const t=Pr(r.firestore,Ys),o=$h(r),h=Ad(r.converter,e);return hh(t,[Zh(ic(r.firestore),"addDoc",o._key,h,null!==r.converter,{}).toMutation(o._key,Or.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new kl(this.firestore,t))}isEqual(e){return $f(this._delegate,e._delegate)}withConverter(e){return new bi(this.firestore,this._delegate.withConverter(e?cl.getInstance(this.firestore,e):null))}}function Md(r){return Pr(r,qs)}class kg{constructor(...e){this._delegate=new su(...e)}static documentId(){return new kg(Ss.keyField().canonicalString())}isEqual(e){return(e=(0,ke.m9)(e))instanceof su&&this._delegate._internalPath.isEqual(e._internalPath)}}class Od{constructor(e){this._delegate=e}static serverTimestamp(){const e=function B_(){return new Kf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Od(e)}static delete(){const e=function V_(){return new uh("deleteField")}();return e._methodName="FieldValue.delete",new Od(e)}static arrayUnion(...e){const t=function U_(...r){return new ey("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Od(t)}static arrayRemove(...e){const t=function j_(...r){return new ty("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Od(t)}static increment(e){const t=function H_(r){return new ny("increment",r)}(e);return t._methodName="FieldValue.increment",new Od(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ip={Firestore:Ng,GeoPoint:Wh,Timestamp:Jr,Blob:fh,Transaction:ep,WriteBatch:tp,DocumentReference:kl,DocumentSnapshot:xd,Query:xa,QueryDocumentSnapshot:np,QuerySnapshot:Sy,CollectionReference:bi,FieldPath:kg,FieldValue:Od,setLogLevel:function Iy(r){!function q(r){x.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function rp(r){(function W_(r,e){r.INTERNAL.registerComponent(new pt.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(o,h)},"PUBLIC").setServiceProps(Object.assign({},ip)))})(r,(e,t)=>new Ng(e,t,new Ty)),r.registerVersion("@firebase/firestore-compat","0.1.17")}(st.Z);var au=N(3385),Co=N(440),n0=N(127);function My(r,e){return function xy(r,e=R.z){return new ne.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,e)}function sp(r,e){return My(r,e).pipe((0,fe.U)(t=>({payload:t,type:"query"})))}function Jh(r,e){return sp(r,e).pipe((0,ce.O)(void 0),Te(),(0,fe.U)(([t,o])=>{const h=o.payload.docChanges(),v=h.map(T=>({type:T.type,payload:T}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((T,V)=>{const Q=h.find(Ie=>Ie.doc.ref.isEqual(T.ref)),oe=null==t?void 0:t.payload.docs.find(Ie=>Ie.ref.isEqual(T.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(T.metadata)||!Q&&oe&&JSON.stringify(oe.metadata)===JSON.stringify(T.metadata)||v.push({type:"modified",payload:{oldIndex:V,newIndex:V,type:"modified",doc:T}})}),v}))}function Lg(r,e,t){return Jh(r,t).pipe((0,be.R)((o,h)=>function Oy(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function Z_(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Fg(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Fg(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Fg(r,e.oldIndex,1)}return r}(r,o))}),r}(o,h.map(v=>v.payload),e),[]),(0,vt.x)(),(0,fe.U)(o=>o.map(h=>({type:h.type,payload:h}))))}function Fg(r,e,t,...o){const h=r.slice();return h.splice(e,t,...o),h}function Py(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class ph{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Jh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(o=>o.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,ce.O)(void 0),Te(),(0,at.h)(([o,h])=>h.length>0||!o),(0,fe.U)(([o,h])=>h),ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Py(e);return Lg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return sp(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ve.iC)}get(e){return(0,me.D)(this.query.get(e)).pipe(ve.iC)}add(e){return this.ref.add(e)}doc(e){return new Ry(this.ref.doc(e),this.afs)}}class Ry{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:h,query:v}=Vg(o,t);return new ph(h,v,this.afs)}snapshotChanges(){return function K_(r,e){return My(r,e).pipe((0,ce.O)(void 0),Te(),(0,fe.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,me.D)(this.ref.get(e)).pipe(ve.iC)}}class q_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Jh(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,at.h)(t=>t.length>0),ve.iC):Jh(this.query,this.afs.schedulers.outsideAngular).pipe(ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Py(e);return Lg(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return sp(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(o=>o.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),ve.iC)}get(e){return(0,me.D)(this.query.get(e)).pipe(ve.iC)}}const Ny=new y.OlP("angularfire2.enableFirestorePersistence"),Xh=new y.OlP("angularfire2.firestore.persistenceSettings"),ky=new y.OlP("angularfire2.firestore.settings"),Ly=new y.OlP("angularfire2.firestore.use-emulator");function Vg(r,e=(t=>t)){return{query:e(r),ref:r}}let Fy=(()=>{class r{constructor(t,o,h,v,T,V,Q,oe,Ie,Qe,Nt,cn,gn,Xn,ji,Qs,Ro){this.schedulers=Q;const ys=(0,it.on)(t,V,o),so=Ie;Qe&&(0,au.nw)(ys,V,Nt,gn,Xn,ji,cn,Qs),[this.firestore,this.persistenceEnabled$]=(0,it.cc)(`${ys.name}.firestore`,"AngularFirestore",ys.name,()=>{const Js=V.runOutsideAngular(()=>ys.firestore());if(v&&Js.settings(v),so&&Js.useEmulator(...so),h&&!(0,Lt.PM)(T)){const yo=()=>{try{return(0,me.D)(Js.enablePersistence(oe||void 0).then(()=>!0,()=>!1))}catch(Ma){return"undefined"!=typeof console&&console.warn(Ma),(0,we.of)(!1)}};return[Js,V.runOutsideAngular(yo)]}return[Js,(0,we.of)(!1)]},[v,so,h])}collection(t,o){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:v,query:T}=Vg(h,o),V=this.schedulers.ngZone.run(()=>v);return new ph(V,T,this)}collectionGroup(t,o){const h=o||(T=>T),v=this.firestore.collectionGroup(t);return new q_(h(v),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>o);return new Ry(h,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(y.LFG(it.Dh),y.LFG(it.xv,8),y.LFG(Ny,8),y.LFG(ky,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ve.HU),y.LFG(Xh,8),y.LFG(Ly,8),y.LFG(au.zQ,8),y.LFG(au.Qv,8),y.LFG(au.L6,8),y.LFG(au._Q,8),y.LFG(au.rT,8),y.LFG(au.lh,8),y.LFG(au.f7,8),y.LFG(Co.nm,8))},r.\u0275prov=y.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),ef=(()=>{class r{constructor(){n0.Z.registerVersion("angularfire",ve.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Ny,useValue:!0},{provide:Xh,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=y.oAB({type:r}),r.\u0275inj=y.cJS({providers:[Fy]}),r})()},2011:(an,tt,N)=>{N.d(tt,{Dh:()=>Ce,GT:()=>ve,cc:()=>at,hO:()=>vt,on:()=>ce,pX:()=>we,xv:()=>Te});var y=N(5e3),R=N(127),ne=N(5813);an=N.hmd(an);const me=["ngOnDestroy"],we=(st,Oe,on,pt={})=>new Proxy(st,{get:(Le,ke)=>on.runOutsideAngular(()=>{var Et;if(st[ke])return(null===(Et=null==pt?void 0:pt.spy)||void 0===Et?void 0:Et.get)&&pt.spy.get(ke,st[ke]),st[ke];if(me.indexOf(ke)>-1)return()=>{};const ot=Oe.toPromise().then(ge=>{const Ve=ge&&ge[ke];return"function"==typeof Ve?Ve.bind(ge):Ve&&Ve.then?Ve.then(ze=>on.run(()=>ze)):on.run(()=>Ve)});return new Proxy(()=>{},{get:(ge,Ve)=>ot[Ve],apply:(ge,Ve,ze)=>ot.then(ht=>{var yt;const It=ht&&ht(...ze);return(null===(yt=null==pt?void 0:pt.spy)||void 0===yt?void 0:yt.apply)&&pt.spy.apply(ke,ze,It),It})})})}),ve=(st,Oe)=>{Oe.forEach(on=>{Object.getOwnPropertyNames(on.prototype||on).forEach(pt=>{Object.defineProperty(st.prototype,pt,Object.getOwnPropertyDescriptor(on.prototype||on,pt))})})};class Re{constructor(Oe){return Oe}}const Ce=new y.OlP("angularfire2.app.options"),Te=new y.OlP("angularfire2.app.name");function ce(st,Oe,on){const Le="object"==typeof on&&on||{};Le.name=Le.name||"string"==typeof on&&on||"[DEFAULT]";const Et=R.Z.apps.filter(ot=>ot&&ot.name===Le.name)[0]||Oe.runOutsideAngular(()=>R.Z.initializeApp(st,Le));try{JSON.stringify(st)!==JSON.stringify(Et.options)&&fe("error",`${Et.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ot){}return new Re(Et)}const fe=(st,...Oe)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[st](...Oe)},be={provide:Re,useFactory:ce,deps:[Ce,y.R0b,[new y.FiY,Te]]};let vt=(()=>{class st{constructor(on){R.Z.registerVersion("angularfire",ne.q4.full,"core"),R.Z.registerVersion("angularfire",ne.q4.full,"app-compat"),R.Z.registerVersion("angular",y.q4F.full,on.toString())}static initializeApp(on,pt){return{ngModule:st,providers:[{provide:Ce,useValue:on},{provide:Te,useValue:pt}]}}}return st.\u0275fac=function(on){return new(on||st)(y.LFG(y.Lbi))},st.\u0275mod=y.oAB({type:st}),st.\u0275inj=y.cJS({providers:[be]}),st})();function at(st,Oe,on,pt,Le){const[,ke,Et]=globalThis.\u0275AngularfireInstanceCache.find(ot=>ot[0]===st)||[];if(ke)return function it(st,Oe){try{return st.toString()===Oe.toString()}catch(on){return st===Oe}}(Le,Et)||(Xe("error",`${Oe} was already initialized on the ${on} Firebase App with different settings.${Lt?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:Le,was:Et})),ke;{const ot=pt();return globalThis.\u0275AngularfireInstanceCache.push([st,ot,Le]),ot}}const Lt=!!an.hot,Xe=(st,...Oe)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[st](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(an,tt,N)=>{N.d(tt,{q4:()=>Ca,iC:()=>zu,HU:()=>el,vb:()=>Xa,JM:()=>Ja});var y=N(5e3),R=N(5867),ne=N(5861),me=N(9681),we=N(2090),ve=N(4859),Re=N(1877);const Ce="@firebase/installations",fe="w:0.5.8",be="FIS_v2",st=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(U){return U instanceof we.ZR&&U.code.includes("request-failed")}function on({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function pt(U){return{token:U.token,requestStatus:2,expiresIn:ze(U.expiresIn),creationTime:Date.now()}}function Le(U,K){return ke.apply(this,arguments)}function ke(){return(ke=(0,ne.Z)(function*(U,K){const Ae=(yield K.json()).error;return st.create("request-failed",{requestName:U,serverCode:Ae.code,serverMessage:Ae.message,serverStatus:Ae.status})})).apply(this,arguments)}function Et({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function ot(U,{refreshToken:K}){const re=Et(U);return re.append("Authorization",function ht(U){return`${be} ${U}`}(K)),re}function ge(U){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,ne.Z)(function*(U){const K=yield U();return K.status>=500&&K.status<600?U():K})).apply(this,arguments)}function ze(U){return Number(U.replace("s","000"))}function yt(U,K){return It.apply(this,arguments)}function It(){return(It=(0,ne.Z)(function*({appConfig:U,heartbeatServiceProvider:K},{fid:re}){const Ae=on(U),mt=Et(U),St=K.getImmediate({optional:!0});if(St){const Ni=yield St.getHeartbeatsHeader();Ni&&mt.append("x-firebase-client",Ni)}const $n={method:"POST",headers:mt,body:JSON.stringify({fid:re,authVersion:be,appId:U.appId,sdkVersion:fe})},ri=yield ge(()=>fetch(Ae,$n));if(ri.ok){const Ni=yield ri.json();return{fid:Ni.fid||re,registrationStatus:2,refreshToken:Ni.refreshToken,authToken:pt(Ni.authToken)}}throw yield Le("Create Installation",ri)})).apply(this,arguments)}function lt(U){return new Promise(K=>{setTimeout(K,U)})}const dn=/^[cdef][\w-]{21}$/;function nt(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const re=function rt(U){return function ft(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return dn.test(re)?re:""}catch(U){return""}}function Ht(U){return`${U.appName}!${U.appId}`}const un=new Map;function Ut(U,K){const re=Ht(U);ut(re,K),function qt(U,K){const re=function ti(){return!Sn&&"BroadcastChannel"in self&&(Sn=new BroadcastChannel("[Firebase] FID Change"),Sn.onmessage=U=>{ut(U.data.key,U.data.fid)}),Sn}();re&&re.postMessage({key:U,fid:K}),function Ci(){0===un.size&&Sn&&(Sn.close(),Sn=null)}()}(re,K)}function ut(U,K){const re=un.get(U);if(re)for(const Ae of re)Ae(K)}let Sn=null;const ii="firebase-installations-store";let fi=null;function pi(){return fi||(fi=(0,we.X3)("firebase-installations-database",1,(U,K)=>{0===K&&U.createObjectStore(ii)})),fi}function vn(U,K){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,ne.Z)(function*(U,K){const re=Ht(U),mt=(yield pi()).transaction(ii,"readwrite"),St=mt.objectStore(ii),yn=yield St.get(re);return yield St.put(K,re),yield mt.complete,(!yn||yn.fid!==K.fid)&&Ut(U,K.fid),K})).apply(this,arguments)}function Tt(U){return wn.apply(this,arguments)}function wn(){return(wn=(0,ne.Z)(function*(U){const K=Ht(U),Ae=(yield pi()).transaction(ii,"readwrite");yield Ae.objectStore(ii).delete(K),yield Ae.complete})).apply(this,arguments)}function Xt(U,K){return ni.apply(this,arguments)}function ni(){return(ni=(0,ne.Z)(function*(U,K){const re=Ht(U),mt=(yield pi()).transaction(ii,"readwrite"),St=mt.objectStore(ii),yn=yield St.get(re),$n=K(yn);return void 0===$n?yield St.delete(re):yield St.put($n,re),yield mt.complete,$n&&(!yn||yn.fid!==$n.fid)&&Ut(U,$n.fid),$n})).apply(this,arguments)}function _t(U){return Be.apply(this,arguments)}function Be(){return(Be=(0,ne.Z)(function*(U){let K;const re=yield Xt(U.appConfig,Ae=>{const mt=je(Ae),St=Gt(U,mt);return K=St.registrationPromise,St.installationEntry});return""===re.fid?{installationEntry:yield K}:{installationEntry:re,registrationPromise:K}})).apply(this,arguments)}function je(U){return Nn(U||{fid:nt(),registrationStatus:0})}function Gt(U,K){if(0===K.registrationStatus){if(!navigator.onLine)return{installationEntry:K,registrationPromise:Promise.reject(st.create("app-offline"))};const re={fid:K.fid,registrationStatus:1,registrationTime:Date.now()},Ae=function Mt(U,K){return Zt.apply(this,arguments)}(U,re);return{installationEntry:re,registrationPromise:Ae}}return 1===K.registrationStatus?{installationEntry:K,registrationPromise:_n(U)}:{installationEntry:K}}function Zt(){return(Zt=(0,ne.Z)(function*(U,K){try{const re=yield yt(U,K);return vn(U.appConfig,re)}catch(re){throw Oe(re)&&409===re.customData.serverCode?yield Tt(U.appConfig):yield vn(U.appConfig,{fid:K.fid,registrationStatus:0}),re}})).apply(this,arguments)}function _n(U){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,ne.Z)(function*(U){let K=yield Pn(U.appConfig);for(;1===K.registrationStatus;)yield lt(100),K=yield Pn(U.appConfig);if(0===K.registrationStatus){const{installationEntry:re,registrationPromise:Ae}=yield _t(U);return Ae||re}return K})).apply(this,arguments)}function Pn(U){return Xt(U,K=>{if(!K)throw st.create("installation-not-found");return Nn(K)})}function Nn(U){return function Zi(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Bi(U,K){return gi.apply(this,arguments)}function gi(){return(gi=(0,ne.Z)(function*({appConfig:U,heartbeatServiceProvider:K},re){const Ae=sn(U,re),mt=ot(U,re),St=K.getImmediate({optional:!0});if(St){const Ni=yield St.getHeartbeatsHeader();Ni&&mt.append("x-firebase-client",Ni)}const $n={method:"POST",headers:mt,body:JSON.stringify({installation:{sdkVersion:fe,appId:U.appId}})},ri=yield ge(()=>fetch(Ae,$n));if(ri.ok)return pt(yield ri.json());throw yield Le("Generate Auth Token",ri)})).apply(this,arguments)}function sn(U,{fid:K}){return`${on(U)}/${K}/authTokens:generate`}function mi(U){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,ne.Z)(function*(U,K=!1){let re;const Ae=yield Xt(U.appConfig,St=>{if(!Dn(St))throw st.create("not-registered");const yn=St.authToken;if(!K&&Ne(yn))return St;if(1===yn.requestStatus)return re=bn(U,K),St;{if(!navigator.onLine)throw st.create("app-offline");const $n=Ke(St);return re=An(U,$n),$n}});return re?yield re:Ae.authToken})).apply(this,arguments)}function bn(U,K){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,ne.Z)(function*(U,K){let re=yield In(U.appConfig);for(;1===re.authToken.requestStatus;)yield lt(100),re=yield In(U.appConfig);const Ae=re.authToken;return 0===Ae.requestStatus?mi(U,K):Ae})).apply(this,arguments)}function In(U){return Xt(U,K=>{if(!Dn(K))throw st.create("not-registered");return function At(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(K.authToken)?Object.assign(Object.assign({},K),{authToken:{requestStatus:0}}):K})}function An(U,K){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,ne.Z)(function*(U,K){try{const re=yield Bi(U,K),Ae=Object.assign(Object.assign({},K),{authToken:re});return yield vn(U.appConfig,Ae),re}catch(re){if(!Oe(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const Ae=Object.assign(Object.assign({},K),{authToken:{requestStatus:0}});yield vn(U.appConfig,Ae)}else yield Tt(U.appConfig);throw re}})).apply(this,arguments)}function Dn(U){return void 0!==U&&2===U.registrationStatus}function Ne(U){return 2===U.requestStatus&&!function De(U){const K=Date.now();return K<U.creationTime||U.creationTime+U.expiresIn<K+36e5}(U)}function Ke(U){const K={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:K})}function pn(){return(pn=(0,ne.Z)(function*(U){const K=U,{installationEntry:re,registrationPromise:Ae}=yield _t(K);return Ae?Ae.catch(console.error):mi(K).catch(console.error),re.fid})).apply(this,arguments)}function Me(){return(Me=(0,ne.Z)(function*(U,K=!1){const re=U;return yield ye(re),(yield mi(re,K)).token})).apply(this,arguments)}function ye(U){return qe.apply(this,arguments)}function qe(){return(qe=(0,ne.Z)(function*(U){const{registrationPromise:K}=yield _t(U);K&&(yield K)})).apply(this,arguments)}function hr(U){return st.create("missing-app-config-values",{valueName:U})}const Er="installations",Jt=U=>{const K=U.getProvider("app").getImmediate(),re=function Nr(U){if(!U||!U.options)throw hr("App Configuration");if(!U.name)throw hr("App Name");const K=["projectId","apiKey","appId"];for(const re of K)if(!U.options[re])throw hr(re);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(K);return{app:K,appConfig:re,heartbeatServiceProvider:(0,me._getProvider)(K,"heartbeat"),_delete:()=>Promise.resolve()}},yi=U=>{const K=U.getProvider("app").getImmediate(),re=(0,me._getProvider)(K,Er).getImmediate();return{getId:()=>function ct(U){return pn.apply(this,arguments)}(re),getToken:mt=>function Ye(U){return Me.apply(this,arguments)}(re,mt)}};(function Gi(){(0,me._registerComponent)(new ve.wA(Er,Jt,"PUBLIC")),(0,me._registerComponent)(new ve.wA("installations-internal",yi,"PRIVATE"))})(),(0,me.registerVersion)(Ce,"0.5.8"),(0,me.registerVersion)(Ce,"0.5.8","esm2017");const wr="@firebase/remote-config",Hi=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vs{constructor(K,re,Ae,mt){this.client=K,this.storage=re,this.storageCache=Ae,this.logger=mt}isCachedDataFresh(K,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ae=Date.now()-re,mt=Ae<=K;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${K}. Is cache hit: ${mt}.`),mt}fetch(K){var re=this;return(0,ne.Z)(function*(){const[Ae,mt]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(mt&&re.isCachedDataFresh(K.cacheMaxAgeMillis,Ae))return mt;K.eTag=mt&&mt.eTag;const St=yield re.client.fetch(K),yn=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===St.status&&yn.push(re.storage.setLastSuccessfulFetchResponse(St)),yield Promise.all(yn),St})()}}function bs(U=navigator){return U.languages&&U.languages[0]||U.language}class ko{constructor(K,re,Ae,mt,St,yn){this.firebaseInstallations=K,this.sdkVersion=re,this.namespace=Ae,this.projectId=mt,this.apiKey=St,this.appId=yn}fetch(K){var re=this;return(0,ne.Z)(function*(){const[Ae,mt]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),yn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":K.eTag||"*"},ri={sdk_version:re.sdkVersion,app_instance_id:Ae,app_instance_id_token:mt,app_id:re.appId,language_code:bs()},Ni={method:"POST",headers:$n,body:JSON.stringify(ri)},Ti=fetch(yn,Ni),Oi=new Promise((Vo,da)=>{K.signal.addEventListener(()=>{const Ha=new Error("The operation was aborted.");Ha.name="AbortError",da(Ha)})});let ro;try{yield Promise.race([Ti,Oi]),ro=yield Ti}catch(Vo){let da="fetch-client-network";throw"AbortError"===Vo.name&&(da="fetch-timeout"),Hi.create(da,{originalErrorMessage:Vo.message})}let xs=ro.status;const ea=ro.headers.get("ETag")||void 0;let gu,Ts;if(200===ro.status){let Vo;try{Vo=yield ro.json()}catch(da){throw Hi.create("fetch-client-parse",{originalErrorMessage:da.message})}gu=Vo.entries,Ts=Vo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ts?xs=500:"NO_CHANGE"===Ts?xs=304:("NO_TEMPLATE"===Ts||"EMPTY_CONFIG"===Ts)&&(gu={}),304!==xs&&200!==xs)throw Hi.create("fetch-status",{httpStatus:xs});return{status:xs,eTag:ea,config:gu}})()}}class oo{constructor(K,re){this.client=K,this.storage=re}fetch(K){var re=this;return(0,ne.Z)(function*(){const Ae=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(K,Ae)})()}attemptFetch(K,{throttleEndTimeMillis:re,backoffCount:Ae}){var mt=this;return(0,ne.Z)(function*(){yield function pr(U,K){return new Promise((re,Ae)=>{const mt=Math.max(K-Date.now(),0),St=setTimeout(re,mt);U.addEventListener(()=>{clearTimeout(St),Ae(Hi.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(K.signal,re);try{const St=yield mt.client.fetch(K);return yield mt.storage.deleteThrottleMetadata(),St}catch(St){if(!function Os(U){if(!(U instanceof we.ZR&&U.customData))return!1;const K=Number(U.customData.httpStatus);return 429===K||500===K||503===K||504===K}(St))throw St;const yn={throttleEndTimeMillis:Date.now()+(0,we.$s)(Ae),backoffCount:Ae+1};return yield mt.storage.setThrottleMetadata(yn),mt.attemptFetch(K,yn)}})()}}class Dt{constructor(K,re,Ae,mt,St){this.app=K,this._client=re,this._storageCache=Ae,this._storage=mt,this._logger=St,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kt(U,K){const re=U.target.error||void 0;return Hi.create(K,{originalErrorMessage:re&&re.message})}const fn="app_namespace_store";class Ai{constructor(K,re,Ae,mt=function kr(){return new Promise((U,K)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=Ae=>{K(Kt(Ae,"storage-open"))},re.onsuccess=Ae=>{U(Ae.target.result)},re.onupgradeneeded=Ae=>{0===Ae.oldVersion&&Ae.target.result.createObjectStore(fn,{keyPath:"compositeKey"})}}catch(re){K(Hi.create("storage-open",{originalErrorMessage:re}))}})}()){this.appId=K,this.appName=re,this.namespace=Ae,this.openDbPromise=mt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(K){return this.set("last_fetch_status",K)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(K){return this.set("last_successful_fetch_timestamp_millis",K)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(K){return this.set("last_successful_fetch_response",K)}getActiveConfig(){return this.get("active_config")}setActiveConfig(K){return this.set("active_config",K)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(K){return this.set("active_config_etag",K)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(K){return this.set("throttle_metadata",K)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(K){var re=this;return(0,ne.Z)(function*(){const Ae=yield re.openDbPromise;return new Promise((mt,St)=>{const $n=Ae.transaction([fn],"readonly").objectStore(fn),ri=re.createCompositeKey(K);try{const Ni=$n.get(ri);Ni.onerror=Ti=>{St(Kt(Ti,"storage-get"))},Ni.onsuccess=Ti=>{const Oi=Ti.target.result;mt(Oi?Oi.value:void 0)}}catch(Ni){St(Hi.create("storage-get",{originalErrorMessage:Ni&&Ni.message}))}})})()}set(K,re){var Ae=this;return(0,ne.Z)(function*(){const mt=yield Ae.openDbPromise;return new Promise((St,yn)=>{const ri=mt.transaction([fn],"readwrite").objectStore(fn),Ni=Ae.createCompositeKey(K);try{const Ti=ri.put({compositeKey:Ni,value:re});Ti.onerror=Oi=>{yn(Kt(Oi,"storage-set"))},Ti.onsuccess=()=>{St()}}catch(Ti){yn(Hi.create("storage-set",{originalErrorMessage:Ti&&Ti.message}))}})})()}delete(K){var re=this;return(0,ne.Z)(function*(){const Ae=yield re.openDbPromise;return new Promise((mt,St)=>{const $n=Ae.transaction([fn],"readwrite").objectStore(fn),ri=re.createCompositeKey(K);try{const Ni=$n.delete(ri);Ni.onerror=Ti=>{St(Kt(Ti,"storage-delete"))},Ni.onsuccess=()=>{mt()}}catch(Ni){St(Hi.create("storage-delete",{originalErrorMessage:Ni&&Ni.message}))}})})()}createCompositeKey(K){return[this.appId,this.appName,this.namespace,K].join()}}class Xi{constructor(K){this.storage=K}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var K=this;return(0,ne.Z)(function*(){const re=K.storage.getLastFetchStatus(),Ae=K.storage.getLastSuccessfulFetchTimestampMillis(),mt=K.storage.getActiveConfig(),St=yield re;St&&(K.lastFetchStatus=St);const yn=yield Ae;yn&&(K.lastSuccessfulFetchTimestampMillis=yn);const $n=yield mt;$n&&(K.activeConfig=$n)})()}setLastFetchStatus(K){return this.lastFetchStatus=K,this.storage.setLastFetchStatus(K)}setLastSuccessfulFetchTimestampMillis(K){return this.lastSuccessfulFetchTimestampMillis=K,this.storage.setLastSuccessfulFetchTimestampMillis(K)}setActiveConfig(K){return this.activeConfig=K,this.storage.setActiveConfig(K)}}function or(){return To.apply(this,arguments)}function To(){return(To=(0,ne.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(U){return!1}})).apply(this,arguments)}!function qi(){(0,me._registerComponent)(new ve.wA("remote-config",function U(K,{instanceIdentifier:re}){const Ae=K.getProvider("app").getImmediate(),mt=K.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Hi.create("registration-window");if(!(0,we.hl)())throw Hi.create("indexed-db-unavailable");const{projectId:St,apiKey:yn,appId:$n}=Ae.options;if(!St)throw Hi.create("registration-project-id");if(!yn)throw Hi.create("registration-api-key");if(!$n)throw Hi.create("registration-app-id");const ri=new Ai($n,Ae.name,re=re||"firebase"),Ni=new Xi(ri),Ti=new Re.Yd(wr);Ti.logLevel=Re.in.ERROR;const Oi=new ko(mt,me.SDK_VERSION,re,St,yn,$n),ro=new oo(Oi,ri),xs=new Vs(ro,ri,Ni,Ti),ea=new Dt(Ae,xs,Ni,ri,Ti);return function rs(U){const K=(0,we.m9)(U);K._initializePromise||(K._initializePromise=K._storageCache.loadFromStorage().then(()=>{K._isInitializationComplete=!0}))}(ea),ea},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(wr,"0.3.7"),(0,me.registerVersion)(wr,"0.3.7","esm2017")}();const Ur="/firebase-messaging-sw.js",ao="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="google.c.a.c_id",Ps="google.c.a.c_l",_o="google.c.a.ts",sa="google.c.a.e";var Kr=(()=>{return(U=Kr||(Kr={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",Kr;var U})();function ws(U){const K=new Uint8Array(U);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function to(U){const re=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ae=atob(re),mt=new Uint8Array(Ae.length);for(let St=0;St<Ae.length;++St)mt[St]=Ae.charCodeAt(St);return mt}const Us="fcm_token_details_db",Zr="fcm_token_object_Store";function Wo(U){return er.apply(this,arguments)}function er(){return er=(0,ne.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(Us))return null;let K=null;return(yield(0,we.X3)(Us,5,function(){var Ae=(0,ne.Z)(function*(mt,St,yn,$n){var ri;if(St<2||!mt.objectStoreNames.contains(Zr))return;const Ni=$n.objectStore(Zr),Ti=yield Ni.index("fcmSenderId").get(U);if(yield Ni.clear(),Ti)if(2===St){const Oi=Ti;if(!Oi.auth||!Oi.p256dh||!Oi.endpoint)return;K={token:Oi.fcmToken,createTime:null!==(ri=Oi.createTime)&&void 0!==ri?ri:Date.now(),subscriptionOptions:{auth:Oi.auth,p256dh:Oi.p256dh,endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:"string"==typeof Oi.vapidKey?Oi.vapidKey:ws(Oi.vapidKey)}}}else if(3===St){const Oi=Ti;K={token:Oi.fcmToken,createTime:Oi.createTime,subscriptionOptions:{auth:ws(Oi.auth),p256dh:ws(Oi.p256dh),endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:ws(Oi.vapidKey)}}}else if(4===St){const Oi=Ti;K={token:Oi.fcmToken,createTime:Oi.createTime,subscriptionOptions:{auth:ws(Oi.auth),p256dh:ws(Oi.p256dh),endpoint:Oi.endpoint,swScope:Oi.swScope,vapidKey:ws(Oi.vapidKey)}}}});return function(mt,St,yn,$n){return Ae.apply(this,arguments)}}())).close(),yield(0,we.Lj)(Us),yield(0,we.Lj)("fcm_vapid_details_db"),yield(0,we.Lj)("undefined"),js(K)?K:null}),er.apply(this,arguments)}function js(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:K}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}const ls="firebase-messaging-store";let Io=null;function $s(){return Io||(Io=(0,we.X3)("firebase-messaging-database",1,(U,K)=>{0===K&&U.createObjectStore(ls)})),Io}function Ui(U){return z.apply(this,arguments)}function z(){return(z=(0,ne.Z)(function*(U){const K=Pt(U),Ae=yield(yield $s()).transaction(ls).objectStore(ls).get(K);if(Ae)return Ae;{const mt=yield Wo(U.appConfig.senderId);if(mt)return yield se(U,mt),mt}})).apply(this,arguments)}function se(U,K){return $.apply(this,arguments)}function $(){return($=(0,ne.Z)(function*(U,K){const re=Pt(U),mt=(yield $s()).transaction(ls,"readwrite");return yield mt.objectStore(ls).put(K,re),yield mt.complete,K})).apply(this,arguments)}function ue(U){return Se.apply(this,arguments)}function Se(){return(Se=(0,ne.Z)(function*(U){const K=Pt(U),Ae=(yield $s()).transaction(ls,"readwrite");yield Ae.objectStore(ls).delete(K),yield Ae.complete})).apply(this,arguments)}function Pt({appConfig:U}){return U.appId}const En=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yi(U,K){return Li.apply(this,arguments)}function Li(){return(Li=(0,ne.Z)(function*(U,K){const re=yield W(U),Ae=L(K),mt={method:"POST",headers:re,body:JSON.stringify(Ae)};let St;try{St=yield(yield fetch(ar(U.appConfig),mt)).json()}catch(yn){throw En.create("token-subscribe-failed",{errorInfo:yn})}if(St.error)throw En.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw En.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function wi(U,K){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,ne.Z)(function*(U,K){const re=yield W(U),Ae=L(K.subscriptionOptions),mt={method:"PATCH",headers:re,body:JSON.stringify(Ae)};let St;try{St=yield(yield fetch(`${ar(U.appConfig)}/${K.token}`,mt)).json()}catch(yn){throw En.create("token-update-failed",{errorInfo:yn})}if(St.error)throw En.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw En.create("token-update-no-token");return St.token})).apply(this,arguments)}function Cr(U,K){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,ne.Z)(function*(U,K){const Ae={method:"DELETE",headers:yield W(U)};try{const St=yield(yield fetch(`${ar(U.appConfig)}/${K}`,Ae)).json();if(St.error)throw En.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(mt){throw En.create("token-unsubscribe-failed",{errorInfo:mt})}})).apply(this,arguments)}function ar({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function W(U){return H.apply(this,arguments)}function H(){return(H=(0,ne.Z)(function*({appConfig:U,installations:K}){const re=yield K.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function L({p256dh:U,auth:K,endpoint:re,vapidKey:Ae}){const mt={web:{endpoint:re,auth:K,p256dh:U}};return Ae!==Wr&&(mt.web.applicationPubKey=Ae),mt}const le=6048e5;function Ot(U){return Un.apply(this,arguments)}function Un(){return(Un=(0,ne.Z)(function*(U){const K=yield Oa(U.swRegistration,U.vapidKey),re={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:K.endpoint,auth:ws(K.getKey("auth")),p256dh:ws(K.getKey("p256dh"))},Ae=yield Ui(U.firebaseDependencies);if(Ae){if(vo(Ae.subscriptionOptions,re))return Date.now()>=Ae.createTime+le?Ko(U,{token:Ae.token,createTime:Date.now(),subscriptionOptions:re}):Ae.token;try{yield Cr(U.firebaseDependencies,Ae.token)}catch(mt){console.warn(mt)}return nn(U.firebaseDependencies,re)}return nn(U.firebaseDependencies,re)})).apply(this,arguments)}function zi(U){return us.apply(this,arguments)}function us(){return(us=(0,ne.Z)(function*(U){const K=yield Ui(U.firebaseDependencies);K&&(yield Cr(U.firebaseDependencies,K.token),yield ue(U.firebaseDependencies));const re=yield U.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()})).apply(this,arguments)}function Ko(U,K){return zs.apply(this,arguments)}function zs(){return(zs=(0,ne.Z)(function*(U,K){try{const re=yield wi(U.firebaseDependencies,K),Ae=Object.assign(Object.assign({},K),{token:re,createTime:Date.now()});return yield se(U.firebaseDependencies,Ae),re}catch(re){throw yield zi(U),re}})).apply(this,arguments)}function nn(U,K){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,ne.Z)(function*(U,K){const Ae={token:yield Yi(U,K),createTime:Date.now(),subscriptionOptions:K};return yield se(U,Ae),Ae.token})).apply(this,arguments)}function Oa(U,K){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,ne.Z)(function*(U,K){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:to(K)})})).apply(this,arguments)}function vo(U,K){return K.vapidKey===U.vapidKey&&K.endpoint===U.endpoint&&K.auth===U.auth&&K.p256dh===U.p256dh}function oa(U){const K={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function lo(U,K){if(!K.notification)return;U.notification={};const re=K.notification.title;re&&(U.notification.title=re);const Ae=K.notification.body;Ae&&(U.notification.body=Ae);const mt=K.notification.image;mt&&(U.notification.image=mt)}(K,U),function _a(U,K){!K.data||(U.data=K.data)}(K,U),function Qa(U,K){if(!K.fcmOptions)return;U.fcmOptions={};const re=K.fcmOptions.link;re&&(U.fcmOptions.link=re);const Ae=K.fcmOptions.analytics_label;Ae&&(U.fcmOptions.analyticsLabel=Ae)}(K,U),K}function aa(U){return"object"==typeof U&&!!U&&eo in U}function Ba(U,K){const re=[];for(let Ae=0;Ae<U.length;Ae++)re.push(U.charAt(Ae)),Ae<K.length&&re.push(K.charAt(Ae));return re.join("")}function Ds(U){return En.create("missing-app-config-values",{valueName:U})}Ba("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ba("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ps{constructor(K,re,Ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const mt=function Zo(U){if(!U||!U.options)throw Ds("App Configuration Object");if(!U.name)throw Ds("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:re}=U;for(const Ae of K)if(!re[Ae])throw Ds(Ae);return{appName:U.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:mt,installations:re,analyticsProvider:Ae}}_delete(){return Promise.resolve()}}function Gs(U){return va.apply(this,arguments)}function va(){return(va=(0,ne.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(Ur,{scope:ao}),U.swRegistration.update().catch(()=>{})}catch(K){throw En.create("failed-service-worker-registration",{browserErrorMessage:K.message})}})).apply(this,arguments)}function ee(U,K){return C.apply(this,arguments)}function C(){return(C=(0,ne.Z)(function*(U,K){if(!K&&!U.swRegistration&&(yield Gs(U)),K||!U.swRegistration){if(!(K instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");U.swRegistration=K}})).apply(this,arguments)}function S(U,K){return j.apply(this,arguments)}function j(){return(j=(0,ne.Z)(function*(U,K){K?U.vapidKey=K:U.vapidKey||(U.vapidKey=Wr)})).apply(this,arguments)}function pe(){return(pe=(0,ne.Z)(function*(U,K){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield S(U,null==K?void 0:K.vapidKey),yield ee(U,null==K?void 0:K.serviceWorkerRegistration),Ot(U)})).apply(this,arguments)}function Fe(U,K,re){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,ne.Z)(function*(U,K,re){const Ae=bt(K);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Ae,{message_id:re[eo],message_name:re[Ps],message_time:re[_o],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bt(U){switch(U){case Kr.NOTIFICATION_CLICKED:return"notification_open";case Kr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function kn(){return(kn=(0,ne.Z)(function*(U,K){const re=K.data;if(!re.isFirebaseMessaging)return;U.onMessageHandler&&re.messageType===Kr.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(oa(re)):U.onMessageHandler.next(oa(re)));const Ae=re.data;aa(Ae)&&"1"===Ae[sa]&&(yield Fe(U,re.messageType,Ae))})).apply(this,arguments)}const Zn="@firebase/messaging",Vi=U=>{const K=new ps(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function Wt(U,K){return kn.apply(this,arguments)}(K,re)),K},zn=U=>{const K=U.getProvider("messaging").getImmediate();return{getToken:Ae=>function ie(U,K){return pe.apply(this,arguments)}(K,Ae)}};function lr(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,ne.Z)(function*(){try{yield(0,we.eu)()}catch(U){return!1}return"undefined"!=typeof window&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Di(){(0,me._registerComponent)(new ve.wA("messaging",Vi,"PUBLIC")),(0,me._registerComponent)(new ve.wA("messaging-internal",zn,"PRIVATE")),(0,me.registerVersion)(Zn,"0.9.12"),(0,me.registerVersion)(Zn,"0.9.12","esm2017")}();const no="analytics",qo="firebase_id",Lo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yo="https://www.googletagmanager.com/gtag/js",Tn=new Re.Yd("@firebase/analytics");function ei(U){return Promise.all(U.map(K=>K.catch(re=>re)))}function li(U,K){const re=document.createElement("script");re.src=`${Yo}?l=${U}&id=${K}`,re.async=!0,document.head.appendChild(re)}function sr(U,K,re,Ae,mt,St){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,ne.Z)(function*(U,K,re,Ae,mt,St){const yn=Ae[mt];try{if(yn)yield K[yn];else{const ri=(yield ei(re)).find(Ni=>Ni.measurementId===mt);ri&&(yield K[ri.appId])}}catch($n){Tn.error($n)}U("config",mt,St)})).apply(this,arguments)}function xr(U,K,re,Ae,mt){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,ne.Z)(function*(U,K,re,Ae,mt){try{let St=[];if(mt&&mt.send_to){let yn=mt.send_to;Array.isArray(yn)||(yn=[yn]);const $n=yield ei(re);for(const ri of yn){const Ni=$n.find(Oi=>Oi.measurementId===ri),Ti=Ni&&K[Ni.appId];if(!Ti){St=[];break}St.push(Ti)}}0===St.length&&(St=Object.values(K)),yield Promise.all(St),U("event",Ae,mt||{})}catch(St){Tn.error(St)}})).apply(this,arguments)}function co(){const U=window.document.getElementsByTagName("script");for(const K of Object.values(U))if(K.src&&K.src.includes(Yo))return K;return null}const Qr=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ea=new class ba{constructor(K={},re=1e3){this.throttleMetadata=K,this.intervalMillis=re}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,re){this.throttleMetadata[K]=re}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function wa(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function hl(U){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ne.Z)(function*(U){var K;const{appId:re,apiKey:Ae}=U,mt={method:"GET",headers:wa(Ae)},St=Lo.replace("{app-id}",re),yn=yield fetch(St,mt);if(200!==yn.status&&304!==yn.status){let $n="";try{const ri=yield yn.json();(null===(K=ri.error)||void 0===K?void 0:K.message)&&($n=ri.error.message)}catch(ri){}throw Qr.create("config-fetch-failed",{httpStatus:yn.status,responseMessage:$n})}return yn.json()})).apply(this,arguments)}function ju(U){return ho.apply(this,arguments)}function ho(){return(ho=(0,ne.Z)(function*(U,K=Ea,re){const{appId:Ae,apiKey:mt,measurementId:St}=U.options;if(!Ae)throw Qr.create("no-app-id");if(!mt){if(St)return{measurementId:St,appId:Ae};throw Qr.create("no-api-key")}const yn=K.getThrottleMetadata(Ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$n=new x;return setTimeout((0,ne.Z)(function*(){$n.abort()}),void 0!==re?re:6e4),fl({appId:Ae,apiKey:mt,measurementId:St},yn,$n,K)})).apply(this,arguments)}function fl(U,K,re){return la.apply(this,arguments)}function la(){return(la=(0,ne.Z)(function*(U,{throttleEndTimeMillis:K,backoffCount:re},Ae,mt=Ea){const{appId:St,measurementId:yn}=U;try{yield F(Ae,K)}catch($n){if(yn)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${$n.message}]`),{appId:St,measurementId:yn};throw $n}try{const $n=yield hl(U);return mt.deleteThrottleMetadata(St),$n}catch($n){if(!O($n)){if(mt.deleteThrottleMetadata(St),yn)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${$n.message}]`),{appId:St,measurementId:yn};throw $n}const ri=503===Number($n.customData.httpStatus)?(0,we.$s)(re,mt.intervalMillis,30):(0,we.$s)(re,mt.intervalMillis),Ni={throttleEndTimeMillis:Date.now()+ri,backoffCount:re+1};return mt.setThrottleMetadata(St,Ni),Tn.debug(`Calling attemptFetch again in ${ri} millis`),fl(U,Ni,Ae,mt)}})).apply(this,arguments)}function F(U,K){return new Promise((re,Ae)=>{const mt=Math.max(K-Date.now(),0),St=setTimeout(re,mt);U.addEventListener(()=>{clearTimeout(St),Ae(Qr.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}function O(U){if(!(U instanceof we.ZR&&U.customData))return!1;const K=Number(U.customData.httpStatus);return 429===K||500===K||503===K||504===K}class x{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}function G(){return q.apply(this,arguments)}function q(){return(q=(0,ne.Z)(function*(){if(!(0,we.hl)())return Tn.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(U){return Tn.warn(Qr.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function _e(){return(_e=(0,ne.Z)(function*(U,K,re,Ae,mt,St,yn){var $n;const ri=ju(U);ri.then(xs=>{re[xs.measurementId]=xs.appId,U.options.measurementId&&xs.measurementId!==U.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${xs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xs=>Tn.error(xs)),K.push(ri);const Ni=G().then(xs=>{if(xs)return Ae.getId()}),[Ti,Oi]=yield Promise.all([ri,Ni]);co()||li(St,Ti.measurementId),mt("js",new Date);const ro=null!==($n=null==yn?void 0:yn.config)&&void 0!==$n?$n:{};return ro.origin="firebase",ro.update=!0,null!=Oi&&(ro[qo]=Oi),mt("config",Ti.measurementId,ro),Ti.measurementId})).apply(this,arguments)}class $e{constructor(K){this.app=K}_delete(){return delete Ft[this.app.options.appId],Promise.resolve()}}let Ft={},jt=[];const xn={};let gt,Yt,Jn="dataLayer",Lr=!1;function Eo(U,K,re){!function Da(){const U=[];if((0,we.ru)()&&U.push("This is a browser extension environment."),(0,we.zI)()||U.push("Cookies are not available."),U.length>0){const K=U.map((Ae,mt)=>`(${mt+1}) ${Ae}`).join(" "),re=Qr.create("invalid-analytics-context",{errorInfo:K});Tn.warn(re.message)}}();const Ae=U.options.appId;if(!Ae)throw Qr.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw Qr.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ft[Ae])throw Qr.create("already-exists",{id:Ae});if(!Lr){!function Si(U){let K=[];Array.isArray(window[U])?K=window[U]:window[U]=K}(Jn);const{wrappedGtag:St,gtagCore:yn}=function uo(U,K,re,Ae,mt){let St=function(...yn){window[Ae].push(arguments)};return window[mt]&&"function"==typeof window[mt]&&(St=window[mt]),window[mt]=function Ir(U,K,re,Ae){function St(){return(St=(0,ne.Z)(function*(yn,$n,ri){try{"event"===yn?yield xr(U,K,re,$n,ri):"config"===yn?yield sr(U,K,re,Ae,$n,ri):U("set",$n)}catch(Ni){Tn.error(Ni)}})).apply(this,arguments)}return function mt(yn,$n,ri){return St.apply(this,arguments)}}(St,U,K,re),{gtagCore:St,wrappedGtag:window[mt]}}(Ft,jt,xn,Jn,"gtag");Yt=St,gt=yn,Lr=!0}return Ft[Ae]=function X(U,K,re,Ae,mt,St,yn){return _e.apply(this,arguments)}(U,jt,xn,K,gt,Jn,re),new $e(U)}function uu(){return(uu=(0,ne.Z)(function*(U,K,re,Ae,mt){if(mt&&mt.global)U("event",re,Ae);else{const St=yield K;U("event",re,Object.assign(Object.assign({},Ae),{send_to:St}))}})).apply(this,arguments)}function Jr(){return _i.apply(this,arguments)}function _i(){return(_i=(0,ne.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(U){return!1}})).apply(this,arguments)}const gl="@firebase/analytics";!function ml(){(0,me._registerComponent)(new ve.wA(no,(K,{options:re})=>Eo(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,me._registerComponent)(new ve.wA("analytics-internal",function U(K){try{const re=K.getProvider(no).getImmediate();return{logEvent:(Ae,mt,St)=>function yr(U,K,re,Ae){U=(0,we.m9)(U),function Fl(U,K,re,Ae,mt){return uu.apply(this,arguments)}(Yt,Ft[U.app.options.appId],K,re,Ae).catch(mt=>Tn.error(mt))}(re,Ae,mt,St)}}catch(re){throw Qr.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,me.registerVersion)(gl,"0.7.8"),(0,me.registerVersion)(gl,"0.7.8","esm2017")}();var Ao=N(4408),Rd=N(7565);const hs=new class br extends Rd.v{}(class Xr extends Ao.o{constructor(K,re){super(K,re),this.scheduler=K,this.work=re}schedule(K,re=0){return re>0?super.schedule(K,re):(this.delay=re,this.state=K,this.scheduler.flush(this),this)}execute(K,re){return re>0||this.closed?super.execute(K,re):this._execute(K,re)}requestAsyncId(K,re,Ae=0){return null!=Ae&&Ae>0||null==Ae&&this.delay>0?super.requestAsyncId(K,re,Ae):K.flush(this)}});var dc=N(4986),Bl=N(8505),Zs=N(9468),Jo=N(5363);const Ca=new y.GfV("7.3.0"),po="__angularfire_symbol__analyticsIsSupportedValue",So="__angularfire_symbol__analyticsIsSupported",ua="__angularfire_symbol__remoteConfigIsSupportedValue",Cn="__angularfire_symbol__remoteConfigIsSupported",Ul="__angularfire_symbol__messagingIsSupportedValue",du="__angularfire_symbol__messagingIsSupported";function Ja(U,K,re){if(K){if(1===K.length)return K[0];const St=K.filter(yn=>yn.app===re);if(1===St.length)return St[0]}return re.container.getProvider(U).getImmediate({optional:!0})}globalThis[So]||(globalThis[So]=Jr().then(U=>globalThis[po]=U).catch(()=>globalThis[po]=!1)),globalThis[du]||(globalThis[du]=lr().then(U=>globalThis[Ul]=U).catch(()=>globalThis[Ul]=!1)),globalThis[Cn]||(globalThis[Cn]=or().then(U=>globalThis[ua]=U).catch(()=>globalThis[ua]=!1));const Xa=(U,K)=>{const re=K?[K]:(0,R.C6)(),Ae=[];return re.forEach(mt=>{mt.container.getProvider(U).instances.forEach(yn=>{Ae.includes(yn)||Ae.push(yn)})}),Ae};function Pa(){}class ks{constructor(K,re=hs){this.zone=K,this.delegate=re}now(){return this.delegate.now()}schedule(K,re,Ae){const mt=this.zone;return this.delegate.schedule(function(yn){mt.runGuarded(()=>{K.apply(this,[yn])})},re,Ae)}}class hu{constructor(K){this.zone=K,this.task=null}call(K,re){const Ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),re.pipe((0,Bl.b)({next:Ae,complete:Ae,error:Ae})).subscribe(K).add(Ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let el=(()=>{class U{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new ks(Zone.current)),this.insideAngular=re.run(()=>new ks(Zone.current,dc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(re){return new(re||U)(y.LFG(y.R0b))},U.\u0275prov=y.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function zo(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function zu(U){return zo(),function Ta(U){return function(re){return(re=re.lift(new hu(U.ngZone))).pipe((0,Zs.R)(U.outsideAngular),(0,Jo.Q)(U.insideAngular))}}(zo())(U)}},2090:(an,tt,N)=>{N.d(tt,{$s:()=>Zi,BH:()=>at,DV:()=>qt,Dv:()=>ni,G6:()=>ge,GJ:()=>Ge,L:()=>Te,LL:()=>ft,Lj:()=>Yn,Mn:()=>Et,Pz:()=>rt,Sg:()=>it,UG:()=>st,UI:()=>ti,US:()=>Re,Wj:()=>je,X3:()=>An,Yr:()=>ot,ZB:()=>be,ZR:()=>lt,b$:()=>pt,cI:()=>nt,d:()=>Le,dS:()=>Mt,eu:()=>ze,g5:()=>me,gK:()=>_t,gQ:()=>pi,h$:()=>Ce,hl:()=>Ve,hu:()=>ne,jU:()=>Oe,lb:()=>Gt,m9:()=>sn,ne:()=>vn,p$:()=>fe,pd:()=>fi,r3:()=>ut,ru:()=>on,tV:()=>ce,uI:()=>Xe,ug:()=>Zt,vZ:()=>Ci,w1:()=>ke,w9:()=>Rt,xO:()=>qn,xb:()=>Sn,z$:()=>Lt,zI:()=>ht,zd:()=>ii});var y=N(5861);const ne=function(Ne,De){if(!Ne)throw me(De)},me=function(Ne){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ne)},we=function(Ne){const De=[];let Ke=0;for(let At=0;At<Ne.length;At++){let ct=Ne.charCodeAt(At);ct<128?De[Ke++]=ct:ct<2048?(De[Ke++]=ct>>6|192,De[Ke++]=63&ct|128):55296==(64512&ct)&&At+1<Ne.length&&56320==(64512&Ne.charCodeAt(At+1))?(ct=65536+((1023&ct)<<10)+(1023&Ne.charCodeAt(++At)),De[Ke++]=ct>>18|240,De[Ke++]=ct>>12&63|128,De[Ke++]=ct>>6&63|128,De[Ke++]=63&ct|128):(De[Ke++]=ct>>12|224,De[Ke++]=ct>>6&63|128,De[Ke++]=63&ct|128)}return De},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,De){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ke=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,At=[];for(let ct=0;ct<Ne.length;ct+=3){const pn=Ne[ct],Ye=ct+1<Ne.length,Me=Ye?Ne[ct+1]:0,ye=ct+2<Ne.length,qe=ye?Ne[ct+2]:0;let jn=(15&Me)<<2|qe>>6,xi=63&qe;ye||(xi=64,Ye||(jn=64)),At.push(Ke[pn>>2],Ke[(3&pn)<<4|Me>>4],Ke[jn],Ke[xi])}return At.join("")},encodeString(Ne,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Ne):this.encodeByteArray(we(Ne),De)},decodeString(Ne,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Ne):function(Ne){const De=[];let Ke=0,At=0;for(;Ke<Ne.length;){const ct=Ne[Ke++];if(ct<128)De[At++]=String.fromCharCode(ct);else if(ct>191&&ct<224){const pn=Ne[Ke++];De[At++]=String.fromCharCode((31&ct)<<6|63&pn)}else if(ct>239&&ct<365){const ye=((7&ct)<<18|(63&Ne[Ke++])<<12|(63&Ne[Ke++])<<6|63&Ne[Ke++])-65536;De[At++]=String.fromCharCode(55296+(ye>>10)),De[At++]=String.fromCharCode(56320+(1023&ye))}else{const pn=Ne[Ke++],Ye=Ne[Ke++];De[At++]=String.fromCharCode((15&ct)<<12|(63&pn)<<6|63&Ye)}}return De.join("")}(this.decodeStringToByteArray(Ne,De))},decodeStringToByteArray(Ne,De){this.init_();const Ke=De?this.charToByteMapWebSafe_:this.charToByteMap_,At=[];for(let ct=0;ct<Ne.length;){const pn=Ke[Ne.charAt(ct++)],Me=ct<Ne.length?Ke[Ne.charAt(ct)]:0;++ct;const qe=ct<Ne.length?Ke[Ne.charAt(ct)]:64;++ct;const mn=ct<Ne.length?Ke[Ne.charAt(ct)]:64;if(++ct,null==pn||null==Me||null==qe||null==mn)throw Error();At.push(pn<<2|Me>>4),64!==qe&&(At.push(Me<<4&240|qe>>2),64!==mn&&At.push(qe<<6&192|mn))}return At},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}},Ce=function(Ne){const De=we(Ne);return Re.encodeByteArray(De,!0)},Te=function(Ne){return Ce(Ne).replace(/\./g,"")},ce=function(Ne){try{return Re.decodeString(Ne,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function fe(Ne){return be(void 0,Ne)}function be(Ne,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return De}for(const Ke in De)!De.hasOwnProperty(Ke)||!vt(Ke)||(Ne[Ke]=be(Ne[Ke],De[Ke]));return Ne}function vt(Ne){return"__proto__"!==Ne}class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,Ke)=>{this.resolve=De,this.reject=Ke})}wrapCallback(De){return(Ke,At)=>{Ke?this.reject(Ke):this.resolve(At),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(Ke):De(Ke,At))}}}function it(Ne,De){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const At=De||"demo-project",ct=Ne.iat||0,pn=Ne.sub||Ne.user_id;if(!pn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${At}`,aud:At,iat:ct,exp:ct+3600,auth_time:ct,sub:pn,user_id:pn,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Ye)),""].join(".")}function Lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function st(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ne){return!1}}function Oe(){return"object"==typeof self&&self.self===self}function on(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return Lt().indexOf("Electron/")>=0}function ke(){const Ne=Lt();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function Et(){return Lt().indexOf("MSAppHost/")>=0}function ot(){return!1}function ge(){return!st()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){return"object"==typeof indexedDB}function ze(){return new Promise((Ne,De)=>{try{let Ke=!0;const At="validate-browser-context-for-indexeddb-analytics-module",ct=self.indexedDB.open(At);ct.onsuccess=()=>{ct.result.close(),Ke||self.indexedDB.deleteDatabase(At),Ne(!0)},ct.onupgradeneeded=()=>{Ke=!1},ct.onerror=()=>{var pn;De((null===(pn=ct.error)||void 0===pn?void 0:pn.message)||"")}}catch(Ke){De(Ke)}})}function ht(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class lt extends Error{constructor(De,Ke,At){super(Ke),this.code=De,this.customData=At,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(De,Ke,At){this.service=De,this.serviceName=Ke,this.errors=At}create(De,...Ke){const At=Ke[0]||{},ct=`${this.service}/${De}`,pn=this.errors[De],Ye=pn?function dn(Ne,De){return Ne.replace(Pe,(Ke,At)=>{const ct=De[At];return null!=ct?String(ct):`<${At}?>`})}(pn,At):"Error";return new lt(ct,`${this.serviceName}: ${Ye} (${ct}).`,At)}}const Pe=/\{\$([^}]+)}/g;function nt(Ne){return JSON.parse(Ne)}function rt(Ne){return JSON.stringify(Ne)}const Ht=function(Ne){let De={},Ke={},At={},ct="";try{const pn=Ne.split(".");De=nt(ce(pn[0])||""),Ke=nt(ce(pn[1])||""),ct=pn[2],At=Ke.d||{},delete Ke.d}catch(pn){}return{header:De,claims:Ke,data:At,signature:ct}},Rt=function(Ne){const Ke=Ht(Ne).claims;return!!Ke&&"object"==typeof Ke&&Ke.hasOwnProperty("iat")},Ge=function(Ne){const De=Ht(Ne).claims;return"object"==typeof De&&!0===De.admin};function ut(Ne,De){return Object.prototype.hasOwnProperty.call(Ne,De)}function qt(Ne,De){if(Object.prototype.hasOwnProperty.call(Ne,De))return Ne[De]}function Sn(Ne){for(const De in Ne)if(Object.prototype.hasOwnProperty.call(Ne,De))return!1;return!0}function ti(Ne,De,Ke){const At={};for(const ct in Ne)Object.prototype.hasOwnProperty.call(Ne,ct)&&(At[ct]=De.call(Ke,Ne[ct],ct,Ne));return At}function Ci(Ne,De){if(Ne===De)return!0;const Ke=Object.keys(Ne),At=Object.keys(De);for(const ct of Ke){if(!At.includes(ct))return!1;const pn=Ne[ct],Ye=De[ct];if(si(pn)&&si(Ye)){if(!Ci(pn,Ye))return!1}else if(pn!==Ye)return!1}for(const ct of At)if(!Ke.includes(ct))return!1;return!0}function si(Ne){return null!==Ne&&"object"==typeof Ne}function qn(Ne){const De=[];for(const[Ke,At]of Object.entries(Ne))Array.isArray(At)?At.forEach(ct=>{De.push(encodeURIComponent(Ke)+"="+encodeURIComponent(ct))}):De.push(encodeURIComponent(Ke)+"="+encodeURIComponent(At));return De.length?"&"+De.join("&"):""}function ii(Ne){const De={};return Ne.replace(/^\?/,"").split("&").forEach(At=>{if(At){const[ct,pn]=At.split("=");De[decodeURIComponent(ct)]=decodeURIComponent(pn)}}),De}function fi(Ne){const De=Ne.indexOf("?");if(!De)return"";const Ke=Ne.indexOf("#",De);return Ne.substring(De,Ke>0?Ke:void 0)}class pi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let De=1;De<this.blockSize;++De)this.pad_[De]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(De,Ke){Ke||(Ke=0);const At=this.W_;if("string"==typeof De)for(let mn=0;mn<16;mn++)At[mn]=De.charCodeAt(Ke)<<24|De.charCodeAt(Ke+1)<<16|De.charCodeAt(Ke+2)<<8|De.charCodeAt(Ke+3),Ke+=4;else for(let mn=0;mn<16;mn++)At[mn]=De[Ke]<<24|De[Ke+1]<<16|De[Ke+2]<<8|De[Ke+3],Ke+=4;for(let mn=16;mn<80;mn++){const jn=At[mn-3]^At[mn-8]^At[mn-14]^At[mn-16];At[mn]=4294967295&(jn<<1|jn>>>31)}let qe,kt,ct=this.chain_[0],pn=this.chain_[1],Ye=this.chain_[2],Me=this.chain_[3],ye=this.chain_[4];for(let mn=0;mn<80;mn++){mn<40?mn<20?(qe=Me^pn&(Ye^Me),kt=1518500249):(qe=pn^Ye^Me,kt=1859775393):mn<60?(qe=pn&Ye|Me&(pn|Ye),kt=2400959708):(qe=pn^Ye^Me,kt=3395469782);const jn=(ct<<5|ct>>>27)+qe+ye+kt+At[mn]&4294967295;ye=Me,Me=Ye,Ye=4294967295&(pn<<30|pn>>>2),pn=ct,ct=jn}this.chain_[0]=this.chain_[0]+ct&4294967295,this.chain_[1]=this.chain_[1]+pn&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+Me&4294967295,this.chain_[4]=this.chain_[4]+ye&4294967295}update(De,Ke){if(null==De)return;void 0===Ke&&(Ke=De.length);const At=Ke-this.blockSize;let ct=0;const pn=this.buf_;let Ye=this.inbuf_;for(;ct<Ke;){if(0===Ye)for(;ct<=At;)this.compress_(De,ct),ct+=this.blockSize;if("string"==typeof De){for(;ct<Ke;)if(pn[Ye]=De.charCodeAt(ct),++Ye,++ct,Ye===this.blockSize){this.compress_(pn),Ye=0;break}}else for(;ct<Ke;)if(pn[Ye]=De[ct],++Ye,++ct,Ye===this.blockSize){this.compress_(pn),Ye=0;break}}this.inbuf_=Ye,this.total_+=Ke}digest(){const De=[];let Ke=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ct=this.blockSize-1;ct>=56;ct--)this.buf_[ct]=255&Ke,Ke/=256;this.compress_(this.buf_);let At=0;for(let ct=0;ct<5;ct++)for(let pn=24;pn>=0;pn-=8)De[At]=this.chain_[ct]>>pn&255,++At;return De}}function vn(Ne,De){const Ke=new Fn(Ne,De);return Ke.subscribe.bind(Ke)}class Fn{constructor(De,Ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ke,this.task.then(()=>{De(this)}).catch(At=>{this.error(At)})}next(De){this.forEachObserver(Ke=>{Ke.next(De)})}error(De){this.forEachObserver(Ke=>{Ke.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,Ke,At){let ct;if(void 0===De&&void 0===Ke&&void 0===At)throw new Error("Missing Observer.");ct=function wn(Ne,De){if("object"!=typeof Ne||null===Ne)return!1;for(const Ke of De)if(Ke in Ne&&"function"==typeof Ne[Ke])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:Ke,complete:At},void 0===ct.next&&(ct.next=Xt),void 0===ct.error&&(ct.error=Xt),void 0===ct.complete&&(ct.complete=Xt);const pn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ct.error(this.finalError):ct.complete()}catch(Ye){}}),this.observers.push(ct),pn}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let Ke=0;Ke<this.observers.length;Ke++)this.sendOne(Ke,De)}sendOne(De,Ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{Ke(this.observers[De])}catch(At){"undefined"!=typeof console&&console.error&&console.error(At)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}const ni=function(Ne,De,Ke,At){let ct;if(At<De?ct="at least "+De:At>Ke&&(ct=0===Ke?"none":"no more than "+Ke),ct)throw new Error(Ne+" failed: Was called with "+At+(1===At?" argument.":" arguments.")+" Expects "+ct+".")};function _t(Ne,De){return`${Ne} failed: ${De} argument `}function je(Ne,De,Ke,At){if((!At||Ke)&&"function"!=typeof Ke)throw new Error(_t(Ne,De)+"must be a valid function.")}function Gt(Ne,De,Ke,At){if((!At||Ke)&&("object"!=typeof Ke||null===Ke))throw new Error(_t(Ne,De)+"must be a valid context object.")}const Mt=function(Ne){const De=[];let Ke=0;for(let At=0;At<Ne.length;At++){let ct=Ne.charCodeAt(At);if(ct>=55296&&ct<=56319){const pn=ct-55296;At++,ne(At<Ne.length,"Surrogate pair missing trail surrogate."),ct=65536+(pn<<10)+(Ne.charCodeAt(At)-56320)}ct<128?De[Ke++]=ct:ct<2048?(De[Ke++]=ct>>6|192,De[Ke++]=63&ct|128):ct<65536?(De[Ke++]=ct>>12|224,De[Ke++]=ct>>6&63|128,De[Ke++]=63&ct|128):(De[Ke++]=ct>>18|240,De[Ke++]=ct>>12&63|128,De[Ke++]=ct>>6&63|128,De[Ke++]=63&ct|128)}return De},Zt=function(Ne){let De=0;for(let Ke=0;Ke<Ne.length;Ke++){const At=Ne.charCodeAt(Ke);At<128?De++:At<2048?De+=2:At>=55296&&At<=56319?(De+=4,Ke++):De+=3}return De};function Zi(Ne,De=1e3,Ke=2){const At=De*Math.pow(Ke,Ne),ct=Math.round(.5*At*(Math.random()-.5)*2);return Math.min(144e5,At+ct)}function sn(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}function mi(Ne,De){return new Promise((Ke,At)=>{Ne.onsuccess=ct=>{Ke(ct.target.result)},Ne.onerror=ct=>{var pn;At(`${De}: ${null===(pn=ct.target.error)||void 0===pn?void 0:pn.message}`)}})}class Bn{constructor(De){this._db=De,this.objectStoreNames=this._db.objectStoreNames}transaction(De,Ke="readonly"){return new bn(this._db.transaction.call(this._db,De,Ke))}createObjectStore(De,Ke){return new Vt(this._db.createObjectStore(De,Ke))}close(){this._db.close()}}class bn{constructor(De){this._transaction=De,this.complete=new Promise((Ke,At)=>{this._transaction.oncomplete=function(){Ke()},this._transaction.onerror=()=>{At(this._transaction.error)},this._transaction.onabort=()=>{At(this._transaction.error)}})}objectStore(De){return new Vt(this._transaction.objectStore(De))}}class Vt{constructor(De){this._store=De}index(De){return new In(this._store.index(De))}createIndex(De,Ke,At){return new In(this._store.createIndex(De,Ke,At))}get(De){return mi(this._store.get(De),"Error reading from IndexedDB")}put(De,Ke){return mi(this._store.put(De,Ke),"Error writing to IndexedDB")}delete(De){return mi(this._store.delete(De),"Error deleting from IndexedDB")}clear(){return mi(this._store.clear(),"Error clearing IndexedDB object store")}}class In{constructor(De){this._index=De}get(De){return mi(this._index.get(De),"Error reading from IndexedDB")}}function An(Ne,De,Ke){return new Promise((At,ct)=>{try{const pn=indexedDB.open(Ne,De);pn.onsuccess=Ye=>{At(new Bn(Ye.target.result))},pn.onerror=Ye=>{var Me;ct(`Error opening indexedDB: ${null===(Me=Ye.target.error)||void 0===Me?void 0:Me.message}`)},pn.onupgradeneeded=Ye=>{Ke(new Bn(pn.result),Ye.oldVersion,Ye.newVersion,new bn(pn.transaction))}}catch(pn){ct(`Error opening indexedDB: ${pn.message}`)}})}function Yn(Ne){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,y.Z)(function*(Ne){return new Promise((De,Ke)=>{try{const At=indexedDB.deleteDatabase(Ne);At.onsuccess=()=>{De()},At.onerror=ct=>{var pn;Ke(`Error deleting indexedDB database "${Ne}": ${null===(pn=ct.target.error)||void 0===pn?void 0:pn.message}`)}}catch(At){Ke(`Error deleting indexedDB database "${Ne}": ${At.message}`)}})})).apply(this,arguments)}},7556:(an,tt,N)=>{N.d(tt,{e:()=>Re});var y=N(5861),R=N(5e3),ne=N(3385),me=N(1402),we=N(7898),ve=N(72);let Re=(()=>{class Ce{constructor(ce,fe,be,vt){this.a=ce,this.router=fe,this.us=be,this.spinner=vt,this.boolean=!1,this.verifico=!1,this.estalogeado=!1,this.administrador=!1,this.especialista=!1,this.paciente=!1,this.quienes="Cl\xednica M\xe9dica"}login(ce,fe){return new Promise((be,vt)=>{this.a.signInWithEmailAndPassword(ce,fe).then(at=>{var it;this.data=null===(it=at.user)||void 0===it?void 0:it.email,be(at)}).catch(at=>vt(at))})}deslogear(){this.a.signOut().then(ce=>{this.estalogeado=!1,this.quienes="Cl\xednica M\xe9dica",this.router.navigate([""])}).catch(ce=>{alert("No se pudo deslogear")})}enviarCorreo(){var ce=this;return(0,y.Z)(function*(){var fe;return null===(fe=yield ce.a.currentUser)||void 0===fe?void 0:fe.sendEmailVerification()})()}VerificarCorreo(){var ce=this;return(0,y.Z)(function*(){var fe;return null===(fe=yield ce.a.currentUser)||void 0===fe?void 0:fe.emailVerified})()}verificarlogeo(){return new Promise((ce,fe)=>{this.a.onAuthStateChanged(be=>{this.spinner.hide(),ce(be)})})}crearUsuario(ce,fe){return new Promise((be,vt)=>{this.a.createUserWithEmailAndPassword(ce,fe).then(at=>{console.log("asd"),be(at)}).catch(at=>vt(at))})}chegeneral(ce){return new Promise((fe,be)=>{this.us.getAll().get().subscribe(vt=>{vt.forEach(at=>{at.data().email==ce&&("especialista"==at.data().perfil?(this.quienes="Especialista",this.especialista=!0,this.paciente=!1,this.administrador=!1):"paciente"==at.data().perfil?(this.quienes="Paciente",this.paciente=!0,this.especialista=!1,this.administrador=!1):(this.quienes="Administrador",this.paciente=!1,this.especialista=!1,this.administrador=!0),fe(!0))})})})}}return Ce.\u0275fac=function(ce){return new(ce||Ce)(R.LFG(ne.zQ),R.LFG(me.F0),R.LFG(we.m),R.LFG(ve.t2))},Ce.\u0275prov=R.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},7898:(an,tt,N)=>{N.d(tt,{m:()=>ne});var y=N(5e3),R=N(7407);let ne=(()=>{class me{constructor(ve){this.db=ve,this.dbPath="/registrarUsuario",this.MensajesRef=ve.collection(this.dbPath)}getAll(){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef}create(ve){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.add(Object.assign({},ve))}update(ve,Re){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(ve).update(Re)}delete(ve){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(ve).delete()}}return me.\u0275fac=function(ve){return new(ve||me)(y.LFG(R.ST))},me.\u0275prov=y.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},8968:(an,tt,N)=>{var y=N(2313),R=N(5e3),ne=N(9808),me=N(6360),we=N(72),ve=N(1402),Re=N(2290);let Ce=(()=>{class Tt{constructor(Xt,ni){this.ToastrSvc=Xt,this.spinner=ni,this.spinner.show()}ngOnInit(){}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.Y36(Re._W),R.Y36(we.t2))},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["app-bienvenida"]],decls:34,vars:0,consts:[["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active",2,"background-image","url('https://source.unsplash.com/LAaSoL0LrYs/1920x1080')"],[1,"carousel-caption"],[1,"carousel-item",2,"background-image","url('https://source.unsplash.com/bF2vsubyHcQ/1920x1080')"],[1,"carousel-item",2,"background-image","url('https://source.unsplash.com/szFUQoyvrxM/1920x1080')"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"bg-dark"]],template:function(Xt,ni){1&Xt&&(R.TgZ(0,"header")(1,"div",0)(2,"div",1),R._UZ(3,"button",2)(4,"button",3)(5,"button",4),R.qZA(),R.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5"),R._uU(10,"First slide label"),R.qZA(),R.TgZ(11,"p"),R._uU(12,"Some representative placeholder content for the first slide."),R.qZA()()(),R.TgZ(13,"div",8)(14,"div",7)(15,"h5"),R._uU(16,"Second slide label"),R.qZA(),R.TgZ(17,"p"),R._uU(18,"Some representative placeholder content for the second slide."),R.qZA()()(),R.TgZ(19,"div",9)(20,"div",7)(21,"h5"),R._uU(22,"Third slide label"),R.qZA(),R.TgZ(23,"p"),R._uU(24,"Some representative placeholder content for the third slide."),R.qZA()()()(),R.TgZ(25,"button",10),R._UZ(26,"span",11),R.TgZ(27,"span",12),R._uU(28,"Previous"),R.qZA()(),R.TgZ(29,"button",13),R._UZ(30,"span",14),R.TgZ(31,"span",12),R._uU(32,"Next"),R.qZA()()()(),R._UZ(33,"section",15))},styles:[".carousel-item[_ngcontent-%COMP%]{height:75vh;min-height:350px;background:no-repeat center center scroll;background-size:cover}header[_ngcontent-%COMP%]{max-height:75vh}section[_ngcontent-%COMP%]{min-height:115px}"]}),Tt})();var Te=N(7556);let ce=(()=>{class Tt{constructor(Xt,ni){this.auth=Xt,this.router=ni}canActivate(Xt,ni){return this.auth.verifico=!0,!0}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.LFG(Te.e),R.LFG(ve.F0))},Tt.\u0275prov=R.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})();var fe=N(7898);let be=(()=>{class Tt{constructor(Xt,ni,_t,Be){this.auth=Xt,this.router=ni,this.ToastrSvc=_t,this.us=Be}canActivate(Xt,ni){return this.auth.verificarlogeo().then(_t=>null!=_t?(this.auth.correologeado=_t.email,this.auth.chegeneral(_t.email).then(Be=>(this.auth.estalogeado=!0,this.auth.verifico=!0,!0))):(this.auth.verifico=!0,this.router.navigateByUrl("/ingreso/login"),!1))}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.LFG(Te.e),R.LFG(ve.F0),R.LFG(Re._W),R.LFG(fe.m))},Tt.\u0275prov=R.Yz7({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),Tt})();var vt=N(1777),at=N(1062);const it=function(){return["/miperfil"]},Lt=function(){return["/turnos"]},Xe=function(){return["/misturnos"]};function st(Tt,wn){1&Tt&&(R.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"div",3)(4,"button",4),R._uU(5),R.ALo(6,"translate"),R.qZA()(),R.TgZ(7,"div",3)(8,"button",4),R._uU(9),R.ALo(10,"translate"),R.qZA()(),R.TgZ(11,"div",3)(12,"button",4),R._uU(13),R.ALo(14,"translate"),R.qZA()()()()()),2&Tt&&(R.xp6(1),R.Q6J("@slideInFromRight",void 0),R.xp6(3),R.Q6J("routerLink",R.DdM(13,it)),R.xp6(1),R.Oqu(R.lcZ(6,7,"home.MyProfile")),R.xp6(3),R.Q6J("routerLink",R.DdM(14,Lt)),R.xp6(1),R.Oqu(R.lcZ(10,9,"home.RequestAppointment")),R.xp6(3),R.Q6J("routerLink",R.DdM(15,Xe)),R.xp6(1),R.Oqu(R.lcZ(14,11,"home.MyAppointments")))}const Oe=function(){return["/pacientes"]};function on(Tt,wn){1&Tt&&(R.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"div",3)(4,"button",4),R._uU(5),R.ALo(6,"translate"),R.qZA()(),R.TgZ(7,"div",3)(8,"button",4),R._uU(9),R.ALo(10,"translate"),R.qZA()(),R.TgZ(11,"div",3)(12,"button",4),R._uU(13),R.ALo(14,"translate"),R.qZA()()()()()),2&Tt&&(R.xp6(1),R.Q6J("@slideInFromRight",void 0),R.xp6(3),R.Q6J("routerLink",R.DdM(13,it)),R.xp6(1),R.Oqu(R.lcZ(6,7,"home.MyProfile")),R.xp6(3),R.Q6J("routerLink",R.DdM(14,Xe)),R.xp6(1),R.Oqu(R.lcZ(10,9,"home.RequestAppointment")),R.xp6(3),R.Q6J("routerLink",R.DdM(15,Oe)),R.xp6(1),R.Oqu(R.lcZ(14,11,"home.Patients")))}const pt=function(){return["/ingreso/registrar"]},Le=function(){return["/altas/altaAdministrador"]},ke=function(){return["/habilitarCuenta"]},Et=function(){return["/logs"]},ot=function(){return["/listarUsuarios"]};function ge(Tt,wn){1&Tt&&(R.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"div",3)(4,"button",4),R._uU(5),R.ALo(6,"translate"),R.ALo(7,"translate"),R.qZA()(),R.TgZ(8,"div",3)(9,"button",4),R._uU(10),R.ALo(11,"translate"),R.qZA()(),R.TgZ(12,"div",3)(13,"button",5),R._uU(14),R.ALo(15,"translate"),R.ALo(16,"translate"),R.qZA()(),R.TgZ(17,"div",3)(18,"button",6),R._uU(19),R.ALo(20,"translate"),R.qZA()(),R.TgZ(21,"div",3)(22,"button",4),R._uU(23),R.ALo(24,"translate"),R.qZA()(),R.TgZ(25,"div",3)(26,"button",4),R._uU(27),R.ALo(28,"translate"),R.qZA()(),R.TgZ(29,"div",3)(30,"button",4),R._uU(31),R.ALo(32,"translate"),R.qZA()(),R.TgZ(33,"div",3)(34,"button",4),R._uU(35),R.ALo(36,"translate"),R.qZA()()()()()),2&Tt&&(R.xp6(1),R.Q6J("@slideInFromRight",void 0),R.xp6(3),R.Q6J("routerLink",R.DdM(38,pt)),R.xp6(1),R.AsE("",R.lcZ(6,18,"home.NewPatient"),"/",R.lcZ(7,20,"home.NewSpecialist"),""),R.xp6(4),R.Q6J("routerLink",R.DdM(39,Le)),R.xp6(1),R.Oqu(R.lcZ(11,22,"home.NewAdministrator")),R.xp6(3),R.Q6J("routerLink",R.DdM(40,ke)),R.xp6(1),R.AsE("",R.lcZ(15,24,"home.Enable/Disable")," ",R.lcZ(16,26,"home.Accounts"),""),R.xp6(5),R.Oqu(R.lcZ(20,28,"home.RequestAppointment")),R.xp6(3),R.Q6J("routerLink",R.DdM(41,Et)),R.xp6(1),R.Oqu(R.lcZ(24,30,"home.Logs")),R.xp6(3),R.Q6J("routerLink",R.DdM(42,it)),R.xp6(1),R.Oqu(R.lcZ(28,32,"home.MyProfile")),R.xp6(3),R.Q6J("routerLink",R.DdM(43,ot)),R.xp6(1),R.Oqu(R.lcZ(32,34,"home.Users")),R.xp6(3),R.Q6J("routerLink",R.DdM(44,Xe)),R.xp6(1),R.Oqu(R.lcZ(36,36,"home.Appointments")))}let Ve=(()=>{class Tt{constructor(Xt,ni,_t){this.us=Xt,this.auth=ni,this.router=_t}ngOnInit(){}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.Y36(fe.m),R.Y36(Te.e),R.Y36(ve.F0))},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["app-home"]],decls:3,vars:3,consts:[["class","general d-flex justify-content-center align-items-center",4,"ngIf"],[1,"general","d-flex","justify-content-center","align-items-center"],[1,"tama\xf1o","d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","mt-2"],[1,"btn","btn-primary",3,"routerLink"],["routerLinkActive","router-link-active",1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-primary"]],template:function(Xt,ni){1&Xt&&(R.YNc(0,st,15,16,"div",0),R.YNc(1,on,15,16,"div",0),R.YNc(2,ge,37,45,"div",0)),2&Xt&&(R.Q6J("ngIf",ni.auth.paciente),R.xp6(1),R.Q6J("ngIf",ni.auth.especialista),R.xp6(1),R.Q6J("ngIf",ni.auth.administrador))},directives:[ne.O5,ve.rH,ve.Od],pipes:[at.X$],styles:[".tama\\f1o[_ngcontent-%COMP%]{min-height:300px;min-width:400px;background-color:#faebd7;border-radius:20px}.general[_ngcontent-%COMP%]{min-height:100vh;background-image:url(clinica.20e2a967a59c9bc2.jpg);background-repeat:no-repeat;background-size:cover;background-position:center}button[_ngcontent-%COMP%]{min-width:320px;border-radius:10px;font-size:20px}#cuadrado[_ngcontent-%COMP%]{display:inline-block;min-width:100%;min-height:200px;background:#aaa;animation-name:mianimacion;animation-duration:3s;position:relative;animation-direction:reverse;animation-timing-function:linear}"],data:{animation:[(0,vt.X$)("slideInFromRight",[(0,vt.eR)(":enter",[(0,vt.oB)({transform:"translateX(100%)"}),(0,vt.jt)("500ms",(0,vt.oB)({transform:"translateX(0)"}))])])]}}),Tt})();var ze=N(4274);const yt=[{path:"",redirectTo:"/ingreso/login",pathMatch:"full"},{path:"ingreso",loadChildren:()=>Promise.all([N.e(226),N.e(592),N.e(345)]).then(N.bind(N,6345)).then(Tt=>Tt.IngresoModule)},{path:"turnos",loadChildren:()=>Promise.all([N.e(508),N.e(494),N.e(245),N.e(115),N.e(75),N.e(772),N.e(877),N.e(592),N.e(741)]).then(N.bind(N,741)).then(Tt=>Tt.GenerarTurnosModule),canActivate:[be]},{path:"altas",loadChildren:()=>Promise.all([N.e(508),N.e(245),N.e(226),N.e(592),N.e(871)]).then(N.bind(N,4871)).then(Tt=>Tt.AltasModule),canActivate:[ce]},{path:"aprobarCuenta",loadChildren:()=>Promise.all([N.e(592),N.e(107)]).then(N.bind(N,9107)).then(Tt=>Tt.AprobarCuentasModule),canActivate:[be]},{path:"miperfil",loadChildren:()=>Promise.all([N.e(508),N.e(494),N.e(245),N.e(75),N.e(204),N.e(583),N.e(531),N.e(592),N.e(652)]).then(N.bind(N,3652)).then(Tt=>Tt.MiperfilModule),canActivate:[be]},{path:"habilitarCuenta",loadChildren:()=>Promise.all([N.e(508),N.e(494),N.e(115),N.e(75),N.e(204),N.e(772),N.e(87),N.e(152)]).then(N.bind(N,9152)).then(Tt=>Tt.HabilitarCuentasModule),canActivate:[be]},{path:"listarUsuarios",loadChildren:()=>Promise.all([N.e(508),N.e(494),N.e(245),N.e(115),N.e(75),N.e(204),N.e(772),N.e(583),N.e(226),N.e(87),N.e(771),N.e(900)]).then(N.bind(N,5900)).then(Tt=>Tt.UsuariosModule),canActivate:[be]},{path:"misturnos",loadChildren:()=>Promise.all([N.e(508),N.e(494),N.e(245),N.e(115),N.e(75),N.e(204),N.e(772),N.e(226),N.e(87),N.e(531),N.e(877),N.e(592),N.e(322)]).then(N.bind(N,3322)).then(Tt=>Tt.MisturnosModule),canActivate:[be]},{path:"pacientes",loadChildren:()=>Promise.all([N.e(508),N.e(494),N.e(245),N.e(115),N.e(75),N.e(204),N.e(772),N.e(583),N.e(87),N.e(531),N.e(771),N.e(43)]).then(N.bind(N,1043)).then(Tt=>Tt.PacientesModule),canActivate:[be]},{path:"logs",loadChildren:()=>Promise.all([N.e(508),N.e(494),N.e(245),N.e(115),N.e(204),N.e(583),N.e(531),N.e(592),N.e(327)]).then(N.bind(N,7327)).then(Tt=>Tt.LogsModule),canActivate:[be]},{path:"bienvenida",component:Ce},{path:"pepe",component:(()=>{class Tt{constructor(){this.arre=[],this.arre.push("ROJO"),this.arre.push("AZUL"),this.arre.push("VIOLETA"),this.arre.push("BORDO")}ngOnInit(){}ngAfterViewInit(){this.ctx=document.getElementById("myChart"),this.ctx.width="200",this.ctx.height="200",new ze.Z(this.ctx,{type:"pie",data:{labels:this.arre,datasets:[{label:"My First Dataset",data:[300,50,100,400],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(100, 203, 86)","rgb(255, 203, 86)","rgb(255, 100, 35)","rgb(0, 0, 35)","rgb(100, 100, 100,100)","rgb(200, 200, 200)"],hoverOffset:4}]},options:{scales:{y:{beginAtZero:!0}}}})}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["app-pepe"]],decls:2,vars:0,consts:[[1,"d"],["id","myChart",2,"width","100%","max-width","700px","height","100%","max-height","400px"]],template:function(Xt,ni){1&Xt&&(R.TgZ(0,"div",0),R._UZ(1,"canvas",1),R.qZA())},styles:["#c[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.tamanio[_ngcontent-%COMP%]{height:600px;width:600px}.d[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}"]}),Tt})()},{path:"home",component:Ve,canActivate:[be]}];let It=(()=>{class Tt{}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)},Tt.\u0275mod=R.oAB({type:Tt}),Tt.\u0275inj=R.cJS({imports:[[ve.Bz.forRoot(yt)],ve.Bz]}),Tt})();const lt=(0,vt.X$)("slideInAnimation",[(0,vt.eR)("* <=> *",[(0,vt.IO)(":enter, :leave",(0,vt.oB)({position:"fixed",width:"100%",zIndex:2}),{optional:!0}),(0,vt.ru)([(0,vt.IO)(":enter",[(0,vt.oB)({transform:"translateX(100%)"}),(0,vt.jt)("0.5s ease-out",(0,vt.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,vt.IO)(":leave",[(0,vt.oB)({transform:"translateX(0%)"}),(0,vt.jt)("0.5s ease-out",(0,vt.oB)({transform:"translateX(-100%)"}))],{optional:!0})])])]);let ft=(()=>{class Tt{constructor(Xt){this.el=Xt,this.el.nativeElement.style.color="orange"}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.Y36(R.SBq))},Tt.\u0275dir=R.lG2({type:Tt,selectors:[["","appCambiarColor",""]]}),Tt})(),dn=(()=>{class Tt{constructor(Xt){this.translate=Xt,this.language={es:"Espa\xf1ol",pt:"Portugu\xeas",en:"English"},this.selectedLanguage="Espa\xf1ol",this.flag="https://flagcdn.com/w320/mx.png"}ngOnInit(){}selectLanguage(Xt,ni){null!=this.language[Xt]&&(this.translate.use(Xt),this.flag=ni,this.selectedLanguage=this.language[Xt])}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.Y36(at.sK))},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["app-switchlang"]],decls:14,vars:2,consts:[[1,"dropdown","navbar-brand"],["type","button","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["width","20","height","20",3,"src"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["src","https://flagcdn.com/w320/mx.png","width","20","height","20"],["src","https://flagcdn.com/w320/us.png","width","20","height","20"],["src","https://flagcdn.com/w320/pt.png","width","20","height","20"]],template:function(Xt,ni){1&Xt&&(R.TgZ(0,"div",0)(1,"button",1),R._UZ(2,"img",2),R._uU(3),R.qZA(),R.TgZ(4,"div",3)(5,"a",4),R.NdJ("click",function(){return ni.selectLanguage("es","https://flagcdn.com/w320/mx.png")}),R._UZ(6,"img",5),R._uU(7," Es "),R.qZA(),R.TgZ(8,"a",4),R.NdJ("click",function(){return ni.selectLanguage("en","https://flagcdn.com/w320/us.png")}),R._UZ(9,"img",6),R._uU(10," En "),R.qZA(),R.TgZ(11,"a",4),R.NdJ("click",function(){return ni.selectLanguage("pt","https://flagcdn.com/w320/pt.png")}),R._UZ(12,"img",7),R._uU(13," Pt "),R.qZA()()()),2&Xt&&(R.xp6(2),R.Q6J("src",ni.flag,R.LSH),R.xp6(1),R.hij(" ",ni.selectedLanguage," "))},styles:[".dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}button.dropbtn[_ngcontent-%COMP%]:hover, .dropdown-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#ccc}button[_ngcontent-%COMP%]{background-color:#212529;color:#fff;border:0;border-radius:0}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:1000;min-width:7.5rem;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none}"]}),Tt})();const Pe=function(){return["/ingreso/login"]};function nt(Tt,wn){1&Tt&&(R.TgZ(0,"a",12),R._uU(1),R.ALo(2,"translate"),R.qZA()),2&Tt&&(R.Q6J("routerLink",R.DdM(4,Pe)),R.xp6(1),R.hij("",R.lcZ(2,2,"navBar.Login")," "))}const rt=function(){return["/ingreso/registrar"]};function Ht(Tt,wn){1&Tt&&(R.TgZ(0,"a",12),R._uU(1),R.ALo(2,"translate"),R.qZA()),2&Tt&&(R.Q6J("routerLink",R.DdM(4,rt)),R.xp6(1),R.Oqu(R.lcZ(2,2,"navBar.Register")))}function un(Tt,wn){1&Tt&&(R.TgZ(0,"a",13),R._uU(1),R.ALo(2,"translate"),R.qZA()),2&Tt&&(R.xp6(1),R.Oqu(R.lcZ(2,1,"navBar.appointments")))}function Ut(Tt,wn){1&Tt&&(R.TgZ(0,"a",13),R._uU(1),R.ALo(2,"translate"),R.qZA()),2&Tt&&(R.xp6(1),R.Oqu(R.lcZ(2,1,"navBar.schedule")))}function Rt(Tt,wn){if(1&Tt){const Xt=R.EpF();R.TgZ(0,"a",14),R.NdJ("click",function(){return R.CHM(Xt),R.oxw(2).cerrar()}),R._uU(1),R.ALo(2,"translate"),R.qZA()}2&Tt&&(R.xp6(1),R.Oqu(R.lcZ(2,1,"navBar.Logout")))}const Ge=function(){return["/home"]};function ut(Tt,wn){if(1&Tt&&(R.TgZ(0,"nav",1)(1,"div",2)(2,"a",3),R._uU(3),R.qZA(),R.TgZ(4,"button",4),R._UZ(5,"span",5),R.qZA(),R.TgZ(6,"div",6),R._UZ(7,"span",7),R.TgZ(8,"div",8),R.YNc(9,nt,3,5,"a",9),R.YNc(10,Ht,3,5,"a",9),R.YNc(11,un,3,3,"a",10),R.YNc(12,Ut,3,3,"a",10),R.YNc(13,Rt,3,3,"a",11),R._UZ(14,"app-switchlang"),R.qZA()()()()),2&Tt){const Xt=R.oxw();R.xp6(2),R.Q6J("routerLink",R.DdM(7,Ge)),R.xp6(1),R.Oqu(Xt.auth.quienes),R.xp6(6),R.Q6J("ngIf",0==Xt.auth.estalogeado),R.xp6(1),R.Q6J("ngIf",0==Xt.auth.estalogeado),R.xp6(1),R.Q6J("ngIf",1==Xt.auth.estalogeado&&(Xt.auth.especialista||Xt.auth.paciente)),R.xp6(1),R.Q6J("ngIf",1==Xt.auth.estalogeado&&Xt.auth.administrador),R.xp6(1),R.Q6J("ngIf",1==Xt.auth.estalogeado)}}let qt=(()=>{class Tt{constructor(Xt,ni,_t,Be){this.auth=Xt,this.router=ni,this.sv=_t,this.spinner=Be,this.color="red",this.evento=new R.vpe,this.spinner.show(),this.auth.verificarlogeo().then(je=>{null!=je&&(this.auth.estalogeado=!0,this.sv.getAll().get().subscribe(Gt=>Gt.forEach(Mt=>{Mt.data().email==je.email&&(this.auth.quienes="administrador"==Mt.data().perfil?"Administrador":"paciente"==Mt.data().perfil?"Paciente":"Especialista")})))})}ngOnInit(){}cerrar(){this.auth.estalogeado=!1,this.auth.deslogear()}efe(Xt){this.auth.quienes=Xt,alert("entro")}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.Y36(Te.e),R.Y36(ve.F0),R.Y36(fe.m),R.Y36(we.t2))},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["app-navbar"]],outputs:{evento:"evento"},decls:1,vars:1,consts:[["class","navbar navbar-expand-lg navbar-light bg-dark",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-dark"],[1,"container-fluid"],["NegritaDirective","","appCambiarColor","","id","pepe",1,"navbar-brand",3,"routerLink"],["id","blanquito","type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"avbar-nav","me-auto","mb-2","mb-lg-0"],["id","navbarText",1,"navbar-nav"],["class","navbar-brand esa","id","pepe",3,"routerLink",4,"ngIf"],["class","navbar-brand esa","id","pepe",4,"ngIf"],["class","navbar-brand esa","id","pepe",3,"click",4,"ngIf"],["id","pepe",1,"navbar-brand","esa",3,"routerLink"],["id","pepe",1,"navbar-brand","esa"],["id","pepe",1,"navbar-brand","esa",3,"click"]],template:function(Xt,ni){1&Xt&&R.YNc(0,ut,15,8,"nav",0),2&Xt&&R.Q6J("ngIf",ni.auth.verifico)},directives:[ne.O5,ve.yS,ft,dn],pipes:[at.X$],styles:["#pepe[_ngcontent-%COMP%]{color:#fff}nav[_ngcontent-%COMP%]{margin-bottom:0%;margin-top:0%;padding-top:0%;padding-bottom:0%;min-height:44px}#navbarText[_ngcontent-%COMP%]{min-height:100%}#blanquito[_ngcontent-%COMP%]{background-color:#fff}a[_ngcontent-%COMP%]{margin:0% 5px 0% 0%;padding:0%;height:100%;font-size:22px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}a[_ngcontent-%COMP%]:hover{background-color:gray}.esa[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;min-width:90px;min-height:48px;text-align:center;margin-bottom:0}.ancho[_ngcontent-%COMP%]{width:100%}@media (max-width: 991.98px){.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1)}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 15px;font-size:16px}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav.ml-auto[_ngcontent-%COMP%]{margin-left:auto!important}}"]}),Tt})(),Sn=(()=>{class Tt{constructor(Xt,ni,_t){this.ToastrSvc=Xt,this.spinner=ni,this.translate=_t,this.title="tpfinal",this.translate.addLangs(["es","en","pt"]),_t.getBrowserLang().match(/es|en|pt/)&&this.translate.setDefaultLang("es")}llego(Xt){this.spinner.hide()}prepareRoute(Xt){return Xt&&Xt.activatedRouteData&&Xt.activatedRouteData.animation}}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)(R.Y36(Re._W),R.Y36(we.t2),R.Y36(at.sK))},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["app-root"]],decls:6,vars:0,consts:[[3,"evento"],["bdColor","rgba(0,0,0)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"]],template:function(Xt,ni){1&Xt&&(R.TgZ(0,"app-navbar",0),R.NdJ("evento",function(Be){return ni.llego(Be)}),R.qZA(),R.TgZ(1,"div"),R._UZ(2,"router-outlet"),R.qZA(),R.TgZ(3,"ngx-spinner",1)(4,"p",2),R._uU(5,"Loading..."),R.qZA()())},directives:[qt,ve.lC,we.Ro],styles:[""],data:{animation:[lt]}}),Tt})();var ti=N(2011),Ci=N(3385),si=N(7407);const qn_firebaseConfig={apiKey:"AIzaSyBhC3MHRAZC3j1MYvW1aPz4wwOcxGeGuRY",authDomain:"tpfinal-c50ae.firebaseapp.com",projectId:"tpfinal-c50ae",storageBucket:"tpfinal-c50ae.appspot.com",messagingSenderId:"950218147480",appId:"1:950218147480:web:05200a4214e0da3285f2ed"};var ii=N(3075);class fi{constructor(wn,Xt="/assets/i18n/",ni=".json"){this.http=wn,this.prefix=Xt,this.suffix=ni}getTranslation(wn){return this.http.get(`${this.prefix}${wn}${this.suffix}`)}}var pi=N(520);let vn=(()=>{class Tt{}return Tt.\u0275fac=function(Xt){return new(Xt||Tt)},Tt.\u0275mod=R.oAB({type:Tt,bootstrap:[Sn]}),Tt.\u0275inj=R.cJS({providers:[be],imports:[[y.b2,me.PW,we.ef,Re.Rh.forRoot(),ne.ez,ii.UX,It,ii.u5,ti.hO.initializeApp(qn_firebaseConfig),Ci.ww,si.yb,pi.JF,at.aw.forRoot({loader:{provide:at.Zw,useFactory:wn=>new fi(wn,"./assets/i18n/",".json"),deps:[pi.eN]}})]]}),Tt})();(0,R.G48)(),y.q6().bootstrapModule(vn).catch(Tt=>console.error(Tt))},4274:(an,tt,N)=>{N.d(tt,{Z:()=>R});var y=N(4393);y.kL.register(...y.zX);const R=y.kL},4393:(an,tt,N)=>{N.d(tt,{kL:()=>gc,zX:()=>Mo});const R="undefined"==typeof window?function(u){return u()}:window.requestAnimationFrame;function ne(u,l,a){const c=a||(_=>Array.prototype.slice.call(_));let f=!1,g=[];return function(..._){g=c(_),f||(f=!0,R.call(window,()=>{f=!1,u.apply(l,g)}))}}const we=u=>"start"===u?"left":"end"===u?"right":"center",ve=(u,l,a)=>"start"===u?l:"end"===u?a:(l+a)/2;function Ce(){}const Te=function(){let u=0;return function(){return u++}}();function ce(u){return null==u}function fe(u){if(Array.isArray&&Array.isArray(u))return!0;const l=Object.prototype.toString.call(u);return"[object"===l.slice(0,7)&&"Array]"===l.slice(-6)}function be(u){return null!==u&&"[object Object]"===Object.prototype.toString.call(u)}const vt=u=>("number"==typeof u||u instanceof Number)&&isFinite(+u);function at(u,l){return vt(u)?u:l}function it(u,l){return void 0===u?l:u}const Xe=(u,l)=>"string"==typeof u&&u.endsWith("%")?parseFloat(u)/100*l:+u;function st(u,l,a){if(u&&"function"==typeof u.call)return u.apply(a,l)}function Oe(u,l,a,c){let f,g,_;if(fe(u))if(g=u.length,c)for(f=g-1;f>=0;f--)l.call(a,u[f],f);else for(f=0;f<g;f++)l.call(a,u[f],f);else if(be(u))for(_=Object.keys(u),g=_.length,f=0;f<g;f++)l.call(a,u[_[f]],_[f])}function on(u,l){let a,c,f,g;if(!u||!l||u.length!==l.length)return!1;for(a=0,c=u.length;a<c;++a)if(f=u[a],g=l[a],f.datasetIndex!==g.datasetIndex||f.index!==g.index)return!1;return!0}function pt(u){if(fe(u))return u.map(pt);if(be(u)){const l=Object.create(null),a=Object.keys(u),c=a.length;let f=0;for(;f<c;++f)l[a[f]]=pt(u[a[f]]);return l}return u}function Le(u){return-1===["__proto__","prototype","constructor"].indexOf(u)}function ke(u,l,a,c){if(!Le(u))return;const f=l[u],g=a[u];be(f)&&be(g)?Et(f,g,c):l[u]=pt(g)}function Et(u,l,a){const c=fe(l)?l:[l],f=c.length;if(!be(u))return u;const g=(a=a||{}).merger||ke;for(let _=0;_<f;++_){if(!be(l=c[_]))continue;const w=Object.keys(l);for(let A=0,k=w.length;A<k;++A)g(w[A],u,l,a)}return u}function ot(u,l){return Et(u,l,{merger:ge})}function ge(u,l,a){if(!Le(u))return;const c=l[u],f=a[u];be(c)&&be(f)?ot(c,f):Object.prototype.hasOwnProperty.call(l,u)||(l[u]=pt(f))}function yt(u,l){const a=u.indexOf(".",l);return-1===a?u.length:a}function It(u,l){if(""===l)return u;let a=0,c=yt(l,a);for(;u&&c>a;)u=u[l.slice(a,c)],a=c+1,c=yt(l,a);return u}function lt(u){return u.charAt(0).toUpperCase()+u.slice(1)}const ft=u=>void 0!==u,dn=u=>"function"==typeof u,Pe=(u,l)=>{if(u.size!==l.size)return!1;for(const a of u)if(!l.has(a))return!1;return!0},rt=Math.PI,Ht=2*rt,un=Ht+rt,Ut=Number.POSITIVE_INFINITY,Rt=rt/180,Ge=rt/2,ut=rt/4,qt=2*rt/3,Sn=Math.log10,ti=Math.sign;function Ci(u){const l=Math.round(u);u=ii(u,l,u/1e3)?l:u;const a=Math.pow(10,Math.floor(Sn(u))),c=u/a;return(c<=1?1:c<=2?2:c<=5?5:10)*a}function qn(u){return!isNaN(parseFloat(u))&&isFinite(u)}function ii(u,l,a){return Math.abs(u-l)<a}function pi(u,l,a){let c,f,g;for(c=0,f=u.length;c<f;c++)g=u[c][a],isNaN(g)||(l.min=Math.min(l.min,g),l.max=Math.max(l.max,g))}function vn(u){return u*(rt/180)}function Fn(u){return u*(180/rt)}function Tt(u){if(!vt(u))return;let l=1,a=0;for(;Math.round(u*l)/l!==u;)l*=10,a++;return a}function wn(u,l){const a=l.x-u.x,c=l.y-u.y,f=Math.sqrt(a*a+c*c);let g=Math.atan2(c,a);return g<-.5*rt&&(g+=Ht),{angle:g,distance:f}}function Xt(u,l){return Math.sqrt(Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2))}function ni(u,l){return(u-l+un)%Ht-rt}function _t(u){return(u%Ht+Ht)%Ht}function Be(u,l,a,c){const f=_t(u),g=_t(l),_=_t(a),w=_t(g-f),A=_t(_-f),k=_t(f-g),Z=_t(f-_);return f===g||f===_||c&&g===_||w>A&&k<Z}function je(u,l,a){return Math.max(l,Math.min(a,u))}function Mt(u,l,a,c=1e-6){return u>=Math.min(l,a)-c&&u<=Math.max(l,a)+c}const Zt=u=>0===u||1===u,_n=(u,l,a)=>-Math.pow(2,10*(u-=1))*Math.sin((u-l)*Ht/a),Ei=(u,l,a)=>Math.pow(2,-10*u)*Math.sin((u-l)*Ht/a)+1,Pn={linear:u=>u,easeInQuad:u=>u*u,easeOutQuad:u=>-u*(u-2),easeInOutQuad:u=>(u/=.5)<1?.5*u*u:-.5*(--u*(u-2)-1),easeInCubic:u=>u*u*u,easeOutCubic:u=>(u-=1)*u*u+1,easeInOutCubic:u=>(u/=.5)<1?.5*u*u*u:.5*((u-=2)*u*u+2),easeInQuart:u=>u*u*u*u,easeOutQuart:u=>-((u-=1)*u*u*u-1),easeInOutQuart:u=>(u/=.5)<1?.5*u*u*u*u:-.5*((u-=2)*u*u*u-2),easeInQuint:u=>u*u*u*u*u,easeOutQuint:u=>(u-=1)*u*u*u*u+1,easeInOutQuint:u=>(u/=.5)<1?.5*u*u*u*u*u:.5*((u-=2)*u*u*u*u+2),easeInSine:u=>1-Math.cos(u*Ge),easeOutSine:u=>Math.sin(u*Ge),easeInOutSine:u=>-.5*(Math.cos(rt*u)-1),easeInExpo:u=>0===u?0:Math.pow(2,10*(u-1)),easeOutExpo:u=>1===u?1:1-Math.pow(2,-10*u),easeInOutExpo:u=>Zt(u)?u:u<.5?.5*Math.pow(2,10*(2*u-1)):.5*(2-Math.pow(2,-10*(2*u-1))),easeInCirc:u=>u>=1?u:-(Math.sqrt(1-u*u)-1),easeOutCirc:u=>Math.sqrt(1-(u-=1)*u),easeInOutCirc:u=>(u/=.5)<1?-.5*(Math.sqrt(1-u*u)-1):.5*(Math.sqrt(1-(u-=2)*u)+1),easeInElastic:u=>Zt(u)?u:_n(u,.075,.3),easeOutElastic:u=>Zt(u)?u:Ei(u,.075,.3),easeInOutElastic:u=>Zt(u)?u:u<.5?.5*_n(2*u,.1125,.45):.5+.5*Ei(2*u-1,.1125,.45),easeInBack:u=>u*u*(2.70158*u-1.70158),easeOutBack:u=>(u-=1)*u*(2.70158*u+1.70158)+1,easeInOutBack(u){let l=1.70158;return(u/=.5)<1?u*u*((1+(l*=1.525))*u-l)*.5:.5*((u-=2)*u*((1+(l*=1.525))*u+l)+2)},easeInBounce:u=>1-Pn.easeOutBounce(1-u),easeOutBounce:u=>u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375,easeInOutBounce:u=>u<.5?.5*Pn.easeInBounce(2*u):.5*Pn.easeOutBounce(2*u-1)+.5};function Nn(u){return u+.5|0}const Zi=(u,l,a)=>Math.max(Math.min(u,a),l);function Bi(u){return Zi(Nn(2.55*u),0,255)}function gi(u){return Zi(Nn(255*u),0,255)}function sn(u){return Zi(Nn(u/2.55)/100,0,1)}function mi(u){return Zi(Nn(100*u),0,100)}const Bn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bn=[..."0123456789ABCDEF"],Vt=u=>bn[15&u],In=u=>bn[(240&u)>>4]+bn[15&u],An=u=>(240&u)>>4==(15&u);const Ke=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function At(u,l,a){const c=l*Math.min(a,1-a),f=(g,_=(g+u/30)%12)=>a-c*Math.max(Math.min(_-3,9-_,1),-1);return[f(0),f(8),f(4)]}function ct(u,l,a){const c=(f,g=(f+u/60)%6)=>a-a*l*Math.max(Math.min(g,4-g,1),0);return[c(5),c(3),c(1)]}function pn(u,l,a){const c=At(u,1,.5);let f;for(l+a>1&&(f=1/(l+a),l*=f,a*=f),f=0;f<3;f++)c[f]*=1-l-a,c[f]+=l;return c}function Me(u){const a=u.r/255,c=u.g/255,f=u.b/255,g=Math.max(a,c,f),_=Math.min(a,c,f),w=(g+_)/2;let A,k,Z;return g!==_&&(Z=g-_,k=w>.5?Z/(2-g-_):Z/(g+_),A=function Ye(u,l,a,c,f){return u===f?(l-a)/c+(l<a?6:0):l===f?(a-u)/c+2:(u-l)/c+4}(a,c,f,Z,g),A=60*A+.5),[0|A,k||0,w]}function ye(u,l,a,c){return(Array.isArray(l)?u(l[0],l[1],l[2]):u(l,a,c)).map(gi)}function qe(u,l,a){return ye(At,u,l,a)}function jn(u){return(u%360+360)%360}const rr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Er;const Jt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,wr=u=>u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055,vr=u=>u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4);function Fr(u,l,a){if(u){let c=Me(u);c[l]=Math.max(0,Math.min(c[l]+c[l]*a,0===l?360:1)),c=qe(c),u.r=c[0],u.g=c[1],u.b=c[2]}}function Mi(u,l){return u&&Object.assign(l||{},u)}function Hi(u){var l={r:0,g:0,b:0,a:255};return Array.isArray(u)?u.length>=3&&(l={r:u[0],g:u[1],b:u[2],a:255},u.length>3&&(l.a=gi(u[3]))):(l=Mi(u,{r:0,g:0,b:0,a:1})).a=gi(l.a),l}function ts(u){return"r"===u.charAt(0)?function yi(u){const l=Jt.exec(u);let c,f,g,a=255;if(l){if(l[7]!==c){const _=+l[7];a=l[8]?Bi(_):Zi(255*_,0,255)}return c=+l[1],f=+l[3],g=+l[5],c=255&(l[2]?Bi(c):Zi(c,0,255)),f=255&(l[4]?Bi(f):Zi(f,0,255)),g=255&(l[6]?Bi(g):Zi(g,0,255)),{r:c,g:f,b:g,a}}}(u):function xi(u){const l=Ke.exec(u);let c,a=255;if(!l)return;l[5]!==c&&(a=l[6]?Bi(+l[5]):gi(+l[5]));const f=jn(+l[2]),g=+l[3]/100,_=+l[4]/100;return c="hwb"===l[1]?function kt(u,l,a){return ye(pn,u,l,a)}(f,g,_):"hsv"===l[1]?function mn(u,l,a){return ye(ct,u,l,a)}(f,g,_):qe(f,g,_),{r:c[0],g:c[1],b:c[2],a}}(u)}class oi{constructor(l){if(l instanceof oi)return l;const a=typeof l;let c;"object"===a?c=Hi(l):"string"===a&&(c=function Dn(u){var a,l=u.length;return"#"===u[0]&&(4===l||5===l?a={r:255&17*Bn[u[1]],g:255&17*Bn[u[2]],b:255&17*Bn[u[3]],a:5===l?17*Bn[u[4]]:255}:(7===l||9===l)&&(a={r:Bn[u[1]]<<4|Bn[u[2]],g:Bn[u[3]]<<4|Bn[u[4]],b:Bn[u[5]]<<4|Bn[u[6]],a:9===l?Bn[u[7]]<<4|Bn[u[8]]:255})),a}(l)||function Wi(u){Er||(Er=function hr(){const u={},l=Object.keys(Nr),a=Object.keys(rr);let c,f,g,_,w;for(c=0;c<l.length;c++){for(_=w=l[c],f=0;f<a.length;f++)g=a[f],w=w.replace(g,rr[g]);g=parseInt(Nr[_],16),u[w]=[g>>16&255,g>>8&255,255&g]}return u}(),Er.transparent=[0,0,0,0]);const l=Er[u.toLowerCase()];return l&&{r:l[0],g:l[1],b:l[2],a:4===l.length?l[3]:255}}(l)||ts(l)),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var l=Mi(this._rgb);return l&&(l.a=sn(l.a)),l}set rgb(l){this._rgb=Hi(l)}rgbString(){return this._valid?function Gi(u){return u&&(u.a<255?`rgba(${u.r}, ${u.g}, ${u.b}, ${sn(u.a)})`:`rgb(${u.r}, ${u.g}, ${u.b})`)}(this._rgb):void 0}hexString(){return this._valid?function De(u){var l=(u=>An(u.r)&&An(u.g)&&An(u.b)&&An(u.a))(u)?Vt:In;return u?"#"+l(u.r)+l(u.g)+l(u.b)+((u,l)=>u<255?l(u):"")(u.a,l):void 0}(this._rgb):void 0}hslString(){return this._valid?function _s(u){if(!u)return;const l=Me(u),a=l[0],c=mi(l[1]),f=mi(l[2]);return u.a<255?`hsla(${a}, ${c}%, ${f}%, ${sn(u.a)})`:`hsl(${a}, ${c}%, ${f}%)`}(this._rgb):void 0}mix(l,a){if(l){const c=this.rgb,f=l.rgb;let g;const _=a===g?.5:a,w=2*_-1,A=c.a-f.a,k=((w*A==-1?w:(w+A)/(1+w*A))+1)/2;g=1-k,c.r=255&k*c.r+g*f.r+.5,c.g=255&k*c.g+g*f.g+.5,c.b=255&k*c.b+g*f.b+.5,c.a=_*c.a+(1-_)*f.a,this.rgb=c}return this}interpolate(l,a){return l&&(this._rgb=function fr(u,l,a){const c=vr(sn(u.r)),f=vr(sn(u.g)),g=vr(sn(u.b));return{r:gi(wr(c+a*(vr(sn(l.r))-c))),g:gi(wr(f+a*(vr(sn(l.g))-f))),b:gi(wr(g+a*(vr(sn(l.b))-g))),a:u.a+a*(l.a-u.a)}}(this._rgb,l._rgb,a)),this}clone(){return new oi(this.rgb)}alpha(l){return this._rgb.a=gi(l),this}clearer(l){return this._rgb.a*=1-l,this}greyscale(){const l=this._rgb,a=Nn(.3*l.r+.59*l.g+.11*l.b);return l.r=l.g=l.b=a,this}opaquer(l){return this._rgb.a*=1+l,this}negate(){const l=this._rgb;return l.r=255-l.r,l.g=255-l.g,l.b=255-l.b,this}lighten(l){return Fr(this._rgb,2,l),this}darken(l){return Fr(this._rgb,2,-l),this}saturate(l){return Fr(this._rgb,1,l),this}desaturate(l){return Fr(this._rgb,1,-l),this}rotate(l){return function ir(u,l){var a=Me(u);a[0]=jn(a[0]+l),a=qe(a),u.r=a[0],u.g=a[1],u.b=a[2]}(this._rgb,l),this}}function ns(u){return new oi(u)}function is(u){if(u&&"object"==typeof u){const l=u.toString();return"[object CanvasPattern]"===l||"[object CanvasGradient]"===l}return!1}function Fs(u){return is(u)?u:ns(u)}function Ar(u){return is(u)?u:ns(u).saturate(.5).darken(.1).hexString()}const Ki=Object.create(null),Gr=Object.create(null);function Vr(u,l){if(!l)return u;const a=l.split(".");for(let c=0,f=a.length;c<f;++c){const g=a[c];u=u[g]||(u[g]=Object.create(null))}return u}function rs(u,l,a){return"string"==typeof l?Et(Vr(u,l),a):Et(Vr(u,""),l)}var di=new class $i{constructor(l){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,c)=>Ar(c.backgroundColor),this.hoverBorderColor=(a,c)=>Ar(c.borderColor),this.hoverColor=(a,c)=>Ar(c.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(l)}set(l,a){return rs(this,l,a)}get(l){return Vr(this,l)}describe(l,a){return rs(Gr,l,a)}override(l,a){return rs(Ki,l,a)}route(l,a,c,f){const g=Vr(this,l),_=Vr(this,c),w="_"+a;Object.defineProperties(g,{[w]:{value:g[a],writable:!0},[a]:{enumerable:!0,get(){const A=this[w],k=_[f];return be(A)?Object.assign({},k,A):it(A,k)},set(A){this[w]=A}}})}}({_scriptable:u=>!u.startsWith("on"),_indexable:u=>"events"!==u,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ji(u,l,a,c,f){let g=l[f];return g||(g=l[f]=u.measureText(f).width,a.push(f)),g>c&&(c=g),c}function Br(u,l,a,c){let f=(c=c||{}).data=c.data||{},g=c.garbageCollect=c.garbageCollect||[];c.font!==l&&(f=c.data={},g=c.garbageCollect=[],c.font=l),u.save(),u.font=l;let _=0;const w=a.length;let A,k,Z,te,he;for(A=0;A<w;A++)if(te=a[A],null!=te&&!0!==fe(te))_=Ji(u,f,g,_,te);else if(fe(te))for(k=0,Z=te.length;k<Z;k++)he=te[k],null!=he&&!fe(he)&&(_=Ji(u,f,g,_,he));u.restore();const xe=g.length/2;if(xe>a.length){for(A=0;A<xe;A++)delete f[g[A]];g.splice(0,xe)}return _}function vs(u,l,a){const c=u.currentDevicePixelRatio,f=0!==a?Math.max(a/2,.5):0;return Math.round((l-f)*c)/c+f}function ds(u,l){(l=l||u.getContext("2d")).save(),l.resetTransform(),l.clearRect(0,0,u.width,u.height),l.restore()}function ss(u,l,a,c){let f,g,_,w,A;const k=l.pointStyle,Z=l.rotation,te=l.radius;let he=(Z||0)*Rt;if(k&&"object"==typeof k&&(f=k.toString(),"[object HTMLImageElement]"===f||"[object HTMLCanvasElement]"===f))return u.save(),u.translate(a,c),u.rotate(he),u.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),void u.restore();if(!(isNaN(te)||te<=0)){switch(u.beginPath(),k){default:u.arc(a,c,te,0,Ht),u.closePath();break;case"triangle":u.moveTo(a+Math.sin(he)*te,c-Math.cos(he)*te),he+=qt,u.lineTo(a+Math.sin(he)*te,c-Math.cos(he)*te),he+=qt,u.lineTo(a+Math.sin(he)*te,c-Math.cos(he)*te),u.closePath();break;case"rectRounded":A=.516*te,w=te-A,g=Math.cos(he+ut)*w,_=Math.sin(he+ut)*w,u.arc(a-g,c-_,A,he-rt,he-Ge),u.arc(a+_,c-g,A,he-Ge,he),u.arc(a+g,c+_,A,he,he+Ge),u.arc(a-_,c+g,A,he+Ge,he+rt),u.closePath();break;case"rect":if(!Z){w=Math.SQRT1_2*te,u.rect(a-w,c-w,2*w,2*w);break}he+=ut;case"rectRot":g=Math.cos(he)*te,_=Math.sin(he)*te,u.moveTo(a-g,c-_),u.lineTo(a+_,c-g),u.lineTo(a+g,c+_),u.lineTo(a-_,c+g),u.closePath();break;case"crossRot":he+=ut;case"cross":g=Math.cos(he)*te,_=Math.sin(he)*te,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_),u.moveTo(a+_,c-g),u.lineTo(a-_,c+g);break;case"star":g=Math.cos(he)*te,_=Math.sin(he)*te,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_),u.moveTo(a+_,c-g),u.lineTo(a-_,c+g),he+=ut,g=Math.cos(he)*te,_=Math.sin(he)*te,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_),u.moveTo(a+_,c-g),u.lineTo(a-_,c+g);break;case"line":g=Math.cos(he)*te,_=Math.sin(he)*te,u.moveTo(a-g,c-_),u.lineTo(a+g,c+_);break;case"dash":u.moveTo(a,c),u.lineTo(a+Math.cos(he)*te,c+Math.sin(he)*te)}u.fill(),l.borderWidth>0&&u.stroke()}}function Dr(u,l,a){return a=a||.5,!l||u&&u.x>l.left-a&&u.x<l.right+a&&u.y>l.top-a&&u.y<l.bottom+a}function Vs(u,l){u.save(),u.beginPath(),u.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),u.clip()}function bs(u){u.restore()}function ko(u,l,a,c,f){if(!l)return u.lineTo(a.x,a.y);if("middle"===f){const g=(l.x+a.x)/2;u.lineTo(g,l.y),u.lineTo(g,a.y)}else"after"===f!=!!c?u.lineTo(l.x,a.y):u.lineTo(a.x,l.y);u.lineTo(a.x,a.y)}function pr(u,l,a,c){if(!l)return u.lineTo(a.x,a.y);u.bezierCurveTo(c?l.cp1x:l.cp2x,c?l.cp1y:l.cp2y,c?a.cp2x:a.cp1x,c?a.cp2y:a.cp1y,a.x,a.y)}function Os(u,l,a,c,f,g={}){const _=fe(l)?l:[l],w=g.strokeWidth>0&&""!==g.strokeColor;let A,k;for(u.save(),u.font=f.string,function oo(u,l){l.translation&&u.translate(l.translation[0],l.translation[1]),ce(l.rotation)||u.rotate(l.rotation),l.color&&(u.fillStyle=l.color),l.textAlign&&(u.textAlign=l.textAlign),l.textBaseline&&(u.textBaseline=l.textBaseline)}(u,g),A=0;A<_.length;++A)k=_[A],w&&(g.strokeColor&&(u.strokeStyle=g.strokeColor),ce(g.strokeWidth)||(u.lineWidth=g.strokeWidth),u.strokeText(k,a,c,g.maxWidth)),u.fillText(k,a,c,g.maxWidth),et(u,a,c,k,g),c+=f.lineHeight;u.restore()}function et(u,l,a,c,f){if(f.strikethrough||f.underline){const g=u.measureText(c),_=l-g.actualBoundingBoxLeft,w=l+g.actualBoundingBoxRight,A=a-g.actualBoundingBoxAscent,k=a+g.actualBoundingBoxDescent,Z=f.strikethrough?(A+k)/2:k;u.strokeStyle=u.fillStyle,u.beginPath(),u.lineWidth=f.decorationWidth||2,u.moveTo(_,Z),u.lineTo(w,Z),u.stroke()}}function He(u,l){const{x:a,y:c,w:f,h:g,radius:_}=l;u.arc(a+_.topLeft,c+_.topLeft,_.topLeft,-Ge,rt,!0),u.lineTo(a,c+g-_.bottomLeft),u.arc(a+_.bottomLeft,c+g-_.bottomLeft,_.bottomLeft,rt,Ge,!0),u.lineTo(a+f-_.bottomRight,c+g),u.arc(a+f-_.bottomRight,c+g-_.bottomRight,_.bottomRight,Ge,0,!0),u.lineTo(a+f,c+_.topRight),u.arc(a+f-_.topRight,c+_.topRight,_.topRight,0,-Ge,!0),u.lineTo(a+_.topLeft,c)}const Dt=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Kt=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function fn(u,l){const a=(""+u).match(Dt);if(!a||"normal"===a[1])return 1.2*l;switch(u=+a[2],a[3]){case"px":return u;case"%":u/=100}return l*u}const Kn=u=>+u||0;function ki(u,l){const a={},c=be(l),f=c?Object.keys(l):l,g=be(u)?c?_=>it(u[_],u[l[_]]):_=>u[_]:()=>u;for(const _ of f)a[_]=Kn(g(_));return a}function kr(u){return ki(u,{top:"y",right:"x",bottom:"y",left:"x"})}function Ai(u){return ki(u,["topLeft","topRight","bottomLeft","bottomRight"])}function Xi(u){const l=kr(u);return l.width=l.left+l.right,l.height=l.top+l.bottom,l}function qi(u,l){let a=it((u=u||{}).size,(l=l||di.font).size);"string"==typeof a&&(a=parseInt(a,10));let c=it(u.style,l.style);c&&!(""+c).match(Kt)&&(console.warn('Invalid font style specified: "'+c+'"'),c="");const f={family:it(u.family,l.family),lineHeight:fn(it(u.lineHeight,l.lineHeight),a),size:a,style:c,weight:it(u.weight,l.weight),string:""};return f.string=function No(u){return!u||ce(u.size)||ce(u.family)?null:(u.style?u.style+" ":"")+(u.weight?u.weight+" ":"")+u.size+"px "+u.family}(f),f}function Es(u,l,a,c){let g,_,w,f=!0;for(g=0,_=u.length;g<_;++g)if(w=u[g],void 0!==w&&(void 0!==l&&"function"==typeof w&&(w=w(l),f=!1),void 0!==a&&fe(w)&&(w=w[a%w.length],f=!1),void 0!==w))return c&&!f&&(c.cacheable=!1),w}function or(u,l){return Object.assign(Object.create(u),l)}function To(u,l,a){a=a||(_=>u[_]<l);let g,c=u.length-1,f=0;for(;c-f>1;)g=f+c>>1,a(g)?f=g:c=g;return{lo:f,hi:c}}const Ur=(u,l,a)=>To(u,a,c=>u[c][l]<a),ao=(u,l,a)=>To(u,a,c=>u[c][l]>=a),Bs=["push","pop","shift","splice","unshift"];function Ps(u,l){const a=u._chartjs;if(!a)return;const c=a.listeners,f=c.indexOf(l);-1!==f&&c.splice(f,1),!(c.length>0)&&(Bs.forEach(g=>{delete u[g]}),delete u._chartjs)}function _o(u){const l=new Set;let a,c;for(a=0,c=u.length;a<c;++a)l.add(u[a]);return l.size===c?u:Array.from(l)}function sa(u,l=[""],a=u,c,f=(()=>u[0])){ft(c)||(c=Ui("_fallback",u));const g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:u,_rootScopes:a,_fallback:c,_getTarget:f,override:_=>sa([_,...u],l,a,c)};return new Proxy(g,{deleteProperty:(_,w)=>(delete _[w],delete _._keys,delete u[0][w],!0),get:(_,w)=>Us(_,w,()=>function $s(u,l,a,c){let f;for(const g of l)if(f=Ui(ws(g,u),a),ft(f))return to(u,f)?as(a,c,u,f):f}(w,l,u,_)),getOwnPropertyDescriptor:(_,w)=>Reflect.getOwnPropertyDescriptor(_._scopes[0],w),getPrototypeOf:()=>Reflect.getPrototypeOf(u[0]),has:(_,w)=>z(_).includes(w),ownKeys:_=>z(_),set(_,w,A){const k=_._storage||(_._storage=f());return _[w]=k[w]=A,delete _._keys,!0}})}function os(u,l,a,c){const f={_cacheable:!1,_proxy:u,_context:l,_subProxy:a,_stack:new Set,_descriptors:Kr(u,c),setContext:g=>os(u,g,a,c),override:g=>os(u.override(g),l,a,c)};return new Proxy(f,{deleteProperty:(g,_)=>(delete g[_],delete u[_],!0),get:(g,_,w)=>Us(g,_,()=>function gr(u,l,a){const{_proxy:c,_context:f,_subProxy:g,_descriptors:_}=u;let w=c[l];return dn(w)&&_.isScriptable(l)&&(w=function Zr(u,l,a,c){const{_proxy:f,_context:g,_subProxy:_,_stack:w}=a;if(w.has(u))throw new Error("Recursion detected: "+Array.from(w).join("->")+"->"+u);return w.add(u),l=l(g,_||c),w.delete(u),to(u,l)&&(l=as(f._scopes,f,u,l)),l}(l,w,u,a)),fe(w)&&w.length&&(w=function Wo(u,l,a,c){const{_proxy:f,_context:g,_subProxy:_,_descriptors:w}=a;if(ft(g.index)&&c(u))l=l[g.index%l.length];else if(be(l[0])){const A=l,k=f._scopes.filter(Z=>Z!==A);l=[];for(const Z of A){const te=as(k,f,u,Z);l.push(os(te,g,_&&_[u],w))}}return l}(l,w,u,_.isIndexable)),to(l,w)&&(w=os(w,f,g&&g[l],_)),w}(g,_,w)),getOwnPropertyDescriptor:(g,_)=>g._descriptors.allKeys?Reflect.has(u,_)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(u,_),getPrototypeOf:()=>Reflect.getPrototypeOf(u),has:(g,_)=>Reflect.has(u,_),ownKeys:()=>Reflect.ownKeys(u),set:(g,_,w)=>(u[_]=w,delete g[_],!0)})}function Kr(u,l={scriptable:!0,indexable:!0}){const{_scriptable:a=l.scriptable,_indexable:c=l.indexable,_allKeys:f=l.allKeys}=u;return{allKeys:f,scriptable:a,indexable:c,isScriptable:dn(a)?a:()=>a,isIndexable:dn(c)?c:()=>c}}const ws=(u,l)=>u?u+lt(l):l,to=(u,l)=>be(l)&&"adapters"!==u&&(null===Object.getPrototypeOf(l)||l.constructor===Object);function Us(u,l,a){if(Object.prototype.hasOwnProperty.call(u,l))return u[l];const c=a();return u[l]=c,c}function er(u,l,a){return dn(u)?u(l,a):u}const js=(u,l)=>!0===u?l:"string"==typeof u?It(l,u):void 0;function Hs(u,l,a,c,f){for(const g of l){const _=js(a,g);if(_){u.add(_);const w=er(_._fallback,a,f);if(ft(w)&&w!==a&&w!==c)return w}else if(!1===_&&ft(c)&&a!==c)return null}return!1}function as(u,l,a,c){const f=l._rootScopes,g=er(l._fallback,a,c),_=[...u,...f],w=new Set;w.add(c);let A=ls(w,_,a,g||a,c);return!(null===A||ft(g)&&g!==a&&(A=ls(w,_,g,A,c),null===A))&&sa(Array.from(w),[""],f,g,()=>function Io(u,l,a){const c=u._getTarget();l in c||(c[l]={});const f=c[l];return fe(f)&&be(a)?a:f}(l,a,c))}function ls(u,l,a,c,f){for(;a;)a=Hs(u,l,a,c,f);return a}function Ui(u,l){for(const a of l){if(!a)continue;const c=a[u];if(ft(c))return c}}function z(u){let l=u._keys;return l||(l=u._keys=function se(u){const l=new Set;for(const a of u)for(const c of Object.keys(a).filter(f=>!f.startsWith("_")))l.add(c);return Array.from(l)}(u._scopes)),l}function $(u,l,a,c){const{iScale:f}=u,{key:g="r"}=this._parsing,_=new Array(c);let w,A,k,Z;for(w=0,A=c;w<A;++w)k=w+a,Z=l[k],_[w]={r:f.parse(It(Z,g),k)};return _}const ue=Number.EPSILON||1e-14,Se=(u,l)=>l<u.length&&!u[l].skip&&u[l],Pt=u=>"x"===u?"y":"x";function $t(u,l,a,c){const f=u.skip?l:u,g=l,_=a.skip?l:a,w=Xt(g,f),A=Xt(_,g);let k=w/(w+A),Z=A/(w+A);k=isNaN(k)?0:k,Z=isNaN(Z)?0:Z;const te=c*k,he=c*Z;return{previous:{x:g.x-te*(_.x-f.x),y:g.y-te*(_.y-f.y)},next:{x:g.x+he*(_.x-f.x),y:g.y+he*(_.y-f.y)}}}function wi(u,l,a){return Math.max(Math.min(u,a),l)}function Cr(u,l,a,c,f){let g,_,w,A;if(l.spanGaps&&(u=u.filter(k=>!k.skip)),"monotone"===l.cubicInterpolationMode)!function Li(u,l="x"){const a=Pt(l),c=u.length,f=Array(c).fill(0),g=Array(c);let _,w,A,k=Se(u,0);for(_=0;_<c;++_)if(w=A,A=k,k=Se(u,_+1),A){if(k){const Z=k[l]-A[l];f[_]=0!==Z?(k[a]-A[a])/Z:0}g[_]=w?k?ti(f[_-1])!==ti(f[_])?0:(f[_-1]+f[_])/2:f[_-1]:f[_]}(function En(u,l,a){const c=u.length;let f,g,_,w,A,k=Se(u,0);for(let Z=0;Z<c-1;++Z)if(A=k,k=Se(u,Z+1),A&&k){if(ii(l[Z],0,ue)){a[Z]=a[Z+1]=0;continue}f=a[Z]/l[Z],g=a[Z+1]/l[Z],w=Math.pow(f,2)+Math.pow(g,2),!(w<=9)&&(_=3/Math.sqrt(w),a[Z]=f*_*l[Z],a[Z+1]=g*_*l[Z])}})(u,f,g),function Yi(u,l,a="x"){const c=Pt(a),f=u.length;let g,_,w,A=Se(u,0);for(let k=0;k<f;++k){if(_=w,w=A,A=Se(u,k+1),!w)continue;const Z=w[a],te=w[c];_&&(g=(Z-_[a])/3,w[`cp1${a}`]=Z-g,w[`cp1${c}`]=te-g*l[k]),A&&(g=(A[a]-Z)/3,w[`cp2${a}`]=Z+g,w[`cp2${c}`]=te+g*l[k])}}(u,g,l)}(u,f);else{let k=c?u[u.length-1]:u[0];for(g=0,_=u.length;g<_;++g)w=u[g],A=$t(k,w,u[Math.min(g+1,_-(c?0:1))%_],l.tension),w.cp1x=A.previous.x,w.cp1y=A.previous.y,w.cp2x=A.next.x,w.cp2y=A.next.y,k=w}l.capBezierPoints&&function Ri(u,l){let a,c,f,g,_,w=Dr(u[0],l);for(a=0,c=u.length;a<c;++a)_=g,g=w,w=a<c-1&&Dr(u[a+1],l),g&&(f=u[a],_&&(f.cp1x=wi(f.cp1x,l.left,l.right),f.cp1y=wi(f.cp1y,l.top,l.bottom)),w&&(f.cp2x=wi(f.cp2x,l.left,l.right),f.cp2y=wi(f.cp2y,l.top,l.bottom)))}(u,a)}function Qi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ar(u){let l=u.parentNode;return l&&"[object ShadowRoot]"===l.toString()&&(l=l.host),l}function W(u,l,a){let c;return"string"==typeof u?(c=parseInt(u,10),-1!==u.indexOf("%")&&(c=c/100*l.parentNode[a])):c=u,c}const H=u=>window.getComputedStyle(u,null),le=["top","right","bottom","left"];function Ot(u,l,a){const c={};a=a?"-"+a:"";for(let f=0;f<4;f++){const g=le[f];c[g]=parseFloat(u[l+"-"+g+a])||0}return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function us(u,l){if("native"in u)return u;const{canvas:a,currentDevicePixelRatio:c}=l,f=H(a),g="border-box"===f.boxSizing,_=Ot(f,"padding"),w=Ot(f,"border","width"),{x:A,y:k,box:Z}=function zi(u,l){const a=u.touches,c=a&&a.length?a[0]:u,{offsetX:f,offsetY:g}=c;let w,A,_=!1;if(((u,l,a)=>(u>0||l>0)&&(!a||!a.shadowRoot))(f,g,u.target))w=f,A=g;else{const k=l.getBoundingClientRect();w=c.clientX-k.left,A=c.clientY-k.top,_=!0}return{x:w,y:A,box:_}}(u,a),te=_.left+(Z&&w.left),he=_.top+(Z&&w.top);let{width:xe,height:We}=l;return g&&(xe-=_.width+w.width,We-=_.height+w.height),{x:Math.round((A-te)/xe*a.width/c),y:Math.round((k-he)/We*a.height/c)}}const zs=u=>Math.round(10*u)/10;function Fi(u,l,a){const c=l||1,f=Math.floor(u.height*c),g=Math.floor(u.width*c);u.height=f/c,u.width=g/c;const _=u.canvas;return _.style&&(a||!_.style.height&&!_.style.width)&&(_.style.height=`${u.height}px`,_.style.width=`${u.width}px`),(u.currentDevicePixelRatio!==c||_.height!==f||_.width!==g)&&(u.currentDevicePixelRatio=c,_.height=f,_.width=g,u.ctx.setTransform(c,0,0,c,0,0),!0)}const Oa=function(){let u=!1;try{const l={get passive(){return u=!0,!1}};window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch(l){}return u}();function Sr(u,l){const a=function L(u,l){return H(u).getPropertyValue(l)}(u,l),c=a&&a.match(/^(\d+)(\.\d+)?px$/);return c?+c[1]:void 0}function vo(u,l,a,c){return{x:u.x+a*(l.x-u.x),y:u.y+a*(l.y-u.y)}}function oa(u,l,a,c){return{x:u.x+a*(l.x-u.x),y:"middle"===c?a<.5?u.y:l.y:"after"===c?a<1?u.y:l.y:a>0?l.y:u.y}}function lo(u,l,a,c){const f={x:u.cp2x,y:u.cp2y},g={x:l.cp1x,y:l.cp1y},_=vo(u,f,a),w=vo(f,g,a),A=vo(g,l,a),k=vo(_,w,a),Z=vo(w,A,a);return vo(k,Z,a)}const _a=new Map;function aa(u,l,a){return function Qa(u,l){l=l||{};const a=u+JSON.stringify(l);let c=_a.get(a);return c||(c=new Intl.NumberFormat(u,l),_a.set(a,c)),c}(l,a).format(u)}function Ds(u,l,a){return u?function(u,l){return{x:a=>u+u+l-a,setWidth(a){l=a},textAlign:a=>"center"===a?a:"right"===a?"left":"right",xPlus:(a,c)=>a-c,leftForLtr:(a,c)=>a-c}}(l,a):{x:u=>u,setWidth(u){},textAlign:u=>u,xPlus:(u,l)=>u+l,leftForLtr:(u,l)=>u}}function ps(u,l){let a,c;("ltr"===l||"rtl"===l)&&(a=u.canvas.style,c=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",l,"important"),u.prevTextDirection=c)}function Gs(u,l){void 0!==l&&(delete u.prevTextDirection,u.canvas.style.setProperty("direction",l[0],l[1]))}function va(u){return"angle"===u?{between:Be,compare:ni,normalize:_t}:{between:Mt,compare:(l,a)=>l-a,normalize:l=>l}}function ee({start:u,end:l,count:a,loop:c,style:f}){return{start:u%a,end:l%a,loop:c&&(l-u+1)%a==0,style:f}}function S(u,l,a){if(!a)return[u];const{property:c,start:f,end:g}=a,_=l.length,{compare:w,between:A,normalize:k}=va(c),{start:Z,end:te,loop:he,style:xe}=function C(u,l,a){const{property:c,start:f,end:g}=a,{between:_,normalize:w}=va(c),A=l.length;let he,xe,{start:k,end:Z,loop:te}=u;if(te){for(k+=A,Z+=A,he=0,xe=A;he<xe&&_(w(l[k%A][c]),f,g);++he)k--,Z--;k%=A,Z%=A}return Z<k&&(Z+=A),{start:k,end:Z,loop:te,style:u.style}}(u,l,a),We=[];let xt,rn,Mn,Je=!1,Ct=null;for(let ci=Z,vi=Z;ci<=te;++ci)rn=l[ci%_],!rn.skip&&(xt=k(rn[c]),xt!==Mn&&(Je=A(xt,f,g),null===Ct&&(Je||A(f,Mn,xt)&&0!==w(f,Mn))&&(Ct=0===w(xt,f)?ci:vi),null!==Ct&&(!Je||0===w(g,xt)||A(g,Mn,xt))&&(We.push(ee({start:Ct,end:ci,loop:he,count:_,style:xe})),Ct=null),vi=ci,Mn=xt));return null!==Ct&&We.push(ee({start:Ct,end:te,loop:he,count:_,style:xe})),We}function j(u,l){const a=[],c=u.segments;for(let f=0;f<c.length;f++){const g=S(c[f],u.points,l);g.length&&a.push(...g)}return a}function Wt(u){return{backgroundColor:u.backgroundColor,borderCapStyle:u.borderCapStyle,borderDash:u.borderDash,borderDashOffset:u.borderDashOffset,borderJoinStyle:u.borderJoinStyle,borderWidth:u.borderWidth,borderColor:u.borderColor}}function kn(u,l){return l&&JSON.stringify(u)!==JSON.stringify(l)}var Qn=new class Zn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(l,a,c,f){const _=a.duration;a.listeners[f].forEach(w=>w({chart:l,initial:a.initial,numSteps:_,currentStep:Math.min(c-a.start,_)}))}_refresh(){this._request||(this._running=!0,this._request=R.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(l=Date.now()){let a=0;this._charts.forEach((c,f)=>{if(!c.running||!c.items.length)return;const g=c.items;let A,_=g.length-1,w=!1;for(;_>=0;--_)A=g[_],A._active?(A._total>c.duration&&(c.duration=A._total),A.tick(l),w=!0):(g[_]=g[g.length-1],g.pop());w&&(f.draw(),this._notify(f,c,l,"progress")),g.length||(c.running=!1,this._notify(f,c,l,"complete"),c.initial=!1),a+=g.length}),this._lastDate=l,0===a&&(this._running=!1)}_getAnims(l){const a=this._charts;let c=a.get(l);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(l,c)),c}listen(l,a,c){this._getAnims(l).listeners[a].push(c)}add(l,a){!a||!a.length||this._getAnims(l).items.push(...a)}has(l){return this._getAnims(l).items.length>0}start(l){const a=this._charts.get(l);!a||(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((c,f)=>Math.max(c,f._duration),0),this._refresh())}running(l){if(!this._running)return!1;const a=this._charts.get(l);return!(!a||!a.running||!a.items.length)}stop(l){const a=this._charts.get(l);if(!a||!a.items.length)return;const c=a.items;let f=c.length-1;for(;f>=0;--f)c[f].cancel();a.items=[],this._notify(l,a,Date.now(),"complete")}remove(l){return this._charts.delete(l)}};const Vi="transparent",zn={boolean:(u,l,a)=>a>.5?l:u,color(u,l,a){const c=Fs(u||Vi),f=c.valid&&Fs(l||Vi);return f&&f.valid?f.mix(c,a).hexString():l},number:(u,l,a)=>u+(l-u)*a};class Di{constructor(l,a,c,f){const g=a[c];f=Es([l.to,f,g,l.from]);const _=Es([l.from,g,f]);this._active=!0,this._fn=l.fn||zn[l.type||typeof _],this._easing=Pn[l.easing]||Pn.linear,this._start=Math.floor(Date.now()+(l.delay||0)),this._duration=this._total=Math.floor(l.duration),this._loop=!!l.loop,this._target=a,this._prop=c,this._from=_,this._to=f,this._promises=void 0}active(){return this._active}update(l,a,c){if(this._active){this._notify(!1);const f=this._target[this._prop],g=c-this._start,_=this._duration-g;this._start=c,this._duration=Math.floor(Math.max(_,l.duration)),this._total+=g,this._loop=!!l.loop,this._to=Es([l.to,a,f,l.from]),this._from=Es([l.from,f,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(l){const a=l-this._start,c=this._duration,f=this._prop,g=this._from,_=this._loop,w=this._to;let A;if(this._active=g!==w&&(_||a<c),!this._active)return this._target[f]=w,void this._notify(!0);a<0?this._target[f]=g:(A=a/c%2,A=_&&A>1?2-A:A,A=this._easing(Math.min(1,Math.max(0,A))),this._target[f]=this._fn(g,w,A))}wait(){const l=this._promises||(this._promises=[]);return new Promise((a,c)=>{l.push({res:a,rej:c})})}_notify(l){const a=l?"res":"rej",c=this._promises||[];for(let f=0;f<c.length;f++)c[f][a]()}}di.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const qr=Object.keys(di.animation);di.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:u=>"onProgress"!==u&&"onComplete"!==u&&"fn"!==u}),di.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),di.describe("animations",{_fallback:"animation"}),di.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:u=>0|u}}}});class gs{constructor(l,a){this._chart=l,this._properties=new Map,this.configure(a)}configure(l){if(!be(l))return;const a=this._properties;Object.getOwnPropertyNames(l).forEach(c=>{const f=l[c];if(!be(f))return;const g={};for(const _ of qr)g[_]=f[_];(fe(f.properties)&&f.properties||[c]).forEach(_=>{(_===c||!a.has(_))&&a.set(_,g)})})}_animateOptions(l,a){const c=a.options,f=function Ws(u,l){if(!l)return;let a=u.options;if(a)return a.$shared&&(u.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a;u.options=l}(l,c);if(!f)return[];const g=this._createAnimations(f,c);return c.$shared&&function tr(u,l){const a=[],c=Object.keys(l);for(let f=0;f<c.length;f++){const g=u[c[f]];g&&g.active()&&a.push(g.wait())}return Promise.all(a)}(l.options.$animations,c).then(()=>{l.options=c},()=>{}),g}_createAnimations(l,a){const c=this._properties,f=[],g=l.$animations||(l.$animations={}),_=Object.keys(a),w=Date.now();let A;for(A=_.length-1;A>=0;--A){const k=_[A];if("$"===k.charAt(0))continue;if("options"===k){f.push(...this._animateOptions(l,a));continue}const Z=a[k];let te=g[k];const he=c.get(k);if(te){if(he&&te.active()){te.update(he,Z,w);continue}te.cancel()}he&&he.duration?(g[k]=te=new Di(he,l,k,Z),f.push(te)):l[k]=Z}return f}update(l,a){if(0===this._properties.size)return void Object.assign(l,a);const c=this._createAnimations(l,a);return c.length?(Qn.add(this._chart,c),!0):void 0}}function ur(u,l){const a=u&&u.options||{},c=a.reverse,f=void 0===a.min?l:0,g=void 0===a.max?l:0;return{start:c?g:f,end:c?f:g}}function jo(u,l){const a=[],c=u._getSortedDatasetMetas(l);let f,g;for(f=0,g=c.length;f<g;++f)a.push(c[f].index);return a}function no(u,l,a,c={}){const f=u.keys,g="single"===c.mode;let _,w,A,k;if(null!==l){for(_=0,w=f.length;_<w;++_){if(A=+f[_],A===a){if(c.all)continue;break}k=u.values[A],vt(k)&&(g||0===l||ti(l)===ti(k))&&(l+=k)}return l}}function bo(u,l){const a=u&&u.options.stacked;return a||void 0===a&&void 0!==l.stack}function Yo(u,l,a){const c=u[l]||(u[l]={});return c[a]||(c[a]={})}function Tn(u,l,a,c){for(const f of l.getMatchingVisibleMetas(c).reverse()){const g=u[f.index];if(a&&g>0||!a&&g<0)return f.index}return null}function ei(u,l){const{chart:a,_cachedMeta:c}=u,f=a._stacks||(a._stacks={}),{iScale:g,vScale:_,index:w}=c,A=g.axis,k=_.axis,Z=function Yr(u,l,a){return`${u.id}.${l.id}.${a.stack||a.type}`}(g,_,c),te=l.length;let he;for(let xe=0;xe<te;++xe){const We=l[xe],{[A]:Je,[k]:Ct}=We;he=(We._stacks||(We._stacks={}))[k]=Yo(f,Z,Je),he[w]=Ct,he._top=Tn(he,_,!0,c.type),he._bottom=Tn(he,_,!1,c.type)}}function li(u,l){const a=u.scales;return Object.keys(a).filter(c=>a[c].axis===l).shift()}function Rs(u,l){const a=u.controller.index,c=u.vScale&&u.vScale.axis;if(c){l=l||u._parsed;for(const f of l){const g=f._stacks;if(!g||void 0===g[c]||void 0===g[c][a])return;delete g[c][a]}}}const xr=u=>"reset"===u||"none"===u,Cs=(u,l)=>l?u:Object.assign({},u);let uo=(()=>{class u{constructor(a,c){this.chart=a,this._ctx=a.ctx,this.index=c,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=bo(a.vScale,a),this.addElements()}updateIndex(a){this.index!==a&&Rs(this._cachedMeta),this.index=a}linkScales(){const a=this.chart,c=this._cachedMeta,f=this.getDataset(),g=(he,xe,We,Je)=>"x"===he?xe:"r"===he?Je:We,_=c.xAxisID=it(f.xAxisID,li(a,"x")),w=c.yAxisID=it(f.yAxisID,li(a,"y")),A=c.rAxisID=it(f.rAxisID,li(a,"r")),k=c.indexAxis,Z=c.iAxisID=g(k,_,w,A),te=c.vAxisID=g(k,w,_,A);c.xScale=this.getScaleForId(_),c.yScale=this.getScaleForId(w),c.rScale=this.getScaleForId(A),c.iScale=this.getScaleForId(Z),c.vScale=this.getScaleForId(te)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(a){const c=this._cachedMeta;return a===c.iScale?c.vScale:c.iScale}reset(){this._update("reset")}_destroy(){const a=this._cachedMeta;this._data&&Ps(this._data,this),a._stacked&&Rs(a)}_dataCheck(){const a=this.getDataset(),c=a.data||(a.data=[]),f=this._data;if(be(c))this._data=function qo(u){const l=Object.keys(u),a=new Array(l.length);let c,f,g;for(c=0,f=l.length;c<f;++c)g=l[c],a[c]={x:g,y:u[g]};return a}(c);else if(f!==c){if(f){Ps(f,this);const g=this._cachedMeta;Rs(g),g._parsed=[]}c&&Object.isExtensible(c)&&function eo(u,l){u._chartjs?u._chartjs.listeners.push(l):(Object.defineProperty(u,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[l]}}),Bs.forEach(a=>{const c="_onData"+lt(a),f=u[a];Object.defineProperty(u,a,{configurable:!0,enumerable:!1,value(...g){const _=f.apply(this,g);return u._chartjs.listeners.forEach(w=>{"function"==typeof w[c]&&w[c](...g)}),_}})}))}(c,this),this._syncList=[],this._data=c}}addElements(){const a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(a){const c=this._cachedMeta,f=this.getDataset();let g=!1;this._dataCheck();const _=c._stacked;c._stacked=bo(c.vScale,c),c.stack!==f.stack&&(g=!0,Rs(c),c.stack=f.stack),this._resyncElements(a),(g||_!==c._stacked)&&ei(this,c._parsed)}configure(){const a=this.chart.config,c=a.datasetScopeKeys(this._type),f=a.getOptionScopes(this.getDataset(),c,!0);this.options=a.createResolver(f,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(a,c){const{_cachedMeta:f,_data:g}=this,{iScale:_,_stacked:w}=f,A=_.axis;let te,he,xe,k=0===a&&c===g.length||f._sorted,Z=a>0&&f._parsed[a-1];if(!1===this._parsing)f._parsed=g,f._sorted=!0,xe=g;else{xe=fe(g[a])?this.parseArrayData(f,g,a,c):be(g[a])?this.parseObjectData(f,g,a,c):this.parsePrimitiveData(f,g,a,c);const We=()=>null===he[A]||Z&&he[A]<Z[A];for(te=0;te<c;++te)f._parsed[te+a]=he=xe[te],k&&(We()&&(k=!1),Z=he);f._sorted=k}w&&ei(this,xe)}parsePrimitiveData(a,c,f,g){const{iScale:_,vScale:w}=a,A=_.axis,k=w.axis,Z=_.getLabels(),te=_===w,he=new Array(g);let xe,We,Je;for(xe=0,We=g;xe<We;++xe)Je=xe+f,he[xe]={[A]:te||_.parse(Z[Je],Je),[k]:w.parse(c[Je],Je)};return he}parseArrayData(a,c,f,g){const{xScale:_,yScale:w}=a,A=new Array(g);let k,Z,te,he;for(k=0,Z=g;k<Z;++k)te=k+f,he=c[te],A[k]={x:_.parse(he[0],te),y:w.parse(he[1],te)};return A}parseObjectData(a,c,f,g){const{xScale:_,yScale:w}=a,{xAxisKey:A="x",yAxisKey:k="y"}=this._parsing,Z=new Array(g);let te,he,xe,We;for(te=0,he=g;te<he;++te)xe=te+f,We=c[xe],Z[te]={x:_.parse(It(We,A),xe),y:w.parse(It(We,k),xe)};return Z}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,c,f){const _=this._cachedMeta,w=c[a.axis];return no({keys:jo(this.chart,!0),values:c._stacks[a.axis]},w,_.index,{mode:f})}updateRangeFromParsed(a,c,f,g){const _=f[c.axis];let w=null===_?NaN:_;const A=g&&f._stacks[c.axis];g&&A&&(g.values=A,w=no(g,_,this._cachedMeta.index)),a.min=Math.min(a.min,w),a.max=Math.max(a.max,w)}getMinMax(a,c){const f=this._cachedMeta,g=f._parsed,_=f._sorted&&a===f.iScale,w=g.length,A=this._getOtherScale(a),k=((u,l,a)=>u&&!l.hidden&&l._stacked&&{keys:jo(this.chart,!0),values:null})(c,f),Z={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:te,max:he}=function Lo(u){const{min:l,max:a,minDefined:c,maxDefined:f}=u.getUserBounds();return{min:c?l:Number.NEGATIVE_INFINITY,max:f?a:Number.POSITIVE_INFINITY}}(A);let xe,We;function Je(){We=g[xe];const Ct=We[A.axis];return!vt(We[a.axis])||te>Ct||he<Ct}for(xe=0;xe<w&&(Je()||(this.updateRangeFromParsed(Z,a,We,k),!_));++xe);if(_)for(xe=w-1;xe>=0;--xe)if(!Je()){this.updateRangeFromParsed(Z,a,We,k);break}return Z}getAllParsedValues(a){const c=this._cachedMeta._parsed,f=[];let g,_,w;for(g=0,_=c.length;g<_;++g)w=c[g][a.axis],vt(w)&&f.push(w);return f}getMaxOverflow(){return!1}getLabelAndValue(a){const c=this._cachedMeta,f=c.iScale,g=c.vScale,_=this.getParsed(a);return{label:f?""+f.getLabelForValue(_[f.axis]):"",value:g?""+g.getLabelForValue(_[g.axis]):""}}_update(a){const c=this._cachedMeta;this.update(a||"default"),c._clip=function jr(u){let l,a,c,f;return be(u)?(l=u.top,a=u.right,c=u.bottom,f=u.left):l=a=c=f=u,{top:l,right:a,bottom:c,left:f,disabled:!1===u}}(it(this.options.clip,function ms(u,l,a){if(!1===a)return!1;const c=ur(u,a),f=ur(l,a);return{top:f.end,right:c.end,bottom:f.start,left:c.start}}(c.xScale,c.yScale,this.getMaxOverflow())))}update(a){}draw(){const a=this._ctx,f=this._cachedMeta,g=f.data||[],_=this.chart.chartArea,w=[],A=this._drawStart||0,k=this._drawCount||g.length-A,Z=this.options.drawActiveElementsOnTop;let te;for(f.dataset&&f.dataset.draw(a,_,A,k),te=A;te<A+k;++te){const he=g[te];he.hidden||(he.active&&Z?w.push(he):he.draw(a,_))}for(te=0;te<w.length;++te)w[te].draw(a,_)}getStyle(a,c){const f=c?"active":"default";return void 0===a&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(f):this.resolveDataElementOptions(a||0,f)}getContext(a,c,f){const g=this.getDataset();let _;if(a>=0&&a<this._cachedMeta.data.length){const w=this._cachedMeta.data[a];_=w.$context||(w.$context=function sr(u,l,a){return or(u,{active:!1,dataIndex:l,parsed:void 0,raw:void 0,element:a,index:l,mode:"default",type:"data"})}(this.getContext(),a,w)),_.parsed=this.getParsed(a),_.raw=g.data[a],_.index=_.dataIndex=a}else _=this.$context||(this.$context=function Si(u,l){return or(u,{active:!1,dataset:void 0,datasetIndex:l,index:l,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),_.dataset=g,_.index=_.datasetIndex=this.index;return _.active=!!c,_.mode=f,_}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,c){return this._resolveElementOptions(this.dataElementType.id,c,a)}_resolveElementOptions(a,c="default",f){const g="active"===c,_=this._cachedDataOpts,w=a+"-"+c,A=_[w],k=this.enableOptionSharing&&ft(f);if(A)return Cs(A,k);const Z=this.chart.config,te=Z.datasetElementScopeKeys(this._type,a),he=g?[`${a}Hover`,"hover",a,""]:[a,""],xe=Z.getOptionScopes(this.getDataset(),te),We=Object.keys(di.elements[a]),Ct=Z.resolveNamedOptions(xe,We,()=>this.getContext(f,g),he);return Ct.$shared&&(Ct.$shared=k,_[w]=Object.freeze(Cs(Ct,k))),Ct}_resolveAnimations(a,c,f){const g=this.chart,_=this._cachedDataOpts,w=`animation-${c}`,A=_[w];if(A)return A;let k;if(!1!==g.options.animation){const te=this.chart.config,he=te.datasetAnimationScopeKeys(this._type,c),xe=te.getOptionScopes(this.getDataset(),he);k=te.createResolver(xe,this.getContext(a,f,c))}const Z=new gs(g,k&&k.animations);return k&&k._cacheable&&(_[w]=Object.freeze(Z)),Z}getSharedOptions(a){if(a.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,c){return!c||xr(a)||this.chart._animationsDisabled}updateElement(a,c,f,g){xr(g)?Object.assign(a,f):this._resolveAnimations(c,g).update(a,f)}updateSharedOptions(a,c,f){a&&!xr(c)&&this._resolveAnimations(void 0,c).update(a,f)}_setStyle(a,c,f,g){a.active=g;const _=this.getStyle(c,g);this._resolveAnimations(c,f,g).update(a,{options:!g&&this.getSharedOptions(_)||_})}removeHoverStyle(a,c,f){this._setStyle(a,f,"active",!1)}setHoverStyle(a,c,f){this._setStyle(a,f,"active",!0)}_removeDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(a){const c=this._data,f=this._cachedMeta.data;for(const[A,k,Z]of this._syncList)this[A](k,Z);this._syncList=[];const g=f.length,_=c.length,w=Math.min(_,g);w&&this.parse(0,w),_>g?this._insertElements(g,_-g,a):_<g&&this._removeElements(_,g-_)}_insertElements(a,c,f=!0){const g=this._cachedMeta,_=g.data,w=a+c;let A;const k=Z=>{for(Z.length+=c,A=Z.length-1;A>=w;A--)Z[A]=Z[A-c]};for(k(_),A=a;A<w;++A)_[A]=new this.dataElementType;this._parsing&&k(g._parsed),this.parse(a,c),f&&this.updateElements(_,a,c,"reset")}updateElements(a,c,f,g){}_removeElements(a,c){const f=this._cachedMeta;if(this._parsing){const g=f._parsed.splice(a,c);f._stacked&&Rs(f,g)}f.data.splice(a,c)}_sync(a){if(this._parsing)this._syncList.push(a);else{const[c,f,g]=a;this[c](f,g)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){const a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,c){c&&this._sync(["_removeElements",a,c]);const f=arguments.length-2;f&&this._sync(["_insertElements",a,f])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return u.defaults={},u})();function io(u){const l=u.iScale,a=function co(u,l){if(!u._cache.$bar){const a=u.getMatchingVisibleMetas(l);let c=[];for(let f=0,g=a.length;f<g;f++)c=c.concat(a[f].controller.getAllParsedValues(u));u._cache.$bar=_o(c.sort((f,g)=>f-g))}return u._cache.$bar}(l,u.type);let f,g,_,w,c=l._length;const A=()=>{32767===_||-32768===_||(ft(w)&&(c=Math.min(c,Math.abs(_-w)||c)),w=_)};for(f=0,g=a.length;f<g;++f)_=l.getPixelForValue(a[f]),A();for(w=void 0,f=0,g=l.ticks.length;f<g;++f)_=l.getPixelForTick(f),A();return c}function ba(u,l,a,c){return fe(u)?function Ns(u,l,a,c){const f=a.parse(u[0],c),g=a.parse(u[1],c),_=Math.min(f,g),w=Math.max(f,g);let A=_,k=w;Math.abs(_)>Math.abs(w)&&(A=w,k=_),l[a.axis]=k,l._custom={barStart:A,barEnd:k,start:f,end:g,min:_,max:w}}(u,l,a,c):l[a.axis]=a.parse(u,c),l}function Ea(u,l,a,c){const f=u.iScale,g=u.vScale,_=f.getLabels(),w=f===g,A=[];let k,Z,te,he;for(k=a,Z=a+c;k<Z;++k)he=l[k],te={},te[f.axis]=w||f.parse(_[k],k),A.push(ba(he,te,g,k));return A}function wa(u){return u&&void 0!==u.barStart&&void 0!==u.barEnd}function ju(u,l,a,c){let f=l.borderSkipped;const g={};if(!f)return void(u.borderSkipped=g);const{start:_,end:w,reverse:A,top:k,bottom:Z}=function Mr(u){let l,a,c,f,g;return u.horizontal?(l=u.base>u.x,a="left",c="right"):(l=u.base<u.y,a="bottom",c="top"),l?(f="end",g="start"):(f="start",g="end"),{start:a,end:c,reverse:l,top:f,bottom:g}}(u);"middle"===f&&a&&(u.enableBorderRadius=!0,(a._top||0)===c?f=k:(a._bottom||0)===c?f=Z:(g[ho(Z,_,w,A)]=!0,f=k)),g[ho(f,_,w,A)]=!0,u.borderSkipped=g}function ho(u,l,a,c){return c?(u=function fl(u,l,a){return u===l?a:u===a?l:u}(u,l,a),u=la(u,a,l)):u=la(u,l,a),u}function la(u,l,a){return"start"===u?l:"end"===u?a:u}function F(u,{inflateAmount:l},a){u.inflateAmount="auto"===l?1===a?.33:0:l}uo.prototype.datasetElementType=null,uo.prototype.dataElementType=null;let O=(()=>{class u extends uo{parsePrimitiveData(a,c,f,g){return Ea(a,c,f,g)}parseArrayData(a,c,f,g){return Ea(a,c,f,g)}parseObjectData(a,c,f,g){const{iScale:_,vScale:w}=a,{xAxisKey:A="x",yAxisKey:k="y"}=this._parsing,Z="x"===_.axis?A:k,te="x"===w.axis?A:k,he=[];let xe,We,Je,Ct;for(xe=f,We=f+g;xe<We;++xe)Ct=c[xe],Je={},Je[_.axis]=_.parse(It(Ct,Z),xe),he.push(ba(It(Ct,te),Je,w,xe));return he}updateRangeFromParsed(a,c,f,g){super.updateRangeFromParsed(a,c,f,g);const _=f._custom;_&&c===this._cachedMeta.vScale&&(a.min=Math.min(a.min,_.min),a.max=Math.max(a.max,_.max))}getMaxOverflow(){return 0}getLabelAndValue(a){const c=this._cachedMeta,{iScale:f,vScale:g}=c,_=this.getParsed(a),w=_._custom,A=wa(w)?"["+w.start+", "+w.end+"]":""+g.getLabelForValue(_[g.axis]);return{label:""+f.getLabelForValue(_[f.axis]),value:A}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(a){const c=this._cachedMeta;this.updateElements(c.data,0,c.data.length,a)}updateElements(a,c,f,g){const _="reset"===g,{index:w,_cachedMeta:{vScale:A}}=this,k=A.getBasePixel(),Z=A.isHorizontal(),te=this._getRuler(),he=this.resolveDataElementOptions(c,g),xe=this.getSharedOptions(he),We=this.includeOptions(g,xe);this.updateSharedOptions(xe,g,he);for(let Je=c;Je<c+f;Je++){const Ct=this.getParsed(Je),xt=_||ce(Ct[A.axis])?{base:k,head:k}:this._calculateBarValuePixels(Je),rn=this._calculateBarIndexPixels(Je,te),Mn=(Ct._stacks||{})[A.axis],tn={horizontal:Z,base:xt.base,enableBorderRadius:!Mn||wa(Ct._custom)||w===Mn._top||w===Mn._bottom,x:Z?xt.head:rn.center,y:Z?rn.center:xt.head,height:Z?rn.size:Math.abs(xt.size),width:Z?Math.abs(xt.size):rn.size};We&&(tn.options=xe||this.resolveDataElementOptions(Je,a[Je].active?"active":g));const en=tn.options||a[Je].options;ju(tn,en,Mn,w),F(tn,en,te.ratio),this.updateElement(a[Je],Je,tn,g)}}_getStacks(a,c){const g=this._cachedMeta.iScale,_=g.getMatchingVisibleMetas(this._type),w=g.options.stacked,A=_.length,k=[];let Z,te;for(Z=0;Z<A;++Z)if(te=_[Z],te.controller.options.grouped){if(void 0!==c){const he=te.controller.getParsed(c)[te.controller._cachedMeta.vScale.axis];if(ce(he)||isNaN(he))continue}if((!1===w||-1===k.indexOf(te.stack)||void 0===w&&void 0===te.stack)&&k.push(te.stack),te.index===a)break}return k.length||k.push(void 0),k}_getStackCount(a){return this._getStacks(void 0,a).length}_getStackIndex(a,c,f){const g=this._getStacks(a,f),_=void 0!==c?g.indexOf(c):-1;return-1===_?g.length-1:_}_getRuler(){const a=this.options,c=this._cachedMeta,f=c.iScale,g=[];let _,w;for(_=0,w=c.data.length;_<w;++_)g.push(f.getPixelForValue(this.getParsed(_)[f.axis],_));const A=a.barThickness;return{min:A||io(c),pixels:g,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:a.grouped,ratio:A?1:a.categoryPercentage*a.barPercentage}}_calculateBarValuePixels(a){const{_cachedMeta:{vScale:c,_stacked:f},options:{base:g,minBarLength:_}}=this,w=g||0,A=this.getParsed(a),k=A._custom,Z=wa(k);let We,Je,te=A[c.axis],he=0,xe=f?this.applyStack(c,A,f):te;xe!==te&&(he=xe-te,xe=te),Z&&(te=k.barStart,xe=k.barEnd-k.barStart,0!==te&&ti(te)!==ti(k.barEnd)&&(he=0),he+=te);const Ct=ce(g)||Z?he:g;let xt=c.getPixelForValue(Ct);if(We=this.chart.getDataVisibility(a)?c.getPixelForValue(he+xe):xt,Je=We-xt,Math.abs(Je)<_){Je=function hl(u,l,a){return 0!==u?ti(u):(l.isHorizontal()?1:-1)*(l.min>=a?1:-1)}(Je,c,w)*_,te===w&&(xt-=Je/2);const rn=c.getPixelForDecimal(0),Mn=c.getPixelForDecimal(1),tn=Math.min(rn,Mn),en=Math.max(rn,Mn);xt=Math.max(Math.min(xt,en),tn),We=xt+Je}if(xt===c.getPixelForValue(w)){const rn=ti(Je)*c.getLineWidthForValue(w)/2;xt+=rn,Je-=rn}return{size:Je,base:xt,head:We,center:We+Je/2}}_calculateBarIndexPixels(a,c){const f=c.scale,g=this.options,_=g.skipNull,w=it(g.maxBarThickness,1/0);let A,k;if(c.grouped){const Z=_?this._getStackCount(a):c.stackCount,te="flex"===g.barThickness?function Ks(u,l,a,c){const f=l.pixels,g=f[u];let _=u>0?f[u-1]:null,w=u<f.length-1?f[u+1]:null;const A=a.categoryPercentage;null===_&&(_=g-(null===w?l.end-l.start:w-g)),null===w&&(w=g+g-_);const k=g-(g-Math.min(_,w))/2*A;return{chunk:Math.abs(w-_)/2*A/c,ratio:a.barPercentage,start:k}}(a,c,g,Z):function Qr(u,l,a,c){const f=a.barThickness;let g,_;return ce(f)?(g=l.min*a.categoryPercentage,_=a.barPercentage):(g=f*c,_=1),{chunk:g/c,ratio:_,start:l.pixels[u]-g/2}}(a,c,g,Z),he=this._getStackIndex(this.index,this._cachedMeta.stack,_?a:void 0);A=te.start+te.chunk*he+te.chunk/2,k=Math.min(w,te.chunk*te.ratio)}else A=f.getPixelForValue(this.getParsed(a)[f.axis],a),k=Math.min(w,c.min*c.ratio);return{base:A-k/2,head:A+k/2,center:A,size:k}}draw(){const a=this._cachedMeta,c=a.vScale,f=a.data,g=f.length;let _=0;for(;_<g;++_)null!==this.getParsed(_)[c.axis]&&f[_].draw(this._ctx)}}return u.id="bar",u.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},u.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},u})(),x=(()=>{class u extends uo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(a,c,f,g){const _=super.parsePrimitiveData(a,c,f,g);for(let w=0;w<_.length;w++)_[w]._custom=this.resolveDataElementOptions(w+f).radius;return _}parseArrayData(a,c,f,g){const _=super.parseArrayData(a,c,f,g);for(let w=0;w<_.length;w++)_[w]._custom=it(c[f+w][2],this.resolveDataElementOptions(w+f).radius);return _}parseObjectData(a,c,f,g){const _=super.parseObjectData(a,c,f,g);for(let w=0;w<_.length;w++){const A=c[f+w];_[w]._custom=it(A&&A.r&&+A.r,this.resolveDataElementOptions(w+f).radius)}return _}getMaxOverflow(){const a=this._cachedMeta.data;let c=0;for(let f=a.length-1;f>=0;--f)c=Math.max(c,a[f].size(this.resolveDataElementOptions(f))/2);return c>0&&c}getLabelAndValue(a){const c=this._cachedMeta,{xScale:f,yScale:g}=c,_=this.getParsed(a),w=f.getLabelForValue(_.x),A=g.getLabelForValue(_.y),k=_._custom;return{label:c.label,value:"("+w+", "+A+(k?", "+k:"")+")"}}update(a){const c=this._cachedMeta.data;this.updateElements(c,0,c.length,a)}updateElements(a,c,f,g){const _="reset"===g,{iScale:w,vScale:A}=this._cachedMeta,k=this.resolveDataElementOptions(c,g),Z=this.getSharedOptions(k),te=this.includeOptions(g,Z),he=w.axis,xe=A.axis;for(let We=c;We<c+f;We++){const Je=a[We],Ct=!_&&this.getParsed(We),xt={},rn=xt[he]=_?w.getPixelForDecimal(.5):w.getPixelForValue(Ct[he]),Mn=xt[xe]=_?A.getBasePixel():A.getPixelForValue(Ct[xe]);xt.skip=isNaN(rn)||isNaN(Mn),te&&(xt.options=this.resolveDataElementOptions(We,Je.active?"active":g),_&&(xt.options.radius=0)),this.updateElement(Je,We,xt,g)}this.updateSharedOptions(Z,g,k)}resolveDataElementOptions(a,c){const f=this.getParsed(a);let g=super.resolveDataElementOptions(a,c);g.$shared&&(g=Object.assign({},g,{$shared:!1}));const _=g.radius;return"active"!==c&&(g.radius=0),g.radius+=it(f&&f._custom,_),g}}return u.id="bubble",u.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},u.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},u})(),q=(()=>{class u extends uo{constructor(a,c){super(a,c),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(a,c){const f=this.getDataset().data,g=this._cachedMeta;if(!1===this._parsing)g._parsed=f;else{let w,A,_=k=>+f[k];if(be(f[a])){const{key:k="value"}=this._parsing;_=Z=>+It(f[Z],k)}for(w=a,A=a+c;w<A;++w)g._parsed[w]=_(w)}}_getRotation(){return vn(this.options.rotation-90)}_getCircumference(){return vn(this.options.circumference)}_getRotationExtents(){let a=Ht,c=-Ht;for(let f=0;f<this.chart.data.datasets.length;++f)if(this.chart.isDatasetVisible(f)){const g=this.chart.getDatasetMeta(f).controller,_=g._getRotation(),w=g._getCircumference();a=Math.min(a,_),c=Math.max(c,_+w)}return{rotation:a,circumference:c-a}}update(a){const c=this.chart,{chartArea:f}=c,g=this._cachedMeta,_=g.data,w=this.getMaxBorderWidth()+this.getMaxOffset(_)+this.options.spacing,A=Math.max((Math.min(f.width,f.height)-w)/2,0),k=Math.min(((u,l)=>"string"==typeof u&&u.endsWith("%")?parseFloat(u)/100:u/l)(this.options.cutout,A),1),Z=this._getRingWeight(this.index),{circumference:te,rotation:he}=this._getRotationExtents(),{ratioX:xe,ratioY:We,offsetX:Je,offsetY:Ct}=function G(u,l,a){let c=1,f=1,g=0,_=0;if(l<Ht){const w=u,A=w+l,k=Math.cos(w),Z=Math.sin(w),te=Math.cos(A),he=Math.sin(A),xe=(Mn,tn,en)=>Be(Mn,w,A,!0)?1:Math.max(tn,tn*a,en,en*a),We=(Mn,tn,en)=>Be(Mn,w,A,!0)?-1:Math.min(tn,tn*a,en,en*a),Je=xe(0,k,te),Ct=xe(Ge,Z,he),xt=We(rt,k,te),rn=We(rt+Ge,Z,he);c=(Je-xt)/2,f=(Ct-rn)/2,g=-(Je+xt)/2,_=-(Ct+rn)/2}return{ratioX:c,ratioY:f,offsetX:g,offsetY:_}}(he,te,k),Mn=Math.max(Math.min((f.width-w)/xe,(f.height-w)/We)/2,0),tn=Xe(this.options.radius,Mn),Gn=(tn-Math.max(tn*k,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Je*tn,this.offsetY=Ct*tn,g.total=this.calculateTotal(),this.outerRadius=tn-Gn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Gn*Z,0),this.updateElements(_,0,_.length,a)}_circumference(a,c){const f=this.options,g=this._cachedMeta,_=this._getCircumference();return c&&f.animation.animateRotate||!this.chart.getDataVisibility(a)||null===g._parsed[a]||g.data[a].hidden?0:this.calculateCircumference(g._parsed[a]*_/Ht)}updateElements(a,c,f,g){const _="reset"===g,w=this.chart,A=w.chartArea,te=(A.left+A.right)/2,he=(A.top+A.bottom)/2,xe=_&&w.options.animation.animateScale,We=xe?0:this.innerRadius,Je=xe?0:this.outerRadius,Ct=this.resolveDataElementOptions(c,g),xt=this.getSharedOptions(Ct),rn=this.includeOptions(g,xt);let tn,Mn=this._getRotation();for(tn=0;tn<c;++tn)Mn+=this._circumference(tn,_);for(tn=c;tn<c+f;++tn){const en=this._circumference(tn,_),Gn=a[tn],Wn={x:te+this.offsetX,y:he+this.offsetY,startAngle:Mn,endAngle:Mn+en,circumference:en,outerRadius:Je,innerRadius:We};rn&&(Wn.options=xt||this.resolveDataElementOptions(tn,Gn.active?"active":g)),Mn+=en,this.updateElement(Gn,tn,Wn,g)}this.updateSharedOptions(xt,g,Ct)}calculateTotal(){const a=this._cachedMeta,c=a.data;let g,f=0;for(g=0;g<c.length;g++){const _=a._parsed[g];null!==_&&!isNaN(_)&&this.chart.getDataVisibility(g)&&!c[g].hidden&&(f+=Math.abs(_))}return f}calculateCircumference(a){const c=this._cachedMeta.total;return c>0&&!isNaN(a)?Ht*(Math.abs(a)/c):0}getLabelAndValue(a){const f=this.chart,g=f.data.labels||[],_=aa(this._cachedMeta._parsed[a],f.options.locale);return{label:g[a]||"",value:_}}getMaxBorderWidth(a){let c=0;const f=this.chart;let g,_,w,A,k;if(!a)for(g=0,_=f.data.datasets.length;g<_;++g)if(f.isDatasetVisible(g)){w=f.getDatasetMeta(g),a=w.data,A=w.controller;break}if(!a)return 0;for(g=0,_=a.length;g<_;++g)k=A.resolveDataElementOptions(g),"inner"!==k.borderAlign&&(c=Math.max(c,k.borderWidth||0,k.hoverBorderWidth||0));return c}getMaxOffset(a){let c=0;for(let f=0,g=a.length;f<g;++f){const _=this.resolveDataElementOptions(f);c=Math.max(c,_.offset||0,_.hoverOffset||0)}return c}_getRingWeightOffset(a){let c=0;for(let f=0;f<a;++f)this.chart.isDatasetVisible(f)&&(c+=this._getRingWeight(f));return c}_getRingWeight(a){return Math.max(it(this.chart.data.datasets[a].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return u.id="doughnut",u.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},u.descriptors={_scriptable:l=>"spacing"!==l,_indexable:l=>"spacing"!==l},u.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const a=l.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:c}}=l.legend.options;return a.labels.map((f,g)=>{const w=l.getDatasetMeta(0).controller.getStyle(g);return{text:f,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,lineWidth:w.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(g),index:g}})}return[]}},onClick(l,a,c){c.chart.toggleDataVisibility(a.index),c.chart.update()}},tooltip:{callbacks:{title:()=>"",label(l){let a=l.label;const c=": "+l.formattedValue;return fe(a)?(a=a.slice(),a[0]+=c):a+=c,a}}}}},u})(),X=(()=>{class u extends uo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(a){const c=this._cachedMeta,{dataset:f,data:g=[],_dataset:_}=c,w=this.chart._animationsDisabled;let{start:A,count:k}=function _e(u,l,a){const c=l.length;let f=0,g=c;if(u._sorted){const{iScale:_,_parsed:w}=u,A=_.axis,{min:k,max:Z,minDefined:te,maxDefined:he}=_.getUserBounds();te&&(f=je(Math.min(Ur(w,_.axis,k).lo,a?c:Ur(l,A,_.getPixelForValue(k)).lo),0,c-1)),g=he?je(Math.max(Ur(w,_.axis,Z).hi+1,a?0:Ur(l,A,_.getPixelForValue(Z)).hi+1),f,c)-f:c-f}return{start:f,count:g}}(c,g,w);this._drawStart=A,this._drawCount=k,function $e(u){const{xScale:l,yScale:a,_scaleRanges:c}=u,f={xmin:l.min,xmax:l.max,ymin:a.min,ymax:a.max};if(!c)return u._scaleRanges=f,!0;const g=c.xmin!==l.min||c.xmax!==l.max||c.ymin!==a.min||c.ymax!==a.max;return Object.assign(c,f),g}(c)&&(A=0,k=g.length),f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!_._decimated,f.points=g;const Z=this.resolveDatasetElementOptions(a);this.options.showLine||(Z.borderWidth=0),Z.segment=this.options.segment,this.updateElement(f,void 0,{animated:!w,options:Z},a),this.updateElements(g,A,k,a)}updateElements(a,c,f,g){const _="reset"===g,{iScale:w,vScale:A,_stacked:k,_dataset:Z}=this._cachedMeta,te=this.resolveDataElementOptions(c,g),he=this.getSharedOptions(te),xe=this.includeOptions(g,he),We=w.axis,Je=A.axis,{spanGaps:Ct,segment:xt}=this.options,rn=qn(Ct)?Ct:Number.POSITIVE_INFINITY,Mn=this.chart._animationsDisabled||_||"none"===g;let tn=c>0&&this.getParsed(c-1);for(let en=c;en<c+f;++en){const Gn=a[en],Wn=this.getParsed(en),ci=Mn?Gn:{},vi=ce(Wn[Je]),cs=ci[We]=w.getPixelForValue(Wn[We],en),dr=ci[Je]=_||vi?A.getBasePixel():A.getPixelForValue(k?this.applyStack(A,Wn,k):Wn[Je],en);ci.skip=isNaN(cs)||isNaN(dr)||vi,ci.stop=en>0&&Math.abs(Wn[We]-tn[We])>rn,xt&&(ci.parsed=Wn,ci.raw=Z.data[en]),xe&&(ci.options=he||this.resolveDataElementOptions(en,Gn.active?"active":g)),Mn||this.updateElement(Gn,en,ci,g),tn=Wn}this.updateSharedOptions(he,g,te)}getMaxOverflow(){const a=this._cachedMeta,c=a.dataset,f=c.options&&c.options.borderWidth||0,g=a.data||[];if(!g.length)return f;const _=g[0].size(this.resolveDataElementOptions(0)),w=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(f,_,w)/2}draw(){const a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}}return u.id="line",u.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},u.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},u})();var ln=Object.freeze({__proto__:null,BarController:O,BubbleController:x,DoughnutController:q,LineController:X,PolarAreaController:(()=>{class u extends uo{constructor(a,c){super(a,c),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){const f=this.chart,g=f.data.labels||[],_=aa(this._cachedMeta._parsed[a].r,f.options.locale);return{label:g[a]||"",value:_}}parseObjectData(a,c,f,g){return $.bind(this)(a,c,f,g)}update(a){const c=this._cachedMeta.data;this._updateRadius(),this.updateElements(c,0,c.length,a)}getMinMax(){const c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((f,g)=>{const _=this.getParsed(g).r;!isNaN(_)&&this.chart.getDataVisibility(g)&&(_<c.min&&(c.min=_),_>c.max&&(c.max=_))}),c}_updateRadius(){const a=this.chart,c=a.chartArea,f=a.options,g=Math.min(c.right-c.left,c.bottom-c.top),_=Math.max(g/2,0),A=(_-Math.max(f.cutoutPercentage?_/100*f.cutoutPercentage:1,0))/a.getVisibleDatasetCount();this.outerRadius=_-A*this.index,this.innerRadius=this.outerRadius-A}updateElements(a,c,f,g){const _="reset"===g,w=this.chart,k=w.options.animation,Z=this._cachedMeta.rScale,te=Z.xCenter,he=Z.yCenter,xe=Z.getIndexAngle(0)-.5*rt;let Je,We=xe;const Ct=360/this.countVisibleElements();for(Je=0;Je<c;++Je)We+=this._computeAngle(Je,g,Ct);for(Je=c;Je<c+f;Je++){const xt=a[Je];let rn=We,Mn=We+this._computeAngle(Je,g,Ct),tn=w.getDataVisibility(Je)?Z.getDistanceFromCenterForValue(this.getParsed(Je).r):0;We=Mn,_&&(k.animateScale&&(tn=0),k.animateRotate&&(rn=Mn=xe));const en={x:te,y:he,innerRadius:0,outerRadius:tn,startAngle:rn,endAngle:Mn,options:this.resolveDataElementOptions(Je,xt.active?"active":g)};this.updateElement(xt,Je,en,g)}}countVisibleElements(){let c=0;return this._cachedMeta.data.forEach((f,g)=>{!isNaN(this.getParsed(g).r)&&this.chart.getDataVisibility(g)&&c++}),c}_computeAngle(a,c,f){return this.chart.getDataVisibility(a)?vn(this.resolveDataElementOptions(a,c).angle||f):0}}return u.id="polarArea",u.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},u.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(l){const a=l.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:c}}=l.legend.options;return a.labels.map((f,g)=>{const w=l.getDatasetMeta(0).controller.getStyle(g);return{text:f,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,lineWidth:w.borderWidth,pointStyle:c,hidden:!l.getDataVisibility(g),index:g}})}return[]}},onClick(l,a,c){c.chart.toggleDataVisibility(a.index),c.chart.update()}},tooltip:{callbacks:{title:()=>"",label:l=>l.chart.data.labels[l.dataIndex]+": "+l.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},u})(),PieController:(()=>{class u extends q{}return u.id="pie",u.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},u})(),RadarController:(()=>{class u extends uo{getLabelAndValue(a){const c=this._cachedMeta.vScale,f=this.getParsed(a);return{label:c.getLabels()[a],value:""+c.getLabelForValue(f[c.axis])}}parseObjectData(a,c,f,g){return $.bind(this)(a,c,f,g)}update(a){const c=this._cachedMeta,f=c.dataset,g=c.data||[],_=c.iScale.getLabels();if(f.points=g,"resize"!==a){const w=this.resolveDatasetElementOptions(a);this.options.showLine||(w.borderWidth=0),this.updateElement(f,void 0,{_loop:!0,_fullLoop:_.length===g.length,options:w},a)}this.updateElements(g,0,g.length,a)}updateElements(a,c,f,g){const _=this._cachedMeta.rScale,w="reset"===g;for(let A=c;A<c+f;A++){const k=a[A],Z=this.resolveDataElementOptions(A,k.active?"active":g),te=_.getPointPositionForValue(A,this.getParsed(A).r),he=w?_.xCenter:te.x,xe=w?_.yCenter:te.y,We={x:he,y:xe,angle:te.angle,skip:isNaN(he)||isNaN(xe),options:Z};this.updateElement(k,A,We,g)}}}return u.id="radar",u.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},u.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},u})(),ScatterController:(()=>{class u extends X{}return u.id="scatter",u.defaults={showLine:!1,fill:!1},u.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:l=>"("+l.label+", "+l.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},u})()});function gt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Lr={_date:(()=>{class u{constructor(a){this.options=a||{}}formats(){return gt()}parse(a,c){return gt()}format(a,c){return gt()}add(a,c,f){return gt()}diff(a,c,f){return gt()}startOf(a,c,f){return gt()}endOf(a,c){return gt()}}return u.override=function(l){Object.assign(u.prototype,l)},u})()};function Ll(u,l,a,c){const{controller:f,data:g,_sorted:_}=u,w=f._cachedMeta.iScale;if(w&&l===w.axis&&"r"!==l&&_&&g.length){const A=w._reversePixels?ao:Ur;if(!c)return A(g,l,a);if(f._sharedOptions){const k=g[0],Z="function"==typeof k.getRange&&k.getRange(l);if(Z){const te=A(g,l,a-Z),he=A(g,l,a+Z);return{lo:te.lo,hi:he.hi}}}}return{lo:0,hi:g.length-1}}function Da(u,l,a,c,f){const g=u.getSortedVisibleDatasetMetas(),_=a[l];for(let w=0,A=g.length;w<A;++w){const{index:k,data:Z}=g[w],{lo:te,hi:he}=Ll(g[w],l,_,f);for(let xe=te;xe<=he;++xe){const We=Z[xe];We.skip||c(We,k,xe)}}}function Fl(u,l,a,c,f){const g=[];return!f&&!u.isPointInArea(l)||Da(u,a,l,function(w,A,k){!f&&!Dr(w,u.chartArea,0)||w.inRange(l.x,l.y,c)&&g.push({element:w,datasetIndex:A,index:k})},!0),g}function Ho(u,l,a,c,f,g){return g||u.isPointInArea(l)?"r"!==a||c?function uc(u,l,a,c,f,g){let _=[];const w=function Eo(u){const l=-1!==u.indexOf("x"),a=-1!==u.indexOf("y");return function(c,f){const g=l?Math.abs(c.x-f.x):0,_=a?Math.abs(c.y-f.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(_,2))}}(a);let A=Number.POSITIVE_INFINITY;return Da(u,a,l,function k(Z,te,he){const xe=Z.inRange(l.x,l.y,f);if(c&&!xe)return;const We=Z.getCenterPoint(f);if(!g&&!u.isPointInArea(We)&&!xe)return;const Ct=w(l,We);Ct<A?(_=[{element:Z,datasetIndex:te,index:he}],A=Ct):Ct===A&&_.push({element:Z,datasetIndex:te,index:he})}),_}(u,l,a,c,f,g):function uu(u,l,a,c){let f=[];return Da(u,a,l,function g(_,w,A){const{startAngle:k,endAngle:Z}=_.getProps(["startAngle","endAngle"],c),{angle:te}=wn(_,{x:l.x,y:l.y});Be(te,k,Z)&&f.push({element:_,datasetIndex:w,index:A})}),f}(u,l,a,f):[]}function Hu(u,l,a,c,f){const g=[],_="x"===a?"inXRange":"inYRange";let w=!1;return Da(u,a,l,(A,k,Z)=>{A[_](l[a],f)&&(g.push({element:A,datasetIndex:k,index:Z}),w=w||A.inRange(l.x,l.y,f))}),c&&!w?[]:g}var Vl={evaluateInteractionItems:Da,modes:{index(u,l,a,c){const f=us(l,u),g=a.axis||"x",_=a.includeInvisible||!1,w=a.intersect?Fl(u,f,g,c,_):Ho(u,f,g,!1,c,_),A=[];return w.length?(u.getSortedVisibleDatasetMetas().forEach(k=>{const Z=w[0].index,te=k.data[Z];te&&!te.skip&&A.push({element:te,datasetIndex:k.index,index:Z})}),A):[]},dataset(u,l,a,c){const f=us(l,u),g=a.axis||"xy",_=a.includeInvisible||!1;let w=a.intersect?Fl(u,f,g,c,_):Ho(u,f,g,!1,c,_);if(w.length>0){const A=w[0].datasetIndex,k=u.getDatasetMeta(A).data;w=[];for(let Z=0;Z<k.length;++Z)w.push({element:k[Z],datasetIndex:A,index:Z})}return w},point:(u,l,a,c)=>Fl(u,us(l,u),a.axis||"xy",c,a.includeInvisible||!1),nearest:(u,l,a,c)=>Ho(u,us(l,u),a.axis||"xy",a.intersect,c,a.includeInvisible||!1),x:(u,l,a,c)=>Hu(u,us(l,u),"x",a.intersect,c),y:(u,l,a,c)=>Hu(u,us(l,u),"y",a.intersect,c)}};const fo=["left","top","right","bottom"];function Qo(u,l){return u.filter(a=>a.pos===l)}function Ua(u,l){return u.filter(a=>-1===fo.indexOf(a.pos)&&a.box.axis===l)}function ui(u,l){return u.sort((a,c)=>{const f=l?c:a,g=l?a:c;return f.weight===g.weight?f.index-g.index:f.weight-g.weight})}function cc(u,l,a,c){return Math.max(u[a],l[a])+Math.max(u[c],l[c])}function Hr(u,l){u.top=Math.max(u.top,l.top),u.left=Math.max(u.left,l.left),u.bottom=Math.max(u.bottom,l.bottom),u.right=Math.max(u.right,l.right)}function Wc(u,l,a,c){const{pos:f,box:g}=a,_=u.maxPadding;if(!be(f)){a.size&&(u[f]-=a.size);const te=c[a.stack]||{size:0,count:1};te.size=Math.max(te.size,a.horizontal?g.height:g.width),a.size=te.size/te.count,u[f]+=a.size}g.getPadding&&Hr(_,g.getPadding());const w=Math.max(0,l.outerWidth-cc(_,u,"left","right")),A=Math.max(0,l.outerHeight-cc(_,u,"top","bottom")),k=w!==u.w,Z=A!==u.h;return u.w=w,u.h=A,a.horizontal?{same:k,other:Z}:{same:Z,other:k}}function yr(u,l){const a=l.maxPadding;return function c(f){const g={left:0,top:0,right:0,bottom:0};return f.forEach(_=>{g[_]=Math.max(l[_],a[_])}),g}(u?["left","right"]:["top","bottom"])}function gl(u,l,a,c){const f=[];let g,_,w,A,k,Z;for(g=0,_=u.length,k=0;g<_;++g){w=u[g],A=w.box,A.update(w.width||l.w,w.height||l.h,yr(w.horizontal,l));const{same:te,other:he}=Wc(l,a,w,c);k|=te&&f.length,Z=Z||he,A.fullSize||f.push(w)}return k&&gl(f,l,a,c)||Z}function Ss(u,l,a,c,f){u.top=a,u.left=l,u.right=l+c,u.bottom=a+f,u.width=c,u.height=f}function ml(u,l,a,c){const f=a.padding;let{x:g,y:_}=l;for(const w of u){const A=w.box,k=c[w.stack]||{count:1,placed:0,weight:1},Z=w.stackWeight/k.weight||1;if(w.horizontal){const te=l.w*Z,he=k.size||A.height;ft(k.start)&&(_=k.start),A.fullSize?Ss(A,f.left,_,a.outerWidth-f.right-f.left,he):Ss(A,l.left+k.placed,_,te,he),k.start=_,k.placed+=te,_=A.bottom}else{const te=l.h*Z,he=k.size||A.width;ft(k.start)&&(g=k.start),A.fullSize?Ss(A,g,f.top,he,a.outerHeight-f.bottom-f.top):Ss(A,g,l.top+k.placed,he,te),k.start=g,k.placed+=te,g=A.right}}l.x=g,l.y=_}di.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ao={addBox(u,l){u.boxes||(u.boxes=[]),l.fullSize=l.fullSize||!1,l.position=l.position||"top",l.weight=l.weight||0,l._layers=l._layers||function(){return[{z:0,draw(a){l.draw(a)}}]},u.boxes.push(l)},removeBox(u,l){const a=u.boxes?u.boxes.indexOf(l):-1;-1!==a&&u.boxes.splice(a,1)},configure(u,l,a){l.fullSize=a.fullSize,l.position=a.position,l.weight=a.weight},update(u,l,a,c){if(!u)return;const f=Xi(u.options.layout.padding),g=Math.max(l-f.width,0),_=Math.max(a-f.height,0),w=function _i(u){const l=function pl(u){const l=[];let a,c,f,g,_,w;for(a=0,c=(u||[]).length;a<c;++a)f=u[a],({position:g,options:{stack:_,stackWeight:w=1}}=f),l.push({index:a,box:f,pos:g,horizontal:f.isHorizontal(),weight:f.weight,stack:_&&g+_,stackWeight:w});return l}(u),a=ui(l.filter(k=>k.box.fullSize),!0),c=ui(Qo(l,"left"),!0),f=ui(Qo(l,"right")),g=ui(Qo(l,"top"),!0),_=ui(Qo(l,"bottom")),w=Ua(l,"x"),A=Ua(l,"y");return{fullSize:a,leftAndTop:c.concat(g),rightAndBottom:f.concat(A).concat(_).concat(w),chartArea:Qo(l,"chartArea"),vertical:c.concat(f).concat(A),horizontal:g.concat(_).concat(w)}}(u.boxes),A=w.vertical,k=w.horizontal;Oe(u.boxes,Je=>{"function"==typeof Je.beforeLayout&&Je.beforeLayout()});const Z=A.reduce((Je,Ct)=>Ct.box.options&&!1===Ct.box.options.display?Je:Je+1,0)||1,te=Object.freeze({outerWidth:l,outerHeight:a,padding:f,availableWidth:g,availableHeight:_,vBoxMaxWidth:g/2/Z,hBoxMaxHeight:_/2}),he=Object.assign({},f);Hr(he,Xi(c));const xe=Object.assign({maxPadding:he,w:g,h:_,x:f.left,y:f.top},f),We=function Jr(u,l){const a=function cu(u){const l={};for(const a of u){const{stack:c,pos:f,stackWeight:g}=a;if(!c||!fo.includes(f))continue;const _=l[c]||(l[c]={count:0,placed:0,weight:0,size:0});_.count++,_.weight+=g}return l}(u),{vBoxMaxWidth:c,hBoxMaxHeight:f}=l;let g,_,w;for(g=0,_=u.length;g<_;++g){w=u[g];const{fullSize:A}=w.box,k=a[w.stack],Z=k&&w.stackWeight/k.weight;w.horizontal?(w.width=Z?Z*c:A&&l.availableWidth,w.height=f):(w.width=c,w.height=Z?Z*f:A&&l.availableHeight)}return a}(A.concat(k),te);gl(w.fullSize,xe,te,We),gl(A,xe,te,We),gl(k,xe,te,We)&&gl(A,xe,te,We),function $u(u){const l=u.maxPadding;function a(c){const f=Math.max(l[c]-u[c],0);return u[c]+=f,f}u.y+=a("top"),u.x+=a("left"),a("right"),a("bottom")}(xe),ml(w.leftAndTop,xe,te,We),xe.x+=xe.w,xe.y+=xe.h,ml(w.rightAndBottom,xe,te,We),u.chartArea={left:xe.left,top:xe.top,right:xe.left+xe.w,bottom:xe.top+xe.h,height:xe.h,width:xe.w},Oe(w.chartArea,Je=>{const Ct=Je.box;Object.assign(Ct,u.chartArea),Ct.update(xe.w,xe.h,{left:0,top:0,right:0,bottom:0})})}};class Xr{acquireContext(l,a){}releaseContext(l){return!1}addEventListener(l,a,c){}removeEventListener(l,a,c){}getDevicePixelRatio(){return 1}getMaximumSize(l,a,c,f){return a=Math.max(0,a||l.width),c=c||l.height,{width:a,height:Math.max(0,f?Math.floor(a/f):c)}}isAttached(l){return!0}updateConfig(l){}}class Rd extends Xr{acquireContext(l){return l&&l.getContext&&l.getContext("2d")||null}updateConfig(l){l.options.animation=!1}}const br="$chartjs",hs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$o=u=>null===u||""===u,Bl=!!Oa&&{passive:!0};function Jo(u,l,a){u.canvas.removeEventListener(l,a,Bl)}function po(u,l){for(const a of u)if(a===l||a.contains(l))return!0}function So(u,l,a){const c=u.canvas,f=new MutationObserver(g=>{let _=!1;for(const w of g)_=_||po(w.addedNodes,c),_=_&&!po(w.removedNodes,c);_&&a()});return f.observe(document,{childList:!0,subtree:!0}),f}function ua(u,l,a){const c=u.canvas,f=new MutationObserver(g=>{let _=!1;for(const w of g)_=_||po(w.removedNodes,c),_=_&&!po(w.addedNodes,c);_&&a()});return f.observe(document,{childList:!0,subtree:!0}),f}const Cn=new Map;let Ul=0;function du(){const u=window.devicePixelRatio;u!==Ul&&(Ul=u,Cn.forEach((l,a)=>{a.currentDevicePixelRatio!==u&&l()}))}function go(u,l,a){const c=u.canvas,f=c&&ar(c);if(!f)return;const g=ne((w,A)=>{const k=f.clientWidth;a(w,A),k<f.clientWidth&&a()},window),_=new ResizeObserver(w=>{const A=w[0],k=A.contentRect.width,Z=A.contentRect.height;0===k&&0===Z||g(k,Z)});return _.observe(f),function ja(u,l){Cn.size||window.addEventListener("resize",du),Cn.set(u,l)}(u,g),_}function ca(u,l,a){a&&a.disconnect(),"resize"===l&&function Xo(u){Cn.delete(u),Cn.size||window.removeEventListener("resize",du)}(u)}function Ja(u,l,a){const c=u.canvas,f=ne(g=>{null!==u.ctx&&a(function Ca(u,l){const a=hs[u.type]||u.type,{x:c,y:f}=us(u,l);return{type:a,chart:l,native:u,x:void 0!==c?c:null,y:void 0!==f?f:null}}(g,u))},u,g=>{const _=g[0];return[_,_.offsetX,_.offsetY]});return function Zs(u,l,a){u.addEventListener(l,a,Bl)}(c,l,f),f}class Xa extends Xr{acquireContext(l,a){const c=l&&l.getContext&&l.getContext("2d");return c&&c.canvas===l?(function dc(u,l){const a=u.style,c=u.getAttribute("height"),f=u.getAttribute("width");if(u[br]={initial:{height:c,width:f,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",$o(f)){const g=Sr(u,"width");void 0!==g&&(u.width=g)}if($o(c))if(""===u.style.height)u.height=u.width/(l||2);else{const g=Sr(u,"height");void 0!==g&&(u.height=g)}}(l,a),c):null}releaseContext(l){const a=l.canvas;if(!a[br])return!1;const c=a[br].initial;["height","width"].forEach(g=>{const _=c[g];ce(_)?a.removeAttribute(g):a.setAttribute(g,_)});const f=c.style||{};return Object.keys(f).forEach(g=>{a.style[g]=f[g]}),a.width=a.width,delete a[br],!0}addEventListener(l,a,c){this.removeEventListener(l,a),(l.$proxies||(l.$proxies={}))[a]=({attach:So,detach:ua,resize:go}[a]||Ja)(l,a,c)}removeEventListener(l,a){const c=l.$proxies||(l.$proxies={}),f=c[a];f&&(({attach:ca,detach:ca,resize:ca}[a]||Jo)(l,a,f),c[a]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(l,a,c,f){return function nn(u,l,a,c){const f=H(u),g=Ot(f,"margin"),_=W(f.maxWidth,u,"clientWidth")||Ut,w=W(f.maxHeight,u,"clientHeight")||Ut,A=function Ko(u,l,a){let c,f;if(void 0===l||void 0===a){const g=ar(u);if(g){const _=g.getBoundingClientRect(),w=H(g),A=Ot(w,"border","width"),k=Ot(w,"padding");l=_.width-k.width-A.width,a=_.height-k.height-A.height,c=W(w.maxWidth,g,"clientWidth"),f=W(w.maxHeight,g,"clientHeight")}else l=u.clientWidth,a=u.clientHeight}return{width:l,height:a,maxWidth:c||Ut,maxHeight:f||Ut}}(u,l,a);let{width:k,height:Z}=A;if("content-box"===f.boxSizing){const te=Ot(f,"border","width"),he=Ot(f,"padding");k-=he.width+te.width,Z-=he.height+te.height}return k=Math.max(0,k-g.width),Z=Math.max(0,c?Math.floor(k/c):Z-g.height),k=zs(Math.min(k,_,A.maxWidth)),Z=zs(Math.min(Z,w,A.maxHeight)),k&&!Z&&(Z=zs(k/2)),{width:k,height:Z}}(l,a,c,f)}isAttached(l){const a=ar(l);return!(!a||!a.isConnected)}}class ks{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(l){const{x:a,y:c}=this.getProps(["x","y"],l);return{x:a,y:c}}hasValue(){return qn(this.x)&&qn(this.y)}getProps(l,a){const c=this.$animations;if(!a||!c)return this;const f={};return l.forEach(g=>{f[g]=c[g]&&c[g].active()?c[g]._to:this[g]}),f}}ks.defaults={},ks.defaultRoutes=void 0;const hu={values:u=>fe(u)?u:""+u,numeric(u,l,a){if(0===u)return"0";const c=this.chart.options.locale;let f,g=u;if(a.length>1){const k=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(k<1e-4||k>1e15)&&(f="scientific"),g=function el(u,l){let a=l.length>3?l[2].value-l[1].value:l[1].value-l[0].value;return Math.abs(a)>=1&&u!==Math.floor(u)&&(a=u-Math.floor(u)),a}(u,a)}const _=Sn(Math.abs(g)),w=Math.max(Math.min(-1*Math.floor(_),20),0),A={notation:f,minimumFractionDigits:w,maximumFractionDigits:w};return Object.assign(A,this.options.ticks.format),aa(u,c,A)},logarithmic(u,l,a){if(0===u)return"0";const c=u/Math.pow(10,Math.floor(Sn(u)));return 1===c||2===c||5===c?hu.numeric.call(this,u,l,a):""}};var zo={formatters:hu};function Ta(u,l,a,c,f){const g=it(c,0),_=Math.min(it(f,u.length),u.length);let A,k,Z,w=0;for(a=Math.ceil(a),f&&(A=f-c,a=A/Math.floor(A/a)),Z=g;Z<0;)w++,Z=Math.round(g+w*a);for(k=Math.max(g,0);k<_;k++)k===Z&&(l.push(u[k]),w++,Z=Math.round(g+w*a))}di.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(u,l)=>l.lineWidth,tickColor:(u,l)=>l.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),di.route("scale.ticks","color","","color"),di.route("scale.grid","color","","borderColor"),di.route("scale.grid","borderColor","","borderColor"),di.route("scale.title","color","","color"),di.describe("scale",{_fallback:!1,_scriptable:u=>!u.startsWith("before")&&!u.startsWith("after")&&"callback"!==u&&"parser"!==u,_indexable:u=>"borderDash"!==u&&"tickBorderDash"!==u}),di.describe("scales",{_fallback:"scale"}),di.describe("scale.ticks",{_scriptable:u=>"backdropPadding"!==u&&"callback"!==u,_indexable:u=>"backdropPadding"!==u});const U=(u,l,a)=>"top"===l||"left"===l?u[l]+a:u[l]-a;function K(u,l){const a=[],c=u.length/l,f=u.length;let g=0;for(;g<f;g+=c)a.push(u[Math.floor(g)]);return a}function re(u,l,a){const c=u.ticks.length,f=Math.min(l,c-1),g=u._startPixel,_=u._endPixel,w=1e-6;let k,A=u.getPixelForTick(f);if(!(a&&(k=1===c?Math.max(A-g,_-A):0===l?(u.getPixelForTick(1)-A)/2:(A-u.getPixelForTick(f-1))/2,A+=f<l?k:-k,A<g-w||A>_+w)))return A}function mt(u){return u.drawTicks?u.tickLength:0}function St(u,l){if(!u.display)return 0;const a=qi(u.font,l),c=Xi(u.padding);return(fe(u.text)?u.text.length:1)*a.lineHeight+c.height}function ri(u,l,a){let c=we(u);return(a&&"right"!==l||!a&&"right"===l)&&(c=(u=>"left"===u?"right":"right"===u?"left":u)(c)),c}class Ti extends ks{constructor(l){super(),this.id=l.id,this.type=l.type,this.options=void 0,this.ctx=l.ctx,this.chart=l.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(l){this.options=l.setContext(this.getContext()),this.axis=l.axis,this._userMin=this.parse(l.min),this._userMax=this.parse(l.max),this._suggestedMin=this.parse(l.suggestedMin),this._suggestedMax=this.parse(l.suggestedMax)}parse(l,a){return l}getUserBounds(){let{_userMin:l,_userMax:a,_suggestedMin:c,_suggestedMax:f}=this;return l=at(l,Number.POSITIVE_INFINITY),a=at(a,Number.NEGATIVE_INFINITY),c=at(c,Number.POSITIVE_INFINITY),f=at(f,Number.NEGATIVE_INFINITY),{min:at(l,c),max:at(a,f),minDefined:vt(l),maxDefined:vt(a)}}getMinMax(l){let _,{min:a,max:c,minDefined:f,maxDefined:g}=this.getUserBounds();if(f&&g)return{min:a,max:c};const w=this.getMatchingVisibleMetas();for(let A=0,k=w.length;A<k;++A)_=w[A].controller.getMinMax(this,l),f||(a=Math.min(a,_.min)),g||(c=Math.max(c,_.max));return a=g&&a>c?c:a,c=f&&a>c?a:c,{min:at(a,at(c,a)),max:at(c,at(a,c))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const l=this.chart.data;return this.options.labels||(this.isHorizontal()?l.xLabels:l.yLabels)||l.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){st(this.options.beforeUpdate,[this])}update(l,a,c){const{beginAtZero:f,grace:g,ticks:_}=this.options,w=_.sampleSize;this.beforeUpdate(),this.maxWidth=l,this.maxHeight=a,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Xs(u,l,a){const{min:c,max:f}=u,g=Xe(l,(f-c)/2),_=(w,A)=>a&&0===w?0:w+A;return{min:_(c,-Math.abs(g)),max:_(f,g)}}(this,g,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const A=w<this.ticks.length;this._convertTicksToLabels(A?K(this.ticks,w):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),_.display&&(_.autoSkip||"auto"===_.source)&&(this.ticks=function hc(u,l){const a=u.options.ticks,c=a.maxTicksLimit||function Fo(u){const l=u.options.offset,a=u._tickSize();return Math.floor(Math.min(u._length/a+(l?0:1),u._maxLength/a))}(u),f=a.major.enabled?function fu(u){const l=[];let a,c;for(a=0,c=u.length;a<c;a++)u[a].major&&l.push(a);return l}(l):[],g=f.length,_=f[0],w=f[g-1],A=[];if(g>c)return function zu(u,l,a,c){let _,f=0,g=a[0];for(c=Math.ceil(c),_=0;_<u.length;_++)_===g&&(l.push(u[_]),f++,g=a[f*c])}(l,A,f,g/c),A;const k=function yl(u,l,a){const c=function _l(u){const l=u.length;let a,c;if(l<2)return!1;for(c=u[0],a=1;a<l;++a)if(u[a]-u[a-1]!==c)return!1;return c}(u),f=l.length/a;if(!c)return Math.max(f,1);const g=function si(u){const l=[],a=Math.sqrt(u);let c;for(c=1;c<a;c++)u%c==0&&(l.push(c),l.push(u/c));return a===(0|a)&&l.push(a),l.sort((f,g)=>f-g).pop(),l}(c);for(let _=0,w=g.length-1;_<w;_++){const A=g[_];if(A>f)return A}return Math.max(f,1)}(f,l,c);if(g>0){let Z,te;const he=g>1?Math.round((w-_)/(g-1)):null;for(Ta(l,A,k,ce(he)?0:_-he,_),Z=0,te=g-1;Z<te;Z++)Ta(l,A,k,f[Z],f[Z+1]);return Ta(l,A,k,w,ce(he)?l.length:w+he),A}return Ta(l,A,k),A}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),A&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let a,c,l=this.options.reverse;this.isHorizontal()?(a=this.left,c=this.right):(a=this.top,c=this.bottom,l=!l),this._startPixel=a,this._endPixel=c,this._reversePixels=l,this._length=c-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){st(this.options.afterUpdate,[this])}beforeSetDimensions(){st(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){st(this.options.afterSetDimensions,[this])}_callHooks(l){this.chart.notifyPlugins(l,this.getContext()),st(this.options[l],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){st(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(l){const a=this.options.ticks;let c,f,g;for(c=0,f=l.length;c<f;c++)g=l[c],g.label=st(a.callback,[g.value,c,l],this)}afterTickToLabelConversion(){st(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){st(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const l=this.options,a=l.ticks,c=this.ticks.length,f=a.minRotation||0,g=a.maxRotation;let w,A,k,_=f;if(!this._isVisible()||!a.display||f>=g||c<=1||!this.isHorizontal())return void(this.labelRotation=f);const Z=this._getLabelSizes(),te=Z.widest.width,he=Z.highest.height,xe=je(this.chart.width-te,0,this.maxWidth);w=l.offset?this.maxWidth/c:xe/(c-1),te+6>w&&(w=xe/(c-(l.offset?.5:1)),A=this.maxHeight-mt(l.grid)-a.padding-St(l.title,this.chart.options.font),k=Math.sqrt(te*te+he*he),_=Fn(Math.min(Math.asin(je((Z.highest.height+6)/w,-1,1)),Math.asin(je(A/k,-1,1))-Math.asin(je(he/k,-1,1)))),_=Math.max(f,Math.min(g,_))),this.labelRotation=_}afterCalculateLabelRotation(){st(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){st(this.options.beforeFit,[this])}fit(){const l={width:0,height:0},{chart:a,options:{ticks:c,title:f,grid:g}}=this,_=this._isVisible(),w=this.isHorizontal();if(_){const A=St(f,a.options.font);if(w?(l.width=this.maxWidth,l.height=mt(g)+A):(l.height=this.maxHeight,l.width=mt(g)+A),c.display&&this.ticks.length){const{first:k,last:Z,widest:te,highest:he}=this._getLabelSizes(),xe=2*c.padding,We=vn(this.labelRotation),Je=Math.cos(We),Ct=Math.sin(We);w?l.height=Math.min(this.maxHeight,l.height+(c.mirror?0:Ct*te.width+Je*he.height)+xe):l.width=Math.min(this.maxWidth,l.width+(c.mirror?0:Je*te.width+Ct*he.height)+xe),this._calculatePadding(k,Z,Ct,Je)}}this._handleMargins(),w?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(l,a,c,f){const{ticks:{align:g,padding:_},position:w}=this.options,A=0!==this.labelRotation,k="top"!==w&&"x"===this.axis;if(this.isHorizontal()){const Z=this.getPixelForTick(0)-this.left,te=this.right-this.getPixelForTick(this.ticks.length-1);let he=0,xe=0;A?k?(he=f*l.width,xe=c*a.height):(he=c*l.height,xe=f*a.width):"start"===g?xe=a.width:"end"===g?he=l.width:"inner"!==g&&(he=l.width/2,xe=a.width/2),this.paddingLeft=Math.max((he-Z+_)*this.width/(this.width-Z),0),this.paddingRight=Math.max((xe-te+_)*this.width/(this.width-te),0)}else{let Z=a.height/2,te=l.height/2;"start"===g?(Z=0,te=l.height):"end"===g&&(Z=a.height,te=0),this.paddingTop=Z+_,this.paddingBottom=te+_}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){st(this.options.afterFit,[this])}isHorizontal(){const{axis:l,position:a}=this.options;return"top"===a||"bottom"===a||"x"===l}isFullSize(){return this.options.fullSize}_convertTicksToLabels(l){let a,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(l),a=0,c=l.length;a<c;a++)ce(l[a].label)&&(l.splice(a,1),c--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let l=this._labelSizes;if(!l){const a=this.options.ticks.sampleSize;let c=this.ticks;a<c.length&&(c=K(c,a)),this._labelSizes=l=this._computeLabelSizes(c,c.length)}return l}_computeLabelSizes(l,a){const{ctx:c,_longestTextCache:f}=this,g=[],_=[];let k,Z,te,he,xe,We,Je,Ct,xt,rn,Mn,w=0,A=0;for(k=0;k<a;++k){if(he=l[k].label,xe=this._resolveTickFontOptions(k),c.font=We=xe.string,Je=f[We]=f[We]||{data:{},gc:[]},Ct=xe.lineHeight,xt=rn=0,ce(he)||fe(he)){if(fe(he))for(Z=0,te=he.length;Z<te;++Z)Mn=he[Z],!ce(Mn)&&!fe(Mn)&&(xt=Ji(c,Je.data,Je.gc,xt,Mn),rn+=Ct)}else xt=Ji(c,Je.data,Je.gc,xt,he),rn=Ct;g.push(xt),_.push(rn),w=Math.max(xt,w),A=Math.max(rn,A)}!function Ae(u,l){Oe(u,a=>{const c=a.gc,f=c.length/2;let g;if(f>l){for(g=0;g<f;++g)delete a.data[c[g]];c.splice(0,f)}})}(f,a);const tn=g.indexOf(w),en=_.indexOf(A),Gn=Wn=>({width:g[Wn]||0,height:_[Wn]||0});return{first:Gn(0),last:Gn(a-1),widest:Gn(tn),highest:Gn(en),widths:g,heights:_}}getLabelForValue(l){return l}getPixelForValue(l,a){return NaN}getValueForPixel(l){}getPixelForTick(l){const a=this.ticks;return l<0||l>a.length-1?null:this.getPixelForValue(a[l].value)}getPixelForDecimal(l){this._reversePixels&&(l=1-l);const a=this._startPixel+l*this._length;return function Gt(u){return je(u,-32768,32767)}(this._alignToPixels?vs(this.chart,a,0):a)}getDecimalForPixel(l){const a=(l-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:l,max:a}=this;return l<0&&a<0?a:l>0&&a>0?l:0}getContext(l){const a=this.ticks||[];if(l>=0&&l<a.length){const c=a[l];return c.$context||(c.$context=function $n(u,l,a){return or(u,{tick:a,index:l,type:"tick"})}(this.getContext(),l,c))}return this.$context||(this.$context=function yn(u,l){return or(u,{scale:l,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const l=this.options.ticks,a=vn(this.labelRotation),c=Math.abs(Math.cos(a)),f=Math.abs(Math.sin(a)),g=this._getLabelSizes(),_=l.autoSkipPadding||0,w=g?g.widest.width+_:0,A=g?g.highest.height+_:0;return this.isHorizontal()?A*c>w*f?w/c:A/f:A*f<w*c?A/c:w/f}_isVisible(){const l=this.options.display;return"auto"!==l?!!l:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(l){const a=this.axis,c=this.chart,f=this.options,{grid:g,position:_}=f,w=g.offset,A=this.isHorizontal(),Z=this.ticks.length+(w?1:0),te=mt(g),he=[],xe=g.setContext(this.getContext()),We=xe.drawBorder?xe.borderWidth:0,Je=We/2,Ct=function(Vn){return vs(c,Vn,We)};let xt,rn,Mn,tn,en,Gn,Wn,ci,vi,cs,dr,nr;if("top"===_)xt=Ct(this.bottom),Gn=this.bottom-te,ci=xt-Je,cs=Ct(l.top)+Je,nr=l.bottom;else if("bottom"===_)xt=Ct(this.top),cs=l.top,nr=Ct(l.bottom)-Je,Gn=xt+Je,ci=this.top+te;else if("left"===_)xt=Ct(this.right),en=this.right-te,Wn=xt-Je,vi=Ct(l.left)+Je,dr=l.right;else if("right"===_)xt=Ct(this.left),vi=l.left,dr=Ct(l.right)-Je,en=xt+Je,Wn=this.left+te;else if("x"===a){if("center"===_)xt=Ct((l.top+l.bottom)/2+.5);else if(be(_)){const Vn=Object.keys(_)[0];xt=Ct(this.chart.scales[Vn].getPixelForValue(_[Vn]))}cs=l.top,nr=l.bottom,Gn=xt+Je,ci=Gn+te}else if("y"===a){if("center"===_)xt=Ct((l.left+l.right)/2);else if(be(_)){const Vn=Object.keys(_)[0];xt=Ct(this.chart.scales[Vn].getPixelForValue(_[Vn]))}en=xt-Je,Wn=en-te,vi=l.left,dr=l.right}const Is=it(f.ticks.maxTicksLimit,Z),ra=Math.max(1,Math.ceil(Z/Is));for(rn=0;rn<Z;rn+=ra){const Vn=g.setContext(this.getContext(rn)),fs=Vn.lineWidth,Pu=Vn.color,La=g.borderDash||[],Ru=Vn.borderDashOffset,Go=Vn.tickWidth,Xl=Vn.tickColor,eu=Vn.tickBorderDash||[],Ol=Vn.tickBorderDashOffset;Mn=re(this,rn,w),void 0!==Mn&&(tn=vs(c,Mn,fs),A?en=Wn=vi=dr=tn:Gn=ci=cs=nr=tn,he.push({tx1:en,ty1:Gn,tx2:Wn,ty2:ci,x1:vi,y1:cs,x2:dr,y2:nr,width:fs,color:Pu,borderDash:La,borderDashOffset:Ru,tickWidth:Go,tickColor:Xl,tickBorderDash:eu,tickBorderDashOffset:Ol}))}return this._ticksLength=Z,this._borderValue=xt,he}_computeLabelItems(l){const a=this.axis,c=this.options,{position:f,ticks:g}=c,_=this.isHorizontal(),w=this.ticks,{align:A,crossAlign:k,padding:Z,mirror:te}=g,he=mt(c.grid),xe=he+Z,We=te?-Z:xe,Je=-vn(this.labelRotation),Ct=[];let xt,rn,Mn,tn,en,Gn,Wn,ci,vi,cs,dr,nr,Is="middle";if("top"===f)Gn=this.bottom-We,Wn=this._getXAxisLabelAlignment();else if("bottom"===f)Gn=this.top+We,Wn=this._getXAxisLabelAlignment();else if("left"===f){const Vn=this._getYAxisLabelAlignment(he);Wn=Vn.textAlign,en=Vn.x}else if("right"===f){const Vn=this._getYAxisLabelAlignment(he);Wn=Vn.textAlign,en=Vn.x}else if("x"===a){if("center"===f)Gn=(l.top+l.bottom)/2+xe;else if(be(f)){const Vn=Object.keys(f)[0];Gn=this.chart.scales[Vn].getPixelForValue(f[Vn])+xe}Wn=this._getXAxisLabelAlignment()}else if("y"===a){if("center"===f)en=(l.left+l.right)/2-xe;else if(be(f)){const Vn=Object.keys(f)[0];en=this.chart.scales[Vn].getPixelForValue(f[Vn])}Wn=this._getYAxisLabelAlignment(he).textAlign}"y"===a&&("start"===A?Is="top":"end"===A&&(Is="bottom"));const ra=this._getLabelSizes();for(xt=0,rn=w.length;xt<rn;++xt){Mn=w[xt],tn=Mn.label;const Vn=g.setContext(this.getContext(xt));ci=this.getPixelForTick(xt)+g.labelOffset,vi=this._resolveTickFontOptions(xt),cs=vi.lineHeight,dr=fe(tn)?tn.length:1;const fs=dr/2,Pu=Vn.color,La=Vn.textStrokeColor,Ru=Vn.textStrokeWidth;let Xl,Go=Wn;if(_?(en=ci,"inner"===Wn&&(Go=xt===rn-1?this.options.reverse?"left":"right":0===xt?this.options.reverse?"right":"left":"center"),nr="top"===f?"near"===k||0!==Je?-dr*cs+cs/2:"center"===k?-ra.highest.height/2-fs*cs+cs:cs/2-ra.highest.height:"near"===k||0!==Je?cs/2:"center"===k?ra.highest.height/2-fs*cs:ra.highest.height-dr*cs,te&&(nr*=-1)):(Gn=ci,nr=(1-dr)*cs/2),Vn.showLabelBackdrop){const eu=Xi(Vn.backdropPadding),Ol=ra.heights[xt],qa=ra.widths[xt];let Bo=Gn+nr-eu.top,hd=en-eu.left;switch(Is){case"middle":Bo-=Ol/2;break;case"bottom":Bo-=Ol}switch(Wn){case"center":hd-=qa/2;break;case"right":hd-=qa}Xl={left:hd,top:Bo,width:qa+eu.width,height:Ol+eu.height,color:Vn.backdropColor}}Ct.push({rotation:Je,label:tn,font:vi,color:Pu,strokeColor:La,strokeWidth:Ru,textOffset:nr,textAlign:Go,textBaseline:Is,translation:[en,Gn],backdrop:Xl})}return Ct}_getXAxisLabelAlignment(){const{position:l,ticks:a}=this.options;if(-vn(this.labelRotation))return"top"===l?"left":"right";let f="center";return"start"===a.align?f="left":"end"===a.align?f="right":"inner"===a.align&&(f="inner"),f}_getYAxisLabelAlignment(l){const{position:a,ticks:{crossAlign:c,mirror:f,padding:g}}=this.options,w=l+g,A=this._getLabelSizes().widest.width;let k,Z;return"left"===a?f?(Z=this.right+g,"near"===c?k="left":"center"===c?(k="center",Z+=A/2):(k="right",Z+=A)):(Z=this.right-w,"near"===c?k="right":"center"===c?(k="center",Z-=A/2):(k="left",Z=this.left)):"right"===a?f?(Z=this.left+g,"near"===c?k="right":"center"===c?(k="center",Z-=A/2):(k="left",Z-=A)):(Z=this.left+w,"near"===c?k="left":"center"===c?(k="center",Z+=A/2):(k="right",Z=this.right)):k="right",{textAlign:k,x:Z}}_computeLabelArea(){if(this.options.ticks.mirror)return;const l=this.chart,a=this.options.position;return"left"===a||"right"===a?{top:0,left:this.left,bottom:l.height,right:this.right}:"top"===a||"bottom"===a?{top:this.top,left:0,bottom:this.bottom,right:l.width}:void 0}drawBackground(){const{ctx:l,options:{backgroundColor:a},left:c,top:f,width:g,height:_}=this;a&&(l.save(),l.fillStyle=a,l.fillRect(c,f,g,_),l.restore())}getLineWidthForValue(l){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const f=this.ticks.findIndex(g=>g.value===l);return f>=0?a.setContext(this.getContext(f)).lineWidth:0}drawGrid(l){const a=this.options.grid,c=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(l));let g,_;const w=(A,k,Z)=>{!Z.width||!Z.color||(c.save(),c.lineWidth=Z.width,c.strokeStyle=Z.color,c.setLineDash(Z.borderDash||[]),c.lineDashOffset=Z.borderDashOffset,c.beginPath(),c.moveTo(A.x,A.y),c.lineTo(k.x,k.y),c.stroke(),c.restore())};if(a.display)for(g=0,_=f.length;g<_;++g){const A=f[g];a.drawOnChartArea&&w({x:A.x1,y:A.y1},{x:A.x2,y:A.y2},A),a.drawTicks&&w({x:A.tx1,y:A.ty1},{x:A.tx2,y:A.ty2},{color:A.tickColor,width:A.tickWidth,borderDash:A.tickBorderDash,borderDashOffset:A.tickBorderDashOffset})}}drawBorder(){const{chart:l,ctx:a,options:{grid:c}}=this,f=c.setContext(this.getContext()),g=c.drawBorder?f.borderWidth:0;if(!g)return;const _=c.setContext(this.getContext(0)).lineWidth,w=this._borderValue;let A,k,Z,te;this.isHorizontal()?(A=vs(l,this.left,g)-g/2,k=vs(l,this.right,_)+_/2,Z=te=w):(Z=vs(l,this.top,g)-g/2,te=vs(l,this.bottom,_)+_/2,A=k=w),a.save(),a.lineWidth=f.borderWidth,a.strokeStyle=f.borderColor,a.beginPath(),a.moveTo(A,Z),a.lineTo(k,te),a.stroke(),a.restore()}drawLabels(l){if(!this.options.ticks.display)return;const c=this.ctx,f=this._computeLabelArea();f&&Vs(c,f);const g=this._labelItems||(this._labelItems=this._computeLabelItems(l));let _,w;for(_=0,w=g.length;_<w;++_){const A=g[_],k=A.font,Z=A.label;A.backdrop&&(c.fillStyle=A.backdrop.color,c.fillRect(A.backdrop.left,A.backdrop.top,A.backdrop.width,A.backdrop.height)),Os(c,Z,0,A.textOffset,k,A)}f&&bs(c)}drawTitle(){const{ctx:l,options:{position:a,title:c,reverse:f}}=this;if(!c.display)return;const g=qi(c.font),_=Xi(c.padding),w=c.align;let A=g.lineHeight/2;"bottom"===a||"center"===a||be(a)?(A+=_.bottom,fe(c.text)&&(A+=g.lineHeight*(c.text.length-1))):A+=_.top;const{titleX:k,titleY:Z,maxWidth:te,rotation:he}=function Ni(u,l,a,c){const{top:f,left:g,bottom:_,right:w,chart:A}=u,{chartArea:k,scales:Z}=A;let he,xe,We,te=0;const Je=_-f,Ct=w-g;if(u.isHorizontal()){if(xe=ve(c,g,w),be(a)){const xt=Object.keys(a)[0];We=Z[xt].getPixelForValue(a[xt])+Je-l}else We="center"===a?(k.bottom+k.top)/2+Je-l:U(u,a,l);he=w-g}else{if(be(a)){const xt=Object.keys(a)[0];xe=Z[xt].getPixelForValue(a[xt])-Ct+l}else xe="center"===a?(k.left+k.right)/2-Ct+l:U(u,a,l);We=ve(c,_,f),te="left"===a?-Ge:Ge}return{titleX:xe,titleY:We,maxWidth:he,rotation:te}}(this,A,a,w);Os(l,c.text,0,0,g,{color:c.color,maxWidth:te,rotation:he,textAlign:ri(w,a,f),textBaseline:"middle",translation:[k,Z]})}draw(l){!this._isVisible()||(this.drawBackground(),this.drawGrid(l),this.drawBorder(),this.drawTitle(),this.drawLabels(l))}_layers(){const l=this.options,a=l.ticks&&l.ticks.z||0,c=it(l.grid&&l.grid.z,-1);return this._isVisible()&&this.draw===Ti.prototype.draw?[{z:c,draw:f=>{this.drawBackground(),this.drawGrid(f),this.drawTitle()}},{z:c+1,draw:()=>{this.drawBorder()}},{z:a,draw:f=>{this.drawLabels(f)}}]:[{z:a,draw:f=>{this.draw(f)}}]}getMatchingVisibleMetas(l){const a=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",f=[];let g,_;for(g=0,_=a.length;g<_;++g){const w=a[g];w[c]===this.id&&(!l||w.type===l)&&f.push(w)}return f}_resolveTickFontOptions(l){return qi(this.options.ticks.setContext(this.getContext(l)).font)}_maxDigits(){const l=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/l}}class Oi{constructor(l,a,c){this.type=l,this.scope=a,this.override=c,this.items=Object.create(null)}isForType(l){return Object.prototype.isPrototypeOf.call(this.type.prototype,l.prototype)}register(l){const a=Object.getPrototypeOf(l);let c;(function ea(u){return"id"in u&&"defaults"in u})(a)&&(c=this.register(a));const f=this.items,g=l.id,_=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+l);return g in f||(f[g]=l,function ro(u,l,a){const c=Et(Object.create(null),[a?di.get(a):{},di.get(l),u.defaults]);di.set(l,c),u.defaultRoutes&&function xs(u,l){Object.keys(l).forEach(a=>{const c=a.split("."),f=c.pop(),g=[u].concat(c).join("."),_=l[a].split("."),w=_.pop(),A=_.join(".");di.route(g,f,A,w)})}(l,u.defaultRoutes),u.descriptors&&di.describe(l,u.descriptors)}(l,_,c),this.override&&di.override(l.id,l.overrides)),_}get(l){return this.items[l]}unregister(l){const a=this.items,c=l.id,f=this.scope;c in a&&delete a[c],f&&c in di[f]&&(delete di[f][c],this.override&&delete Ki[c])}}var Ts=new class gu{constructor(){this.controllers=new Oi(uo,"datasets",!0),this.elements=new Oi(ks,"elements"),this.plugins=new Oi(Object,"plugins"),this.scales=new Oi(Ti,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...l){this._each("register",l)}remove(...l){this._each("unregister",l)}addControllers(...l){this._each("register",l,this.controllers)}addElements(...l){this._each("register",l,this.elements)}addPlugins(...l){this._each("register",l,this.plugins)}addScales(...l){this._each("register",l,this.scales)}getController(l){return this._get(l,this.controllers,"controller")}getElement(l){return this._get(l,this.elements,"element")}getPlugin(l){return this._get(l,this.plugins,"plugin")}getScale(l){return this._get(l,this.scales,"scale")}removeControllers(...l){this._each("unregister",l,this.controllers)}removeElements(...l){this._each("unregister",l,this.elements)}removePlugins(...l){this._each("unregister",l,this.plugins)}removeScales(...l){this._each("unregister",l,this.scales)}_each(l,a,c){[...a].forEach(f=>{const g=c||this._getRegistryForType(f);c||g.isForType(f)||g===this.plugins&&f.id?this._exec(l,g,f):Oe(f,_=>{const w=c||this._getRegistryForType(_);this._exec(l,w,_)})})}_exec(l,a,c){const f=lt(l);st(c["before"+f],[],c),a[l](c),st(c["after"+f],[],c)}_getRegistryForType(l){for(let a=0;a<this._typedRegistries.length;a++){const c=this._typedRegistries[a];if(c.isForType(l))return c}return this.plugins}_get(l,a,c){const f=a.get(l);if(void 0===f)throw new Error('"'+l+'" is not a registered '+c+".");return f}};class Vo{constructor(){this._init=[]}notify(l,a,c,f){"beforeInit"===a&&(this._init=this._createDescriptors(l,!0),this._notify(this._init,l,"install"));const g=f?this._descriptors(l).filter(f):this._descriptors(l),_=this._notify(g,l,a,c);return"afterDestroy"===a&&(this._notify(g,l,"stop"),this._notify(this._init,l,"uninstall")),_}_notify(l,a,c,f){f=f||{};for(const g of l){const _=g.plugin;if(!1===st(_[c],[a,f,g.options],_)&&f.cancelable)return!1}return!0}invalidate(){ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(l){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(l);return this._notifyStateChanges(l),a}_createDescriptors(l,a){const c=l&&l.config,f=it(c.options&&c.options.plugins,{}),g=function da(u){const l=[],a=Object.keys(Ts.plugins.items);for(let f=0;f<a.length;f++)l.push(Ts.getPlugin(a[f]));const c=u.plugins||[];for(let f=0;f<c.length;f++){const g=c[f];-1===l.indexOf(g)&&l.push(g)}return l}(c);return!1!==f||a?function Kc(u,l,a,c){const f=[],g=u.getContext();for(let _=0;_<l.length;_++){const w=l[_],k=Ha(a[w.id],c);null!==k&&f.push({plugin:w,options:wo(u.config,w,k,g)})}return f}(l,g,f,a):[]}_notifyStateChanges(l){const a=this._oldCache||[],c=this._cache,f=(g,_)=>g.filter(w=>!_.some(A=>w.plugin.id===A.plugin.id));this._notify(f(a,c),l,"stop"),this._notify(f(c,a),l,"start")}}function Ha(u,l){return l||!1!==u?!0===u?{}:u:null}function wo(u,l,a,c){const f=u.pluginScopeKeys(l),g=u.getOptionScopes(a,f);return u.createResolver(g,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mu(u,l){return((l.datasets||{})[u]||{}).indexAxis||l.indexAxis||(di.datasets[u]||{}).indexAxis||"x"}function Zc(u,l){return"x"===u||"y"===u?u:l.axis||function kd(u){return"top"===u||"bottom"===u?"x":"left"===u||"right"===u?"y":void 0}(l.position)||u.charAt(0).toLowerCase()}function _u(u){const l=u.options||(u.options={});l.plugins=it(l.plugins,{}),l.scales=function vl(u,l){const a=Ki[u.type]||{scales:{}},c=l.scales||{},f=mu(u.type,l),g=Object.create(null),_=Object.create(null);return Object.keys(c).forEach(w=>{const A=c[w];if(!be(A))return console.error(`Invalid scale configuration for scale: ${w}`);if(A._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${w}`);const k=Zc(w,A),Z=function Nd(u,l){return u===l?"_index_":"_value_"}(k,f),te=a.scales||{};g[k]=g[k]||w,_[w]=ot(Object.create(null),[{axis:k},A,te[k],te[Z]])}),u.data.datasets.forEach(w=>{const A=w.type||u.type,k=w.indexAxis||mu(A,l),te=(Ki[A]||{}).scales||{};Object.keys(te).forEach(he=>{const xe=function yu(u,l){let a=u;return"_index_"===u?a=l:"_value_"===u&&(a="x"===l?"y":"x"),a}(he,k),We=w[xe+"AxisID"]||g[xe]||xe;_[We]=_[We]||Object.create(null),ot(_[We],[{axis:xe},c[We],te[he]])})}),Object.keys(_).forEach(w=>{const A=_[w];ot(A,[di.scales[A.type],di.scale])}),_}(u,l)}function Ld(u){return(u=u||{}).datasets=u.datasets||[],u.labels=u.labels||[],u}const El=new Map,Gu=new Set;function fc(u,l){let a=El.get(u);return a||(a=l(),El.set(u,a),Gu.add(a)),a}const vu=(u,l,a)=>{const c=It(l,a);void 0!==c&&u.add(c)};class tl{constructor(l){this._config=function bl(u){return(u=u||{}).data=Ld(u.data),_u(u),u}(l),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(l){this._config.type=l}get data(){return this._config.data}set data(l){this._config.data=Ld(l)}get options(){return this._config.options}set options(l){this._config.options=l}get plugins(){return this._config.plugins}update(){const l=this._config;this.clearCache(),_u(l)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(l){return fc(l,()=>[[`datasets.${l}`,""]])}datasetAnimationScopeKeys(l,a){return fc(`${l}.transition.${a}`,()=>[[`datasets.${l}.transitions.${a}`,`transitions.${a}`],[`datasets.${l}`,""]])}datasetElementScopeKeys(l,a){return fc(`${l}-${a}`,()=>[[`datasets.${l}.elements.${a}`,`datasets.${l}`,`elements.${a}`,""]])}pluginScopeKeys(l){const a=l.id;return fc(`${this.type}-plugin-${a}`,()=>[[`plugins.${a}`,...l.additionalOptionScopes||[]]])}_cachedScopes(l,a){const c=this._scopeCache;let f=c.get(l);return(!f||a)&&(f=new Map,c.set(l,f)),f}getOptionScopes(l,a,c){const{options:f,type:g}=this,_=this._cachedScopes(l,c),w=_.get(a);if(w)return w;const A=new Set;a.forEach(Z=>{l&&(A.add(l),Z.forEach(te=>vu(A,l,te))),Z.forEach(te=>vu(A,f,te)),Z.forEach(te=>vu(A,Ki[g]||{},te)),Z.forEach(te=>vu(A,di,te)),Z.forEach(te=>vu(A,Gr,te))});const k=Array.from(A);return 0===k.length&&k.push(Object.create(null)),Gu.has(a)&&_.set(a,k),k}chartOptionScopes(){const{options:l,type:a}=this;return[l,Ki[a]||{},di.datasets[a]||{},{type:a},di,Gr]}resolveNamedOptions(l,a,c,f=[""]){const g={$shared:!0},{resolver:_,subPrefixes:w}=qc(this._resolverCache,l,f);let A=_;(function bu(u,l){const{isScriptable:a,isIndexable:c}=Kr(u);for(const f of l){const g=a(f),_=c(f),w=(_||g)&&u[f];if(g&&(dn(w)||nl(w))||_&&fe(w))return!0}return!1})(_,a)&&(g.$shared=!1,A=os(_,c=dn(c)?c():c,this.createResolver(l,c,w)));for(const k of a)g[k]=A[k];return g}createResolver(l,a,c=[""],f){const{resolver:g}=qc(this._resolverCache,l,c);return be(a)?os(g,a,void 0,f):g}}function qc(u,l,a){let c=u.get(l);c||(c=new Map,u.set(l,c));const f=a.join();let g=c.get(f);return g||(g={resolver:sa(l,a),subPrefixes:a.filter(w=>!w.toLowerCase().includes("hover"))},c.set(f,g)),g}const nl=u=>be(u)&&Object.getOwnPropertyNames(u).reduce((l,a)=>l||dn(u[a]),!1),Yc=["top","bottom","left","right","chartArea"];function Eu(u,l){return"top"===u||"bottom"===u||-1===Yc.indexOf(u)&&"x"===l}function Qc(u,l){return function(a,c){return a[u]===c[u]?a[l]-c[l]:a[u]-c[u]}}function $a(u){const l=u.chart,a=l.options.animation;l.notifyPlugins("afterRender"),st(a&&a.onComplete,[u],l)}function ta(u){const l=u.chart,a=l.options.animation;st(a&&a.onProgress,[u],l)}function pc(u){return Qi()&&"string"==typeof u?u=document.getElementById(u):u&&u.length&&(u=u[0]),u&&u.canvas&&(u=u.canvas),u}const rl={},Wu=u=>{const l=pc(u);return Object.values(rl).filter(a=>a.canvas===l).pop()};function sl(u,l,a){const c=Object.keys(u);for(const f of c){const g=+f;if(g>=l){const _=u[f];delete u[f],(a>0||g>l)&&(u[g+a]=_)}}}class gc{constructor(l,a){const c=this.config=new tl(a),f=pc(l),g=Wu(f);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas can be reused.");const _=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||function Pa(u){return!Qi()||"undefined"!=typeof OffscreenCanvas&&u instanceof OffscreenCanvas?Rd:Xa}(f)),this.platform.updateConfig(c);const w=this.platform.acquireContext(f,_.aspectRatio),A=w&&w.canvas,k=A&&A.height,Z=A&&A.width;this.id=Te(),this.ctx=w,this.canvas=A,this.width=Z,this.height=k,this._options=_,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function me(u,l){let a;return function(...c){return l?(clearTimeout(a),a=setTimeout(u,l,c)):u.apply(this,c),l}}(te=>this.update(te),_.resizeDelay||0),this._dataChanges=[],rl[this.id]=this,w&&A?(Qn.listen(this,"complete",$a),Qn.listen(this,"progress",ta),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:l,maintainAspectRatio:a},width:c,height:f,_aspectRatio:g}=this;return ce(l)?a&&g?g:f?c/f:null:l}get data(){return this.config.data}set data(l){this.config.data=l}get options(){return this._options}set options(l){this.config.options=l}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Fi(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ds(this.canvas,this.ctx),this}stop(){return Qn.stop(this),this}resize(l,a){Qn.running(this)?this._resizeBeforeDraw={width:l,height:a}:this._resize(l,a)}_resize(l,a){const c=this.options,_=this.platform.getMaximumSize(this.canvas,l,a,c.maintainAspectRatio&&this.aspectRatio),w=c.devicePixelRatio||this.platform.getDevicePixelRatio(),A=this.width?"resize":"attach";this.width=_.width,this.height=_.height,this._aspectRatio=this.aspectRatio,Fi(this,w,!0)&&(this.notifyPlugins("resize",{size:_}),st(c.onResize,[this,_],this),this.attached&&this._doResize(A)&&this.render())}ensureScalesHaveIDs(){Oe(this.options.scales||{},(c,f)=>{c.id=f})}buildOrUpdateScales(){const l=this.options,a=l.scales,c=this.scales,f=Object.keys(c).reduce((_,w)=>(_[w]=!1,_),{});let g=[];a&&(g=g.concat(Object.keys(a).map(_=>{const w=a[_],A=Zc(_,w),k="r"===A,Z="x"===A;return{options:w,dposition:k?"chartArea":Z?"bottom":"left",dtype:k?"radialLinear":Z?"category":"linear"}}))),Oe(g,_=>{const w=_.options,A=w.id,k=Zc(A,w),Z=it(w.type,_.dtype);(void 0===w.position||Eu(w.position,k)!==Eu(_.dposition))&&(w.position=_.dposition),f[A]=!0;let te=null;A in c&&c[A].type===Z?te=c[A]:(te=new(Ts.getScale(Z))({id:A,type:Z,ctx:this.ctx,chart:this}),c[te.id]=te),te.init(w,l)}),Oe(f,(_,w)=>{_||delete c[w]}),Oe(c,_=>{Ao.configure(this,_,_.options),Ao.addBox(this,_)})}_updateMetasets(){const l=this._metasets,a=this.data.datasets.length,c=l.length;if(l.sort((f,g)=>f.index-g.index),c>a){for(let f=a;f<c;++f)this._destroyDatasetMeta(f);l.splice(a,c-a)}this._sortedMetasets=l.slice(0).sort(Qc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:l,data:{datasets:a}}=this;l.length>a.length&&delete this._stacks,l.forEach((c,f)=>{0===a.filter(g=>g===c._dataset).length&&this._destroyDatasetMeta(f)})}buildOrUpdateControllers(){const l=[],a=this.data.datasets;let c,f;for(this._removeUnreferencedMetasets(),c=0,f=a.length;c<f;c++){const g=a[c];let _=this.getDatasetMeta(c);const w=g.type||this.config.type;if(_.type&&_.type!==w&&(this._destroyDatasetMeta(c),_=this.getDatasetMeta(c)),_.type=w,_.indexAxis=g.indexAxis||mu(w,this.options),_.order=g.order||0,_.index=c,_.label=""+g.label,_.visible=this.isDatasetVisible(c),_.controller)_.controller.updateIndex(c),_.controller.linkScales();else{const A=Ts.getController(w),{datasetElementType:k,dataElementType:Z}=di.datasets[w];Object.assign(A.prototype,{dataElementType:Ts.getElement(Z),datasetElementType:k&&Ts.getElement(k)}),_.controller=new A(this,c),l.push(_.controller)}}return this._updateMetasets(),l}_resetElements(){Oe(this.data.datasets,(l,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(l){const a=this.config;a.update();const c=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),f=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:l,cancelable:!0}))return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let _=0;for(let k=0,Z=this.data.datasets.length;k<Z;k++){const{controller:te}=this.getDatasetMeta(k),he=!f&&-1===g.indexOf(te);te.buildOrUpdateElements(he),_=Math.max(+te.getMaxOverflow(),_)}_=this._minPadding=c.layout.autoPadding?_:0,this._updateLayout(_),f||Oe(g,k=>{k.reset()}),this._updateDatasets(l),this.notifyPlugins("afterUpdate",{mode:l}),this._layers.sort(Qc("z","_idx"));const{_active:w,_lastEvent:A}=this;A?this._eventHandler(A,!0):w.length&&this._updateHoverStyles(w,w,!0),this.render()}_updateScales(){Oe(this.scales,l=>{Ao.removeBox(this,l)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const l=this.options,a=new Set(Object.keys(this._listeners)),c=new Set(l.events);(!Pe(a,c)||!!this._responsiveListeners!==l.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:l}=this,a=this._getUniformDataChanges()||[];for(const{method:c,start:f,count:g}of a)sl(l,f,"_removeElements"===c?-g:g)}_getUniformDataChanges(){const l=this._dataChanges;if(!l||!l.length)return;this._dataChanges=[];const a=this.data.datasets.length,c=g=>new Set(l.filter(_=>_[0]===g).map((_,w)=>w+","+_.splice(1).join(","))),f=c(0);for(let g=1;g<a;g++)if(!Pe(f,c(g)))return;return Array.from(f).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(l){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ao.update(this,this.width,this.height,l);const a=this.chartArea,c=a.width<=0||a.height<=0;this._layers=[],Oe(this.boxes,f=>{c&&"chartArea"===f.position||(f.configure&&f.configure(),this._layers.push(...f._layers()))},this),this._layers.forEach((f,g)=>{f._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(l){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:l,cancelable:!0})){for(let a=0,c=this.data.datasets.length;a<c;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,c=this.data.datasets.length;a<c;++a)this._updateDataset(a,dn(l)?l({datasetIndex:a}):l);this.notifyPlugins("afterDatasetsUpdate",{mode:l})}}_updateDataset(l,a){const c=this.getDatasetMeta(l),f={meta:c,index:l,mode:a,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",f)&&(c.controller._update(a),f.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",f))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Qn.has(this)?this.attached&&!Qn.running(this)&&Qn.start(this):(this.draw(),$a({chart:this})))}draw(){let l;if(this._resizeBeforeDraw){const{width:c,height:f}=this._resizeBeforeDraw;this._resize(c,f),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const a=this._layers;for(l=0;l<a.length&&a[l].z<=0;++l)a[l].draw(this.chartArea);for(this._drawDatasets();l<a.length;++l)a[l].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(l){const a=this._sortedMetasets,c=[];let f,g;for(f=0,g=a.length;f<g;++f){const _=a[f];(!l||_.visible)&&c.push(_)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const l=this.getSortedVisibleDatasetMetas();for(let a=l.length-1;a>=0;--a)this._drawDataset(l[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(l){const a=this.ctx,c=l._clip,f=!c.disabled,g=this.chartArea,_={meta:l,index:l.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",_)&&(f&&Vs(a,{left:!1===c.left?0:g.left-c.left,right:!1===c.right?this.width:g.right+c.right,top:!1===c.top?0:g.top-c.top,bottom:!1===c.bottom?this.height:g.bottom+c.bottom}),l.controller.draw(),f&&bs(a),_.cancelable=!1,this.notifyPlugins("afterDatasetDraw",_))}isPointInArea(l){return Dr(l,this.chartArea,this._minPadding)}getElementsAtEventForMode(l,a,c,f){const g=Vl.modes[a];return"function"==typeof g?g(this,l,c,f):[]}getDatasetMeta(l){const a=this.data.datasets[l],c=this._metasets;let f=c.filter(g=>g&&g._dataset===a).pop();return f||(f={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:l,_dataset:a,_parsed:[],_sorted:!1},c.push(f)),f}getContext(){return this.$context||(this.$context=or(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(l){const a=this.data.datasets[l];if(!a)return!1;const c=this.getDatasetMeta(l);return"boolean"==typeof c.hidden?!c.hidden:!a.hidden}setDatasetVisibility(l,a){this.getDatasetMeta(l).hidden=!a}toggleDataVisibility(l){this._hiddenIndices[l]=!this._hiddenIndices[l]}getDataVisibility(l){return!this._hiddenIndices[l]}_updateVisibility(l,a,c){const f=c?"show":"hide",g=this.getDatasetMeta(l),_=g.controller._resolveAnimations(void 0,f);ft(a)?(g.data[a].hidden=!c,this.update()):(this.setDatasetVisibility(l,c),_.update(g,{visible:c}),this.update(w=>w.datasetIndex===l?f:void 0))}hide(l,a){this._updateVisibility(l,a,!1)}show(l,a){this._updateVisibility(l,a,!0)}_destroyDatasetMeta(l){const a=this._metasets[l];a&&a.controller&&a.controller._destroy(),delete this._metasets[l]}_stop(){let l,a;for(this.stop(),Qn.remove(this),l=0,a=this.data.datasets.length;l<a;++l)this._destroyDatasetMeta(l)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:l,ctx:a}=this;this._stop(),this.config.clearCache(),l&&(this.unbindEvents(),ds(l,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete rl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...l){return this.canvas.toDataURL(...l)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const l=this._listeners,a=this.platform,c=(g,_)=>{a.addEventListener(this,g,_),l[g]=_},f=(g,_,w)=>{g.offsetX=_,g.offsetY=w,this._eventHandler(g)};Oe(this.options.events,g=>c(g,f))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const l=this._responsiveListeners,a=this.platform,c=(A,k)=>{a.addEventListener(this,A,k),l[A]=k},f=(A,k)=>{l[A]&&(a.removeEventListener(this,A,k),delete l[A])},g=(A,k)=>{this.canvas&&this.resize(A,k)};let _;const w=()=>{f("attach",w),this.attached=!0,this.resize(),c("resize",g),c("detach",_)};_=()=>{this.attached=!1,f("resize",g),this._stop(),this._resize(0,0),c("attach",w)},a.isAttached(this.canvas)?w():_()}unbindEvents(){Oe(this._listeners,(l,a)=>{this.platform.removeEventListener(this,a,l)}),this._listeners={},Oe(this._responsiveListeners,(l,a)=>{this.platform.removeEventListener(this,a,l)}),this._responsiveListeners=void 0}updateHoverStyle(l,a,c){const f=c?"set":"remove";let g,_,w,A;for("dataset"===a&&(g=this.getDatasetMeta(l[0].datasetIndex),g.controller["_"+f+"DatasetHoverStyle"]()),w=0,A=l.length;w<A;++w){_=l[w];const k=_&&this.getDatasetMeta(_.datasetIndex).controller;k&&k[f+"HoverStyle"](_.element,_.datasetIndex,_.index)}}getActiveElements(){return this._active||[]}setActiveElements(l){const a=this._active||[],c=l.map(({datasetIndex:g,index:_})=>{const w=this.getDatasetMeta(g);if(!w)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:w.data[_],index:_}});!on(c,a)&&(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,a))}notifyPlugins(l,a,c){return this._plugins.notify(this,l,a,c)}_updateHoverStyles(l,a,c){const f=this.options.hover,g=(A,k)=>A.filter(Z=>!k.some(te=>Z.datasetIndex===te.datasetIndex&&Z.index===te.index)),_=g(a,l),w=c?l:g(l,a);_.length&&this.updateHoverStyle(_,f.mode,!1),w.length&&f.mode&&this.updateHoverStyle(w,f.mode,!0)}_eventHandler(l,a){const c={event:l,replay:a,cancelable:!0,inChartArea:this.isPointInArea(l)},f=_=>(_.options.events||this.options.events).includes(l.native.type);if(!1===this.notifyPlugins("beforeEvent",c,f))return;const g=this._handleEvent(l,a,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,f),(g||c.changed)&&this.render(),this}_handleEvent(l,a,c){const{_active:f=[],options:g}=this,w=this._getActiveElements(l,f,c,a),A=function nt(u){return"mouseup"===u.type||"click"===u.type||"contextmenu"===u.type}(l),k=function Jc(u,l,a,c){return a&&"mouseout"!==u.type?c?l:u:null}(l,this._lastEvent,c,A);c&&(this._lastEvent=null,st(g.onHover,[l,w,this],this),A&&st(g.onClick,[l,w,this],this));const Z=!on(w,f);return(Z||a)&&(this._active=w,this._updateHoverStyles(w,f,a)),this._lastEvent=k,Z}_getActiveElements(l,a,c,f){if("mouseout"===l.type)return[];if(!c)return a;const g=this.options.hover;return this.getElementsAtEventForMode(l,g.mode,g,f)}}const Xc=()=>Oe(gc.instances,u=>u._plugins.invalidate()),za=!0;function ed(u,l,a){const{startAngle:c,pixelMargin:f,x:g,y:_,outerRadius:w,innerRadius:A}=l;let k=f/w;u.beginPath(),u.arc(g,_,w,c-k,a+k),A>f?(k=f/A,u.arc(g,_,A,a+k,c-k,!0)):u.arc(g,_,f,a+Ge,c-Ge),u.closePath(),u.clip()}function Ra(u,l,a,c){return{x:a+u*Math.cos(l),y:c+u*Math.sin(l)}}function td(u,l,a,c,f){const{x:g,y:_,startAngle:w,pixelMargin:A,innerRadius:k}=l,Z=Math.max(l.outerRadius+c+a-A,0),te=k>0?k+c+a+A:0;let he=0;const xe=f-w;if(c){const La=((k>0?k-c:0)+(Z>0?Z-c:0))/2;he=(xe-(0!==La?xe*La/(La+c):xe))/2}const Je=(xe-Math.max(.001,xe*Z-a/rt)/Z)/2,Ct=w+Je+he,xt=f-Je-he,{outerStart:rn,outerEnd:Mn,innerStart:tn,innerEnd:en}=function jl(u,l,a,c){const f=function Ia(u){return ki(u,["outerStart","outerEnd","innerStart","innerEnd"])}(u.options.borderRadius),g=(a-l)/2,_=Math.min(g,c*l/2),w=A=>{const k=(a-Math.min(g,A))*c/2;return je(A,0,Math.min(g,k))};return{outerStart:w(f.outerStart),outerEnd:w(f.outerEnd),innerStart:je(f.innerStart,0,_),innerEnd:je(f.innerEnd,0,_)}}(l,te,Z,xt-Ct),Gn=Z-rn,Wn=Z-Mn,ci=Ct+rn/Gn,vi=xt-Mn/Wn,cs=te+tn,dr=te+en,nr=Ct+tn/cs,Is=xt-en/dr;if(u.beginPath(),u.arc(g,_,Z,ci,vi),Mn>0){const fs=Ra(Wn,vi,g,_);u.arc(fs.x,fs.y,Mn,vi,xt+Ge)}const ra=Ra(dr,xt,g,_);if(u.lineTo(ra.x,ra.y),en>0){const fs=Ra(dr,Is,g,_);u.arc(fs.x,fs.y,en,xt+Ge,Is+Math.PI)}if(u.arc(g,_,te,xt-en/te,Ct+tn/te,!0),tn>0){const fs=Ra(cs,nr,g,_);u.arc(fs.x,fs.y,tn,nr+Math.PI,Ct-Ge)}const Vn=Ra(Gn,Ct,g,_);if(u.lineTo(Vn.x,Vn.y),rn>0){const fs=Ra(Gn,ci,g,_);u.arc(fs.x,fs.y,rn,Ct-Ge,ci)}u.closePath()}Object.defineProperties(gc,{defaults:{enumerable:za,value:di},instances:{enumerable:za,value:rl},overrides:{enumerable:za,value:Ki},registry:{enumerable:za,value:Ts},version:{enumerable:za,value:"3.8.0"},getChart:{enumerable:za,value:Wu},register:{enumerable:za,value:(...u)=>{Ts.add(...u),Xc()}},unregister:{enumerable:za,value:(...u)=>{Ts.remove(...u),Xc()}}});class Na extends ks{constructor(l){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,l&&Object.assign(this,l)}inRange(l,a,c){const f=this.getProps(["x","y"],c),{angle:g,distance:_}=wn(f,{x:l,y:a}),{startAngle:w,endAngle:A,innerRadius:k,outerRadius:Z,circumference:te}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),he=this.options.spacing/2,We=it(te,A-w)>=Ht||Be(g,w,A),Je=Mt(_,k+he,Z+he);return We&&Je}getCenterPoint(l){const{x:a,y:c,startAngle:f,endAngle:g,innerRadius:_,outerRadius:w}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],l),{offset:A,spacing:k}=this.options,Z=(f+g)/2,te=(_+w+k+A)/2;return{x:a+Math.cos(Z)*te,y:c+Math.sin(Z)*te}}tooltipPosition(l){return this.getCenterPoint(l)}draw(l){const{options:a,circumference:c}=this,f=(a.offset||0)/2,g=(a.spacing||0)/2;if(this.pixelMargin="inner"===a.borderAlign?.33:0,this.fullCircles=c>Ht?Math.floor(c/Ht):0,0===c||this.innerRadius<0||this.outerRadius<0)return;l.save();let _=0;if(f){_=f/2;const A=(this.startAngle+this.endAngle)/2;l.translate(Math.cos(A)*_,Math.sin(A)*_),this.circumference>=rt&&(_=f)}l.fillStyle=a.backgroundColor,l.strokeStyle=a.borderColor;const w=function nd(u,l,a,c){const{fullCircles:f,startAngle:g,circumference:_}=l;let w=l.endAngle;if(f){td(u,l,a,c,g+Ht);for(let A=0;A<f;++A)u.fill();isNaN(_)||(w=g+_%Ht,_%Ht==0&&(w+=Ht))}return td(u,l,a,c,w),u.fill(),w}(l,this,_,g);(function Hl(u,l,a,c,f){const{options:g}=l,{borderWidth:_,borderJoinStyle:w}=g,A="inner"===g.borderAlign;!_||(A?(u.lineWidth=2*_,u.lineJoin=w||"round"):(u.lineWidth=_,u.lineJoin=w||"bevel"),l.fullCircles&&function Fd(u,l,a){const{x:c,y:f,startAngle:g,pixelMargin:_,fullCircles:w}=l,A=Math.max(l.outerRadius-_,0),k=l.innerRadius+_;let Z;for(a&&ed(u,l,g+Ht),u.beginPath(),u.arc(c,f,k,g+Ht,g,!0),Z=0;Z<w;++Z)u.stroke();for(u.beginPath(),u.arc(c,f,A,g,g+Ht),Z=0;Z<w;++Z)u.stroke()}(u,l,A),A&&ed(u,l,f),td(u,l,a,c,f),u.stroke())})(l,this,_,g,w),l.restore()}}function mc(u,l,a=l){u.lineCap=it(a.borderCapStyle,l.borderCapStyle),u.setLineDash(it(a.borderDash,l.borderDash)),u.lineDashOffset=it(a.borderDashOffset,l.borderDashOffset),u.lineJoin=it(a.borderJoinStyle,l.borderJoinStyle),u.lineWidth=it(a.borderWidth,l.borderWidth),u.strokeStyle=it(a.borderColor,l.borderColor)}function $l(u,l,a){u.lineTo(a.x,a.y)}function wu(u,l,a={}){const c=u.length,{start:f=0,end:g=c-1}=a,{start:_,end:w}=l,A=Math.max(f,_),k=Math.min(g,w);return{count:c,start:A,loop:l.loop,ilen:k<A&&!(f<_&&g<_||f>w&&g>w)?c+k-A:k-A}}function wl(u,l,a,c){const{points:f,options:g}=l,{count:_,start:w,loop:A,ilen:k}=wu(f,a,c),Z=function Vd(u){return u.stepped?ko:u.tension||"monotone"===u.cubicInterpolationMode?pr:$l}(g);let xe,We,Je,{move:te=!0,reverse:he}=c||{};for(xe=0;xe<=k;++xe)We=f[(w+(he?k-xe:xe))%_],!We.skip&&(te?(u.moveTo(We.x,We.y),te=!1):Z(u,Je,We,he,g.stepped),Je=We);return A&&(We=f[(w+(he?k:0))%_],Z(u,Je,We,he,g.stepped)),!!A}function gh(u,l,a,c){const f=l.points,{count:g,start:_,ilen:w}=wu(f,a,c),{move:A=!0,reverse:k}=c||{};let he,xe,We,Je,Ct,xt,Z=0,te=0;const rn=tn=>(_+(k?w-tn:tn))%g,Mn=()=>{Je!==Ct&&(u.lineTo(Z,Ct),u.lineTo(Z,Je),u.lineTo(Z,xt))};for(A&&(xe=f[rn(0)],u.moveTo(xe.x,xe.y)),he=0;he<=w;++he){if(xe=f[rn(he)],xe.skip)continue;const tn=xe.x,en=xe.y,Gn=0|tn;Gn===We?(en<Je?Je=en:en>Ct&&(Ct=en),Z=(te*Z+tn)/++te):(Mn(),u.lineTo(tn,en),We=Gn,te=0,Je=Ct=en),xt=en}Mn()}function zl(u){const l=u.options;return u._decimated||u._loop||l.tension||"monotone"===l.cubicInterpolationMode||l.stepped||l.borderDash&&l.borderDash.length?wl:gh}Na.id="arc",Na.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Na.defaultRoutes={backgroundColor:"backgroundColor"};const Dl="function"==typeof Path2D;let Wl=(()=>{class u extends ks{constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(a,c){const f=this.options;!f.tension&&"monotone"!==f.cubicInterpolationMode||f.stepped||this._pointsUpdated||(Cr(this._points,f,a,f.spanGaps?this._loop:this._fullLoop,c),this._pointsUpdated=!0)}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Fe(u,l){const a=u.points,c=u.options.spanGaps,f=a.length;if(!f)return[];const g=!!u._loop,{start:_,end:w}=function ie(u,l,a,c){let f=0,g=l-1;if(a&&!c)for(;f<l&&!u[f].skip;)f++;for(;f<l&&u[f].skip;)f++;for(f%=l,a&&(g+=f);g>f&&u[g%l].skip;)g--;return g%=l,{start:f,end:g}}(a,f,g,c);return function Ue(u,l,a,c){return c&&c.setContext&&a?function bt(u,l,a,c){const f=u._chart.getContext(),g=Wt(u.options),{_datasetIndex:_,options:{spanGaps:w}}=u,A=a.length,k=[];let Z=g,te=l[0].start,he=te;function xe(We,Je,Ct,xt){const rn=w?-1:1;if(We!==Je){for(We+=A;a[We%A].skip;)We-=rn;for(;a[Je%A].skip;)Je+=rn;We%A!=Je%A&&(k.push({start:We%A,end:Je%A,loop:Ct,style:xt}),Z=xt,te=Je%A)}}for(const We of l){te=w?te:We.start;let Ct,Je=a[te%A];for(he=te+1;he<=We.end;he++){const xt=a[he%A];Ct=Wt(c.setContext(or(f,{type:"segment",p0:Je,p1:xt,p0DataIndex:(he-1)%A,p1DataIndex:he%A,datasetIndex:_}))),kn(Ct,Z)&&xe(te,he-1,We.loop,Z),Je=xt,Z=Ct}te<he-1&&xe(te,he-1,We.loop,Z)}return k}(u,l,a,c):l}(u,!0===c?[{start:_,end:w,loop:g}]:function pe(u,l,a,c){const f=u.length,g=[];let A,_=l,w=u[l];for(A=l+1;A<=a;++A){const k=u[A%f];k.skip||k.stop?w.skip||(g.push({start:l%f,end:(A-1)%f,loop:c=!1}),l=_=k.stop?A:null):(_=A,w.skip&&(l=A)),w=k}return null!==_&&g.push({start:l%f,end:_%f,loop:c}),g}(a,_,w<_?w+f:w,!!u._fullLoop&&0===_&&w===f-1),a,l)}(this,this.options.segment))}first(){const a=this.segments;return a.length&&this.points[a[0].start]}last(){const a=this.segments,f=a.length;return f&&this.points[a[f-1].end]}interpolate(a,c){const f=this.options,g=a[c],_=this.points,w=j(this,{property:c,start:g,end:g});if(!w.length)return;const A=[],k=function Gl(u){return u.stepped?oa:u.tension||"monotone"===u.cubicInterpolationMode?lo:vo}(f);let Z,te;for(Z=0,te=w.length;Z<te;++Z){const{start:he,end:xe}=w[Z],We=_[he],Je=_[xe];if(We===Je){A.push(We);continue}const xt=k(We,Je,Math.abs((g-We[c])/(Je[c]-We[c])),f.stepped);xt[c]=a[c],A.push(xt)}return 1===A.length?A[0]:A}pathSegment(a,c,f){return zl(this)(a,this,c,f)}path(a,c,f){const g=this.segments,_=zl(this);let w=this._loop;c=c||0,f=f||this.points.length-c;for(const A of g)w&=_(a,this,A,{start:c,end:c+f-1});return!!w}draw(a,c,f,g){(this.points||[]).length&&(this.options||{}).borderWidth&&(a.save(),function Ku(u,l,a,c){Dl&&!l.options.segment?function Bd(u,l,a,c){let f=l._path;f||(f=l._path=new Path2D,l.path(f,a,c)&&f.closePath()),mc(u,l.options),u.stroke(f)}(u,l,a,c):function Or(u,l,a,c){const{segments:f,options:g}=l,_=zl(l);for(const w of f)mc(u,g,w.style),u.beginPath(),_(u,l,w,{start:a,end:a+c-1})&&u.closePath(),u.stroke()}(u,l,a,c)}(a,this,f,g),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return u.id="line",u.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},u.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},u.descriptors={_scriptable:!0,_indexable:l=>"borderDash"!==l&&"fill"!==l},u})();function Zu(u,l,a,c){const f=u.options,{[a]:g}=u.getProps([a],c);return Math.abs(l-g)<f.radius+f.hitRadius}let rf=(()=>{class u extends ks{constructor(a){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,c,f){const g=this.options,{x:_,y:w}=this.getProps(["x","y"],f);return Math.pow(a-_,2)+Math.pow(c-w,2)<Math.pow(g.hitRadius+g.radius,2)}inXRange(a,c){return Zu(this,a,"x",c)}inYRange(a,c){return Zu(this,a,"y",c)}getCenterPoint(a){const{x:c,y:f}=this.getProps(["x","y"],a);return{x:c,y:f}}size(a){let c=(a=a||this.options||{}).radius||0;return c=Math.max(c,c&&a.hoverRadius||0),2*(c+(c&&a.borderWidth||0))}draw(a,c){const f=this.options;this.skip||f.radius<.1||!Dr(this,c,this.size(f)/2)||(a.strokeStyle=f.borderColor,a.lineWidth=f.borderWidth,a.fillStyle=f.backgroundColor,ss(a,f,this.x,this.y))}getRange(){const a=this.options||{};return a.radius+a.hitRadius}}return u.id="point",u.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},u.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},u})();function yc(u,l){const{x:a,y:c,base:f,width:g,height:_}=u.getProps(["x","y","base","width","height"],l);let w,A,k,Z,te;return u.horizontal?(te=_/2,w=Math.min(a,f),A=Math.max(a,f),k=c-te,Z=c+te):(te=g/2,w=a-te,A=a+te,k=Math.min(c,f),Z=Math.max(c,f)),{left:w,top:k,right:A,bottom:Z}}function Cl(u,l,a,c){return u?0:je(l,a,c)}function id(u,l,a,c){const f=null===l,g=null===a,w=u&&!(f&&g)&&yc(u,c);return w&&(f||Mt(l,w.left,w.right))&&(g||Mt(a,w.top,w.bottom))}function Tl(u,l){u.rect(l.x,l.y,l.w,l.h)}function qu(u,l,a={}){const c=u.x!==a.x?-l:0,f=u.y!==a.y?-l:0;return{x:u.x+c,y:u.y+f,w:u.w+((u.x+u.w!==a.x+a.w?l:0)-c),h:u.h+((u.y+u.h!==a.y+a.h?l:0)-f),radius:u.radius}}class vc extends ks{constructor(l){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,l&&Object.assign(this,l)}draw(l){const{inflateAmount:a,options:{borderColor:c,backgroundColor:f}}=this,{inner:g,outer:_}=function _c(u){const l=yc(u),a=l.right-l.left,c=l.bottom-l.top,f=function Kl(u,l,a){const f=u.borderSkipped,g=kr(u.options.borderWidth);return{t:Cl(f.top,g.top,0,a),r:Cl(f.right,g.right,0,l),b:Cl(f.bottom,g.bottom,0,a),l:Cl(f.left,g.left,0,l)}}(u,a/2,c/2),g=function ol(u,l,a){const{enableBorderRadius:c}=u.getProps(["enableBorderRadius"]),f=u.options.borderRadius,g=Ai(f),_=Math.min(l,a),w=u.borderSkipped,A=c||be(f);return{topLeft:Cl(!A||w.top||w.left,g.topLeft,0,_),topRight:Cl(!A||w.top||w.right,g.topRight,0,_),bottomLeft:Cl(!A||w.bottom||w.left,g.bottomLeft,0,_),bottomRight:Cl(!A||w.bottom||w.right,g.bottomRight,0,_)}}(u,a/2,c/2);return{outer:{x:l.left,y:l.top,w:a,h:c,radius:g},inner:{x:l.left+f.l,y:l.top+f.t,w:a-f.l-f.r,h:c-f.t-f.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,g.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(f.b,f.r))}}}}(this),w=function Ud(u){return u.topLeft||u.topRight||u.bottomLeft||u.bottomRight}(_.radius)?He:Tl;l.save(),(_.w!==g.w||_.h!==g.h)&&(l.beginPath(),w(l,qu(_,a,g)),l.clip(),w(l,qu(g,-a,_)),l.fillStyle=c,l.fill("evenodd")),l.beginPath(),w(l,qu(g,a)),l.fillStyle=f,l.fill(),l.restore()}inRange(l,a,c){return id(this,l,a,c)}inXRange(l,a){return id(this,l,null,a)}inYRange(l,a){return id(this,null,l,a)}getCenterPoint(l){const{x:a,y:c,base:f,horizontal:g}=this.getProps(["x","y","base","horizontal"],l);return{x:g?(a+f)/2:a,y:g?c:(c+f)/2}}getRange(l){return"x"===l?this.width/2:this.height/2}}vc.id="bar",vc.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},vc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Ls=Object.freeze({__proto__:null,ArcElement:Na,LineElement:Wl,PointElement:rf,BarElement:vc});function Du(u){if(u._decimated){const l=u._data;delete u._decimated,delete u._data,Object.defineProperty(u,"data",{value:l})}}function ha(u){u.data.datasets.forEach(l=>{Du(l)})}var bc={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(u,l,a)=>{if(!a.enabled)return void ha(u);const c=u.width;u.data.datasets.forEach((f,g)=>{const{_data:_,indexAxis:w}=f,A=u.getDatasetMeta(g),k=_||f.data;if("y"===Es([w,u.options.indexAxis])||!A.controller.supportsDecimation)return;const Z=u.scales[A.xAxisID];if("linear"!==Z.type&&"time"!==Z.type||u.options.parsing)return;let We,{start:te,count:he}=function Ms(u,l){const a=l.length;let f,c=0;const{iScale:g}=u,{min:_,max:w,minDefined:A,maxDefined:k}=g.getUserBounds();return A&&(c=je(Ur(l,g.axis,_).lo,0,a-1)),f=k?je(Ur(l,g.axis,w).hi+1,c,a)-c:a-c,{start:c,count:f}}(A,k);if(he<=(a.threshold||4*c))Du(f);else{switch(ce(_)&&(f._data=k,delete f.data,Object.defineProperty(f,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Je){this._data=Je}})),a.algorithm){case"lttb":We=function mr(u,l,a,c,f){const g=f.samples||c;if(g>=a)return u.slice(l,l+a);const _=[],w=(a-2)/(g-2);let A=0;const k=l+a-1;let te,he,xe,We,Je,Z=l;for(_[A++]=u[Z],te=0;te<g-2;te++){let rn,Ct=0,xt=0;const Mn=Math.floor((te+1)*w)+1+l,tn=Math.min(Math.floor((te+2)*w)+1,a)+l,en=tn-Mn;for(rn=Mn;rn<tn;rn++)Ct+=u[rn].x,xt+=u[rn].y;Ct/=en,xt/=en;const Gn=Math.floor(te*w)+1+l,Wn=Math.min(Math.floor((te+1)*w)+1,a)+l,{x:ci,y:vi}=u[Z];for(xe=We=-1,rn=Gn;rn<Wn;rn++)We=.5*Math.abs((ci-Ct)*(u[rn].y-vi)-(ci-u[rn].x)*(xt-vi)),We>xe&&(xe=We,he=u[rn],Je=rn);_[A++]=he,Z=Je}return _[A++]=u[k],_}(k,te,he,c,a);break;case"min-max":We=function rd(u,l,a,c){let _,w,A,k,Z,te,he,xe,We,Je,f=0,g=0;const Ct=[],rn=u[l].x,tn=u[l+a-1].x-rn;for(_=l;_<l+a;++_){w=u[_],A=(w.x-rn)/tn*c,k=w.y;const en=0|A;if(en===Z)k<We?(We=k,te=_):k>Je&&(Je=k,he=_),f=(g*f+w.x)/++g;else{const Gn=_-1;if(!ce(te)&&!ce(he)){const Wn=Math.min(te,he),ci=Math.max(te,he);Wn!==xe&&Wn!==Gn&&Ct.push(Hv(jv({},u[Wn]),{x:f})),ci!==xe&&ci!==Gn&&Ct.push(Hv(jv({},u[ci]),{x:f}))}_>0&&Gn!==xe&&Ct.push(u[Gn]),Ct.push(w),Z=en,g=0,We=Je=k,te=he=xe=_}}return Ct}(k,te,he,c);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}f._decimated=We}})},destroy(u){ha(u)}};function $r(u,l,a,c){if(c)return;let f=l[u],g=a[u];return"angle"===u&&(f=_t(f),g=_t(g)),{property:u,start:f,end:g}}function Ga(u,l,a){for(;l>u;l--){const c=a[l];if(!isNaN(c.x)&&!isNaN(c.y))break}return l}function sd(u,l,a,c){return u&&l?c(u[a],l[a]):u?u[a]:l?l[a]:0}function fa(u,l){let a=[],c=!1;return fe(u)?(c=!0,a=u):a=function jd(u,l){const{x:a=null,y:c=null}=u||{},f=l.points,g=[];return l.segments.forEach(({start:_,end:w})=>{w=Ga(_,w,f);const A=f[_],k=f[w];null!==c?(g.push({x:A.x,y:c}),g.push({x:k.x,y:c})):null!==a&&(g.push({x:a,y:A.y}),g.push({x:a,y:k.y}))}),g}(u,l),a.length?new Wl({points:a,options:{tension:0},_loop:c,_fullLoop:c}):null}function Ec(u,l,a){let f=u[l].fill;const g=[l];let _;if(!a)return f;for(;!1!==f&&-1===g.indexOf(f);){if(!vt(f))return f;if(_=u[f],!_)return!1;if(_.visible)return f;g.push(f),f=_.fill}return!1}function od(u,l,a){const c=function zr(u){const l=u.options,a=l.fill;let c=it(a&&a.target,a);return void 0===c&&(c=!!l.backgroundColor),!1!==c&&null!==c&&(!0===c?"origin":c)}(u);if(be(c))return!isNaN(c.value)&&c;let f=parseFloat(c);return vt(f)&&Math.floor(f)===f?function Cu(u,l,a,c){return("-"===u||"+"===u)&&(a=l+a),!(a===l||a<0||a>=c)&&a}(c[0],l,f,a):["origin","start","end","stack","shape"].indexOf(c)>=0&&c}function al(u,l,a){const c=[];for(let f=0;f<a.length;f++){const g=a[f],{first:_,last:w,point:A}=Il(g,l,"x");if(!(!A||_&&w))if(_)c.unshift(A);else if(u.push(A),!w)break}u.push(...c)}function Il(u,l,a){const c=u.interpolate(l,a);if(!c)return{};const f=c[a],g=u.segments,_=u.points;let w=!1,A=!1;for(let k=0;k<g.length;k++){const Z=g[k],te=_[Z.start][a],he=_[Z.end][a];if(Mt(f,te,he)){w=f===te,A=f===he;break}}return{first:w,last:A,point:c}}class Zl{constructor(l){this.x=l.x,this.y=l.y,this.radius=l.radius}pathSegment(l,a,c){const{x:f,y:g,radius:_}=this;return l.arc(f,g,_,(a=a||{start:0,end:Ht}).end,a.start,!0),!c.bounds}interpolate(l){const{x:a,y:c,radius:f}=this,g=l.angle;return{x:a+Math.cos(g)*f,y:c+Math.sin(g)*f,angle:g}}}function Iu(u,l,a){const c=function xo(u){const{chart:l,fill:a,line:c}=u;if(vt(a))return function Al(u,l){const a=u.getDatasetMeta(l);return a&&u.isDatasetVisible(l)?a.dataset:null}(l,a);if("stack"===a)return function Yu(u){const{scale:l,index:a,line:c}=u,f=[],g=c.segments,_=c.points,w=function mo(u,l){const a=[],c=u.getMatchingVisibleMetas("line");for(let f=0;f<c.length;f++){const g=c[f];if(g.index===l)break;g.hidden||a.unshift(g.dataset)}return a}(l,a);w.push(fa({x:null,y:l.bottom},c));for(let A=0;A<g.length;A++){const k=g[A];for(let Z=k.start;Z<=k.end;Z++)al(f,_[Z],w)}return new Wl({points:f,options:{}})}(u);if("shape"===a)return!0;const f=function wc(u){return(u.scale||{}).getPointPositionForValue?function Tu(u){const{scale:l,fill:a}=u,c=l.options,f=l.getLabels().length,g=c.reverse?l.max:l.min,_=function sf(u,l,a){let c;return c="start"===u?a:"end"===u?l.options.reverse?l.min:l.max:be(u)?u.value:l.getBaseValue(),c}(a,l,g),w=[];if(c.grid.circular){const A=l.getPointPositionForValue(0,g);return new Zl({x:A.x,y:A.y,radius:l.getDistanceFromCenterForValue(_)})}for(let A=0;A<f;++A)w.push(l.getPointPositionForValue(A,_));return w}(u):function pa(u){const{scale:l={},fill:a}=u,c=function mh(u,l){let a=null;return"start"===u?a=l.bottom:"end"===u?a=l.top:be(u)?a=l.getPixelForValue(u.value):l.getBasePixel&&(a=l.getBasePixel()),a}(a,l);if(vt(c)){const f=l.isHorizontal();return{x:f?c:null,y:f?null:c}}return null}(u)}(u);return f instanceof Zl?f:fa(f,c)}(l),{line:f,scale:g,axis:_}=l,w=f.options,A=w.fill,k=w.backgroundColor,{above:Z=k,below:te=k}=A||{};c&&f.points.length&&(Vs(u,a),function yh(u,l){const{line:a,target:c,above:f,below:g,area:_,scale:w}=l,A=a._loop?"angle":l.axis;u.save(),"x"===A&&g!==f&&(Qu(u,c,_.top),Dc(u,{line:a,target:c,color:f,scale:w,property:A}),u.restore(),u.save(),Qu(u,c,_.bottom)),Dc(u,{line:a,target:c,color:g,scale:w,property:A}),u.restore()}(u,{line:f,target:c,above:Z,below:te,area:a,scale:g,axis:_}),bs(u))}function Qu(u,l,a){const{segments:c,points:f}=l;let g=!0,_=!1;u.beginPath();for(const w of c){const{start:A,end:k}=w,Z=f[A],te=f[Ga(A,k,f)];g?(u.moveTo(Z.x,Z.y),g=!1):(u.lineTo(Z.x,a),u.lineTo(Z.x,Z.y)),_=!!l.pathSegment(u,w,{move:_}),_?u.closePath():u.lineTo(te.x,a)}u.lineTo(l.first().x,a),u.closePath(),u.clip()}function Dc(u,l){const{line:a,target:c,property:f,color:g,scale:_}=l,w=function cr(u,l,a){const c=u.segments,f=u.points,g=l.points,_=[];for(const w of c){let{start:A,end:k}=w;k=Ga(A,k,f);const Z=$r(a,f[A],f[k],w.loop);if(!l.segments){_.push({source:w,target:Z,start:f[A],end:f[k]});continue}const te=j(l,Z);for(const he of te){const xe=$r(a,g[he.start],g[he.end],he.loop),We=S(w,f,xe);for(const Je of We)_.push({source:Je,target:he,start:{[a]:sd(Z,xe,"start",Math.max)},end:{[a]:sd(Z,xe,"end",Math.min)}})}}return _}(a,c,f);for(const{source:A,target:k,start:Z,end:te}of w){const{style:{backgroundColor:he=g}={}}=A,xe=!0!==c;u.save(),u.fillStyle=he,Au(u,_,xe&&$r(f,Z,te)),u.beginPath();const We=!!a.pathSegment(u,A);let Je;if(xe){We?u.closePath():Cc(u,c,te,f);const Ct=!!c.pathSegment(u,k,{move:We,reverse:!0});Je=We&&Ct,Je||Cc(u,c,Z,f)}u.closePath(),u.fill(Je?"evenodd":"nonzero"),u.restore()}}function Au(u,l,a){const{top:c,bottom:f}=l.chart.chartArea,{property:g,start:_,end:w}=a||{};"x"===g&&(u.beginPath(),u.rect(_,c,w-_,f-c),u.clip())}function Cc(u,l,a,c){const f=l.interpolate(a,c);f&&u.lineTo(f.x,f.y)}var _h={id:"filler",afterDatasetsUpdate(u,l,a){const c=(u.data.datasets||[]).length,f=[];let g,_,w,A;for(_=0;_<c;++_)g=u.getDatasetMeta(_),w=g.dataset,A=null,w&&w.options&&w instanceof Wl&&(A={visible:u.isDatasetVisible(_),index:_,fill:od(w,_,c),chart:u,axis:g.controller.options.indexAxis,scale:g.vScale,line:w}),g.$filler=A,f.push(A);for(_=0;_<c;++_)A=f[_],A&&!1!==A.fill&&(A.fill=Ec(f,_,a.propagate))},beforeDraw(u,l,a){const c="beforeDraw"===a.drawTime,f=u.getSortedVisibleDatasetMetas(),g=u.chartArea;for(let _=f.length-1;_>=0;--_){const w=f[_].$filler;!w||(w.line.updateControlPoints(g,w.axis),c&&Iu(u.ctx,w,g))}},beforeDatasetsDraw(u,l,a){if("beforeDatasetsDraw"!==a.drawTime)return;const c=u.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f){const g=c[f].$filler;g&&Iu(u.ctx,g,u.chartArea)}},beforeDatasetDraw(u,l,a){const c=l.meta.$filler;!c||!1===c.fill||"beforeDatasetDraw"!==a.drawTime||Iu(u.ctx,c,u.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const es=(u,l)=>{let{boxHeight:a=l,boxWidth:c=l}=u;return u.usePointStyle&&(a=Math.min(a,l),c=Math.min(c,l)),{boxWidth:c,boxHeight:a,itemHeight:Math.max(l,a)}};class ad extends ks{constructor(l){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,a,c){this.maxWidth=l,this.maxHeight=a,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const l=this.options.labels||{};let a=st(l.generateLabels,[this.chart],this)||[];l.filter&&(a=a.filter(c=>l.filter(c,this.chart.data))),l.sort&&(a=a.sort((c,f)=>l.sort(c,f,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:l,ctx:a}=this;if(!l.display)return void(this.width=this.height=0);const c=l.labels,f=qi(c.font),g=f.size,_=this._computeTitleHeight(),{boxWidth:w,itemHeight:A}=es(c,g);let k,Z;a.font=f.string,this.isHorizontal()?(k=this.maxWidth,Z=this._fitRows(_,g,w,A)+10):(Z=this.maxHeight,k=this._fitCols(_,g,w,A)+10),this.width=Math.min(k,l.maxWidth||this.maxWidth),this.height=Math.min(Z,l.maxHeight||this.maxHeight)}_fitRows(l,a,c,f){const{ctx:g,maxWidth:_,options:{labels:{padding:w}}}=this,A=this.legendHitBoxes=[],k=this.lineWidths=[0],Z=f+w;let te=l;g.textAlign="left",g.textBaseline="middle";let he=-1,xe=-Z;return this.legendItems.forEach((We,Je)=>{const Ct=c+a/2+g.measureText(We.text).width;(0===Je||k[k.length-1]+Ct+2*w>_)&&(te+=Z,k[k.length-(Je>0?0:1)]=0,xe+=Z,he++),A[Je]={left:0,top:xe,row:he,width:Ct,height:f},k[k.length-1]+=Ct+w}),te}_fitCols(l,a,c,f){const{ctx:g,maxHeight:_,options:{labels:{padding:w}}}=this,A=this.legendHitBoxes=[],k=this.columnSizes=[],Z=_-l;let te=w,he=0,xe=0,We=0,Je=0;return this.legendItems.forEach((Ct,xt)=>{const rn=c+a/2+g.measureText(Ct.text).width;xt>0&&xe+f+2*w>Z&&(te+=he+w,k.push({width:he,height:xe}),We+=he+w,Je++,he=xe=0),A[xt]={left:We,top:xe,col:Je,width:rn,height:f},he=Math.max(he,rn),xe+=f+w}),te+=he,k.push({width:he,height:xe}),te}adjustHitBoxes(){if(!this.options.display)return;const l=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:c,labels:{padding:f},rtl:g}}=this,_=Ds(g,this.left,this.width);if(this.isHorizontal()){let w=0,A=ve(c,this.left+f,this.right-this.lineWidths[w]);for(const k of a)w!==k.row&&(w=k.row,A=ve(c,this.left+f,this.right-this.lineWidths[w])),k.top+=this.top+l+f,k.left=_.leftForLtr(_.x(A),k.width),A+=k.width+f}else{let w=0,A=ve(c,this.top+l+f,this.bottom-this.columnSizes[w].height);for(const k of a)k.col!==w&&(w=k.col,A=ve(c,this.top+l+f,this.bottom-this.columnSizes[w].height)),k.top=A,k.left+=this.left+f,k.left=_.leftForLtr(_.x(k.left),k.width),A+=k.height+f}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const l=this.ctx;Vs(l,this),this._draw(),bs(l)}}_draw(){const{options:l,columnSizes:a,lineWidths:c,ctx:f}=this,{align:g,labels:_}=l,w=di.color,A=Ds(l.rtl,this.left,this.width),k=qi(_.font),{color:Z,padding:te}=_,he=k.size,xe=he/2;let We;this.drawTitle(),f.textAlign=A.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=k.string;const{boxWidth:Je,boxHeight:Ct,itemHeight:xt}=es(_,he),tn=this.isHorizontal(),en=this._computeTitleHeight();We=tn?{x:ve(g,this.left+te,this.right-c[0]),y:this.top+te+en,line:0}:{x:this.left+te,y:ve(g,this.top+en+te,this.bottom-a[0].height),line:0},ps(this.ctx,l.textDirection);const Gn=xt+te;this.legendItems.forEach((Wn,ci)=>{f.strokeStyle=Wn.fontColor||Z,f.fillStyle=Wn.fontColor||Z;const vi=f.measureText(Wn.text).width,cs=A.textAlign(Wn.textAlign||(Wn.textAlign=_.textAlign)),dr=Je+xe+vi;let nr=We.x,Is=We.y;A.setWidth(this.width),tn?ci>0&&nr+dr+te>this.right&&(Is=We.y+=Gn,We.line++,nr=We.x=ve(g,this.left+te,this.right-c[We.line])):ci>0&&Is+Gn>this.bottom&&(nr=We.x=nr+a[We.line].width+te,We.line++,Is=We.y=ve(g,this.top+en+te,this.bottom-a[We.line].height)),function(Wn,ci,vi){if(isNaN(Je)||Je<=0||isNaN(Ct)||Ct<0)return;f.save();const cs=it(vi.lineWidth,1);if(f.fillStyle=it(vi.fillStyle,w),f.lineCap=it(vi.lineCap,"butt"),f.lineDashOffset=it(vi.lineDashOffset,0),f.lineJoin=it(vi.lineJoin,"miter"),f.lineWidth=cs,f.strokeStyle=it(vi.strokeStyle,w),f.setLineDash(it(vi.lineDash,[])),_.usePointStyle){const dr={radius:Je*Math.SQRT2/2,pointStyle:vi.pointStyle,rotation:vi.rotation,borderWidth:cs},nr=A.xPlus(Wn,Je/2);ss(f,dr,nr,ci+xe)}else{const dr=ci+Math.max((he-Ct)/2,0),nr=A.leftForLtr(Wn,Je),Is=Ai(vi.borderRadius);f.beginPath(),Object.values(Is).some(ra=>0!==ra)?He(f,{x:nr,y:dr,w:Je,h:Ct,radius:Is}):f.rect(nr,dr,Je,Ct),f.fill(),0!==cs&&f.stroke()}f.restore()}(A.x(nr),Is,Wn),nr=((u,l,a,c)=>u===(c?"left":"right")?a:"center"===u?(l+a)/2:l)(cs,nr+Je+xe,tn?nr+dr:this.right,l.rtl),function(Wn,ci,vi){Os(f,vi.text,Wn,ci+xt/2,k,{strikethrough:vi.hidden,textAlign:A.textAlign(vi.textAlign)})}(A.x(nr),Is,Wn),tn?We.x+=dr+te:We.y+=Gn}),Gs(this.ctx,l.textDirection)}drawTitle(){const l=this.options,a=l.title,c=qi(a.font),f=Xi(a.padding);if(!a.display)return;const g=Ds(l.rtl,this.left,this.width),_=this.ctx,w=a.position,k=f.top+c.size/2;let Z,te=this.left,he=this.width;if(this.isHorizontal())he=Math.max(...this.lineWidths),Z=this.top+k,te=ve(l.align,te,this.right-he);else{const We=this.columnSizes.reduce((Je,Ct)=>Math.max(Je,Ct.height),0);Z=k+ve(l.align,this.top,this.bottom-We-l.labels.padding-this._computeTitleHeight())}const xe=ve(w,te,te+he);_.textAlign=g.textAlign(we(w)),_.textBaseline="middle",_.strokeStyle=a.color,_.fillStyle=a.color,_.font=c.string,Os(_,a.text,xe,Z,c)}_computeTitleHeight(){const l=this.options.title,a=qi(l.font),c=Xi(l.padding);return l.display?a.lineHeight+c.height:0}_getLegendItemAt(l,a){let c,f,g;if(Mt(l,this.left,this.right)&&Mt(a,this.top,this.bottom))for(g=this.legendHitBoxes,c=0;c<g.length;++c)if(f=g[c],Mt(l,f.left,f.left+f.width)&&Mt(a,f.top,f.top+f.height))return this.legendItems[c];return null}handleEvent(l){const a=this.options;if(!function ql(u,l){return!(("mousemove"!==u&&"mouseout"!==u||!l.onHover&&!l.onLeave)&&(!l.onClick||"click"!==u&&"mouseup"!==u))}(l.type,a))return;const c=this._getLegendItemAt(l.x,l.y);if("mousemove"===l.type||"mouseout"===l.type){const f=this._hoveredItem,g=((u,l)=>null!==u&&null!==l&&u.datasetIndex===l.datasetIndex&&u.index===l.index)(f,c);f&&!g&&st(a.onLeave,[l,f,this],this),this._hoveredItem=c,c&&!g&&st(a.onHover,[l,c,this],this)}else c&&st(a.onClick,[l,c,this],this)}}var Wa={id:"legend",_element:ad,start(u,l,a){const c=u.legend=new ad({ctx:u.ctx,options:a,chart:u});Ao.configure(u,c,a),Ao.addBox(u,c)},stop(u){Ao.removeBox(u,u.legend),delete u.legend},beforeUpdate(u,l,a){const c=u.legend;Ao.configure(u,c,a),c.options=a},afterUpdate(u){const l=u.legend;l.buildLabels(),l.adjustHitBoxes()},afterEvent(u,l){l.replay||u.legend.handleEvent(l.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(u,l,a){const c=l.datasetIndex,f=a.chart;f.isDatasetVisible(c)?(f.hide(c),l.hidden=!0):(f.show(c),l.hidden=!1)},onHover:null,onLeave:null,labels:{color:u=>u.chart.options.color,boxWidth:40,padding:10,generateLabels(u){const l=u.data.datasets,{labels:{usePointStyle:a,pointStyle:c,textAlign:f,color:g}}=u.legend.options;return u._getSortedDatasetMetas().map(_=>{const w=_.controller.getStyle(a?0:void 0),A=Xi(w.borderWidth);return{text:l[_.index].label,fillStyle:w.backgroundColor,fontColor:g,hidden:!_.visible,lineCap:w.borderCapStyle,lineDash:w.borderDash,lineDashOffset:w.borderDashOffset,lineJoin:w.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:w.borderColor,pointStyle:c||w.pointStyle,rotation:w.rotation,textAlign:f||w.textAlign,borderRadius:0,datasetIndex:_.index}},this)}},title:{color:u=>u.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:u=>!u.startsWith("on"),labels:{_scriptable:u=>!["generateLabels","filter","sort"].includes(u)}}};class Su extends ks{constructor(l){super(),this.chart=l.chart,this.options=l.options,this.ctx=l.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(l,a){const c=this.options;if(this.left=0,this.top=0,!c.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=l,this.height=this.bottom=a;const f=fe(c.text)?c.text.length:1;this._padding=Xi(c.padding);const g=f*qi(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const l=this.options.position;return"top"===l||"bottom"===l}_drawArgs(l){const{top:a,left:c,bottom:f,right:g,options:_}=this,w=_.align;let k,Z,te,A=0;return this.isHorizontal()?(Z=ve(w,c,g),te=a+l,k=g-c):("left"===_.position?(Z=c+l,te=ve(w,f,a),A=-.5*rt):(Z=g-l,te=ve(w,a,f),A=.5*rt),k=f-a),{titleX:Z,titleY:te,maxWidth:k,rotation:A}}draw(){const l=this.ctx,a=this.options;if(!a.display)return;const c=qi(a.font),g=c.lineHeight/2+this._padding.top,{titleX:_,titleY:w,maxWidth:A,rotation:k}=this._drawArgs(g);Os(l,a.text,0,0,c,{color:a.color,maxWidth:A,rotation:k,textAlign:we(a.align),textBaseline:"middle",translation:[_,w]})}}var Yl={id:"title",_element:Su,start(u,l,a){!function Do(u,l){const a=new Su({ctx:u.ctx,options:l,chart:u});Ao.configure(u,a,l),Ao.addBox(u,a),u.titleBlock=a}(u,a)},stop(u){Ao.removeBox(u,u.titleBlock),delete u.titleBlock},beforeUpdate(u,l,a){const c=u.titleBlock;Ao.configure(u,c,a),c.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ql=new WeakMap;var Hd={id:"subtitle",start(u,l,a){const c=new Su({ctx:u.ctx,options:a,chart:u});Ao.configure(u,c,a),Ao.addBox(u,c),Ql.set(u,c)},stop(u){Ao.removeBox(u,Ql.get(u)),Ql.delete(u)},beforeUpdate(u,l,a){const c=Ql.get(u);Ao.configure(u,c,a),c.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const na={average(u){if(!u.length)return!1;let l,a,c=0,f=0,g=0;for(l=0,a=u.length;l<a;++l){const _=u[l].element;if(_&&_.hasValue()){const w=_.tooltipPosition();c+=w.x,f+=w.y,++g}}return{x:c/g,y:f/g}},nearest(u,l){if(!u.length)return!1;let g,_,w,a=l.x,c=l.y,f=Number.POSITIVE_INFINITY;for(g=0,_=u.length;g<_;++g){const A=u[g].element;if(A&&A.hasValue()){const Z=Xt(l,A.getCenterPoint());Z<f&&(f=Z,w=A)}}if(w){const A=w.tooltipPosition();a=A.x,c=A.y}return{x:a,y:c}}};function ia(u,l){return l&&(fe(l)?Array.prototype.push.apply(u,l):u.push(l)),u}function ka(u){return("string"==typeof u||u instanceof String)&&u.indexOf("\n")>-1?u.split("\n"):u}function xu(u,l){const{element:a,datasetIndex:c,index:f}=l,g=u.getDatasetMeta(c).controller,{label:_,value:w}=g.getLabelAndValue(f);return{chart:u,label:_,parsed:g.getParsed(f),raw:u.data.datasets[c].data[f],formattedValue:w,dataset:g.getDataset(),dataIndex:f,datasetIndex:c,element:a}}function Ic(u,l){const a=u.chart.ctx,{body:c,footer:f,title:g}=u,{boxWidth:_,boxHeight:w}=l,A=qi(l.bodyFont),k=qi(l.titleFont),Z=qi(l.footerFont),te=g.length,he=f.length,xe=c.length,We=Xi(l.padding);let Je=We.height,Ct=0,xt=c.reduce((tn,en)=>tn+en.before.length+en.lines.length+en.after.length,0);xt+=u.beforeBody.length+u.afterBody.length,te&&(Je+=te*k.lineHeight+(te-1)*l.titleSpacing+l.titleMarginBottom),xt&&(Je+=xe*(l.displayColors?Math.max(w,A.lineHeight):A.lineHeight)+(xt-xe)*A.lineHeight+(xt-1)*l.bodySpacing),he&&(Je+=l.footerMarginTop+he*Z.lineHeight+(he-1)*l.footerSpacing);let rn=0;const Mn=function(tn){Ct=Math.max(Ct,a.measureText(tn).width+rn)};return a.save(),a.font=k.string,Oe(u.title,Mn),a.font=A.string,Oe(u.beforeBody.concat(u.afterBody),Mn),rn=l.displayColors?_+2+l.boxPadding:0,Oe(c,tn=>{Oe(tn.before,Mn),Oe(tn.lines,Mn),Oe(tn.after,Mn)}),rn=0,a.font=Z.string,Oe(u.footer,Mn),a.restore(),Ct+=We.width,{width:Ct,height:Je}}function zd(u,l,a,c){const{x:f,width:g}=a,{width:_,chartArea:{left:w,right:A}}=u;let k="center";return"center"===c?k=f<=(w+A)/2?"left":"right":f<=g/2?k="left":f>=_-g/2&&(k="right"),function $d(u,l,a,c){const{x:f,width:g}=c,_=a.caretSize+a.caretPadding;if("left"===u&&f+g+_>l.width||"right"===u&&f-g-_<0)return!0}(k,u,l,a)&&(k="center"),k}function ud(u,l,a){const c=a.yAlign||l.yAlign||function ld(u,l){const{y:a,height:c}=l;return a<c/2?"top":a>u.height-c/2?"bottom":"center"}(u,a);return{xAlign:a.xAlign||l.xAlign||zd(u,l,a,c),yAlign:c}}function m(u,l,a,c){const{caretSize:f,caretPadding:g,cornerRadius:_}=u,{xAlign:w,yAlign:A}=a,k=f+g,{topLeft:Z,topRight:te,bottomLeft:he,bottomRight:xe}=Ai(_);let We=function Gd(u,l){let{x:a,width:c}=u;return"right"===l?a-=c:"center"===l&&(a-=c/2),a}(l,w);const Je=function D(u,l,a){let{y:c,height:f}=u;return"top"===l?c+=a:c-="bottom"===l?f+a:f/2,c}(l,A,k);return"center"===A?"left"===w?We+=k:"right"===w&&(We-=k):"left"===w?We-=Math.max(Z,he)+f:"right"===w&&(We+=Math.max(te,xe)+f),{x:je(We,0,c.width-l.width),y:je(Je,0,c.height-l.height)}}function b(u,l,a){const c=Xi(a.padding);return"center"===l?u.x+u.width/2:"right"===l?u.x+u.width-c.right:u.x+c.left}function M(u){return ia([],ka(u))}function de(u,l){const a=l&&l.dataset&&l.dataset.tooltip&&l.dataset.tooltip.callbacks;return a?u.override(a):u}let dt=(()=>{class u extends ks{constructor(a){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=a.chart||a._chart,this._chart=this.chart,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const a=this._cachedAnimations;if(a)return a;const c=this.chart,f=this.options.setContext(this.getContext()),g=f.enabled&&c.options.animation&&f.animations,_=new gs(this.chart,g);return g._cacheable&&(this._cachedAnimations=Object.freeze(_)),_}getContext(){return this.$context||(this.$context=function Y(u,l,a){return or(u,{tooltip:l,tooltipItems:a,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(a,c){const{callbacks:f}=c,g=f.beforeTitle.apply(this,[a]),_=f.title.apply(this,[a]),w=f.afterTitle.apply(this,[a]);let A=[];return A=ia(A,ka(g)),A=ia(A,ka(_)),A=ia(A,ka(w)),A}getBeforeBody(a,c){return M(c.callbacks.beforeBody.apply(this,[a]))}getBody(a,c){const{callbacks:f}=c,g=[];return Oe(a,_=>{const w={before:[],lines:[],after:[]},A=de(f,_);ia(w.before,ka(A.beforeLabel.call(this,_))),ia(w.lines,A.label.call(this,_)),ia(w.after,ka(A.afterLabel.call(this,_))),g.push(w)}),g}getAfterBody(a,c){return M(c.callbacks.afterBody.apply(this,[a]))}getFooter(a,c){const{callbacks:f}=c,g=f.beforeFooter.apply(this,[a]),_=f.footer.apply(this,[a]),w=f.afterFooter.apply(this,[a]);let A=[];return A=ia(A,ka(g)),A=ia(A,ka(_)),A=ia(A,ka(w)),A}_createItems(a){const c=this._active,f=this.chart.data,g=[],_=[],w=[];let k,Z,A=[];for(k=0,Z=c.length;k<Z;++k)A.push(xu(this.chart,c[k]));return a.filter&&(A=A.filter((te,he,xe)=>a.filter(te,he,xe,f))),a.itemSort&&(A=A.sort((te,he)=>a.itemSort(te,he,f))),Oe(A,te=>{const he=de(a.callbacks,te);g.push(he.labelColor.call(this,te)),_.push(he.labelPointStyle.call(this,te)),w.push(he.labelTextColor.call(this,te))}),this.labelColors=g,this.labelPointStyles=_,this.labelTextColors=w,this.dataPoints=A,A}update(a,c){const f=this.options.setContext(this.getContext()),g=this._active;let _,w=[];if(g.length){const A=na[f.position].call(this,g,this._eventPosition);w=this._createItems(f),this.title=this.getTitle(w,f),this.beforeBody=this.getBeforeBody(w,f),this.body=this.getBody(w,f),this.afterBody=this.getAfterBody(w,f),this.footer=this.getFooter(w,f);const k=this._size=Ic(this,f),Z=Object.assign({},A,k),te=ud(this.chart,f,Z),he=m(f,Z,te,this.chart);this.xAlign=te.xAlign,this.yAlign=te.yAlign,_={opacity:1,x:he.x,y:he.y,width:k.width,height:k.height,caretX:A.x,caretY:A.y}}else 0!==this.opacity&&(_={opacity:0});this._tooltipItems=w,this.$context=void 0,_&&this._resolveAnimations().update(this,_),a&&f.external&&f.external.call(this,{chart:this.chart,tooltip:this,replay:c})}drawCaret(a,c,f,g){const _=this.getCaretPosition(a,f,g);c.lineTo(_.x1,_.y1),c.lineTo(_.x2,_.y2),c.lineTo(_.x3,_.y3)}getCaretPosition(a,c,f){const{xAlign:g,yAlign:_}=this,{caretSize:w,cornerRadius:A}=f,{topLeft:k,topRight:Z,bottomLeft:te,bottomRight:he}=Ai(A),{x:xe,y:We}=a,{width:Je,height:Ct}=c;let xt,rn,Mn,tn,en,Gn;return"center"===_?(en=We+Ct/2,"left"===g?(xt=xe,rn=xt-w,tn=en+w,Gn=en-w):(xt=xe+Je,rn=xt+w,tn=en-w,Gn=en+w),Mn=xt):(rn="left"===g?xe+Math.max(k,te)+w:"right"===g?xe+Je-Math.max(Z,he)-w:this.caretX,"top"===_?(tn=We,en=tn-w,xt=rn-w,Mn=rn+w):(tn=We+Ct,en=tn+w,xt=rn+w,Mn=rn-w),Gn=tn),{x1:xt,x2:rn,x3:Mn,y1:tn,y2:en,y3:Gn}}drawTitle(a,c,f){const g=this.title,_=g.length;let w,A,k;if(_){const Z=Ds(f.rtl,this.x,this.width);for(a.x=b(this,f.titleAlign,f),c.textAlign=Z.textAlign(f.titleAlign),c.textBaseline="middle",w=qi(f.titleFont),A=f.titleSpacing,c.fillStyle=f.titleColor,c.font=w.string,k=0;k<_;++k)c.fillText(g[k],Z.x(a.x),a.y+w.lineHeight/2),a.y+=w.lineHeight+A,k+1===_&&(a.y+=f.titleMarginBottom-A)}}_drawColorBox(a,c,f,g,_){const w=this.labelColors[f],A=this.labelPointStyles[f],{boxHeight:k,boxWidth:Z,boxPadding:te}=_,he=qi(_.bodyFont),xe=b(this,"left",_),We=g.x(xe),Ct=c.y+(k<he.lineHeight?(he.lineHeight-k)/2:0);if(_.usePointStyle){const xt={radius:Math.min(Z,k)/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:1},rn=g.leftForLtr(We,Z)+Z/2,Mn=Ct+k/2;a.strokeStyle=_.multiKeyBackground,a.fillStyle=_.multiKeyBackground,ss(a,xt,rn,Mn),a.strokeStyle=w.borderColor,a.fillStyle=w.backgroundColor,ss(a,xt,rn,Mn)}else{a.lineWidth=w.borderWidth||1,a.strokeStyle=w.borderColor,a.setLineDash(w.borderDash||[]),a.lineDashOffset=w.borderDashOffset||0;const xt=g.leftForLtr(We,Z-te),rn=g.leftForLtr(g.xPlus(We,1),Z-te-2),Mn=Ai(w.borderRadius);Object.values(Mn).some(tn=>0!==tn)?(a.beginPath(),a.fillStyle=_.multiKeyBackground,He(a,{x:xt,y:Ct,w:Z,h:k,radius:Mn}),a.fill(),a.stroke(),a.fillStyle=w.backgroundColor,a.beginPath(),He(a,{x:rn,y:Ct+1,w:Z-2,h:k-2,radius:Mn}),a.fill()):(a.fillStyle=_.multiKeyBackground,a.fillRect(xt,Ct,Z,k),a.strokeRect(xt,Ct,Z,k),a.fillStyle=w.backgroundColor,a.fillRect(rn,Ct+1,Z-2,k-2))}a.fillStyle=this.labelTextColors[f]}drawBody(a,c,f){const{body:g}=this,{bodySpacing:_,bodyAlign:w,displayColors:A,boxHeight:k,boxWidth:Z,boxPadding:te}=f,he=qi(f.bodyFont);let xe=he.lineHeight,We=0;const Je=Ds(f.rtl,this.x,this.width),Ct=function(vi){c.fillText(vi,Je.x(a.x+We),a.y+xe/2),a.y+=xe+_},xt=Je.textAlign(w);let rn,Mn,tn,en,Gn,Wn,ci;for(c.textAlign=w,c.textBaseline="middle",c.font=he.string,a.x=b(this,xt,f),c.fillStyle=f.bodyColor,Oe(this.beforeBody,Ct),We=A&&"right"!==xt?"center"===w?Z/2+te:Z+2+te:0,en=0,Wn=g.length;en<Wn;++en){for(rn=g[en],Mn=this.labelTextColors[en],c.fillStyle=Mn,Oe(rn.before,Ct),tn=rn.lines,A&&tn.length&&(this._drawColorBox(c,a,en,Je,f),xe=Math.max(he.lineHeight,k)),Gn=0,ci=tn.length;Gn<ci;++Gn)Ct(tn[Gn]),xe=he.lineHeight;Oe(rn.after,Ct)}We=0,xe=he.lineHeight,Oe(this.afterBody,Ct),a.y-=_}drawFooter(a,c,f){const g=this.footer,_=g.length;let w,A;if(_){const k=Ds(f.rtl,this.x,this.width);for(a.x=b(this,f.footerAlign,f),a.y+=f.footerMarginTop,c.textAlign=k.textAlign(f.footerAlign),c.textBaseline="middle",w=qi(f.footerFont),c.fillStyle=f.footerColor,c.font=w.string,A=0;A<_;++A)c.fillText(g[A],k.x(a.x),a.y+w.lineHeight/2),a.y+=w.lineHeight+f.footerSpacing}}drawBackground(a,c,f,g){const{xAlign:_,yAlign:w}=this,{x:A,y:k}=a,{width:Z,height:te}=f,{topLeft:he,topRight:xe,bottomLeft:We,bottomRight:Je}=Ai(g.cornerRadius);c.fillStyle=g.backgroundColor,c.strokeStyle=g.borderColor,c.lineWidth=g.borderWidth,c.beginPath(),c.moveTo(A+he,k),"top"===w&&this.drawCaret(a,c,f,g),c.lineTo(A+Z-xe,k),c.quadraticCurveTo(A+Z,k,A+Z,k+xe),"center"===w&&"right"===_&&this.drawCaret(a,c,f,g),c.lineTo(A+Z,k+te-Je),c.quadraticCurveTo(A+Z,k+te,A+Z-Je,k+te),"bottom"===w&&this.drawCaret(a,c,f,g),c.lineTo(A+We,k+te),c.quadraticCurveTo(A,k+te,A,k+te-We),"center"===w&&"left"===_&&this.drawCaret(a,c,f,g),c.lineTo(A,k+he),c.quadraticCurveTo(A,k,A+he,k),c.closePath(),c.fill(),g.borderWidth>0&&c.stroke()}_updateAnimationTarget(a){const c=this.chart,f=this.$animations,g=f&&f.x,_=f&&f.y;if(g||_){const w=na[a.position].call(this,this._active,this._eventPosition);if(!w)return;const A=this._size=Ic(this,a),k=Object.assign({},w,this._size),Z=ud(c,a,k),te=m(a,k,Z,c);(g._to!==te.x||_._to!==te.y)&&(this.xAlign=Z.xAlign,this.yAlign=Z.yAlign,this.width=A.width,this.height=A.height,this.caretX=w.x,this.caretY=w.y,this._resolveAnimations().update(this,te))}}_willRender(){return!!this.opacity}draw(a){const c=this.options.setContext(this.getContext());let f=this.opacity;if(!f)return;this._updateAnimationTarget(c);const g={width:this.width,height:this.height},_={x:this.x,y:this.y};f=Math.abs(f)<.001?0:f;const w=Xi(c.padding);c.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(a.save(),a.globalAlpha=f,this.drawBackground(_,a,g,c),ps(a,c.textDirection),_.y+=w.top,this.drawTitle(_,a,c),this.drawBody(_,a,c),this.drawFooter(_,a,c),Gs(a,c.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(a,c){const f=this._active,g=a.map(({datasetIndex:A,index:k})=>{const Z=this.chart.getDatasetMeta(A);if(!Z)throw new Error("Cannot find a dataset at index "+A);return{datasetIndex:A,element:Z.data[k],index:k}}),_=!on(f,g),w=this._positionChanged(g,c);(_||w)&&(this._active=g,this._eventPosition=c,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(a,c,f=!0){if(c&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const g=this.options,_=this._active||[],w=this._getActiveElements(a,_,c,f),A=this._positionChanged(w,a),k=c||!on(w,_)||A;return k&&(this._active=w,(g.enabled||g.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,c))),k}_getActiveElements(a,c,f,g){const _=this.options;if("mouseout"===a.type)return[];if(!g)return c;const w=this.chart.getElementsAtEventForMode(a,_.mode,_,f);return _.reverse&&w.reverse(),w}_positionChanged(a,c){const{caretX:f,caretY:g,options:_}=this,w=na[_.position].call(this,a,c);return!1!==w&&(f!==w.x||g!==w.y)}}return u.positioners=na,u})();var Rn=Object.freeze({__proto__:null,Decimation:bc,Filler:_h,Legend:Wa,SubTitle:Hd,Title:Yl,Tooltip:{id:"tooltip",_element:dt,positioners:na,afterInit(u,l,a){a&&(u.tooltip=new dt({chart:u,options:a}))},beforeUpdate(u,l,a){u.tooltip&&u.tooltip.initialize(a)},reset(u,l,a){u.tooltip&&u.tooltip.initialize(a)},afterDraw(u){const l=u.tooltip;if(l&&l._willRender()){const a={tooltip:l};if(!1===u.notifyPlugins("beforeTooltipDraw",a))return;l.draw(u.ctx),u.notifyPlugins("afterTooltipDraw",a)}},afterEvent(u,l){u.tooltip&&u.tooltip.handleEvent(l.event,l.replay,l.inChartArea)&&(l.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(u,l)=>l.bodyFont.size,boxWidth:(u,l)=>l.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ce,title(u){if(u.length>0){const l=u[0],a=l.chart.data.labels,c=a?a.length:0;if(this&&this.options&&"dataset"===this.options.mode)return l.dataset.label||"";if(l.label)return l.label;if(c>0&&l.dataIndex<c)return a[l.dataIndex]}return""},afterTitle:Ce,beforeBody:Ce,beforeLabel:Ce,label(u){if(this&&this.options&&"dataset"===this.options.mode)return u.label+": "+u.formattedValue||u.formattedValue;let l=u.dataset.label||"";l&&(l+=": ");const a=u.formattedValue;return ce(a)||(l+=a),l},labelColor(u){const a=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(u){const a=u.chart.getDatasetMeta(u.datasetIndex).controller.getStyle(u.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Ce,afterBody:Ce,beforeFooter:Ce,footer:Ce,afterFooter:Ce}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:u=>"filter"!==u&&"itemSort"!==u&&"external"!==u,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class _r extends Ti{constructor(l){super(l),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(l){const a=this._addedLabels;if(a.length){const c=this.getLabels();for(const{index:f,label:g}of a)c[f]===g&&c.splice(f,1);this._addedLabels=[]}super.init(l)}parse(l,a){if(ce(l))return null;const c=this.getLabels();return((u,l)=>null===u?null:je(Math.round(u),0,l))(a=isFinite(a)&&c[a]===l?a:function Ii(u,l,a,c){const f=u.indexOf(l);return-1===f?((u,l,a,c)=>("string"==typeof l?(a=u.push(l)-1,c.unshift({index:a,label:l})):isNaN(l)&&(a=null),a))(u,l,a,c):f!==u.lastIndexOf(l)?a:f}(c,l,it(a,l),this._addedLabels),c.length-1)}determineDataLimits(){const{minDefined:l,maxDefined:a}=this.getUserBounds();let{min:c,max:f}=this.getMinMax(!0);"ticks"===this.options.bounds&&(l||(c=0),a||(f=this.getLabels().length-1)),this.min=c,this.max=f}buildTicks(){const l=this.min,a=this.max,c=this.options.offset,f=[];let g=this.getLabels();g=0===l&&a===g.length-1?g:g.slice(l,a+1),this._valueRange=Math.max(g.length-(c?0:1),1),this._startValue=this.min-(c?.5:0);for(let _=l;_<=a;_++)f.push({value:_});return f}getLabelForValue(l){const a=this.getLabels();return l>=0&&l<a.length?a[l]:l}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(l){return"number"!=typeof l&&(l=this.parse(l)),null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getPixelForTick(l){const a=this.ticks;return l<0||l>a.length-1?null:this.getPixelForValue(a[l].value)}getValueForPixel(l){return Math.round(this._startValue+this.getDecimalForPixel(l)*this._valueRange)}getBasePixel(){return this.bottom}}function ll(u,l,{horizontal:a,minRotation:c}){const f=vn(c),g=(a?Math.sin(f):Math.cos(f))||.001;return Math.min(l/g,.75*l*(""+u).length)}_r.id="category",_r.defaults={ticks:{callback:_r.prototype.getLabelForValue}};class Sl extends Ti{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(l,a){return ce(l)||("number"==typeof l||l instanceof Number)&&!isFinite(+l)?null:+l}handleTickRangeOptions(){const{beginAtZero:l}=this.options,{minDefined:a,maxDefined:c}=this.getUserBounds();let{min:f,max:g}=this;const _=A=>f=a?f:A,w=A=>g=c?g:A;if(l){const A=ti(f),k=ti(g);A<0&&k<0?w(0):A>0&&k>0&&_(0)}if(f===g){let A=1;(g>=Number.MAX_SAFE_INTEGER||f<=Number.MIN_SAFE_INTEGER)&&(A=Math.abs(.05*g)),w(g+A),l||_(f-A)}this.min=f,this.max=g}getTickLimit(){const l=this.options.ticks;let f,{maxTicksLimit:a,stepSize:c}=l;return c?(f=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),a=a||11),a&&(f=Math.min(a,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const l=this.options,a=l.ticks;let c=this.getTickLimit();c=Math.max(2,c);const _=function ga(u,l){const a=[],{bounds:f,step:g,min:_,max:w,precision:A,count:k,maxTicks:Z,maxDigits:te,includeBounds:he}=u,xe=g||1,We=Z-1,{min:Je,max:Ct}=l,xt=!ce(_),rn=!ce(w),Mn=!ce(k),tn=(Ct-Je)/(te+1);let Gn,Wn,ci,vi,en=Ci((Ct-Je)/We/xe)*xe;if(en<1e-14&&!xt&&!rn)return[{value:Je},{value:Ct}];vi=Math.ceil(Ct/en)-Math.floor(Je/en),vi>We&&(en=Ci(vi*en/We/xe)*xe),ce(A)||(Gn=Math.pow(10,A),en=Math.ceil(en*Gn)/Gn),"ticks"===f?(Wn=Math.floor(Je/en)*en,ci=Math.ceil(Ct/en)*en):(Wn=Je,ci=Ct),xt&&rn&&g&&function fi(u,l){const a=Math.round(u);return a-l<=u&&a+l>=u}((w-_)/g,en/1e3)?(vi=Math.round(Math.min((w-_)/en,Z)),en=(w-_)/vi,Wn=_,ci=w):Mn?(Wn=xt?_:Wn,ci=rn?w:ci,vi=k-1,en=(ci-Wn)/vi):(vi=(ci-Wn)/en,vi=ii(vi,Math.round(vi),en/1e3)?Math.round(vi):Math.ceil(vi));const cs=Math.max(Tt(en),Tt(Wn));Gn=Math.pow(10,ce(A)?cs:A),Wn=Math.round(Wn*Gn)/Gn,ci=Math.round(ci*Gn)/Gn;let dr=0;for(xt&&(he&&Wn!==_?(a.push({value:_}),Wn<_&&dr++,ii(Math.round((Wn+dr*en)*Gn)/Gn,_,ll(_,tn,u))&&dr++):Wn<_&&dr++);dr<vi;++dr)a.push({value:Math.round((Wn+dr*en)*Gn)/Gn});return rn&&he&&ci!==w?a.length&&ii(a[a.length-1].value,w,ll(w,tn,u))?a[a.length-1].value=w:a.push({value:w}):(!rn||ci===w)&&a.push({value:ci}),a}({maxTicks:c,bounds:l.bounds,min:l.min,max:l.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:!1!==a.includeBounds},this._range||this);return"ticks"===l.bounds&&pi(_,this,"value"),l.reverse?(_.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_}configure(){const l=this.ticks;let a=this.min,c=this.max;if(super.configure(),this.options.offset&&l.length){const f=(c-a)/Math.max(l.length-1,1)/2;a-=f,c+=f}this._startValue=a,this._endValue=c,this._valueRange=c-a}getLabelForValue(l){return aa(l,this.chart.options.locale,this.options.ticks.format)}}class Jl extends Sl{determineDataLimits(){const{min:l,max:a}=this.getMinMax(!0);this.min=vt(l)?l:0,this.max=vt(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const l=this.isHorizontal(),a=l?this.width:this.height,c=vn(this.options.ticks.minRotation),f=(l?Math.sin(c):Math.cos(c))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,g.lineHeight/f))}getPixelForValue(l){return null===l?NaN:this.getPixelForDecimal((l-this._startValue)/this._valueRange)}getValueForPixel(l){return this._startValue+this.getDecimalForPixel(l)*this._valueRange}}function Ac(u){return u/Math.pow(10,Math.floor(Sn(u)))==1}Jl.id="linear",Jl.defaults={ticks:{callback:zo.formatters.numeric}};class Ka extends Ti{constructor(l){super(l),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(l,a){const c=Sl.prototype.parse.apply(this,[l,a]);if(0!==c)return vt(c)&&c>0?c:null;this._zero=!0}determineDataLimits(){const{min:l,max:a}=this.getMinMax(!0);this.min=vt(l)?Math.max(0,l):null,this.max=vt(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:l,maxDefined:a}=this.getUserBounds();let c=this.min,f=this.max;const g=A=>c=l?c:A,_=A=>f=a?f:A,w=(A,k)=>Math.pow(10,Math.floor(Sn(A))+k);c===f&&(c<=0?(g(1),_(10)):(g(w(c,-1)),_(w(f,1)))),c<=0&&g(w(f,-1)),f<=0&&_(w(c,1)),this._zero&&this.min!==this._suggestedMin&&c===w(this.min,0)&&g(w(c,-1)),this.min=c,this.max=f}buildTicks(){const l=this.options,c=function vh(u,l){const a=Math.floor(Sn(l.max)),c=Math.ceil(l.max/Math.pow(10,a)),f=[];let g=at(u.min,Math.pow(10,Math.floor(Sn(l.min)))),_=Math.floor(Sn(g)),w=Math.floor(g/Math.pow(10,_)),A=_<0?Math.pow(10,Math.abs(_)):1;do{f.push({value:g,major:Ac(g)}),++w,10===w&&(w=1,++_,A=_>=0?1:A),g=Math.round(w*Math.pow(10,_)*A)/A}while(_<a||_===a&&w<c);const k=at(u.max,g);return f.push({value:k,major:Ac(g)}),f}({min:this._userMin,max:this._userMax},this);return"ticks"===l.bounds&&pi(c,this,"value"),l.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(l){return void 0===l?"0":aa(l,this.chart.options.locale,this.options.ticks.format)}configure(){const l=this.min;super.configure(),this._startValue=Sn(l),this._valueRange=Sn(this.max)-Sn(l)}getPixelForValue(l){return(void 0===l||0===l)&&(l=this.min),null===l||isNaN(l)?NaN:this.getPixelForDecimal(l===this.min?0:(Sn(l)-this._startValue)/this._valueRange)}getValueForPixel(l){const a=this.getDecimalForPixel(l);return Math.pow(10,this._startValue+a*this._valueRange)}}function Mu(u){const l=u.ticks;if(l.display&&u.display){const a=Xi(l.backdropPadding);return it(l.font&&l.font.size,di.font.size)+a.height}return 0}function cd(u,l,a){return a=fe(a)?a:[a],{w:Br(u,l.string,a),h:a.length*l.lineHeight}}function Sc(u,l,a,c,f){return u===c||u===f?{start:l-a/2,end:l+a/2}:u<c||u>f?{start:l-a,end:l}:{start:l,end:l+a}}function bh(u,l,a,c,f){const g=Math.abs(Math.sin(a)),_=Math.abs(Math.cos(a));let w=0,A=0;c.start<l.l?(w=(l.l-c.start)/g,u.l=Math.min(u.l,l.l-w)):c.end>l.r&&(w=(c.end-l.r)/g,u.r=Math.max(u.r,l.r+w)),f.start<l.t?(A=(l.t-f.start)/_,u.t=Math.min(u.t,l.t-A)):f.end>l.b&&(A=(f.end-l.b)/_,u.b=Math.max(u.b,l.b+A))}function Eh(u){return 0===u||180===u?"center":u<180?"left":"right"}function dp(u,l,a){return"right"===a?u-=l:"center"===a&&(u-=l/2),u}function hp(u,l,a){return 90===a||270===a?u-=l/2:(a>270||a<90)&&(u-=l),u}function wh(u,l,a,c){const{ctx:f}=u;if(a)f.arc(u.xCenter,u.yCenter,l,0,Ht);else{let g=u.getPointPosition(0,l);f.moveTo(g.x,g.y);for(let _=1;_<c;_++)g=u.getPointPosition(_,l),f.lineTo(g.x,g.y)}}Ka.id="logarithmic",Ka.defaults={ticks:{callback:zo.formatters.logarithmic,major:{enabled:!0}}};class Ou extends Sl{constructor(l){super(l),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const l=this._padding=Xi(Mu(this.options)/2),a=this.width=this.maxWidth-l.width,c=this.height=this.maxHeight-l.height;this.xCenter=Math.floor(this.left+a/2+l.left),this.yCenter=Math.floor(this.top+c/2+l.top),this.drawingArea=Math.floor(Math.min(a,c)/2)}determineDataLimits(){const{min:l,max:a}=this.getMinMax(!1);this.min=vt(l)&&!isNaN(l)?l:0,this.max=vt(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Mu(this.options))}generateTickLabels(l){Sl.prototype.generateTickLabels.call(this,l),this._pointLabels=this.getLabels().map((a,c)=>{const f=st(this.options.pointLabels.callback,[a,c],this);return f||0===f?f:""}).filter((a,c)=>this.chart.getDataVisibility(c))}fit(){const l=this.options;l.display&&l.pointLabels.display?function xc(u){const l={l:u.left+u._padding.left,r:u.right-u._padding.right,t:u.top+u._padding.top,b:u.bottom-u._padding.bottom},a=Object.assign({},l),c=[],f=[],g=u._pointLabels.length,_=u.options.pointLabels,w=_.centerPointLabels?rt/g:0;for(let A=0;A<g;A++){const k=_.setContext(u.getPointLabelContext(A));f[A]=k.padding;const Z=u.getPointPosition(A,u.drawingArea+f[A],w),te=qi(k.font),he=cd(u.ctx,te,u._pointLabels[A]);c[A]=he;const xe=_t(u.getIndexAngle(A)+w),We=Math.round(Fn(xe));bh(a,l,xe,Sc(We,Z.x,he.w,0,180),Sc(We,Z.y,he.h,90,270))}u.setCenterPoint(l.l-a.l,a.r-l.r,l.t-a.t,a.b-l.b),u._pointLabelItems=function dd(u,l,a){const c=[],f=u._pointLabels.length,g=u.options,_=Mu(g)/2,w=u.drawingArea,A=g.pointLabels.centerPointLabels?rt/f:0;for(let k=0;k<f;k++){const Z=u.getPointPosition(k,w+_+a[k],A),te=Math.round(Fn(_t(Z.angle+Ge))),he=l[k],xe=hp(Z.y,he.h,te),We=Eh(te),Je=dp(Z.x,he.w,We);c.push({x:Z.x,y:xe,textAlign:We,left:Je,top:xe,right:Je+he.w,bottom:xe+he.h})}return c}(u,c,f)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(l,a,c,f){this.xCenter+=Math.floor((l-a)/2),this.yCenter+=Math.floor((c-f)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(l,a,c,f))}getIndexAngle(l){return _t(l*(Ht/(this._pointLabels.length||1))+vn(this.options.startAngle||0))}getDistanceFromCenterForValue(l){if(ce(l))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-l)*a:(l-this.min)*a}getValueForDistanceFromCenter(l){if(ce(l))return NaN;const a=l/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(l){const a=this._pointLabels||[];if(l>=0&&l<a.length){const c=a[l];return function of(u,l,a){return or(u,{label:a,index:l,type:"pointLabel"})}(this.getContext(),l,c)}}getPointPosition(l,a,c=0){const f=this.getIndexAngle(l)-Ge+c;return{x:Math.cos(f)*a+this.xCenter,y:Math.sin(f)*a+this.yCenter,angle:f}}getPointPositionForValue(l,a){return this.getPointPosition(l,this.getDistanceFromCenterForValue(a))}getBasePosition(l){return this.getPointPositionForValue(l||0,this.getBaseValue())}getPointLabelPosition(l){const{left:a,top:c,right:f,bottom:g}=this._pointLabelItems[l];return{left:a,top:c,right:f,bottom:g}}drawBackground(){const{backgroundColor:l,grid:{circular:a}}=this.options;if(l){const c=this.ctx;c.save(),c.beginPath(),wh(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),c.closePath(),c.fillStyle=l,c.fill(),c.restore()}}drawGrid(){const l=this.ctx,a=this.options,{angleLines:c,grid:f}=a,g=this._pointLabels.length;let _,w,A;if(a.pointLabels.display&&function fp(u,l){const{ctx:a,options:{pointLabels:c}}=u;for(let f=l-1;f>=0;f--){const g=c.setContext(u.getPointLabelContext(f)),_=qi(g.font),{x:w,y:A,textAlign:k,left:Z,top:te,right:he,bottom:xe}=u._pointLabelItems[f],{backdropColor:We}=g;if(!ce(We)){const Je=Ai(g.borderRadius),Ct=Xi(g.backdropPadding);a.fillStyle=We;const xt=Z-Ct.left,rn=te-Ct.top,Mn=he-Z+Ct.width,tn=xe-te+Ct.height;Object.values(Je).some(en=>0!==en)?(a.beginPath(),He(a,{x:xt,y:rn,w:Mn,h:tn,radius:Je}),a.fill()):a.fillRect(xt,rn,Mn,tn)}Os(a,u._pointLabels[f],w,A+_.lineHeight/2,_,{color:g.color,textAlign:k,textBaseline:"middle"})}}(this,g),f.display&&this.ticks.forEach((k,Z)=>{0!==Z&&(w=this.getDistanceFromCenterForValue(k.value),function Wd(u,l,a,c){const f=u.ctx,g=l.circular,{color:_,lineWidth:w}=l;!g&&!c||!_||!w||a<0||(f.save(),f.strokeStyle=_,f.lineWidth=w,f.setLineDash(l.borderDash),f.lineDashOffset=l.borderDashOffset,f.beginPath(),wh(u,a,g,c),f.closePath(),f.stroke(),f.restore())}(this,f.setContext(this.getContext(Z-1)),w,g))}),c.display){for(l.save(),_=g-1;_>=0;_--){const k=c.setContext(this.getPointLabelContext(_)),{color:Z,lineWidth:te}=k;!te||!Z||(l.lineWidth=te,l.strokeStyle=Z,l.setLineDash(k.borderDash),l.lineDashOffset=k.borderDashOffset,w=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),A=this.getPointPosition(_,w),l.beginPath(),l.moveTo(this.xCenter,this.yCenter),l.lineTo(A.x,A.y),l.stroke())}l.restore()}}drawBorder(){}drawLabels(){const l=this.ctx,a=this.options,c=a.ticks;if(!c.display)return;const f=this.getIndexAngle(0);let g,_;l.save(),l.translate(this.xCenter,this.yCenter),l.rotate(f),l.textAlign="center",l.textBaseline="middle",this.ticks.forEach((w,A)=>{if(0===A&&!a.reverse)return;const k=c.setContext(this.getContext(A)),Z=qi(k.font);if(g=this.getDistanceFromCenterForValue(this.ticks[A].value),k.showLabelBackdrop){l.font=Z.string,_=l.measureText(w.label).width,l.fillStyle=k.backdropColor;const te=Xi(k.backdropPadding);l.fillRect(-_/2-te.left,-g-Z.size/2-te.top,_+te.width,Z.size+te.height)}Os(l,w.label,0,-g,Z,{color:k.color})}),l.restore()}drawTitle(){}}Ou.id="radialLinear",Ou.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:u=>u,padding:5,centerPointLabels:!1}},Ou.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ou.descriptors={angleLines:{_fallback:"grid"}};const Kd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ma=Object.keys(Kd);function Dh(u,l){return u-l}function zt(u,l){if(ce(l))return null;const a=u._adapter,{parser:c,round:f,isoWeekday:g}=u._parseOpts;let _=l;return"function"==typeof c&&(_=c(_)),vt(_)||(_="string"==typeof c?a.parse(_,c):a.parse(_)),null===_?null:(f&&(_="week"!==f||!qn(g)&&!0!==g?a.startOf(_,f):a.startOf(_,"isoWeek",g)),+_)}function ul(u,l,a,c){const f=ma.length;for(let g=ma.indexOf(u);g<f-1;++g){const _=Kd[ma[g]],w=_.steps?_.steps:Number.MAX_SAFE_INTEGER;if(_.common&&Math.ceil((a-l)/(w*_.size))<=c)return ma[g]}return ma[f-1]}function Mc(u,l,a){if(a){if(a.length){const{lo:c,hi:f}=To(a,l);u[a[c]>=l?a[c]:a[f]]=!0}}else u[l]=!0}function lf(u,l,a){const c=[],f={},g=l.length;let _,w;for(_=0;_<g;++_)w=l[_],f[w]=_,c.push({value:w,major:!1});return 0!==g&&a?function xl(u,l,a,c){const f=u._adapter,g=+f.startOf(l[0].value,c),_=l[l.length-1].value;let w,A;for(w=g;w<=_;w=+f.add(w,1,c))A=a[w],A>=0&&(l[A].major=!0);return l}(u,c,f,a):c}let Ml=(()=>{class u extends Ti{constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,c){const f=a.time||(a.time={}),g=this._adapter=new Lr._date(a.adapters.date);ot(f.displayFormats,g.formats()),this._parseOpts={parser:f.parser,round:f.round,isoWeekday:f.isoWeekday},super.init(a),this._normalized=c.normalized}parse(a,c){return void 0===a?null:zt(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const a=this.options,c=this._adapter,f=a.time.unit||"day";let{min:g,max:_,minDefined:w,maxDefined:A}=this.getUserBounds();function k(Z){!w&&!isNaN(Z.min)&&(g=Math.min(g,Z.min)),!A&&!isNaN(Z.max)&&(_=Math.max(_,Z.max))}(!w||!A)&&(k(this._getLabelBounds()),("ticks"!==a.bounds||"labels"!==a.ticks.source)&&k(this.getMinMax(!1))),g=vt(g)&&!isNaN(g)?g:+c.startOf(Date.now(),f),_=vt(_)&&!isNaN(_)?_:+c.endOf(Date.now(),f)+1,this.min=Math.min(g,_-1),this.max=Math.max(g+1,_)}_getLabelBounds(){const a=this.getLabelTimestamps();let c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;return a.length&&(c=a[0],f=a[a.length-1]),{min:c,max:f}}buildTicks(){const a=this.options,c=a.time,f=a.ticks,g="labels"===f.source?this.getLabelTimestamps():this._generate();"ticks"===a.bounds&&g.length&&(this.min=this._userMin||g[0],this.max=this._userMax||g[g.length-1]);const _=this.min,A=function Wr(u,l,a){let c=0,f=u.length;for(;c<f&&u[c]<l;)c++;for(;f>c&&u[f-1]>a;)f--;return c>0||f<u.length?u.slice(c,f):u}(g,_,this.max);return this._unit=c.unit||(f.autoSkip?ul(c.minUnit,this.min,this.max,this._getLabelCapacity(_)):function Za(u,l,a,c,f){for(let g=ma.length-1;g>=ma.indexOf(a);g--){const _=ma[g];if(Kd[_].common&&u._adapter.diff(f,c,_)>=l-1)return _}return ma[a?ma.indexOf(a):0]}(this,A.length,c.minUnit,this.min,this.max)),this._majorUnit=f.major.enabled&&"year"!==this._unit?function af(u){for(let l=ma.indexOf(u)+1,a=ma.length;l<a;++l)if(Kd[ma[l]].common)return ma[l]}(this._unit):void 0,this.initOffsets(g),a.reverse&&A.reverse(),lf(this,A,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(a=>+a.value))}initOffsets(a){let g,_,c=0,f=0;this.options.offset&&a.length&&(g=this.getDecimalForValue(a[0]),c=1===a.length?1-g:(this.getDecimalForValue(a[1])-g)/2,_=this.getDecimalForValue(a[a.length-1]),f=1===a.length?_:(_-this.getDecimalForValue(a[a.length-2]))/2);const w=a.length<3?.5:.25;c=je(c,0,w),f=je(f,0,w),this._offsets={start:c,end:f,factor:1/(c+1+f)}}_generate(){const a=this._adapter,c=this.min,f=this.max,g=this.options,_=g.time,w=_.unit||ul(_.minUnit,c,f,this._getLabelCapacity(c)),A=it(_.stepSize,1),k="week"===w&&_.isoWeekday,Z=qn(k)||!0===k,te={};let xe,We,he=c;if(Z&&(he=+a.startOf(he,"isoWeek",k)),he=+a.startOf(he,Z?"day":w),a.diff(f,c,w)>1e5*A)throw new Error(c+" and "+f+" are too far apart with stepSize of "+A+" "+w);const Je="data"===g.ticks.source&&this.getDataTimestamps();for(xe=he,We=0;xe<f;xe=+a.add(xe,A,w),We++)Mc(te,xe,Je);return(xe===f||"ticks"===g.bounds||1===We)&&Mc(te,xe,Je),Object.keys(te).sort((Ct,xt)=>Ct-xt).map(Ct=>+Ct)}getLabelForValue(a){const f=this.options.time;return this._adapter.format(a,f.tooltipFormat?f.tooltipFormat:f.displayFormats.datetime)}_tickFormatFunction(a,c,f,g){const _=this.options,w=_.time.displayFormats,A=this._unit,k=this._majorUnit,te=k&&w[k],he=f[c],We=this._adapter.format(a,g||(k&&te&&he&&he.major?te:A&&w[A])),Je=_.ticks.callback;return Je?st(Je,[We,c,f],this):We}generateTickLabels(a){let c,f,g;for(c=0,f=a.length;c<f;++c)g=a[c],g.label=this._tickFormatFunction(g.value,c,a)}getDecimalForValue(a){return null===a?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(a){const c=this._offsets,f=this.getDecimalForValue(a);return this.getPixelForDecimal((c.start+f)*c.factor)}getValueForPixel(a){const c=this._offsets,f=this.getDecimalForPixel(a)/c.factor-c.end;return this.min+f*(this.max-this.min)}_getLabelSize(a){const c=this.options.ticks,f=this.ctx.measureText(a).width,g=vn(this.isHorizontal()?c.maxRotation:c.minRotation),_=Math.cos(g),w=Math.sin(g),A=this._resolveTickFontOptions(0).size;return{w:f*_+A*w,h:f*w+A*_}}_getLabelCapacity(a){const c=this.options.time,f=c.displayFormats,g=f[c.unit]||f.millisecond,_=this._tickFormatFunction(a,0,lf(this,[a],this._majorUnit),g),w=this._getLabelSize(_),A=Math.floor(this.isHorizontal()?this.width/w.w:this.height/w.h)-1;return A>0?A:1}getDataTimestamps(){let c,f,a=this._cache.data||[];if(a.length)return a;const g=this.getMatchingVisibleMetas();if(this._normalized&&g.length)return this._cache.data=g[0].controller.getAllParsedValues(this);for(c=0,f=g.length;c<f;++c)a=a.concat(g[c].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}getLabelTimestamps(){const a=this._cache.labels||[];let c,f;if(a.length)return a;const g=this.getLabels();for(c=0,f=g.length;c<f;++c)a.push(zt(this,g[c]));return this._cache.labels=this._normalized?a:this.normalize(a)}normalize(a){return _o(a.sort(Dh))}}return u.id="time",u.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},u})();function Oc(u,l,a){let g,_,w,A,c=0,f=u.length-1;a?(l>=u[c].pos&&l<=u[f].pos&&({lo:c,hi:f}=Ur(u,"pos",l)),({pos:g,time:w}=u[c]),({pos:_,time:A}=u[f])):(l>=u[c].time&&l<=u[f].time&&({lo:c,hi:f}=Ur(u,"time",l)),({time:g,pos:w}=u[c]),({time:_,pos:A}=u[f]));const k=_-g;return k?w+(A-w)*(l-g)/k:w}class Pc extends Ml{constructor(l){super(l),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const l=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(l);this._minPos=Oc(a,this.min),this._tableRange=Oc(a,this.max)-this._minPos,super.initOffsets(l)}buildLookupTable(l){const{min:a,max:c}=this,f=[],g=[];let _,w,A,k,Z;for(_=0,w=l.length;_<w;++_)k=l[_],k>=a&&k<=c&&f.push(k);if(f.length<2)return[{time:a,pos:0},{time:c,pos:1}];for(_=0,w=f.length;_<w;++_)Z=f[_+1],A=f[_-1],k=f[_],Math.round((Z+A)/2)!==k&&g.push({time:k,pos:_/(w-1)});return g}_getTimestampsForTable(){let l=this._cache.all||[];if(l.length)return l;const a=this.getDataTimestamps(),c=this.getLabelTimestamps();return l=a.length&&c.length?this.normalize(a.concat(c)):a.length?a:c,l=this._cache.all=l,l}getDecimalForValue(l){return(Oc(this._table,l)-this._minPos)/this._tableRange}getValueForPixel(l){const a=this._offsets,c=this.getDecimalForPixel(l)/a.factor-a.end;return Oc(this._table,c*this._tableRange+this._minPos,!0)}}Pc.id="timeseries",Pc.defaults=Ml.defaults;const Mo=[ln,Ls,Rn,Object.freeze({__proto__:null,CategoryScale:_r,LinearScale:Jl,LogarithmicScale:Ka,RadialLinearScale:Ou,TimeScale:Ml,TimeSeriesScale:Pc})]},5867:(an,tt,N)=>{N.d(tt,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=N(9681);(0,y.registerVersion)("firebase","9.6.11","app")},127:(an,tt,N)=>{N.d(tt,{Z:()=>y.Z});var y=N(3942);y.Z.registerVersion("firebase","9.6.11","app-compat")},820:(an,tt,N)=>{N.r(tt);var y=N(5861),R=N(3942),ne=N(2090),me=N(9681),we=N(655),ve=N(1877),Re=N(4859);const it=function vt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Lt=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new ve.Yd("@firebase/auth");function on(D,...m){Oe.logLevel<=ve.in.ERROR&&Oe.error(`Auth (${me.SDK_VERSION}): ${D}`,...m)}function pt(D,...m){throw ot(D,...m)}function Le(D,...m){return ot(D,...m)}function ke(D,m,b){const M=Object.assign(Object.assign({},Lt()),{[m]:b});return new ne.LL("auth","Firebase",M).create(m,{appName:D.name})}function Et(D,m,b){if(!(m instanceof b))throw b.name!==m.constructor.name&&pt(D,"argument-error"),ke(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(D,...m){if("string"!=typeof D){const b=m[0],M=[...m.slice(1)];return M[0]&&(M[0].appName=D.name),D._errorFactory.create(b,...M)}return Xe.create(D,...m)}function ge(D,m,...b){if(!D)throw ot(m,...b)}function Ve(D){const m="INTERNAL ASSERTION FAILED: "+D;throw on(m),new Error(m)}function ze(D,m){D||Ve(m)}const ht=new Map;function yt(D){ze(D instanceof Function,"Expected a class definition");let m=ht.get(D);return m?(ze(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,ht.set(D,m),m)}function ft(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function dn(){return"http:"===Pe()||"https:"===Pe()}function Pe(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ht{constructor(m,b){this.shortDelay=m,this.longDelay=b,ze(b>m,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return function nt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,ne.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(D,m){ze(D.emulator,"Emulator should always be set here");const{url:b}=D.emulator;return m?`${b}${m.startsWith("/")?m.slice(1):m}`:b}class Ut{static initialize(m,b,M){this.fetchImpl=m,b&&(this.headersImpl=b),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ge=new Ht(3e4,6e4);function ut(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function qt(D,m,b,M){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,y.Z)(function*(D,m,b,M,Y={}){return ti(D,Y,(0,y.Z)(function*(){let de={},dt={};M&&("GET"===m?dt=M:de={body:JSON.stringify(M)});const Bt=(0,ne.xO)(Object.assign({key:D.config.apiKey},dt)).slice(1),Rn=yield D._getAdditionalHeaders();return Rn["Content-Type"]="application/json",D.languageCode&&(Rn["X-Firebase-Locale"]=D.languageCode),Ut.fetch()(ii(D,D.config.apiHost,b,Bt),Object.assign({method:m,headers:Rn,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function ti(D,m,b){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,y.Z)(function*(D,m,b){D._canInitEmulator=!1;const M=Object.assign(Object.assign({},Rt),m);try{const Y=new fi(D),de=yield Promise.race([b(),Y.promise]);Y.clearNetworkTimeout();const dt=yield de.json();if("needConfirmation"in dt)throw pi(D,"account-exists-with-different-credential",dt);if(de.ok&&!("errorMessage"in dt))return dt;{const Bt=de.ok?dt.errorMessage:dt.error.message,[Rn,Ln]=Bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rn)throw pi(D,"credential-already-in-use",dt);if("EMAIL_EXISTS"===Rn)throw pi(D,"email-already-in-use",dt);const Ii=M[Rn]||Rn.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw ke(D,Ii,Ln);pt(D,Ii)}}catch(Y){if(Y instanceof ne.ZR)throw Y;pt(D,"network-request-failed")}})).apply(this,arguments)}function si(D,m,b,M){return qn.apply(this,arguments)}function qn(){return(qn=(0,y.Z)(function*(D,m,b,M,Y={}){const de=yield qt(D,m,b,M,Y);return"mfaPendingCredential"in de&&pt(D,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function ii(D,m,b,M){const Y=`${m}${b}?${M}`;return D.config.emulator?un(D.config,Y):`${D.config.apiScheme}://${Y}`}class fi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((b,M)=>{this.timer=setTimeout(()=>M(Le(this.auth,"network-request-failed")),Ge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pi(D,m,b){const M={appName:D.name};b.email&&(M.email=b.email),b.phoneNumber&&(M.phoneNumber=b.phoneNumber);const Y=Le(D,m,M);return Y.customData._tokenResponse=b,Y}function Fn(){return(Fn=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Tt(D,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xt(D,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function _t(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Gt(){return(Gt=(0,y.Z)(function*(D,m=!1){const b=(0,ne.m9)(D),M=yield b.getIdToken(m),Y=Zt(M);ge(Y&&Y.exp&&Y.auth_time&&Y.iat,b.auth,"internal-error");const de="object"==typeof Y.firebase?Y.firebase:void 0,dt=null==de?void 0:de.sign_in_provider;return{claims:Y,token:M,authTime:_t(Mt(Y.auth_time)),issuedAtTime:_t(Mt(Y.iat)),expirationTime:_t(Mt(Y.exp)),signInProvider:dt||null,signInSecondFactor:(null==de?void 0:de.sign_in_second_factor)||null}})).apply(this,arguments)}function Mt(D){return 1e3*Number(D)}function Zt(D){const[m,b,M]=D.split(".");if(void 0===m||void 0===b||void 0===M)return on("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,ne.tV)(b);return Y?JSON.parse(Y):(on("Failed to decode base64 JWT payload"),null)}catch(Y){return on("Caught error parsing JWT payload as JSON",Y),null}}function Ei(D,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,y.Z)(function*(D,m,b=!1){if(b)return m;try{return yield m}catch(M){throw M instanceof ne.ZR&&Nn(M)&&D.auth.currentUser===D&&(yield D.auth.signOut()),M}})).apply(this,arguments)}function Nn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Zi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var b;if(m){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Y=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(m=!1){var b=this;if(!this.isRunning)return;const M=this.getInterval(m);this.timerId=setTimeout((0,y.Z)(function*(){yield b.iteration()}),M)}iteration(){var m=this;return(0,y.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b.code&&m.schedule(!0))}m.schedule()})()}}class Bi{constructor(m,b){this.createdAt=m,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=_t(this.lastLoginAt),this.creationTime=_t(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(D){return sn.apply(this,arguments)}function sn(){return(sn=(0,y.Z)(function*(D){var m;const b=D.auth,M=yield D.getIdToken(),Y=yield Ei(D,Xt(b,{idToken:M}));ge(null==Y?void 0:Y.users.length,b,"internal-error");const de=Y.users[0];D._notifyReloadListener(de);const dt=(null===(m=de.providerUserInfo)||void 0===m?void 0:m.length)?Vt(de.providerUserInfo):[],Bt=bn(D.providerData,dt),Ii=!!D.isAnonymous&&!(D.email&&de.passwordHash||(null==Bt?void 0:Bt.length)),hi={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:Bt,metadata:new Bi(de.createdAt,de.lastLoginAt),isAnonymous:Ii};Object.assign(D,hi)})).apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(D){const m=(0,ne.m9)(D);yield gi(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function bn(D,m){return[...D.filter(M=>!m.some(Y=>Y.providerId===M.providerId)),...m]}function Vt(D){return D.map(m=>{var{providerId:b}=m,M=(0,we._T)(m,["providerId"]);return{providerId:b,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function An(){return(An=(0,y.Z)(function*(D,m){const b=yield ti(D,{},(0,y.Z)(function*(){const M=(0,ne.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Y,apiKey:de}=D.config,dt=ii(D,Y,"/v1/token",`key=${de}`),Bt=yield D._getAdditionalHeaders();return Bt["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(dt,{method:"POST",headers:Bt,body:M})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Yn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ge(m.idToken,"internal-error"),ge(void 0!==m.idToken,"internal-error"),ge(void 0!==m.refreshToken,"internal-error");const b="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function _n(D){const m=Zt(D);return ge(m,"internal-error"),ge(void 0!==m.exp,"internal-error"),ge(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,b)}getToken(m,b=!1){var M=this;return(0,y.Z)(function*(){return ge(!M.accessToken||M.refreshToken,m,"user-token-expired"),b||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(m,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,b){var M=this;return(0,y.Z)(function*(){const{accessToken:Y,refreshToken:de,expiresIn:dt}=yield function In(D,m){return An.apply(this,arguments)}(m,b);M.updateTokensAndExpiration(Y,de,Number(dt))})()}updateTokensAndExpiration(m,b,M){this.refreshToken=b||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(m,b){const{refreshToken:M,accessToken:Y,expirationTime:de}=b,dt=new Yn;return M&&(ge("string"==typeof M,"internal-error",{appName:m}),dt.refreshToken=M),Y&&(ge("string"==typeof Y,"internal-error",{appName:m}),dt.accessToken=Y),de&&(ge("number"==typeof de,"internal-error",{appName:m}),dt.expirationTime=de),dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Yn,this.toJSON())}_performRefresh(){return Ve("not implemented")}}function Dn(D,m){ge("string"==typeof D||void 0===D,"internal-error",{appName:m})}class Ne{constructor(m){var{uid:b,auth:M,stsTokenManager:Y}=m,de=(0,we._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=M,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Bi(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(m){var b=this;return(0,y.Z)(function*(){const M=yield Ei(b,b.stsTokenManager.getToken(b.auth,m));return ge(M,b.auth,"internal-error"),b.accessToken!==M&&(b.accessToken=M,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),M})()}getIdTokenResult(m){return function je(D){return Gt.apply(this,arguments)}(this,m)}reload(){return function mi(D){return Bn.apply(this,arguments)}(this)}_assign(m){this!==m&&(ge(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(b=>Object.assign({},b)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Ne(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,b=!1){var M=this;return(0,y.Z)(function*(){let Y=!1;m.idToken&&m.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(m),Y=!0),b&&(yield gi(M)),yield M.auth._persistUserIfCurrent(M),Y&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var m=this;return(0,y.Z)(function*(){const b=yield m.getIdToken();return yield Ei(m,function vn(D,m){return Fn.apply(this,arguments)}(m.auth,{idToken:b})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,b){var M,Y,de,dt,Bt,Rn,Ln,Ii;const hi=null!==(M=b.displayName)&&void 0!==M?M:void 0,_r=null!==(Y=b.email)&&void 0!==Y?Y:void 0,ga=null!==(de=b.phoneNumber)&&void 0!==de?de:void 0,ll=null!==(dt=b.photoURL)&&void 0!==dt?dt:void 0,Sl=null!==(Bt=b.tenantId)&&void 0!==Bt?Bt:void 0,Jl=null!==(Rn=b._redirectEventId)&&void 0!==Rn?Rn:void 0,Ac=null!==(Ln=b.createdAt)&&void 0!==Ln?Ln:void 0,vh=null!==(Ii=b.lastLoginAt)&&void 0!==Ii?Ii:void 0,{uid:Ka,emailVerified:Mu,isAnonymous:cd,providerData:Sc,stsTokenManager:xc}=b;ge(Ka&&xc,m,"internal-error");const bh=Yn.fromJSON(this.name,xc);ge("string"==typeof Ka,m,"internal-error"),Dn(hi,m.name),Dn(_r,m.name),ge("boolean"==typeof Mu,m,"internal-error"),ge("boolean"==typeof cd,m,"internal-error"),Dn(ga,m.name),Dn(ll,m.name),Dn(Sl,m.name),Dn(Jl,m.name),Dn(Ac,m.name),Dn(vh,m.name);const dd=new Ne({uid:Ka,auth:m,email:_r,emailVerified:Mu,displayName:hi,isAnonymous:cd,photoURL:ll,phoneNumber:ga,tenantId:Sl,stsTokenManager:bh,createdAt:Ac,lastLoginAt:vh});return Sc&&Array.isArray(Sc)&&(dd.providerData=Sc.map(Eh=>Object.assign({},Eh))),Jl&&(dd._redirectEventId=Jl),dd}static _fromIdTokenResponse(m,b,M=!1){return(0,y.Z)(function*(){const Y=new Yn;Y.updateFromServerResponse(b);const de=new Ne({uid:b.localId,auth:m,stsTokenManager:Y,isAnonymous:M});return yield gi(de),de})()}}const Ke=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(b,M){var Y=this;return(0,y.Z)(function*(){Y.storage[b]=M})()}_get(b){var M=this;return(0,y.Z)(function*(){const Y=M.storage[b];return void 0===Y?null:Y})()}_remove(b){var M=this;return(0,y.Z)(function*(){delete M.storage[b]})()}_addListener(b,M){}_removeListener(b,M){}}return D.type="NONE",D})();function At(D,m,b){return`firebase:${D}:${m}:${b}`}class ct{constructor(m,b,M){this.persistence=m,this.auth=b,this.userKey=M;const{config:Y,name:de}=this.auth;this.fullUserKey=At(this.userKey,Y.apiKey,de),this.fullPersistenceKey=At("persistence",Y.apiKey,de),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,y.Z)(function*(){const b=yield m.persistence._get(m.fullUserKey);return b?Ne._fromJSON(m.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var b=this;return(0,y.Z)(function*(){if(b.persistence===m)return;const M=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=m,M?b.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,b,M="authUser"){return(0,y.Z)(function*(){if(!b.length)return new ct(yt(Ke),m,M);const Y=(yield Promise.all(b.map(function(){var Ln=(0,y.Z)(function*(Ii){if(yield Ii._isAvailable())return Ii});return function(Ii){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let de=Y[0]||yt(Ke);const dt=At(M,m.config.apiKey,m.name);let Bt=null;for(const Ln of b)try{const Ii=yield Ln._get(dt);if(Ii){const hi=Ne._fromJSON(m,Ii);Ln!==de&&(Bt=hi),de=Ln;break}}catch(Ii){}const Rn=Y.filter(Ln=>Ln._shouldAllowMigration);return de._shouldAllowMigration&&Rn.length?(de=Rn[0],Bt&&(yield de._set(dt,Bt.toJSON())),yield Promise.all(b.map(function(){var Ln=(0,y.Z)(function*(Ii){if(Ii!==de)try{yield Ii._remove(dt)}catch(hi){}});return function(Ii){return Ln.apply(this,arguments)}}())),new ct(de,m,M)):new ct(de,m,M)})()}}function pn(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(qe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ye(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(mn(m))return"Blackberry";if(jn(m))return"Webos";if(Me(m))return"Safari";if((m.includes("chrome/")||ye(m))&&!m.includes("edge/"))return"Chrome";if(kt(m))return"Android";{const M=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function Ye(D=(0,ne.z$)()){return/firefox\//i.test(D)}function Me(D=(0,ne.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ye(D=(0,ne.z$)()){return/crios\//i.test(D)}function qe(D=(0,ne.z$)()){return/iemobile/i.test(D)}function kt(D=(0,ne.z$)()){return/android/i.test(D)}function mn(D=(0,ne.z$)()){return/blackberry/i.test(D)}function jn(D=(0,ne.z$)()){return/webos/i.test(D)}function xi(D=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(D)}function Nr(D=(0,ne.z$)()){return xi(D)||kt(D)||jn(D)||mn(D)||/windows phone/i.test(D)||qe(D)}function Er(D,m=[]){let b;switch(D){case"Browser":b=pn((0,ne.z$)());break;case"Worker":b=`${pn((0,ne.z$)())}-${D}`;break;default:b=D}const M=m.length?m.join(","):"FirebaseCore-web";return`${b}/JsCore/${me.SDK_VERSION}/${M}`}class Wi{constructor(m,b,M){this.app=m,this.heartbeatServiceProvider=b,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(m,b){var M=this;return b&&(this._popupRedirectResolver=yt(b)),this._initializationPromise=this.queue((0,y.Z)(function*(){var Y,de;if(!M._deleted&&(M.persistenceManager=yield ct.create(M,m),!M._deleted)){if(null===(Y=M._popupRedirectResolver)||void 0===Y?void 0:Y._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(dt){}yield M.initializeCurrentUser(b),M.lastNotifiedUid=(null===(de=M.currentUser)||void 0===de?void 0:de.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,y.Z)(function*(){if(m._deleted)return;const b=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||b){if(m.currentUser&&b&&m.currentUser.uid===b.uid)return m._currentUser._assign(b),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(b)}})()}initializeCurrentUser(m){var b=this;return(0,y.Z)(function*(){var M;let Y=yield b.assertedPersistence.getCurrentUser();if(m&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const de=null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId,dt=null==Y?void 0:Y._redirectEventId,Bt=yield b.tryRedirectSignIn(m);(!de||de===dt)&&(null==Bt?void 0:Bt.user)&&(Y=Bt.user)}return Y?Y._redirectEventId?(ge(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Y._redirectEventId?b.directlySetCurrentUser(Y):b.reloadAndSetCurrentUserOrClear(Y)):b.reloadAndSetCurrentUserOrClear(Y):b.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var b=this;return(0,y.Z)(function*(){let M=null;try{M=yield b._popupRedirectResolver._completeRedirectFn(b,m,!0)}catch(Y){yield b._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(m){var b=this;return(0,y.Z)(function*(){try{yield gi(m)}catch(M){if("auth/network-request-failed"!==M.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function rt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,y.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var b=this;return(0,y.Z)(function*(){const M=m?(0,ne.m9)(m):null;return M&&ge(M.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(M&&M._clone(b))})()}_updateCurrentUser(m){var b=this;return(0,y.Z)(function*(){if(!b._deleted)return m&&ge(b.tenantId===m.tenantId,b,"tenant-id-mismatch"),b.queue((0,y.Z)(function*(){yield b.directlySetCurrentUser(m),b.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,y.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var b=this;return this.queue((0,y.Z)(function*(){yield b.assertedPersistence.setPersistence(yt(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new ne.LL("auth","Firebase",m())}onAuthStateChanged(m,b,M){return this.registerStateListener(this.authStateSubscription,m,b,M)}onIdTokenChanged(m,b,M){return this.registerStateListener(this.idTokenSubscription,m,b,M)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,b){var M=this;return(0,y.Z)(function*(){const Y=yield M.getOrInitRedirectPersistenceManager(b);return null===m?Y.removeCurrentUser():Y.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var b=this;return(0,y.Z)(function*(){if(!b.redirectPersistenceManager){const M=m&&yt(m)||b._popupRedirectResolver;ge(M,b,"argument-error"),b.redirectPersistenceManager=yield ct.create(b,[yt(M._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(m){var b=this;return(0,y.Z)(function*(){var M,Y;return b._isInitialized&&(yield b.queue((0,y.Z)(function*(){}))),(null===(M=b._currentUser)||void 0===M?void 0:M._redirectEventId)===m?b._currentUser:(null===(Y=b.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===m?b.redirectUser:null})()}_persistUserIfCurrent(m){var b=this;return(0,y.Z)(function*(){if(m===b.currentUser)return b.queue((0,y.Z)(function*(){return b.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(b=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,b,M,Y){if(this._deleted)return()=>{};const de="function"==typeof b?b:b.next.bind(b),dt=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(dt,this,"internal-error"),dt.then(()=>de(this.currentUser)),"function"==typeof b?m.addObserver(b,M,Y):m.addObserver(b)}directlySetCurrentUser(m){var b=this;return(0,y.Z)(function*(){b.currentUser&&b.currentUser!==m&&(b._currentUser._stopProactiveRefresh(),m&&b.isProactiveRefreshEnabled&&m._startProactiveRefresh()),b.currentUser=m,m?yield b.assertedPersistence.setCurrentUser(m):yield b.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,y.Z)(function*(){var b;const M={"X-Client-Version":m.clientVersion};m.app.options.appId&&(M["X-Firebase-gmpid"]=m.app.options.appId);const Y=yield null===(b=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return Y&&(M["X-Firebase-Client"]=Y),M})()}}function Jt(D){return(0,ne.m9)(D)}class yi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,ne.ne)(b=>this.observer=b)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wr(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function fr(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class Mi{constructor(m,b){this.providerId=m,this.signInMethod=b}toJSON(){return Ve("not implemented")}_getIdTokenResponse(m){return Ve("not implemented")}_linkToIdToken(m,b){return Ve("not implemented")}_getReauthenticationResolver(m){return Ve("not implemented")}}function Hi(D,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:resetPassword",ut(D,m))})).apply(this,arguments)}function oi(D,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function is(D,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:update",ut(D,m))})).apply(this,arguments)}function Ki(){return(Ki=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signInWithPassword",ut(D,m))})).apply(this,arguments)}function Gr(D,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:sendOobCode",ut(D,m))})).apply(this,arguments)}function rs(D,m){return $i.apply(this,arguments)}function $i(){return($i=(0,y.Z)(function*(D,m){return Gr(D,m)})).apply(this,arguments)}function di(D,m){return No.apply(this,arguments)}function No(){return(No=(0,y.Z)(function*(D,m){return Gr(D,m)})).apply(this,arguments)}function Ji(D,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(D,m){return Gr(D,m)})).apply(this,arguments)}function vs(D,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,y.Z)(function*(D,m){return Gr(D,m)})).apply(this,arguments)}function Dr(){return(Dr=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signInWithEmailLink",ut(D,m))})).apply(this,arguments)}function bs(){return(bs=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signInWithEmailLink",ut(D,m))})).apply(this,arguments)}class ko extends Mi{constructor(m,b,M,Y=null){super("password",M),this._email=m,this._password=b,this._tenantId=Y}static _fromEmailAndPassword(m,b){return new ko(m,b,"password")}static _fromEmailAndCode(m,b,M=null){return new ko(m,b,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(m){var b=this;return(0,y.Z)(function*(){switch(b.signInMethod){case"password":return function Ar(D,m){return Ki.apply(this,arguments)}(m,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ss(D,m){return Dr.apply(this,arguments)}(m,{email:b._email,oobCode:b._password});default:pt(m,"internal-error")}})()}_linkToIdToken(m,b){var M=this;return(0,y.Z)(function*(){switch(M.signInMethod){case"password":return oi(m,{idToken:b,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Vs(D,m){return bs.apply(this,arguments)}(m,{idToken:b,email:M._email,oobCode:M._password});default:pt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function pr(D,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signInWithIdp",ut(D,m))})).apply(this,arguments)}class et extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const b=new et(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(b.idToken=m.idToken),m.accessToken&&(b.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(b.nonce=m.nonce),m.pendingToken&&(b.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(b.accessToken=m.oauthToken,b.secret=m.oauthTokenSecret):pt("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:Y}=b,de=(0,we._T)(b,["providerId","signInMethod"]);if(!M||!Y)return null;const dt=new et(M,Y);return dt.idToken=de.idToken||void 0,dt.accessToken=de.accessToken||void 0,dt.secret=de.secret,dt.nonce=de.nonce,dt.pendingToken=de.pendingToken||null,dt}_getIdTokenResponse(m){return pr(m,this.buildRequest())}_linkToIdToken(m,b){const M=this.buildRequest();return M.idToken=b,pr(m,M)}_getReauthenticationResolver(m){const b=this.buildRequest();return b.autoCreate=!1,pr(m,b)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),m.postBody=(0,ne.xO)(b)}return m}}function He(D,m){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:sendVerificationCode",ut(D,m))})).apply(this,arguments)}function fn(){return(fn=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signInWithPhoneNumber",ut(D,m))})).apply(this,arguments)}function ki(){return(ki=(0,y.Z)(function*(D,m){const b=yield si(D,"POST","/v1/accounts:signInWithPhoneNumber",ut(D,m));if(b.temporaryProof)throw pi(D,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const kr={USER_NOT_FOUND:"user-not-found"};function Xi(){return(Xi=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signInWithPhoneNumber",ut(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),kr)})).apply(this,arguments)}class qi extends Mi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,b){return new qi({verificationId:m,verificationCode:b})}static _fromTokenResponse(m,b){return new qi({phoneNumber:m,temporaryProof:b})}_getIdTokenResponse(m){return function Kt(D,m){return fn.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,b){return function Kn(D,m){return ki.apply(this,arguments)}(m,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ai(D,m){return Xi.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:b,verificationId:M,verificationCode:Y}=this.params;return m&&b?{temporaryProof:m,phoneNumber:b}:{sessionInfo:M,code:Y}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:b,verificationCode:M,phoneNumber:Y,temporaryProof:de}=m;return M||b||Y||de?new qi({verificationId:b,verificationCode:M,phoneNumber:Y,temporaryProof:de}):null}}class or{constructor(m){var b,M,Y,de,dt,Bt;const Rn=(0,ne.zd)((0,ne.pd)(m)),Ln=null!==(b=Rn.apiKey)&&void 0!==b?b:null,Ii=null!==(M=Rn.oobCode)&&void 0!==M?M:null,hi=function Es(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Rn.mode)&&void 0!==Y?Y:null);ge(Ln&&Ii&&hi,"argument-error"),this.apiKey=Ln,this.operation=hi,this.code=Ii,this.continueUrl=null!==(de=Rn.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(dt=Rn.languageCode)&&void 0!==dt?dt:null,this.tenantId=null!==(Bt=Rn.tenantId)&&void 0!==Bt?Bt:null}static parseLink(m){const b=function Xs(D){const m=(0,ne.zd)((0,ne.pd)(D)).link,b=m?(0,ne.zd)((0,ne.pd)(m)).deep_link_id:null,M=(0,ne.zd)((0,ne.pd)(D)).deep_link_id;return(M?(0,ne.zd)((0,ne.pd)(M)).link:null)||M||b||m||D}(m);try{return new or(b)}catch(M){return null}}}let Ur=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(b,M){return ko._fromEmailAndPassword(b,M)}static credentialWithLink(b,M){const Y=or.parseLink(M);return ge(Y,"argument-error"),ko._fromEmailAndCode(b,Y.code,Y.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ao{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Wr extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Bs extends Wr{static credentialFromJSON(m){const b="string"==typeof m?JSON.parse(m):m;return ge("providerId"in b&&"signInMethod"in b,"argument-error"),et._fromParams(b)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ge(m.idToken||m.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Bs.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Bs.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:Y,pendingToken:de,nonce:dt,providerId:Bt}=m;if(!M&&!Y&&!b&&!de||!Bt)return null;try{return new Bs(Bt)._credential({idToken:b,accessToken:M,nonce:dt,pendingToken:de})}catch(Rn){return null}}}let eo=(()=>{class D extends Wr{constructor(){super("facebook.com")}static credential(b){return et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(M){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Ps=(()=>{class D extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(b,M){return et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:M})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:M,oauthAccessToken:Y}=b;if(!M&&!Y)return null;try{return D.credential(M,Y)}catch(de){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),_o=(()=>{class D extends Wr{constructor(){super("github.com")}static credential(b){return et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(M){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class os extends Mi{constructor(m,b){super(m,m),this.pendingToken=b}_getIdTokenResponse(m){return pr(m,this.buildRequest())}_linkToIdToken(m,b){const M=this.buildRequest();return M.idToken=b,pr(m,M)}_getReauthenticationResolver(m){const b=this.buildRequest();return b.autoCreate=!1,pr(m,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m,{providerId:M,signInMethod:Y,pendingToken:de}=b;return M&&Y&&de&&M===Y?new os(M,de):null}static _create(m,b){return new os(m,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ws extends ao{constructor(m){ge(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ws.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ws.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const b=os.fromJSON(m);return ge(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:b,providerId:M}=m;if(!b||!M)return null;try{return os._create(M,b)}catch(Y){return null}}}let to=(()=>{class D extends Wr{constructor(){super("twitter.com")}static credential(b,M){return et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:M})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:M,oauthTokenSecret:Y}=b;if(!M||!Y)return null;try{return D.credential(M,Y)}catch(de){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Us(D,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signUp",ut(D,m))})).apply(this,arguments)}class Zr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,b,M,Y=!1){return(0,y.Z)(function*(){const de=yield Ne._fromIdTokenResponse(m,M,Y),dt=Wo(M);return new Zr({user:de,providerId:dt,_tokenResponse:M,operationType:b})})()}static _forOperation(m,b,M){return(0,y.Z)(function*(){yield m._updateTokensIfNecessary(M,!0);const Y=Wo(M);return new Zr({user:m,providerId:Y,_tokenResponse:M,operationType:b})})()}}function Wo(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function js(){return(js=(0,y.Z)(function*(D){var m;const b=Jt(D);if(yield b._initializationPromise,null===(m=b.currentUser)||void 0===m?void 0:m.isAnonymous)return new Zr({user:b.currentUser,providerId:null,operationType:"signIn"});const M=yield Us(b,{returnSecureToken:!0}),Y=yield Zr._fromIdTokenResponse(b,"signIn",M,!0);return yield b._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Hs extends ne.ZR{constructor(m,b,M,Y){var de;super(b.code,b.message),this.operationType=M,this.user=Y,Object.setPrototypeOf(this,Hs.prototype),this.customData={appName:m.name,tenantId:null!==(de=m.tenantId)&&void 0!==de?de:void 0,_serverResponse:b.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(m,b,M,Y){return new Hs(m,b,M,Y)}}function as(D,m,b,M){return("reauthenticate"===m?b._getReauthenticationResolver(D):b._getIdTokenResponse(D)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Hs._fromErrorAndOperation(D,de,m,M):de})}function ls(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function $s(){return($s=(0,y.Z)(function*(D,m){const b=(0,ne.m9)(D);yield se(!0,b,m);const{providerUserInfo:M}=yield Tt(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[m]}),Y=ls(M||[]);return b.providerData=b.providerData.filter(de=>Y.has(de.providerId)),Y.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Ui(D,m){return z.apply(this,arguments)}function z(){return(z=(0,y.Z)(function*(D,m,b=!1){const M=yield Ei(D,m._linkToIdToken(D.auth,yield D.getIdToken()),b);return Zr._forOperation(D,"link",M)})).apply(this,arguments)}function se(D,m,b){return $.apply(this,arguments)}function $(){return($=(0,y.Z)(function*(D,m,b){yield gi(m);const Y=!1===D?"provider-already-linked":"no-such-provider";ge(ls(m.providerData).has(b)===D,m.auth,Y)})).apply(this,arguments)}function ue(D,m){return Se.apply(this,arguments)}function Se(){return(Se=(0,y.Z)(function*(D,m,b=!1){const{auth:M}=D,Y="reauthenticate";try{const de=yield Ei(D,as(M,Y,m,D),b);ge(de.idToken,M,"internal-error");const dt=Zt(de.idToken);ge(dt,M,"internal-error");const{sub:Bt}=dt;return ge(D.uid===Bt,M,"user-mismatch"),Zr._forOperation(D,Y,de)}catch(de){throw"auth/user-not-found"===(null==de?void 0:de.code)&&pt(M,"user-mismatch"),de}})).apply(this,arguments)}function Pt(D,m){return $t.apply(this,arguments)}function $t(){return($t=(0,y.Z)(function*(D,m,b=!1){const M="signIn",Y=yield as(D,M,m),de=yield Zr._fromIdTokenResponse(D,M,Y);return b||(yield D._updateCurrentUser(de.user)),de})).apply(this,arguments)}function En(D,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,y.Z)(function*(D,m){return Pt(Jt(D),m)})).apply(this,arguments)}function Li(D,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,y.Z)(function*(D,m){const b=(0,ne.m9)(D);return yield se(!1,b,m.providerId),Ui(b,m)})).apply(this,arguments)}function Ri(D,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,y.Z)(function*(D,m){return ue((0,ne.m9)(D),m)})).apply(this,arguments)}function Qi(D,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,y.Z)(function*(D,m){return si(D,"POST","/v1/accounts:signInWithCustomToken",ut(D,m))})).apply(this,arguments)}function H(){return(H=(0,y.Z)(function*(D,m){const b=Jt(D),M=yield Qi(b,{token:m,returnSecureToken:!0}),Y=yield Zr._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class L{constructor(m,b){this.factorId=m,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(m,b){return"phoneInfo"in b?le._fromServerResponse(m,b):pt(m,"internal-error")}}class le extends L{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,b){return new le(b)}}function Ot(D,m,b){var M;ge((null===(M=b.url)||void 0===M?void 0:M.length)>0,D,"invalid-continue-uri"),ge(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=b.url,m.dynamicLinkDomain=b.dynamicLinkDomain,m.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ge(b.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=b.iOS.bundleId),b.android&&(ge(b.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=b.android.installApp,m.androidMinimumVersionCode=b.android.minimumVersion,m.androidPackageName=b.android.packageName)}function zi(){return(zi=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D),Y={requestType:"PASSWORD_RESET",email:m};b&&Ot(M,Y,b),yield di(M,Y)})).apply(this,arguments)}function Ko(){return(Ko=(0,y.Z)(function*(D,m,b){yield Hi((0,ne.m9)(D),{oobCode:m,newPassword:b})})).apply(this,arguments)}function nn(){return(nn=(0,y.Z)(function*(D,m){yield is((0,ne.m9)(D),{oobCode:m})})).apply(this,arguments)}function Fi(D,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,y.Z)(function*(D,m){const b=(0,ne.m9)(D),M=yield Hi(b,{oobCode:m}),Y=M.requestType;switch(ge(Y,b,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(M.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(M.mfaInfo,b,"internal-error");default:ge(M.email,b,"internal-error")}let de=null;return M.mfaInfo&&(de=L._fromServerResponse(Jt(b),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:de},operation:Y}})).apply(this,arguments)}function vo(){return(vo=(0,y.Z)(function*(D,m){const{data:b}=yield Fi((0,ne.m9)(D),m);return b.email})).apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(D,m,b){const M=Jt(D),Y=yield Us(M,{returnSecureToken:!0,email:m,password:b}),de=yield Zr._fromIdTokenResponse(M,"signIn",Y);return yield M._updateCurrentUser(de.user),de})).apply(this,arguments)}function aa(){return(aa=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D),Y={requestType:"EMAIL_SIGNIN",email:m};ge(b.handleCodeInApp,M,"argument-error"),b&&Ot(M,Y,b),yield Ji(M,Y)})).apply(this,arguments)}function Ds(){return(Ds=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D),Y=Ur.credentialWithLink(m,b||ft());return ge(Y._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),En(M,Y)})).apply(this,arguments)}function ps(D,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:createAuthUri",ut(D,m))})).apply(this,arguments)}function ee(){return(ee=(0,y.Z)(function*(D,m){const M={identifier:m,continueUri:dn()?ft():"http://localhost"},{signinMethods:Y}=yield ps((0,ne.m9)(D),M);return Y||[]})).apply(this,arguments)}function S(){return(S=(0,y.Z)(function*(D,m){const b=(0,ne.m9)(D),Y={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&Ot(b.auth,Y,m);const{email:de}=yield rs(b.auth,Y);de!==D.email&&(yield D.reload())})).apply(this,arguments)}function ie(){return(ie=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};b&&Ot(M.auth,de,b);const{email:dt}=yield vs(M.auth,de);dt!==D.email&&(yield D.reload())})).apply(this,arguments)}function pe(D,m){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,y.Z)(function*(D,m){return qt(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(D,{displayName:m,photoURL:b}){if(void 0===m&&void 0===b)return;const M=(0,ne.m9)(D),de={idToken:yield M.getIdToken(),displayName:m,photoUrl:b,returnSecureToken:!0},dt=yield Ei(M,pe(M.auth,de));M.displayName=dt.displayName||null,M.photoURL=dt.photoUrl||null;const Bt=M.providerData.find(({providerId:Rn})=>"password"===Rn);Bt&&(Bt.displayName=M.displayName,Bt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(dt)})).apply(this,arguments)}function Zn(D,m,b){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,y.Z)(function*(D,m,b){const{auth:M}=D,de={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(de.email=m),b&&(de.password=b);const dt=yield Ei(D,oi(M,de));yield D._updateTokensIfNecessary(dt,!0)})).apply(this,arguments)}class zn{constructor(m,b,M={}){this.isNewUser=m,this.providerId=b,this.profile=M}}class Di extends zn{constructor(m,b,M,Y){super(m,b,M),this.username=Y}}class lr extends zn{constructor(m,b){super(m,"facebook.com",b)}}class Tr extends Di{constructor(m,b){super(m,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class qr extends zn{constructor(m,b){super(m,"google.com",b)}}class gs extends Di{constructor(m,b,M){super(m,"twitter.com",b,M)}}function tr(D){const{user:m,_tokenResponse:b}=D;return m.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Vi(D){var m,b;if(!D)return null;const{providerId:M}=D,Y=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},de=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!M&&(null==D?void 0:D.idToken)){const dt=null===(b=null===(m=Zt(D.idToken))||void 0===m?void 0:m.firebase)||void 0===b?void 0:b.sign_in_provider;if(dt)return new zn(de,"anonymous"!==dt&&"custom"!==dt?dt:null)}if(!M)return null;switch(M){case"facebook.com":return new lr(de,Y);case"github.com":return new Tr(de,Y);case"google.com":return new qr(de,Y);case"twitter.com":return new gs(de,Y,D.screenName||null);case"custom":case"anonymous":return new zn(de,null);default:return new zn(de,M,Y)}}(b)}class Yr{constructor(m,b){this.type=m,this.credential=b}static _fromIdtoken(m){return new Yr("enroll",m)}static _fromMfaPendingCredential(m){return new Yr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var b,M;if(null==m?void 0:m.multiFactorSession){if(null===(b=m.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return Yr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(M=m.multiFactorSession)||void 0===M?void 0:M.idToken)return Yr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Lo{constructor(m,b,M){this.session=m,this.hints=b,this.signInResolver=M}static _fromError(m,b){const M=Jt(m),Y=b.customData._serverResponse,de=(Y.mfaInfo||[]).map(Bt=>L._fromServerResponse(M,Bt));ge(Y.mfaPendingCredential,M,"internal-error");const dt=Yr._fromMfaPendingCredential(Y.mfaPendingCredential);return new Lo(dt,de,function(){var Bt=(0,y.Z)(function*(Rn){const Ln=yield Rn._process(M,dt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Ii=Object.assign(Object.assign({},Y),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(b.operationType){case"signIn":const hi=yield Zr._fromIdTokenResponse(M,b.operationType,Ii);return yield M._updateCurrentUser(hi.user),hi;case"reauthenticate":return ge(b.user,M,"internal-error"),Zr._forOperation(b.user,b.operationType,Ii);default:pt(M,"internal-error")}});return function(Rn){return Bt.apply(this,arguments)}}())}resolveSignIn(m){var b=this;return(0,y.Z)(function*(){return b.signInResolver(m)})()}}function Tn(D,m){return qt(D,"POST","/v2/accounts/mfaEnrollment:start",ut(D,m))}class Si{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(M=>L._fromServerResponse(m.auth,M)))})}static _fromUser(m){return new Si(m)}getSession(){var m=this;return(0,y.Z)(function*(){return Yr._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,b){var M=this;return(0,y.Z)(function*(){const Y=m,de=yield M.getSession(),dt=yield Ei(M.user,Y._process(M.user.auth,de,b));return yield M.user._updateTokensIfNecessary(dt),M.user.reload()})()}unenroll(m){var b=this;return(0,y.Z)(function*(){const M="string"==typeof m?m:m.uid,Y=yield b.user.getIdToken(),de=yield Ei(b.user,function li(D,m){return qt(D,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(D,m))}(b.user.auth,{idToken:Y,mfaEnrollmentId:M}));b.enrolledFactors=b.enrolledFactors.filter(({uid:dt})=>dt!==M),yield b.user._updateTokensIfNecessary(de);try{yield b.user.reload()}catch(dt){if("auth/user-token-expired"!==dt.code)throw dt}})()}}const sr=new WeakMap,xr="__sak";class Cs{constructor(m,b){this.storageRetriever=m,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(xr,"1"),this.storage.removeItem(xr),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,b){return this.storage.setItem(m,JSON.stringify(b)),Promise.resolve()}_get(m){const b=this.storage.getItem(m);return Promise.resolve(b?JSON.parse(b):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qr=(()=>{class D extends Cs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,M)=>this.onStorageEvent(b,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ir(){const D=(0,ne.z$)();return Me(D)||xi(D)}()&&function hr(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Nr(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const M of Object.keys(this.listeners)){const Y=this.storage.getItem(M),de=this.localCache[M];Y!==de&&b(M,de,Y)}}onStorageEvent(b,M=!1){if(!b.key)return void this.forAllChangedKeys((Bt,Rn,Ln)=>{this.notifyListeners(Bt,Ln)});const Y=b.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Bt=this.storage.getItem(Y);if(b.newValue!==Bt)null!==b.newValue?this.storage.setItem(Y,b.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===b.newValue&&!M)return}const de=()=>{const Bt=this.storage.getItem(Y);!M&&this.localCache[Y]===Bt||this.notifyListeners(Y,Bt)},dt=this.storage.getItem(Y);!function rr(){return(0,ne.w1)()&&10===document.documentMode}()||dt===b.newValue||b.newValue===b.oldValue?de():setTimeout(de,10)}notifyListeners(b,M){this.localCache[b]=M;const Y=this.listeners[b];if(Y)for(const de of Array.from(Y))de(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,M,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:M,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,M){var Y=()=>super._set,de=this;return(0,y.Z)(function*(){yield Y().call(de,b,M),de.localCache[b]=JSON.stringify(M)})()}_get(b){var M=()=>super._get,Y=this;return(0,y.Z)(function*(){const de=yield M().call(Y,b);return Y.localCache[b]=JSON.stringify(de),de})()}_remove(b){var M=()=>super._remove,Y=this;return(0,y.Z)(function*(){yield M().call(Y,b),delete Y.localCache[b]})()}}return D.type="LOCAL",D})(),Ns=(()=>{class D extends Cs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,M){}_removeListener(b,M){}}return D.type="SESSION",D})();let Ea=(()=>{class D{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const M=this.receivers.find(de=>de.isListeningto(b));if(M)return M;const Y=new D(b);return this.receivers.push(Y),Y}isListeningto(b){return this.eventTarget===b}handleEvent(b){var M=this;return(0,y.Z)(function*(){const Y=b,{eventId:de,eventType:dt,data:Bt}=Y.data,Rn=M.handlersMap[dt];if(!(null==Rn?void 0:Rn.size))return;Y.ports[0].postMessage({status:"ack",eventId:de,eventType:dt});const Ln=Array.from(Rn).map(function(){var hi=(0,y.Z)(function*(_r){return _r(Y.origin,Bt)});return function(_r){return hi.apply(this,arguments)}}()),Ii=yield function ba(D){return Promise.all(D.map(function(){var m=(0,y.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(M){return{fulfilled:!1,reason:M}}});return function(b){return m.apply(this,arguments)}}()))}(Ln);Y.ports[0].postMessage({status:"done",eventId:de,eventType:dt,response:Ii})})()}_subscribe(b,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(M)}_unsubscribe(b,M){this.handlersMap[b]&&M&&this.handlersMap[b].delete(M),(!M||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function wa(D="",m=10){let b="";for(let M=0;M<m;M++)b+=Math.floor(10*Math.random());return D+b}class hl{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,b,M=50){var Y=this;return(0,y.Z)(function*(){const de="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let dt,Bt;return new Promise((Rn,Ln)=>{const Ii=wa("",20);de.port1.start();const hi=setTimeout(()=>{Ln(new Error("unsupported_event"))},M);Bt={messageChannel:de,onMessage(_r){const ga=_r;if(ga.data.eventId===Ii)switch(ga.data.status){case"ack":clearTimeout(hi),dt=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(dt),Rn(ga.data.response);break;default:clearTimeout(hi),clearTimeout(dt),Ln(new Error("invalid_response"))}}},Y.handlers.add(Bt),de.port1.addEventListener("message",Bt.onMessage),Y.target.postMessage({eventType:m,eventId:Ii,data:b},[de.port2])}).finally(()=>{Bt&&Y.removeMessageHandler(Bt)})})()}}function Mr(){return window}function ho(){return void 0!==Mr().WorkerGlobalScope&&"function"==typeof Mr().importScripts}function la(){return(la=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const x="firebaseLocalStorageDb",q="firebaseLocalStorage",X="fbase_key";class _e{constructor(m){this.request=m}toPromise(){return new Promise((m,b)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function $e(D,m){return D.transaction([q],m?"readwrite":"readonly").objectStore(q)}function jt(){const D=indexedDB.open(x,1);return new Promise((m,b)=>{D.addEventListener("error",()=>{b(D.error)}),D.addEventListener("upgradeneeded",()=>{const M=D.result;try{M.createObjectStore(q,{keyPath:X})}catch(Y){b(Y)}}),D.addEventListener("success",(0,y.Z)(function*(){const M=D.result;M.objectStoreNames.contains(q)?m(M):(M.close(),yield function Ft(){const D=indexedDB.deleteDatabase(x);return new _e(D).toPromise()}(),m(yield jt()))}))})}function xn(D,m,b){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,y.Z)(function*(D,m,b){const M=$e(D,!0).put({[X]:m,value:b});return new _e(M).toPromise()})).apply(this,arguments)}function gt(){return(gt=(0,y.Z)(function*(D,m){const b=$e(D,!1).get(m),M=yield new _e(b).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Yt(D,m){const b=$e(D,!0).delete(m);return new _e(b).toPromise()}const Eo=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,y.Z)(function*(){return b.db||(b.db=yield jt()),b.db})()}_withRetries(b){var M=this;return(0,y.Z)(function*(){let Y=0;for(;;)try{const de=yield M._openDb();return yield b(de)}catch(de){if(Y++>3)throw de;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,y.Z)(function*(){return ho()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,y.Z)(function*(){b.receiver=Ea._getInstance(function O(){return ho()?self:null}()),b.receiver._subscribe("keyChanged",function(){var M=(0,y.Z)(function*(Y,de){return{keyProcessed:(yield b._poll()).includes(de.key)}});return function(Y,de){return M.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var M=(0,y.Z)(function*(Y,de){return["keyChanged"]});return function(Y,de){return M.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,y.Z)(function*(){var M,Y;if(b.activeServiceWorker=yield function fl(){return la.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new hl(b.activeServiceWorker);const de=yield b.sender._send("ping",{},800);!de||(null===(M=de[0])||void 0===M?void 0:M.fulfilled)&&(null===(Y=de[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var M=this;return(0,y.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function F(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:b},M.serviceWorkerReceiverAvailable?800:50)}catch(Y){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const b=yield jt();return yield xn(b,xr,"1"),yield Yt(b,xr),!0}catch(b){}return!1})()}_withPendingWrite(b){var M=this;return(0,y.Z)(function*(){M.pendingWrites++;try{yield b()}finally{M.pendingWrites--}})()}_set(b,M){var Y=this;return(0,y.Z)(function*(){return Y._withPendingWrite((0,y.Z)(function*(){return yield Y._withRetries(de=>xn(de,b,M)),Y.localCache[b]=M,Y.notifyServiceWorker(b)}))})()}_get(b){var M=this;return(0,y.Z)(function*(){const Y=yield M._withRetries(de=>function ln(D,m){return gt.apply(this,arguments)}(de,b));return M.localCache[b]=Y,Y})()}_remove(b){var M=this;return(0,y.Z)(function*(){return M._withPendingWrite((0,y.Z)(function*(){return yield M._withRetries(Y=>Yt(Y,b)),delete M.localCache[b],M.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,y.Z)(function*(){const M=yield b._withRetries(dt=>{const Bt=$e(dt,!1).getAll();return new _e(Bt).toPromise()});if(!M)return[];if(0!==b.pendingWrites)return[];const Y=[],de=new Set;for(const{fbase_key:dt,value:Bt}of M)de.add(dt),JSON.stringify(b.localCache[dt])!==JSON.stringify(Bt)&&(b.notifyListeners(dt,Bt),Y.push(dt));for(const dt of Object.keys(b.localCache))b.localCache[dt]&&!de.has(dt)&&(b.notifyListeners(dt,null),Y.push(dt));return Y})()}notifyListeners(b,M){this.localCache[b]=M;const Y=this.listeners[b];if(Y)for(const de of Array.from(Y))de(M)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Fl(D,m){return qt(D,"POST","/v2/accounts/mfaSignIn:start",ut(D,m))}function Ho(){return(Ho=(0,y.Z)(function*(D){return(yield qt(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vl(D){return new Promise((m,b)=>{const M=document.createElement("script");M.setAttribute("src",D),M.onload=m,M.onerror=Y=>{const de=Le("internal-error");de.customData=Y,b(de)},M.type="text/javascript",M.charset="UTF-8",function Hu(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(M)})}function fo(D){return`__${D}${Math.floor(1e6*Math.random())}`}const ui=1e12;class pl{constructor(m){this.auth=m,this.counter=ui,this._widgets=new Map}render(m,b){const M=this.counter;return this._widgets.set(M,new cu(m,this.auth.name,b||{})),this.counter++,M}reset(m){var b;const M=m||ui;null===(b=this._widgets.get(M))||void 0===b||b.delete(),this._widgets.delete(M)}getResponse(m){var b;return(null===(b=this._widgets.get(m||ui))||void 0===b?void 0:b.getResponse())||""}execute(m){var b=this;return(0,y.Z)(function*(){var M;return null===(M=b._widgets.get(m||ui))||void 0===M||M.execute(),""})()}}class cu{constructor(m,b,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof m?document.getElementById(m):m;ge(Y,"argument-error",{appName:b}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jr(D){const m=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<D;M++)m.push(b.charAt(Math.floor(Math.random()*b.length)));return m.join("")}(50);const{callback:m,"expired-callback":b}=this.params;if(m)try{m(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _i=fo("rcb"),cc=new Ht(3e4,6e4);class Wc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mr().grecaptcha}load(m,b=""){return ge(function $u(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(b),m,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(Mr().grecaptcha):new Promise((M,Y)=>{const de=Mr().setTimeout(()=>{Y(Le(m,"network-request-failed"))},cc.get());Mr()[_i]=()=>{Mr().clearTimeout(de),delete Mr()[_i];const Bt=Mr().grecaptcha;if(!Bt)return void Y(Le(m,"internal-error"));const Rn=Bt.render;Bt.render=(Ln,Ii)=>{const hi=Rn(Ln,Ii);return this.counter++,hi},this.hostLanguage=b,M(Bt)},Vl(`https://www.google.com/recaptcha/api.js??${(0,ne.xO)({onload:_i,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(de),Y(Le(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Mr().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yr{load(m){return(0,y.Z)(function*(){return new pl(m)})()}clearedOneInstance(){}}const gl="recaptcha",Ss={theme:"light",type:"image"};class ml{constructor(m,b=Object.assign({},Ss),M){this.parameters=b,this.type=gl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jt(M),this.isInvisible="invisible"===this.parameters.size,ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof m?document.getElementById(m):m;ge(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yr:new Wc,this.validateStartingState()}verify(){var m=this;return(0,y.Z)(function*(){m.assertNotDestroyed();const b=yield m.render(),M=m.getAssertedRecaptcha();return M.getResponse(b)||new Promise(de=>{const dt=Bt=>{!Bt||(m.tokenChangeListeners.delete(dt),de(Bt))};m.tokenChangeListeners.add(dt),m.isInvisible&&M.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return b=>{if(this.tokenChangeListeners.forEach(M=>M(b)),"function"==typeof m)m(b);else if("string"==typeof m){const M=Mr()[m];"function"==typeof M&&M(b)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,y.Z)(function*(){if(yield m.init(),!m.widgetId){let b=m.container;if(!m.isInvisible){const M=document.createElement("div");b.appendChild(M),b=M}m.widgetId=m.getAssertedRecaptcha().render(b,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,y.Z)(function*(){ge(dn()&&!ho(),m.auth,"internal-error"),yield function Ao(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const b=yield function uc(D){return Ho.apply(this,arguments)}(m.auth);ge(b,m.auth,"internal-error"),m.parameters.sitekey=b})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xr{constructor(m,b){this.verificationId=m,this.onConfirmation=b}confirm(m){const b=qi._fromVerification(this.verificationId,m);return this.onConfirmation(b)}}function br(){return(br=(0,y.Z)(function*(D,m,b){const M=Jt(D),Y=yield Zs(M,m,(0,ne.m9)(b));return new Xr(Y,de=>En(M,de))})).apply(this,arguments)}function $o(){return($o=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D);yield se(!1,M,"phone");const Y=yield Zs(M.auth,m,(0,ne.m9)(b));return new Xr(Y,de=>Li(M,de))})).apply(this,arguments)}function Bl(){return(Bl=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D),Y=yield Zs(M.auth,m,(0,ne.m9)(b));return new Xr(Y,de=>Ri(M,de))})).apply(this,arguments)}function Zs(D,m,b){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,y.Z)(function*(D,m,b){var M;const Y=yield b.verify();try{let de;if(ge("string"==typeof Y,D,"argument-error"),ge(b.type===gl,D,"argument-error"),de="string"==typeof m?{phoneNumber:m}:m,"session"in de){const dt=de.session;if("phoneNumber"in de)return ge("enroll"===dt.type,D,"internal-error"),(yield Tn(D,{idToken:dt.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ge("signin"===dt.type,D,"internal-error");const Bt=(null===(M=de.multiFactorHint)||void 0===M?void 0:M.uid)||de.multiFactorUid;return ge(Bt,D,"missing-multi-factor-info"),(yield Fl(D,{mfaPendingCredential:dt.credential,mfaEnrollmentId:Bt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:dt}=yield He(D,{phoneNumber:de.phoneNumber,recaptchaToken:Y});return dt}}finally{b._reset()}})).apply(this,arguments)}function po(){return(po=(0,y.Z)(function*(D,m){yield Ui((0,ne.m9)(D),m)})).apply(this,arguments)}let So=(()=>{class D{constructor(b){this.providerId=D.PROVIDER_ID,this.auth=Jt(b)}verifyPhoneNumber(b,M){return Zs(this.auth,b,(0,ne.m9)(M))}static credential(b,M){return qi._fromVerification(b,M)}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:M,temporaryProof:Y}=b;return M&&Y?qi._fromTokenResponse(M,Y):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function ua(D,m){return m?yt(m):(ge(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Cn extends Mi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return pr(m,this._buildIdpRequest())}_linkToIdToken(m,b){return pr(m,this._buildIdpRequest(b))}_getReauthenticationResolver(m){return pr(m,this._buildIdpRequest())}_buildIdpRequest(m){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(b.idToken=m),b}}function Ul(D){return Pt(D.auth,new Cn(D),D.bypassAuthState)}function du(D){const{auth:m,user:b}=D;return ge(b,m,"internal-error"),ue(b,new Cn(D),D.bypassAuthState)}function ja(D){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,y.Z)(function*(D){const{auth:m,user:b}=D;return ge(b,m,"internal-error"),Ui(b,new Cn(D),D.bypassAuthState)})).apply(this,arguments)}class go{constructor(m,b,M,Y,de=!1){this.auth=m,this.resolver=M,this.user=Y,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var m=this;return new Promise(function(){var b=(0,y.Z)(function*(M,Y){m.pendingPromise={resolve:M,reject:Y};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(de){m.reject(de)}});return function(M,Y){return b.apply(this,arguments)}}())}onAuthEvent(m){var b=this;return(0,y.Z)(function*(){const{urlResponse:M,sessionId:Y,postBody:de,tenantId:dt,error:Bt,type:Rn}=m;if(Bt)return void b.reject(Bt);const Ln={auth:b.auth,requestUri:M,sessionId:Y,tenantId:dt||void 0,postBody:de||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Rn)(Ln))}catch(Ii){b.reject(Ii)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ul;case"linkViaPopup":case"linkViaRedirect":return ja;case"reauthViaPopup":case"reauthViaRedirect":return du;default:pt(this.auth,"internal-error")}}resolve(m){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ca=new Ht(2e3,1e4);function Xa(){return(Xa=(0,y.Z)(function*(D,m,b){const M=Jt(D);Et(D,m,ao);const Y=ua(M,b);return new zo(M,"signInViaPopup",m,Y).executeNotNull()})).apply(this,arguments)}function ks(){return(ks=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D);Et(M.auth,m,ao);const Y=ua(M.auth,b);return new zo(M.auth,"reauthViaPopup",m,Y,M).executeNotNull()})).apply(this,arguments)}function el(){return(el=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D);Et(M.auth,m,ao);const Y=ua(M.auth,b);return new zo(M.auth,"linkViaPopup",m,Y,M).executeNotNull()})).apply(this,arguments)}let zo=(()=>{class D extends go{constructor(b,M,Y,de,dt){super(b,M,de,dt),this.provider=Y,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var b=this;return(0,y.Z)(function*(){const M=yield b.execute();return ge(M,b.auth,"internal-error"),M})()}onExecution(){var b=this;return(0,y.Z)(function*(){ze(1===b.filter.length,"Popup operations only handle one event");const M=wa();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],M),b.authWindow.associatedEvent=M,b.resolver._originValidation(b.auth).catch(Y=>{b.reject(Y)}),b.resolver._isIframeWebStorageSupported(b.auth,Y=>{Y||b.reject(Le(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const b=()=>{var M,Y;this.pollId=(null===(Y=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===Y?void 0:Y.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,ca.get())};b()}}return D.currentPopupAction=null,D})();const Fo=new Map;class yl extends go{constructor(m,b,M=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,M),this.eventId=null}execute(){var m=()=>super.execute,b=this;return(0,y.Z)(function*(){let M=Fo.get(b.auth._key());if(!M){try{const de=(yield function fu(D,m){return zu.apply(this,arguments)}(b.resolver,b.auth))?yield m().call(b):null;M=()=>Promise.resolve(de)}catch(Y){M=()=>Promise.reject(Y)}Fo.set(b.auth._key(),M)}return b.bypassAuthState||Fo.set(b.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(m){var b=()=>super.onAuthEvent,M=this;return(0,y.Z)(function*(){if("signInViaRedirect"===m.type)return b().call(M,m);if("unknown"!==m.type){if(m.eventId){const Y=yield M.auth._redirectUserForId(m.eventId);if(Y)return M.user=Y,b().call(M,m);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function zu(){return(zu=(0,y.Z)(function*(D,m){const b=K(m),M=U(D);if(!(yield M._isAvailable()))return!1;const Y="true"===(yield M._get(b));return yield M._remove(b),Y})).apply(this,arguments)}function Ta(D,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,y.Z)(function*(D,m){return U(D)._set(K(m),"true")})).apply(this,arguments)}function U(D){return yt(D._redirectPersistence)}function K(D){return At("pendingRedirect",D.config.apiKey,D.name)}function mt(){return(mt=(0,y.Z)(function*(D,m,b){const M=Jt(D);Et(D,m,ao);const Y=ua(M,b);return yield Ta(Y,M),Y._openRedirect(M,m,"signInViaRedirect")})).apply(this,arguments)}function $n(){return($n=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D);Et(M.auth,m,ao);const Y=ua(M.auth,b);yield Ta(Y,M.auth);const de=yield gu(M);return Y._openRedirect(M.auth,m,"reauthViaRedirect",de)})).apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(D,m,b){const M=(0,ne.m9)(D);Et(M.auth,m,ao);const Y=ua(M.auth,b);yield se(!1,M,m.providerId),yield Ta(Y,M.auth);const de=yield gu(M);return Y._openRedirect(M.auth,m,"linkViaRedirect",de)})).apply(this,arguments)}function ro(){return(ro=(0,y.Z)(function*(D,m){return yield Jt(D)._initializationPromise,xs(D,m,!1)})).apply(this,arguments)}function xs(D,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,y.Z)(function*(D,m,b=!1){const M=Jt(D),Y=ua(M,m),dt=yield new yl(M,Y,b).execute();return dt&&!b&&(delete dt.user._redirectEventId,yield M._persistUserIfCurrent(dt.user),yield M._setRedirectUser(null,m)),dt})).apply(this,arguments)}function gu(D){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,y.Z)(function*(D){const m=wa(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class da{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let b=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(m,M)&&(b=!0,this.sendToConsumer(m,M),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function wo(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kc(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=m,b=!0)),b}sendToConsumer(m,b){var M;if(m.error&&!Kc(m)){const Y=(null===(M=m.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";b.onError(Le(this.auth,Y))}else b.onAuthEvent(m)}isEventForConsumer(m,b){const M=null===b.eventId||!!m.eventId&&m.eventId===b.eventId;return b.filter.includes(m.type)&&M}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ha(m))}saveEventToCache(m){this.cachedEventUids.add(Ha(m)),this.lastProcessedEventTime=Date.now()}}function Ha(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function Kc({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===(null==m?void 0:m.code)}function mu(D){return yu.apply(this,arguments)}function yu(){return(yu=(0,y.Z)(function*(D,m={}){return qt(D,"GET","/v1/projects",m)})).apply(this,arguments)}const Nd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kd=/^https?/;function vl(){return(vl=(0,y.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield mu(D);for(const b of m)try{if(_u(b))return}catch(M){}pt(D,"unauthorized-domain")})).apply(this,arguments)}function _u(D){const m=ft(),{protocol:b,hostname:M}=new URL(m);if(D.startsWith("chrome-extension://")){const dt=new URL(D);return""===dt.hostname&&""===M?"chrome-extension:"===b&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===b&&dt.hostname===M}if(!kd.test(b))return!1;if(Nd.test(D))return M===D;const Y=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(M)}const Ld=new Ht(3e4,6e4);function bl(){const D=Mr().___jsl;if(null==D?void 0:D.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let b=0;b<D.CP.length;b++)D.CP[b]=null}let Gu=null;function fc(D){return Gu=Gu||function El(D){return new Promise((m,b)=>{var M,Y,de;function dt(){bl(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{bl(),b(Le(D,"network-request-failed"))},timeout:Ld.get()})}if(null===(Y=null===(M=Mr().gapi)||void 0===M?void 0:M.iframes)||void 0===Y?void 0:Y.Iframe)m(gapi.iframes.getContext());else{if(!(null===(de=Mr().gapi)||void 0===de?void 0:de.load)){const Bt=fo("iframefcb");return Mr()[Bt]=()=>{gapi.load?dt():b(Le(D,"network-request-failed"))},Vl(`https://apis.google.com/js/api.js?onload=${Bt}`).catch(Rn=>b(Rn))}dt()}}).catch(m=>{throw Gu=null,m})}(D),Gu}const vu=new Ht(5e3,15e3),nl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function il(D){const m=D.config;ge(m.authDomain,D,"auth-domain-config-required");const b=m.emulator?un(m,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,M={apiKey:m.apiKey,appName:D.name,v:me.SDK_VERSION},Y=bu.get(D.config.apiHost);Y&&(M.eid=Y);const de=D._getFrameworks();return de.length&&(M.fw=de.join(",")),`${b}?${(0,ne.xO)(M).slice(1)}`}function Eu(){return Eu=(0,y.Z)(function*(D){const m=yield fc(D),b=Mr().gapi;return ge(b,D,"internal-error"),m.open({where:document.body,url:il(D),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nl,dontclear:!0},M=>new Promise(function(){var Y=(0,y.Z)(function*(de,dt){yield M.restyle({setHideOnLeave:!1});const Bt=Le(D,"network-request-failed"),Rn=Mr().setTimeout(()=>{dt(Bt)},vu.get());function Ln(){Mr().clearTimeout(Rn),de(M)}M.ping(Ln).then(Ln,()=>{dt(Bt)})});return function(de,dt){return Y.apply(this,arguments)}}()))}),Eu.apply(this,arguments)}const Qc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function za(D,m,b,M,Y,de){ge(D.config.authDomain,D,"auth-domain-config-required"),ge(D.config.apiKey,D,"invalid-api-key");const dt={apiKey:D.config.apiKey,appName:D.name,authType:b,redirectUrl:M,v:me.SDK_VERSION,eventId:Y};if(m instanceof ao){m.setDefaultLanguage(D.languageCode),dt.providerId=m.providerId||"",(0,ne.xb)(m.getCustomParameters())||(dt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Rn,Ln]of Object.entries(de||{}))dt[Rn]=Ln}if(m instanceof Wr){const Rn=m.getScopes().filter(Ln=>""!==Ln);Rn.length>0&&(dt.scopes=Rn.join(","))}D.tenantId&&(dt.tid=D.tenantId);const Bt=dt;for(const Rn of Object.keys(Bt))void 0===Bt[Rn]&&delete Bt[Rn];return`${function ed({config:D}){return D.emulator?un(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,ne.xO)(Bt).slice(1)}`}const Ia="webStorageSupport";class nd extends class td{constructor(m){this.factorId=m}_process(m,b,M){switch(b.type){case"enroll":return this._finalizeEnroll(m,b.credential,M);case"signin":return this._finalizeSignIn(m,b.credential);default:return Ve("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new nd(m)}_finalizeEnroll(m,b,M){return function ei(D,m){return qt(D,"POST","/v2/accounts/mfaEnrollment:finalize",ut(D,m))}(m,{idToken:b,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,b){return function uu(D,m){return qt(D,"POST","/v2/accounts/mfaSignIn:finalize",ut(D,m))}(m,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fd=(()=>{class D{constructor(){}static assertion(b){return nd._fromCredential(b)}}return D.FACTOR_ID="phone",D})();var Hl="@firebase/auth",Na="0.19.12";class mc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var b=this;return(0,y.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const b=this.auth.onIdTokenChanged(M=>{var Y;m((null===(Y=M)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,b),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const b=this.internalListeners.get(m);!b||(this.internalListeners.delete(m),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wl(){return window}function Gl(){return(Gl=(0,y.Z)(function*(D,m,b){var M;const{BuildInfo:Y}=wl();ze(m.sessionId,"AuthEvent did not contain a session ID");const de=yield rf(m.sessionId),dt={};return xi()?dt.ibi=Y.packageName:kt()?dt.apn=Y.packageName:pt(D,"operation-not-supported-in-this-environment"),Y.displayName&&(dt.appDisplayName=Y.displayName),dt.sessionId=de,za(D,b,m.type,void 0,null!==(M=m.eventId)&&void 0!==M?M:void 0,dt)})).apply(this,arguments)}function Or(){return(Or=(0,y.Z)(function*(D){const{BuildInfo:m}=wl(),b={};xi()?b.iosBundleId=m.packageName:kt()?b.androidPackageName=m.packageName:pt(D,"operation-not-supported-in-this-environment"),yield mu(D,b)})).apply(this,arguments)}function Wl(){return(Wl=(0,y.Z)(function*(D,m,b){const{cordova:M}=wl();let Y=()=>{};try{yield new Promise((de,dt)=>{let Bt=null;function Rn(){var hi;de();const _r=null===(hi=M.plugins.browsertab)||void 0===hi?void 0:hi.close;"function"==typeof _r&&_r(),"function"==typeof(null==b?void 0:b.close)&&b.close()}function Ln(){Bt||(Bt=window.setTimeout(()=>{dt(Le(D,"redirect-cancelled-by-user"))},2e3))}function Ii(){"visible"===(null==document?void 0:document.visibilityState)&&Ln()}m.addPassiveListener(Rn),document.addEventListener("resume",Ln,!1),kt()&&document.addEventListener("visibilitychange",Ii,!1),Y=()=>{m.removePassiveListener(Rn),document.removeEventListener("resume",Ln,!1),document.removeEventListener("visibilitychange",Ii,!1),Bt&&window.clearTimeout(Bt)}})}finally{Y()}})).apply(this,arguments)}function rf(D){return yc.apply(this,arguments)}function yc(){return(yc=(0,y.Z)(function*(D){const m=Cl(D),b=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(b)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Cl(D){if(ze(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(D);const m=new ArrayBuffer(D.length),b=new Uint8Array(m);for(let M=0;M<D.length;M++)b[M]=D.charCodeAt(M);return b}!function Vd(D){(0,me._registerComponent)(new Re.wA("auth",(m,{options:b})=>{const M=m.getProvider("app").getImmediate(),Y=m.getProvider("heartbeat"),{apiKey:de,authDomain:dt}=M.options;return((Bt,Rn)=>{ge(de&&!de.includes(":"),"invalid-api-key",{appName:Bt.name}),ge(!(null==dt?void 0:dt.includes(":")),"argument-error",{appName:Bt.name});const Ln={apiKey:de,authDomain:dt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Er(D)},Ii=new Wi(Bt,Rn,Ln);return function lt(D,m){const b=(null==m?void 0:m.persistence)||[],M=(Array.isArray(b)?b:[b]).map(yt);(null==m?void 0:m.errorMap)&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(M,null==m?void 0:m.popupRedirectResolver)}(Ii,b),Ii})(M,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,b,M)=>{m.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new Re.wA("auth-internal",m=>{const b=Jt(m.getProvider("auth").getImmediate());return new mc(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)(Hl,Na,function $l(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,me.registerVersion)(Hl,Na,"esm2017")}("Browser");class ol extends da{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(m)),super.onEvent(m)}initialized(){var m=this;return(0,y.Z)(function*(){yield m.initPromise})()}}function Ud(D){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,y.Z)(function*(D){const m=yield Ls()._get(mr(D));return m&&(yield Ls()._remove(mr(D))),m})).apply(this,arguments)}function vc(){const D=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<20;b++){const M=Math.floor(Math.random()*m.length);D.push(m.charAt(M))}return D.join("")}function Ls(){return yt(Qr)}function mr(D){return At("authEvent",D.config.apiKey,D.name)}function ha(D){if(!(null==D?void 0:D.includes("?")))return{};const[m,...b]=D.split("?");return(0,ne.zd)(b.join("?"))}function $r(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Le("no-auth-event")}}function Ec(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function Cu(D=(0,ne.z$)()){return!("file:"!==Ec()&&"ionic:"!==Ec()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function mo(){try{const D=self.localStorage,m=wa();if(D)return D.setItem(m,"1"),D.removeItem(m),!function Yu(D=(0,ne.z$)()){return function sf(){return(0,ne.w1)()&&11===(null==document?void 0:document.documentMode)}()||function zr(D=(0,ne.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,ne.hl)()}catch(D){return al()&&(0,ne.hl)()}return!1}function al(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Il(){return(function od(){return"http:"===Ec()||"https:"===Ec()}()||(0,ne.ru)()||Cu())&&!function mh(){return(0,ne.b$)()||(0,ne.UG)()}()&&mo()&&!al()}function Zl(){return Cu()&&"undefined"!=typeof document}function Al(){return(Al=(0,y.Z)(function*(){return!!Zl()&&new Promise(D=>{const m=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),D(!0)})})})).apply(this,arguments)}const pa={LOCAL:"local",NONE:"none",SESSION:"session"},Tu=ge,Iu="persistence";function Qu(D){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,y.Z)(function*(D){yield D._initializationPromise;const m=Cc(),b=At(Iu,D.config.apiKey,D.name);m&&m.setItem(b,D._getPersistence())})).apply(this,arguments)}function Cc(){var D;try{return(null===(D=function wc(){return"undefined"!=typeof window?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch(m){return null}}const _h=ge;class es{constructor(){this.browserResolver=yt(class jl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ns,this._completeRedirectFn=xs}_openPopup(m,b,M,Y){var de=this;return(0,y.Z)(function*(){var dt;ze(null===(dt=de.eventManagers[m._key()])||void 0===dt?void 0:dt.manager,"_initialize() not called before _openPopup()");const Bt=za(m,b,M,ft(),Y);return function sl(D,m,b,M=500,Y=600){const de=Math.max((window.screen.availHeight-Y)/2,0).toString(),dt=Math.max((window.screen.availWidth-M)/2,0).toString();let Bt="";const Rn=Object.assign(Object.assign({},Qc),{width:M.toString(),height:Y.toString(),top:de,left:dt}),Ln=(0,ne.z$)().toLowerCase();b&&(Bt=ye(Ln)?"_blank":b),Ye(Ln)&&(m=m||"http://localhost",Rn.scrollbars="yes");const Ii=Object.entries(Rn).reduce((_r,[ga,ll])=>`${_r}${ga}=${ll},`,"");if(function _s(D=(0,ne.z$)()){var m;return xi(D)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ln)&&"_self"!==Bt)return function Jc(D,m){const b=document.createElement("a");b.href=D,b.target=m;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(M)}(m||"",Bt),new Wu(null);const hi=window.open(m||"",Bt,Ii);ge(hi,D,"popup-blocked");try{hi.focus()}catch(_r){}return new Wu(hi)}(m,Bt,wa())})()}_openRedirect(m,b,M,Y){var de=this;return(0,y.Z)(function*(){return yield de._originValidation(m),function ju(D){Mr().location.href=D}(za(m,b,M,ft(),Y)),new Promise(()=>{})})()}_initialize(m){const b=m._key();if(this.eventManagers[b]){const{manager:Y,promise:de}=this.eventManagers[b];return Y?Promise.resolve(Y):(ze(de,"If manager is not set, promise should be"),de)}const M=this.initAndGetManager(m);return this.eventManagers[b]={promise:M},M.catch(()=>{delete this.eventManagers[b]}),M}initAndGetManager(m){var b=this;return(0,y.Z)(function*(){const M=yield function Yc(D){return Eu.apply(this,arguments)}(m),Y=new da(m);return M.register("authEvent",de=>(ge(null==de?void 0:de.authEvent,m,"invalid-auth-event"),{status:Y.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[m._key()]={manager:Y},b.iframes[m._key()]=M,Y})()}_isIframeWebStorageSupported(m,b){this.iframes[m._key()].send(Ia,{type:Ia},Y=>{var de;const dt=null===(de=null==Y?void 0:Y[0])||void 0===de?void 0:de[Ia];void 0!==dt&&b(!!dt),pt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const b=m._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Zc(D){return vl.apply(this,arguments)}(m)),this.originValidationPromises[b]}get _shouldInitProactively(){return Nr()||Me()||xi()}}),this.cordovaResolver=yt(class bc{constructor(){this._redirectPersistence=Ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xs}_initialize(m){var b=this;return(0,y.Z)(function*(){const M=m._key();let Y=b.eventManagers.get(M);return Y||(Y=new ol(m),b.eventManagers.set(M,Y),b.attachCallbackListeners(m,Y)),Y})()}_openPopup(m){pt(m,"operation-not-supported-in-this-environment")}_openRedirect(m,b,M,Y){var de=this;return(0,y.Z)(function*(){!function Zu(D){var m,b,M,Y,de,dt,Bt,Rn,Ln,Ii;const hi=wl();ge("function"==typeof(null===(m=null==hi?void 0:hi.universalLinks)||void 0===m?void 0:m.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(void 0!==(null===(b=null==hi?void 0:hi.BuildInfo)||void 0===b?void 0:b.packageName),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge("function"==typeof(null===(de=null===(Y=null===(M=null==hi?void 0:hi.cordova)||void 0===M?void 0:M.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===de?void 0:de.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(Rn=null===(Bt=null===(dt=null==hi?void 0:hi.cordova)||void 0===dt?void 0:dt.plugins)||void 0===Bt?void 0:Bt.browsertab)||void 0===Rn?void 0:Rn.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(Ii=null===(Ln=null==hi?void 0:hi.cordova)||void 0===Ln?void 0:Ln.InAppBrowser)||void 0===Ii?void 0:Ii.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const dt=yield de._initialize(m);yield dt.initialized(),dt.resetRedirect(),function pu(){Fo.clear()}(),yield de._originValidation(m);const Bt=function _c(D,m,b=null){return{type:m,eventId:b,urlResponse:null,sessionId:vc(),postBody:null,tenantId:D.tenantId,error:Le(D,"no-auth-event")}}(m,M,Y);yield function id(D,m){return Ls()._set(mr(D),m)}(m,Bt);const Rn=yield function zl(D,m,b){return Gl.apply(this,arguments)}(m,Bt,b),Ln=yield function Dl(D){const{cordova:m}=wl();return new Promise(b=>{m.plugins.browsertab.isAvailable(M=>{let Y=null;M?m.plugins.browsertab.openUrl(D):Y=m.InAppBrowser.open(D,function ir(D=(0,ne.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),b(Y)})})}(Rn);return function Ku(D,m,b){return Wl.apply(this,arguments)}(m,dt,Ln)})()}_isIframeWebStorageSupported(m,b){throw new Error("Method not implemented.")}_originValidation(m){const b=m._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Bd(D){return Or.apply(this,arguments)}(m)),this.originValidationPromises[b]}attachCallbackListeners(m,b){const{universalLinks:M,handleOpenURL:Y,BuildInfo:de}=wl(),dt=setTimeout((0,y.Z)(function*(){yield Ud(m),b.onEvent($r())}),500),Bt=function(){var Ii=(0,y.Z)(function*(hi){clearTimeout(dt);const _r=yield Ud(m);let ga=null;_r&&(null==hi?void 0:hi.url)&&(ga=function qu(D,m){var b,M;const Y=function Du(D){const m=ha(D),b=m.link?decodeURIComponent(m.link):void 0,M=ha(b).link,Y=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return ha(Y).link||Y||M||b||D}(m);if(Y.includes("/__/auth/callback")){const de=ha(Y),dt=de.firebaseError?function rd(D){try{return JSON.parse(D)}catch(m){return null}}(decodeURIComponent(de.firebaseError)):null,Bt=null===(M=null===(b=null==dt?void 0:dt.code)||void 0===b?void 0:b.split("auth/"))||void 0===M?void 0:M[1],Rn=Bt?Le(Bt):null;return Rn?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:Rn,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:Y,postBody:null}}return null}(_r,hi.url)),b.onEvent(ga||$r())});return function(_r){return Ii.apply(this,arguments)}}();void 0!==M&&"function"==typeof M.subscribe&&M.subscribe(null,Bt);const Rn=Y,Ln=`${de.packageName.toLowerCase()}://`;wl().handleOpenURL=function(){var Ii=(0,y.Z)(function*(hi){if(hi.toLowerCase().startsWith(Ln)&&Bt({url:hi}),"function"==typeof Rn)try{Rn(hi)}catch(_r){console.error(_r)}});return function(hi){return Ii.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ns,this._completeRedirectFn=xs}_initialize(m){var b=this;return(0,y.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,b,M,Y){var de=this;return(0,y.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openPopup(m,b,M,Y)})()}_openRedirect(m,b,M,Y){var de=this;return(0,y.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._openRedirect(m,b,M,Y)})()}_isIframeWebStorageSupported(m,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,b)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Zl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _h(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,y.Z)(function*(){if(m.underlyingResolver)return;const b=yield function xo(){return Al.apply(this,arguments)}();m.underlyingResolver=b?m.cordovaResolver:m.browserResolver})()}}function Tc(D){return D.unwrap()}function ql(D){return Su(D)}function Su(D){const{_tokenResponse:m}=D instanceof ne.ZR?D.customData:D;if(!m)return null;if(!(D instanceof ne.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return So.credentialFromResult(D);const b=m.providerId;if(!b||"password"===b)return null;let M;switch(b){case"google.com":M=Ps;break;case"facebook.com":M=eo;break;case"github.com":M=_o;break;case"twitter.com":M=to;break;default:const{oauthIdToken:Y,oauthAccessToken:de,oauthTokenSecret:dt,pendingToken:Bt,nonce:Rn}=m;return de||dt||Y||Bt?Bt?b.startsWith("saml.")?os._create(b,Bt):et._fromParams({providerId:b,signInMethod:b,pendingToken:Bt,idToken:Y,accessToken:de}):new Bs(b).credential({idToken:Y,accessToken:de,rawNonce:Rn}):null}return D instanceof ne.ZR?M.credentialFromError(D):M.credentialFromResult(D)}function Do(D,m){return m.catch(b=>{throw b instanceof ne.ZR&&function Wa(D,m){var b;const M=null===(b=m.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new Hd(D,function Yo(D,m){var b;const M=(0,ne.m9)(D),Y=m;return ge(m.customData.operationType,M,"argument-error"),ge(null===(b=Y.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,M,"argument-error"),Lo._fromError(M,Y)}(D,m));else if(M){const Y=Su(m),de=m;Y&&(de.credential=Y,de.tenantId=M.tenantId||void 0,de.email=M.email||void 0,de.phoneNumber=M.phoneNumber||void 0)}}(D,b),b}).then(b=>{const Y=b.user;return{operationType:b.operationType,credential:ql(b),additionalUserInfo:tr(b),user:na.getOrCreate(Y)}})}function Yl(D,m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,y.Z)(function*(D,m){const b=yield m;return{verificationId:b.verificationId,confirm:M=>Do(D,b.confirm(M))}})).apply(this,arguments)}class Hd{constructor(m,b){this.resolver=b,this.auth=function ad(D){return D.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Do(Tc(this.auth),this.resolver.resolveSignIn(m))}}class na{constructor(m){this._delegate=m,this.multiFactor=function Rs(D){const m=(0,ne.m9)(D);return sr.has(m)||sr.set(m,Si._fromUser(m)),sr.get(m)}(m)}static getOrCreate(m){return na.USER_MAP.has(m)||na.USER_MAP.set(m,new na(m)),na.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var b=this;return(0,y.Z)(function*(){return Do(b.auth,Li(b._delegate,m))})()}linkWithPhoneNumber(m,b){var M=this;return(0,y.Z)(function*(){return Yl(M.auth,function hs(D,m,b){return $o.apply(this,arguments)}(M._delegate,m,b))})()}linkWithPopup(m){var b=this;return(0,y.Z)(function*(){return Do(b.auth,function hu(D,m,b){return el.apply(this,arguments)}(b._delegate,m,es))})()}linkWithRedirect(m){var b=this;return(0,y.Z)(function*(){return yield Qu(Jt(b.auth)),function ri(D,m,b){return function Ni(D,m,b){return Ti.apply(this,arguments)}(D,m,b)}(b._delegate,m,es)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var b=this;return(0,y.Z)(function*(){return Do(b.auth,Ri(b._delegate,m))})()}reauthenticateWithPhoneNumber(m,b){return Yl(this.auth,function dc(D,m,b){return Bl.apply(this,arguments)}(this._delegate,m,b))}reauthenticateWithPopup(m){return Do(this.auth,function Pa(D,m,b){return ks.apply(this,arguments)}(this._delegate,m,es))}reauthenticateWithRedirect(m){var b=this;return(0,y.Z)(function*(){return yield Qu(Jt(b.auth)),function St(D,m,b){return function yn(D,m,b){return $n.apply(this,arguments)}(D,m,b)}(b._delegate,m,es)})()}sendEmailVerification(m){return function C(D,m){return S.apply(this,arguments)}(this._delegate,m)}unlink(m){var b=this;return(0,y.Z)(function*(){return yield function Io(D,m){return $s.apply(this,arguments)}(b._delegate,m),b})()}updateEmail(m){return function Wt(D,m){return Zn((0,ne.m9)(D),m,null)}(this._delegate,m)}updatePassword(m){return function kn(D,m){return Zn((0,ne.m9)(D),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Ca(D,m){return po.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Ue(D,m){return bt.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,b){return function j(D,m,b){return ie.apply(this,arguments)}(this._delegate,m,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}na.USER_MAP=new WeakMap;const ia=ge;let ka=(()=>{class D{constructor(b,M){if(this.app=b,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=b.options;ia(Y,"invalid-api-key",{appName:b.name}),ia(Y,"invalid-api-key",{appName:b.name});const de="undefined"!=typeof window?es:void 0;this._delegate=M.initialize({options:{persistence:Ic(Y,b.name),popupRedirectResolver:de}}),this._delegate._updateErrorMap(it),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?na.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,M){!function Gi(D,m,b){const M=Jt(D);ge(M._canInitEmulator,M,"emulator-config-failed"),ge(/^https?:\/\//.test(m),M,"invalid-emulator-scheme");const Y=!!(null==b?void 0:b.disableWarnings),de=wr(m),{host:dt,port:Bt}=function vr(D){const m=wr(D),b=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!b)return{host:"",port:null};const M=b[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(M);if(Y){const de=Y[1];return{host:de,port:fr(M.substr(de.length+1))}}{const[de,dt]=M.split(":");return{host:de,port:fr(dt)}}}(m);M.config.emulator={url:`${de}//${dt}${null===Bt?"":`:${Bt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:dt,port:Bt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Fr(){function D(){const m=document.createElement("p"),b=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,b,M)}applyActionCode(b){return function zs(D,m){return nn.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return Fi(this._delegate,b)}confirmPasswordReset(b,M){return function us(D,m,b){return Ko.apply(this,arguments)}(this._delegate,b,M)}createUserWithEmailAndPassword(b,M){var Y=this;return(0,y.Z)(function*(){return Do(Y._delegate,function oa(D,m,b){return lo.apply(this,arguments)}(Y._delegate,b,M))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function va(D,m){return ee.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function Ba(D,m){const b=or.parseLink(m);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}(0,b)}getRedirectResult(){var b=this;return(0,y.Z)(function*(){ia(Il(),b._delegate,"operation-not-supported-in-this-environment");const M=yield function Oi(D,m){return ro.apply(this,arguments)}(b._delegate,es);return M?Do(b._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function jd(D,m){Jt(D)._logFramework(m)}(this._delegate,b)}onAuthStateChanged(b,M,Y){const{next:de,error:dt,complete:Bt}=xu(b,M,Y);return this._delegate.onAuthStateChanged(de,dt,Bt)}onIdTokenChanged(b,M,Y){const{next:de,error:dt,complete:Bt}=xu(b,M,Y);return this._delegate.onIdTokenChanged(de,dt,Bt)}sendSignInLinkToEmail(b,M){return function Qa(D,m,b){return aa.apply(this,arguments)}(this._delegate,b,M)}sendPasswordResetEmail(b,M){return function Un(D,m,b){return zi.apply(this,arguments)}(this._delegate,b,M||void 0)}setPersistence(b){var M=this;return(0,y.Z)(function*(){let Y;switch(function yh(D,m){Tu(Object.values(pa).includes(m),D,"invalid-persistence-type"),(0,ne.b$)()?Tu(m!==pa.SESSION,D,"unsupported-persistence-type"):(0,ne.UG)()?Tu(m===pa.NONE,D,"unsupported-persistence-type"):al()?Tu(m===pa.NONE||m===pa.LOCAL&&(0,ne.hl)(),D,"unsupported-persistence-type"):Tu(m===pa.NONE||mo(),D,"unsupported-persistence-type")}(M._delegate,b),b){case pa.SESSION:Y=Ns;break;case pa.LOCAL:Y=(yield yt(Eo)._isAvailable())?Eo:Qr;break;case pa.NONE:Y=Ke;break;default:return pt("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Do(this._delegate,function er(D){return js.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Do(this._delegate,En(this._delegate,b))}signInWithCustomToken(b){return Do(this._delegate,function W(D,m){return H.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,M){return Do(this._delegate,function _a(D,m,b){return En((0,ne.m9)(D),Ur.credential(m,b))}(this._delegate,b,M))}signInWithEmailLink(b,M){return Do(this._delegate,function Zo(D,m,b){return Ds.apply(this,arguments)}(this._delegate,b,M))}signInWithPhoneNumber(b,M){return Yl(this._delegate,function Rd(D,m,b){return br.apply(this,arguments)}(this._delegate,b,M))}signInWithPopup(b){var M=this;return(0,y.Z)(function*(){return ia(Il(),M._delegate,"operation-not-supported-in-this-environment"),Do(M._delegate,function Ja(D,m,b){return Xa.apply(this,arguments)}(M._delegate,b,es))})()}signInWithRedirect(b){var M=this;return(0,y.Z)(function*(){return ia(Il(),M._delegate,"operation-not-supported-in-this-environment"),yield Qu(M._delegate),function re(D,m,b){return function Ae(D,m,b){return mt.apply(this,arguments)}(D,m,b)}(M._delegate,b,es)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function Sr(D,m){return vo.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=pa,D})();function xu(D,m,b){let M=D;"function"!=typeof D&&({next:M,error:m,complete:b}=D);const Y=M;return{next:dt=>Y(dt&&na.getOrCreate(dt)),error:m,complete:b}}function Ic(D,m){const b=function Au(D,m){const b=Cc();if(!b)return[];const M=At(Iu,D,m);switch(b.getItem(M)){case pa.NONE:return[Ke];case pa.LOCAL:return[Eo,Ns];case pa.SESSION:return[Ns];default:return[]}}(D,m);if("undefined"!=typeof self&&!b.includes(Eo)&&b.push(Eo),"undefined"!=typeof window)for(const M of[Qr,Ns])b.includes(M)||b.push(M);return b.includes(Ke)||b.push(Ke),b}class ld{constructor(){this.providerId="phone",this._delegate=new So(Tc(R.Z.auth()))}static credential(m,b){return So.credential(m,b)}verifyPhoneNumber(m,b){return this._delegate.verifyPhoneNumber(m,b)}unwrap(){return this._delegate}}ld.PHONE_SIGN_IN_METHOD=So.PHONE_SIGN_IN_METHOD,ld.PROVIDER_ID=So.PROVIDER_ID;const $d=ge;class zd{constructor(m,b,M=R.Z.app()){var Y;$d(null===(Y=M.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new ml(m,b,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gd(D){D.INTERNAL.registerComponent(new Re.wA("auth-compat",m=>{const b=m.getProvider("app-compat").getImmediate(),M=m.getProvider("auth");return new ka(b,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ur,FacebookAuthProvider:eo,GithubAuthProvider:_o,GoogleAuthProvider:Ps,OAuthProvider:Bs,SAMLAuthProvider:ws,PhoneAuthProvider:ld,PhoneMultiFactorGenerator:Fd,RecaptchaVerifier:zd,TwitterAuthProvider:to,Auth:ka,AuthCredential:Mi,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.2.12")}(R.Z)},1135:(an,tt,N)=>{N.d(tt,{X:()=>R});var y=N(7579);class R extends y.x{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const we=super._subscribe(me);return!we.closed&&me.next(this._value),we}getValue(){const{hasError:me,thrownError:we,_value:ve}=this;if(me)throw we;return this._throwIfClosed(),ve}next(me){super.next(this._value=me)}}},8306:(an,tt,N)=>{N.d(tt,{y:()=>ce});var y=N(930),R=N(727),ne=N(8822),me=N(4671);var Re=N(2416),Ce=N(576),Te=N(2806);let ce=(()=>{class at{constructor(Lt){Lt&&(this._subscribe=Lt)}lift(Lt){const Xe=new at;return Xe.source=this,Xe.operator=Lt,Xe}subscribe(Lt,Xe,st){const Oe=function vt(at){return at&&at instanceof y.Lv||function be(at){return at&&(0,Ce.m)(at.next)&&(0,Ce.m)(at.error)&&(0,Ce.m)(at.complete)}(at)&&(0,R.Nn)(at)}(Lt)?Lt:new y.Hp(Lt,Xe,st);return(0,Te.x)(()=>{const{operator:on,source:pt}=this;Oe.add(on?on.call(Oe,pt):pt?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Lt){try{return this._subscribe(Lt)}catch(Xe){Lt.error(Xe)}}forEach(Lt,Xe){return new(Xe=fe(Xe))((st,Oe)=>{const on=new y.Hp({next:pt=>{try{Lt(pt)}catch(Le){Oe(Le),on.unsubscribe()}},error:Oe,complete:st});this.subscribe(on)})}_subscribe(Lt){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Lt)}[ne.L](){return this}pipe(...Lt){return function ve(at){return 0===at.length?me.y:1===at.length?at[0]:function(Lt){return at.reduce((Xe,st)=>st(Xe),Lt)}}(Lt)(this)}toPromise(Lt){return new(Lt=fe(Lt))((Xe,st)=>{let Oe;this.subscribe(on=>Oe=on,on=>st(on),()=>Xe(Oe))})}}return at.create=it=>new at(it),at})();function fe(at){var it;return null!==(it=null!=at?at:Re.v.Promise)&&void 0!==it?it:Promise}},7579:(an,tt,N)=>{N.d(tt,{x:()=>Re});var y=N(8306),R=N(727);const me=(0,N(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=N(8737),ve=N(2806);let Re=(()=>{class Te extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const be=new Ce(this,this);return be.operator=fe,be}_throwIfClosed(){if(this.closed)throw new me}next(fe){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(fe)}})}error(fe){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:be}=this;for(;be.length;)be.shift().error(fe)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:be,isStopped:vt,observers:at}=this;return be||vt?R.Lc:(this.currentObservers=null,at.push(fe),new R.w0(()=>{this.currentObservers=null,(0,we.P)(at,fe)}))}_checkFinalizedStatuses(fe){const{hasError:be,thrownError:vt,isStopped:at}=this;be?fe.error(vt):at&&fe.complete()}asObservable(){const fe=new y.y;return fe.source=this,fe}}return Te.create=(ce,fe)=>new Ce(ce,fe),Te})();class Ce extends Re{constructor(ce,fe){super(),this.destination=ce,this.source=fe}next(ce){var fe,be;null===(be=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===be||be.call(fe,ce)}error(ce){var fe,be;null===(be=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===be||be.call(fe,ce)}complete(){var ce,fe;null===(fe=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===fe||fe.call(ce)}_subscribe(ce){var fe,be;return null!==(be=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ce))&&void 0!==be?be:R.Lc}}},930:(an,tt,N)=>{N.d(tt,{Hp:()=>Lt,Lv:()=>be});var y=N(576),R=N(727),ne=N(2416),me=N(7849),we=N(5032);const ve=Te("C",void 0,void 0);function Te(pt,Le,ke){return{kind:pt,value:Le,error:ke}}var ce=N(3410),fe=N(2806);class be extends R.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,R.Nn)(Le)&&Le.add(this)):this.destination=on}static create(Le,ke,Et){return new Lt(Le,ke,Et)}next(Le){this.isStopped?Oe(function Ce(pt){return Te("N",pt,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Oe(function Re(pt){return Te("E",void 0,pt)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Oe(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vt=Function.prototype.bind;function at(pt,Le){return vt.call(pt,Le)}class it{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Le)}catch(Et){Xe(Et)}}error(Le){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Le)}catch(Et){Xe(Et)}else Xe(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(ke){Xe(ke)}}}class Lt extends be{constructor(Le,ke,Et){let ot;if(super(),(0,y.m)(Le)||!Le)ot={next:null!=Le?Le:void 0,error:null!=ke?ke:void 0,complete:null!=Et?Et:void 0};else{let ge;this&&ne.v.useDeprecatedNextContext?(ge=Object.create(Le),ge.unsubscribe=()=>this.unsubscribe(),ot={next:Le.next&&at(Le.next,ge),error:Le.error&&at(Le.error,ge),complete:Le.complete&&at(Le.complete,ge)}):ot=Le}this.destination=new it(ot)}}function Xe(pt){ne.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(pt):(0,me.h)(pt)}function Oe(pt,Le){const{onStoppedNotification:ke}=ne.v;ke&&ce.z.setTimeout(()=>ke(pt,Le))}const on={closed:!0,next:we.Z,error:function st(pt){throw pt},complete:we.Z}},727:(an,tt,N)=>{N.d(tt,{Lc:()=>ve,w0:()=>we,Nn:()=>Re});var y=N(576);const ne=(0,N(3888).d)(Te=>function(fe){Te(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((be,vt)=>`${vt+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var me=N(8737);class we{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const at of fe)at.remove(this);else fe.remove(this);const{initialTeardown:be}=this;if((0,y.m)(be))try{be()}catch(at){ce=at instanceof ne?at.errors:[at]}const{_finalizers:vt}=this;if(vt){this._finalizers=null;for(const at of vt)try{Ce(at)}catch(it){ce=null!=ce?ce:[],it instanceof ne?ce=[...ce,...it.errors]:ce.push(it)}}if(ce)throw new ne(ce)}}add(ce){var fe;if(ce&&ce!==this)if(this.closed)Ce(ce);else{if(ce instanceof we){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(ce)}}_hasParent(ce){const{_parentage:fe}=this;return fe===ce||Array.isArray(fe)&&fe.includes(ce)}_addParent(ce){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(ce),fe):fe?[fe,ce]:ce}_removeParent(ce){const{_parentage:fe}=this;fe===ce?this._parentage=null:Array.isArray(fe)&&(0,me.P)(fe,ce)}remove(ce){const{_finalizers:fe}=this;fe&&(0,me.P)(fe,ce),ce instanceof we&&ce._removeParent(this)}}we.EMPTY=(()=>{const Te=new we;return Te.closed=!0,Te})();const ve=we.EMPTY;function Re(Te){return Te instanceof we||Te&&"closed"in Te&&(0,y.m)(Te.remove)&&(0,y.m)(Te.add)&&(0,y.m)(Te.unsubscribe)}function Ce(Te){(0,y.m)(Te)?Te():Te.unsubscribe()}},2416:(an,tt,N)=>{N.d(tt,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(an,tt,N)=>{N.d(tt,{a:()=>ce});var y=N(8306),R=N(4742),ne=N(8996),me=N(4671),we=N(3268),ve=N(3269),Re=N(1810),Ce=N(5403),Te=N(9672);function ce(...vt){const at=(0,ve.yG)(vt),it=(0,ve.jO)(vt),{args:Lt,keys:Xe}=(0,R.D)(vt);if(0===Lt.length)return(0,ne.D)([],at);const st=new y.y(function fe(vt,at,it=me.y){return Lt=>{be(at,()=>{const{length:Xe}=vt,st=new Array(Xe);let Oe=Xe,on=Xe;for(let pt=0;pt<Xe;pt++)be(at,()=>{const Le=(0,ne.D)(vt[pt],at);let ke=!1;Le.subscribe((0,Ce.x)(Lt,Et=>{st[pt]=Et,ke||(ke=!0,on--),on||Lt.next(it(st.slice()))},()=>{--Oe||Lt.complete()}))},Lt)},Lt)}}(Lt,at,Xe?Oe=>(0,Re.n)(Xe,Oe):me.y));return it?st.pipe((0,we.Z)(it)):st}function be(vt,at,it){vt?(0,Te.f)(it,vt,at):at()}},7272:(an,tt,N)=>{N.d(tt,{z:()=>we});var y=N(8189),ne=N(3269),me=N(8996);function we(...ve){return function R(){return(0,y.J)(1)}()((0,me.D)(ve,(0,ne.yG)(ve)))}},9770:(an,tt,N)=>{N.d(tt,{P:()=>ne});var y=N(8306),R=N(8421);function ne(me){return new y.y(we=>{(0,R.Xf)(me()).subscribe(we)})}},515:(an,tt,N)=>{N.d(tt,{E:()=>R});const R=new(N(8306).y)(we=>we.complete())},4128:(an,tt,N)=>{N.d(tt,{D:()=>Ce});var y=N(8306),R=N(4742),ne=N(8421),me=N(3269),we=N(5403),ve=N(3268),Re=N(1810);function Ce(...Te){const ce=(0,me.jO)(Te),{args:fe,keys:be}=(0,R.D)(Te),vt=new y.y(at=>{const{length:it}=fe;if(!it)return void at.complete();const Lt=new Array(it);let Xe=it,st=it;for(let Oe=0;Oe<it;Oe++){let on=!1;(0,ne.Xf)(fe[Oe]).subscribe((0,we.x)(at,pt=>{on||(on=!0,st--),Lt[Oe]=pt},()=>Xe--,void 0,()=>{(!Xe||!on)&&(st||at.next(be?(0,Re.n)(be,Lt):Lt),at.complete())}))}});return ce?vt.pipe((0,ve.Z)(ce)):vt}},8996:(an,tt,N)=>{N.d(tt,{D:()=>Le});var y=N(8421),R=N(5363),ne=N(9468),ve=N(8306),Ce=N(2202),Te=N(576),ce=N(9672);function be(ke,Et){if(!ke)throw new Error("Iterable cannot be null");return new ve.y(ot=>{(0,ce.f)(ot,Et,()=>{const ge=ke[Symbol.asyncIterator]();(0,ce.f)(ot,Et,()=>{ge.next().then(Ve=>{Ve.done?ot.complete():ot.next(Ve.value)})},0,!0)})})}var vt=N(3670),at=N(8239),it=N(1144),Lt=N(6495),Xe=N(2206),st=N(4532),Oe=N(3260);function Le(ke,Et){return Et?function pt(ke,Et){if(null!=ke){if((0,vt.c)(ke))return function me(ke,Et){return(0,y.Xf)(ke).pipe((0,ne.R)(Et),(0,R.Q)(Et))}(ke,Et);if((0,it.z)(ke))return function Re(ke,Et){return new ve.y(ot=>{let ge=0;return Et.schedule(function(){ge===ke.length?ot.complete():(ot.next(ke[ge++]),ot.closed||this.schedule())})})}(ke,Et);if((0,at.t)(ke))return function we(ke,Et){return(0,y.Xf)(ke).pipe((0,ne.R)(Et),(0,R.Q)(Et))}(ke,Et);if((0,Xe.D)(ke))return be(ke,Et);if((0,Lt.T)(ke))return function fe(ke,Et){return new ve.y(ot=>{let ge;return(0,ce.f)(ot,Et,()=>{ge=ke[Ce.h](),(0,ce.f)(ot,Et,()=>{let Ve,ze;try{({value:Ve,done:ze}=ge.next())}catch(ht){return void ot.error(ht)}ze?ot.complete():ot.next(Ve)},0,!0)}),()=>(0,Te.m)(null==ge?void 0:ge.return)&&ge.return()})}(ke,Et);if((0,Oe.L)(ke))return function on(ke,Et){return be((0,Oe.Q)(ke),Et)}(ke,Et)}throw(0,st.z)(ke)}(ke,Et):(0,y.Xf)(ke)}},8421:(an,tt,N)=>{N.d(tt,{Xf:()=>vt});var y=N(655),R=N(1144),ne=N(8239),me=N(8306),we=N(3670),ve=N(2206),Re=N(4532),Ce=N(6495),Te=N(3260),ce=N(576),fe=N(7849),be=N(8822);function vt(pt){if(pt instanceof me.y)return pt;if(null!=pt){if((0,we.c)(pt))return function at(pt){return new me.y(Le=>{const ke=pt[be.L]();if((0,ce.m)(ke.subscribe))return ke.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pt);if((0,R.z)(pt))return function it(pt){return new me.y(Le=>{for(let ke=0;ke<pt.length&&!Le.closed;ke++)Le.next(pt[ke]);Le.complete()})}(pt);if((0,ne.t)(pt))return function Lt(pt){return new me.y(Le=>{pt.then(ke=>{Le.closed||(Le.next(ke),Le.complete())},ke=>Le.error(ke)).then(null,fe.h)})}(pt);if((0,ve.D)(pt))return st(pt);if((0,Ce.T)(pt))return function Xe(pt){return new me.y(Le=>{for(const ke of pt)if(Le.next(ke),Le.closed)return;Le.complete()})}(pt);if((0,Te.L)(pt))return function Oe(pt){return st((0,Te.Q)(pt))}(pt)}throw(0,Re.z)(pt)}function st(pt){return new me.y(Le=>{(function on(pt,Le){var ke,Et,ot,ge;return(0,y.mG)(this,void 0,void 0,function*(){try{for(ke=(0,y.KL)(pt);!(Et=yield ke.next()).done;)if(Le.next(Et.value),Le.closed)return}catch(Ve){ot={error:Ve}}finally{try{Et&&!Et.done&&(ge=ke.return)&&(yield ge.call(ke))}finally{if(ot)throw ot.error}}Le.complete()})})(pt,Le).catch(ke=>Le.error(ke))})}},6451:(an,tt,N)=>{N.d(tt,{T:()=>ve});var y=N(8189),R=N(8421),ne=N(515),me=N(3269),we=N(8996);function ve(...Re){const Ce=(0,me.yG)(Re),Te=(0,me._6)(Re,1/0),ce=Re;return ce.length?1===ce.length?(0,R.Xf)(ce[0]):(0,y.J)(Te)((0,we.D)(ce,Ce)):ne.E}},9646:(an,tt,N)=>{N.d(tt,{of:()=>ne});var y=N(3269),R=N(8996);function ne(...me){const we=(0,y.yG)(me);return(0,R.D)(me,we)}},2843:(an,tt,N)=>{N.d(tt,{_:()=>ne});var y=N(8306),R=N(576);function ne(me,we){const ve=(0,R.m)(me)?me:()=>me,Re=Ce=>Ce.error(ve());return new y.y(we?Ce=>we.schedule(Re,0,Ce):Re)}},5403:(an,tt,N)=>{N.d(tt,{x:()=>R});var y=N(930);function R(me,we,ve,Re,Ce){return new ne(me,we,ve,Re,Ce)}class ne extends y.Lv{constructor(we,ve,Re,Ce,Te,ce){super(we),this.onFinalize=Te,this.shouldUnsubscribe=ce,this._next=ve?function(fe){try{ve(fe)}catch(be){we.error(be)}}:super._next,this._error=Ce?function(fe){try{Ce(fe)}catch(be){we.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(fe){we.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},262:(an,tt,N)=>{N.d(tt,{K:()=>me});var y=N(8421),R=N(5403),ne=N(4482);function me(we){return(0,ne.e)((ve,Re)=>{let ce,Ce=null,Te=!1;Ce=ve.subscribe((0,R.x)(Re,void 0,void 0,fe=>{ce=(0,y.Xf)(we(fe,me(we)(ve))),Ce?(Ce.unsubscribe(),Ce=null,ce.subscribe(Re)):Te=!0})),Te&&(Ce.unsubscribe(),Ce=null,ce.subscribe(Re))})}},4351:(an,tt,N)=>{N.d(tt,{b:()=>ne});var y=N(5577),R=N(576);function ne(me,we){return(0,R.m)(we)?(0,y.z)(me,we,1):(0,y.z)(me,1)}},6590:(an,tt,N)=>{N.d(tt,{d:()=>ne});var y=N(4482),R=N(5403);function ne(me){return(0,y.e)((we,ve)=>{let Re=!1;we.subscribe((0,R.x)(ve,Ce=>{Re=!0,ve.next(Ce)},()=>{Re||ve.next(me),ve.complete()}))})}},1884:(an,tt,N)=>{N.d(tt,{x:()=>me});var y=N(4671),R=N(4482),ne=N(5403);function me(ve,Re=y.y){return ve=null!=ve?ve:we,(0,R.e)((Ce,Te)=>{let ce,fe=!0;Ce.subscribe((0,ne.x)(Te,be=>{const vt=Re(be);(fe||!ve(ce,vt))&&(fe=!1,ce=vt,Te.next(be))}))})}function we(ve,Re){return ve===Re}},9300:(an,tt,N)=>{N.d(tt,{h:()=>ne});var y=N(4482),R=N(5403);function ne(me,we){return(0,y.e)((ve,Re)=>{let Ce=0;ve.subscribe((0,R.x)(Re,Te=>me.call(we,Te,Ce++)&&Re.next(Te)))})}},8746:(an,tt,N)=>{N.d(tt,{x:()=>R});var y=N(4482);function R(ne){return(0,y.e)((me,we)=>{try{me.subscribe(we)}finally{we.add(ne)}})}},590:(an,tt,N)=>{N.d(tt,{P:()=>Re});var y=N(6805),R=N(9300),ne=N(5698),me=N(6590),we=N(8068),ve=N(4671);function Re(Ce,Te){const ce=arguments.length>=2;return fe=>fe.pipe(Ce?(0,R.h)((be,vt)=>Ce(be,vt,fe)):ve.y,(0,ne.q)(1),ce?(0,me.d)(Te):(0,we.T)(()=>new y.K))}},4004:(an,tt,N)=>{N.d(tt,{U:()=>ne});var y=N(4482),R=N(5403);function ne(me,we){return(0,y.e)((ve,Re)=>{let Ce=0;ve.subscribe((0,R.x)(Re,Te=>{Re.next(me.call(we,Te,Ce++))}))})}},8189:(an,tt,N)=>{N.d(tt,{J:()=>ne});var y=N(5577),R=N(4671);function ne(me=1/0){return(0,y.z)(R.y,me)}},5577:(an,tt,N)=>{N.d(tt,{z:()=>Ce});var y=N(4004),R=N(8421),ne=N(4482),me=N(9672),we=N(5403),Re=N(576);function Ce(Te,ce,fe=1/0){return(0,Re.m)(ce)?Ce((be,vt)=>(0,y.U)((at,it)=>ce(be,at,vt,it))((0,R.Xf)(Te(be,vt))),fe):("number"==typeof ce&&(fe=ce),(0,ne.e)((be,vt)=>function ve(Te,ce,fe,be,vt,at,it,Lt){const Xe=[];let st=0,Oe=0,on=!1;const pt=()=>{on&&!Xe.length&&!st&&ce.complete()},Le=Et=>st<be?ke(Et):Xe.push(Et),ke=Et=>{at&&ce.next(Et),st++;let ot=!1;(0,R.Xf)(fe(Et,Oe++)).subscribe((0,we.x)(ce,ge=>{null==vt||vt(ge),at?Le(ge):ce.next(ge)},()=>{ot=!0},void 0,()=>{if(ot)try{for(st--;Xe.length&&st<be;){const ge=Xe.shift();it?(0,me.f)(ce,it,()=>ke(ge)):ke(ge)}pt()}catch(ge){ce.error(ge)}}))};return Te.subscribe((0,we.x)(ce,Le,()=>{on=!0,pt()})),()=>{null==Lt||Lt()}}(be,vt,Te,fe)))}},5363:(an,tt,N)=>{N.d(tt,{Q:()=>me});var y=N(9672),R=N(4482),ne=N(5403);function me(we,ve=0){return(0,R.e)((Re,Ce)=>{Re.subscribe((0,ne.x)(Ce,Te=>(0,y.f)(Ce,we,()=>Ce.next(Te),ve),()=>(0,y.f)(Ce,we,()=>Ce.complete(),ve),Te=>(0,y.f)(Ce,we,()=>Ce.error(Te),ve)))})}},5026:(an,tt,N)=>{N.d(tt,{R:()=>me});var y=N(4482),R=N(5403);function ne(we,ve,Re,Ce,Te){return(ce,fe)=>{let be=Re,vt=ve,at=0;ce.subscribe((0,R.x)(fe,it=>{const Lt=at++;vt=be?we(vt,it,Lt):(be=!0,it),Ce&&fe.next(vt)},Te&&(()=>{be&&fe.next(vt),fe.complete()})))}}function me(we,ve){return(0,y.e)(ne(we,ve,arguments.length>=2,!0))}},3099:(an,tt,N)=>{N.d(tt,{B:()=>ve});var y=N(8996),R=N(5698),ne=N(7579),me=N(930),we=N(4482);function ve(Ce={}){const{connector:Te=(()=>new ne.x),resetOnError:ce=!0,resetOnComplete:fe=!0,resetOnRefCountZero:be=!0}=Ce;return vt=>{let at=null,it=null,Lt=null,Xe=0,st=!1,Oe=!1;const on=()=>{null==it||it.unsubscribe(),it=null},pt=()=>{on(),at=Lt=null,st=Oe=!1},Le=()=>{const ke=at;pt(),null==ke||ke.unsubscribe()};return(0,we.e)((ke,Et)=>{Xe++,!Oe&&!st&&on();const ot=Lt=null!=Lt?Lt:Te();Et.add(()=>{Xe--,0===Xe&&!Oe&&!st&&(it=Re(Le,be))}),ot.subscribe(Et),at||(at=new me.Hp({next:ge=>ot.next(ge),error:ge=>{Oe=!0,on(),it=Re(pt,ce,ge),ot.error(ge)},complete:()=>{st=!0,on(),it=Re(pt,fe),ot.complete()}}),(0,y.D)(ke).subscribe(at))})(vt)}}function Re(Ce,Te,...ce){return!0===Te?(Ce(),null):!1===Te?null:Te(...ce).pipe((0,R.q)(1)).subscribe(()=>Ce())}},3151:(an,tt,N)=>{N.d(tt,{d:()=>we});var y=N(7579),R=N(6063);class ne extends y.x{constructor(Re=1/0,Ce=1/0,Te=R.l){super(),this._bufferSize=Re,this._windowTime=Ce,this._timestampProvider=Te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,Re),this._windowTime=Math.max(1,Ce)}next(Re){const{isStopped:Ce,_buffer:Te,_infiniteTimeWindow:ce,_timestampProvider:fe,_windowTime:be}=this;Ce||(Te.push(Re),!ce&&Te.push(fe.now()+be)),this._trimBuffer(),super.next(Re)}_subscribe(Re){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(Re),{_infiniteTimeWindow:Te,_buffer:ce}=this,fe=ce.slice();for(let be=0;be<fe.length&&!Re.closed;be+=Te?1:2)Re.next(fe[be]);return this._checkFinalizedStatuses(Re),Ce}_trimBuffer(){const{_bufferSize:Re,_timestampProvider:Ce,_buffer:Te,_infiniteTimeWindow:ce}=this,fe=(ce?1:2)*Re;if(Re<1/0&&fe<Te.length&&Te.splice(0,Te.length-fe),!ce){const be=Ce.now();let vt=0;for(let at=1;at<Te.length&&Te[at]<=be;at+=2)vt=at;vt&&Te.splice(0,vt+1)}}}var me=N(3099);function we(ve,Re,Ce){let Te,ce=!1;return ve&&"object"==typeof ve?({bufferSize:Te=1/0,windowTime:Re=1/0,refCount:ce=!1,scheduler:Ce}=ve):Te=null!=ve?ve:1/0,(0,me.B)({connector:()=>new ne(Te,Re,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ce})}},8675:(an,tt,N)=>{N.d(tt,{O:()=>me});var y=N(7272),R=N(3269),ne=N(4482);function me(...we){const ve=(0,R.yG)(we);return(0,ne.e)((Re,Ce)=>{(ve?(0,y.z)(we,Re,ve):(0,y.z)(we,Re)).subscribe(Ce)})}},9468:(an,tt,N)=>{N.d(tt,{R:()=>R});var y=N(4482);function R(ne,me=0){return(0,y.e)((we,ve)=>{ve.add(ne.schedule(()=>we.subscribe(ve),me))})}},3900:(an,tt,N)=>{N.d(tt,{w:()=>me});var y=N(8421),R=N(4482),ne=N(5403);function me(we,ve){return(0,R.e)((Re,Ce)=>{let Te=null,ce=0,fe=!1;const be=()=>fe&&!Te&&Ce.complete();Re.subscribe((0,ne.x)(Ce,vt=>{null==Te||Te.unsubscribe();let at=0;const it=ce++;(0,y.Xf)(we(vt,it)).subscribe(Te=(0,ne.x)(Ce,Lt=>Ce.next(ve?ve(vt,Lt,it,at++):Lt),()=>{Te=null,be()}))},()=>{fe=!0,be()}))})}},5698:(an,tt,N)=>{N.d(tt,{q:()=>me});var y=N(515),R=N(4482),ne=N(5403);function me(we){return we<=0?()=>y.E:(0,R.e)((ve,Re)=>{let Ce=0;ve.subscribe((0,ne.x)(Re,Te=>{++Ce<=we&&(Re.next(Te),we<=Ce&&Re.complete())}))})}},2722:(an,tt,N)=>{N.d(tt,{R:()=>we});var y=N(4482),R=N(5403),ne=N(8421),me=N(5032);function we(ve){return(0,y.e)((Re,Ce)=>{(0,ne.Xf)(ve).subscribe((0,R.x)(Ce,()=>Ce.complete(),me.Z)),!Ce.closed&&Re.subscribe(Ce)})}},8505:(an,tt,N)=>{N.d(tt,{b:()=>we});var y=N(576),R=N(4482),ne=N(5403),me=N(4671);function we(ve,Re,Ce){const Te=(0,y.m)(ve)||Re||Ce?{next:ve,error:Re,complete:Ce}:ve;return Te?(0,R.e)((ce,fe)=>{var be;null===(be=Te.subscribe)||void 0===be||be.call(Te);let vt=!0;ce.subscribe((0,ne.x)(fe,at=>{var it;null===(it=Te.next)||void 0===it||it.call(Te,at),fe.next(at)},()=>{var at;vt=!1,null===(at=Te.complete)||void 0===at||at.call(Te),fe.complete()},at=>{var it;vt=!1,null===(it=Te.error)||void 0===it||it.call(Te,at),fe.error(at)},()=>{var at,it;vt&&(null===(at=Te.unsubscribe)||void 0===at||at.call(Te)),null===(it=Te.finalize)||void 0===it||it.call(Te)}))}):me.y}},8068:(an,tt,N)=>{N.d(tt,{T:()=>me});var y=N(6805),R=N(4482),ne=N(5403);function me(ve=we){return(0,R.e)((Re,Ce)=>{let Te=!1;Re.subscribe((0,ne.x)(Ce,ce=>{Te=!0,Ce.next(ce)},()=>Te?Ce.complete():Ce.error(ve())))})}function we(){return new y.K}},4408:(an,tt,N)=>{N.d(tt,{o:()=>we});var y=N(727);class R extends y.w0{constructor(Re,Ce){super()}schedule(Re,Ce=0){return this}}const ne={setInterval(ve,Re,...Ce){const{delegate:Te}=ne;return(null==Te?void 0:Te.setInterval)?Te.setInterval(ve,Re,...Ce):setInterval(ve,Re,...Ce)},clearInterval(ve){const{delegate:Re}=ne;return((null==Re?void 0:Re.clearInterval)||clearInterval)(ve)},delegate:void 0};var me=N(8737);class we extends R{constructor(Re,Ce){super(Re,Ce),this.scheduler=Re,this.work=Ce,this.pending=!1}schedule(Re,Ce=0){if(this.closed)return this;this.state=Re;const Te=this.id,ce=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(ce,Te,Ce)),this.pending=!0,this.delay=Ce,this.id=this.id||this.requestAsyncId(ce,this.id,Ce),this}requestAsyncId(Re,Ce,Te=0){return ne.setInterval(Re.flush.bind(Re,this),Te)}recycleAsyncId(Re,Ce,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Ce;ne.clearInterval(Ce)}execute(Re,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(Re,Ce);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,Ce){let ce,Te=!1;try{this.work(Re)}catch(fe){Te=!0,ce=fe||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Re,scheduler:Ce}=this,{actions:Te}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Te,this),null!=Re&&(this.id=this.recycleAsyncId(Ce,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(an,tt,N)=>{N.d(tt,{v:()=>ne});var y=N(6063);class R{constructor(we,ve=R.now){this.schedulerActionCtor=we,this.now=ve}schedule(we,ve=0,Re){return new this.schedulerActionCtor(this,we).schedule(Re,ve)}}R.now=y.l.now;class ne extends R{constructor(we,ve=R.now){super(we,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(we){const{actions:ve}=this;if(this._active)return void ve.push(we);let Re;this._active=!0;do{if(Re=we.execute(we.state,we.delay))break}while(we=ve.shift());if(this._active=!1,Re){for(;we=ve.shift();)we.unsubscribe();throw Re}}}},4986:(an,tt,N)=>{N.d(tt,{P:()=>me,z:()=>ne});var y=N(4408);const ne=new(N(7565).v)(y.o),me=ne},6063:(an,tt,N)=>{N.d(tt,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(an,tt,N)=>{N.d(tt,{z:()=>y});const y={setTimeout(R,ne,...me){const{delegate:we}=y;return(null==we?void 0:we.setTimeout)?we.setTimeout(R,ne,...me):setTimeout(R,ne,...me)},clearTimeout(R){const{delegate:ne}=y;return((null==ne?void 0:ne.clearTimeout)||clearTimeout)(R)},delegate:void 0}},2202:(an,tt,N)=>{N.d(tt,{h:()=>R});const R=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(an,tt,N)=>{N.d(tt,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(an,tt,N)=>{N.d(tt,{K:()=>R});const R=(0,N(3888).d)(ne=>function(){ne(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(an,tt,N)=>{N.d(tt,{_6:()=>ve,jO:()=>me,yG:()=>we});var y=N(576),R=N(3532);function ne(Re){return Re[Re.length-1]}function me(Re){return(0,y.m)(ne(Re))?Re.pop():void 0}function we(Re){return(0,R.K)(ne(Re))?Re.pop():void 0}function ve(Re,Ce){return"number"==typeof ne(Re)?Re.pop():Ce}},4742:(an,tt,N)=>{N.d(tt,{D:()=>we});const{isArray:y}=Array,{getPrototypeOf:R,prototype:ne,keys:me}=Object;function we(Re){if(1===Re.length){const Ce=Re[0];if(y(Ce))return{args:Ce,keys:null};if(function ve(Re){return Re&&"object"==typeof Re&&R(Re)===ne}(Ce)){const Te=me(Ce);return{args:Te.map(ce=>Ce[ce]),keys:Te}}}return{args:Re,keys:null}}},8737:(an,tt,N)=>{function y(R,ne){if(R){const me=R.indexOf(ne);0<=me&&R.splice(me,1)}}N.d(tt,{P:()=>y})},3888:(an,tt,N)=>{function y(R){const me=R(we=>{Error.call(we),we.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}N.d(tt,{d:()=>y})},1810:(an,tt,N)=>{function y(R,ne){return R.reduce((me,we,ve)=>(me[we]=ne[ve],me),{})}N.d(tt,{n:()=>y})},2806:(an,tt,N)=>{N.d(tt,{O:()=>me,x:()=>ne});var y=N(2416);let R=null;function ne(we){if(y.v.useDeprecatedSynchronousErrorHandling){const ve=!R;if(ve&&(R={errorThrown:!1,error:null}),we(),ve){const{errorThrown:Re,error:Ce}=R;if(R=null,Re)throw Ce}}else we()}function me(we){y.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=we)}},9672:(an,tt,N)=>{function y(R,ne,me,we=0,ve=!1){const Re=ne.schedule(function(){me(),ve?R.add(this.schedule(null,we)):this.unsubscribe()},we);if(R.add(Re),!ve)return Re}N.d(tt,{f:()=>y})},4671:(an,tt,N)=>{function y(R){return R}N.d(tt,{y:()=>y})},1144:(an,tt,N)=>{N.d(tt,{z:()=>y});const y=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(an,tt,N)=>{N.d(tt,{D:()=>R});var y=N(576);function R(ne){return Symbol.asyncIterator&&(0,y.m)(null==ne?void 0:ne[Symbol.asyncIterator])}},576:(an,tt,N)=>{function y(R){return"function"==typeof R}N.d(tt,{m:()=>y})},3670:(an,tt,N)=>{N.d(tt,{c:()=>ne});var y=N(8822),R=N(576);function ne(me){return(0,R.m)(me[y.L])}},6495:(an,tt,N)=>{N.d(tt,{T:()=>ne});var y=N(2202),R=N(576);function ne(me){return(0,R.m)(null==me?void 0:me[y.h])}},5191:(an,tt,N)=>{N.d(tt,{b:()=>ne});var y=N(8306),R=N(576);function ne(me){return!!me&&(me instanceof y.y||(0,R.m)(me.lift)&&(0,R.m)(me.subscribe))}},8239:(an,tt,N)=>{N.d(tt,{t:()=>R});var y=N(576);function R(ne){return(0,y.m)(null==ne?void 0:ne.then)}},3260:(an,tt,N)=>{N.d(tt,{L:()=>me,Q:()=>ne});var y=N(655),R=N(576);function ne(we){return(0,y.FC)(this,arguments,function*(){const Re=we.getReader();try{for(;;){const{value:Ce,done:Te}=yield(0,y.qq)(Re.read());if(Te)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ce)}}finally{Re.releaseLock()}})}function me(we){return(0,R.m)(null==we?void 0:we.getReader)}},3532:(an,tt,N)=>{N.d(tt,{K:()=>R});var y=N(576);function R(ne){return ne&&(0,y.m)(ne.schedule)}},4482:(an,tt,N)=>{N.d(tt,{A:()=>R,e:()=>ne});var y=N(576);function R(me){return(0,y.m)(null==me?void 0:me.lift)}function ne(me){return we=>{if(R(we))return we.lift(function(ve){try{return me(ve,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(an,tt,N)=>{N.d(tt,{Z:()=>me});var y=N(4004);const{isArray:R}=Array;function me(we){return(0,y.U)(ve=>function ne(we,ve){return R(ve)?we(...ve):we(ve)}(we,ve))}},5032:(an,tt,N)=>{function y(){}N.d(tt,{Z:()=>y})},7849:(an,tt,N)=>{N.d(tt,{h:()=>ne});var y=N(2416),R=N(3410);function ne(me){R.z.setTimeout(()=>{const{onUnhandledError:we}=y.v;if(!we)throw me;we(me)})}},4532:(an,tt,N)=>{function y(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(tt,{z:()=>y})},655:(an,tt,N)=>{function me(Ve,ze){var ht={};for(var yt in Ve)Object.prototype.hasOwnProperty.call(Ve,yt)&&ze.indexOf(yt)<0&&(ht[yt]=Ve[yt]);if(null!=Ve&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(yt=Object.getOwnPropertySymbols(Ve);It<yt.length;It++)ze.indexOf(yt[It])<0&&Object.prototype.propertyIsEnumerable.call(Ve,yt[It])&&(ht[yt[It]]=Ve[yt[It]])}return ht}function Ce(Ve,ze,ht,yt){return new(ht||(ht=Promise))(function(lt,ft){function dn(rt){try{nt(yt.next(rt))}catch(Ht){ft(Ht)}}function Pe(rt){try{nt(yt.throw(rt))}catch(Ht){ft(Ht)}}function nt(rt){rt.done?lt(rt.value):function It(lt){return lt instanceof ht?lt:new ht(function(ft){ft(lt)})}(rt.value).then(dn,Pe)}nt((yt=yt.apply(Ve,ze||[])).next())})}function Xe(Ve){return this instanceof Xe?(this.v=Ve,this):new Xe(Ve)}function st(Ve,ze,ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,yt=ht.apply(Ve,ze||[]),lt=[];return It={},ft("next"),ft("throw"),ft("return"),It[Symbol.asyncIterator]=function(){return this},It;function ft(un){yt[un]&&(It[un]=function(Ut){return new Promise(function(Rt,Ge){lt.push([un,Ut,Rt,Ge])>1||dn(un,Ut)})})}function dn(un,Ut){try{!function Pe(un){un.value instanceof Xe?Promise.resolve(un.value.v).then(nt,rt):Ht(lt[0][2],un)}(yt[un](Ut))}catch(Rt){Ht(lt[0][3],Rt)}}function nt(un){dn("next",un)}function rt(un){dn("throw",un)}function Ht(un,Ut){un(Ut),lt.shift(),lt.length&&dn(lt[0][0],lt[0][1])}}function on(Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht,ze=Ve[Symbol.asyncIterator];return ze?ze.call(Ve):(Ve=function be(Ve){var ze="function"==typeof Symbol&&Symbol.iterator,ht=ze&&Ve[ze],yt=0;if(ht)return ht.call(Ve);if(Ve&&"number"==typeof Ve.length)return{next:function(){return Ve&&yt>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[yt++],done:!Ve}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ve),ht={},yt("next"),yt("throw"),yt("return"),ht[Symbol.asyncIterator]=function(){return this},ht);function yt(lt){ht[lt]=Ve[lt]&&function(ft){return new Promise(function(dn,Pe){!function It(lt,ft,dn,Pe){Promise.resolve(Pe).then(function(nt){lt({value:nt,done:dn})},ft)}(dn,Pe,(ft=Ve[lt](ft)).done,ft.value)})}}}N.d(tt,{FC:()=>st,KL:()=>on,_T:()=>me,mG:()=>Ce,qq:()=>Xe})},1777:(an,tt,N)=>{N.d(tt,{F4:()=>ce,IO:()=>it,LC:()=>R,SB:()=>Te,X$:()=>me,ZE:()=>Oe,ZN:()=>st,_j:()=>y,eR:()=>fe,jt:()=>we,k1:()=>on,l3:()=>ne,oB:()=>Ce,pV:()=>vt,ru:()=>ve,vP:()=>Re});class y{}class R{}const ne="*";function me(pt,Le){return{type:7,name:pt,definitions:Le,options:{}}}function we(pt,Le=null){return{type:4,styles:Le,timings:pt}}function ve(pt,Le=null){return{type:3,steps:pt,options:Le}}function Re(pt,Le=null){return{type:2,steps:pt,options:Le}}function Ce(pt){return{type:6,styles:pt,offset:null}}function Te(pt,Le,ke){return{type:0,name:pt,styles:Le,options:ke}}function ce(pt){return{type:5,steps:pt}}function fe(pt,Le,ke=null){return{type:1,expr:pt,animation:Le,options:ke}}function vt(pt=null){return{type:9,options:pt}}function it(pt,Le,ke=null){return{type:11,selector:pt,animation:Le,options:ke}}function Xe(pt){Promise.resolve(null).then(pt)}class st{constructor(Le=0,ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Le+ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}onStart(Le){this._onStartFns.push(Le)}onDone(Le){this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Le=>Le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Le){this._position=this.totalTime?Le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Le){const ke="start"==Le?this._onStartFns:this._onDoneFns;ke.forEach(Et=>Et()),ke.length=0}}class Oe{constructor(Le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Le;let ke=0,Et=0,ot=0;const ge=this.players.length;0==ge?Xe(()=>this._onFinish()):this.players.forEach(Ve=>{Ve.onDone(()=>{++ke==ge&&this._onFinish()}),Ve.onDestroy(()=>{++Et==ge&&this._onDestroy()}),Ve.onStart(()=>{++ot==ge&&this._onStart()})}),this.totalTime=this.players.reduce((Ve,ze)=>Math.max(Ve,ze.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}init(){this.players.forEach(Le=>Le.init())}onStart(Le){this._onStartFns.push(Le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Le=>Le()),this._onStartFns=[])}onDone(Le){this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Le=>Le.play())}pause(){this.players.forEach(Le=>Le.pause())}restart(){this.players.forEach(Le=>Le.restart())}finish(){this._onFinish(),this.players.forEach(Le=>Le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Le=>Le.destroy()),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this.players.forEach(Le=>Le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Le){const ke=Le*this.totalTime;this.players.forEach(Et=>{const ot=Et.totalTime?Math.min(1,ke/Et.totalTime):1;Et.setPosition(ot)})}getPosition(){const Le=this.players.reduce((ke,Et)=>null===ke||Et.totalTime>ke.totalTime?Et:ke,null);return null!=Le?Le.getPosition():0}beforeDestroy(){this.players.forEach(Le=>{Le.beforeDestroy&&Le.beforeDestroy()})}triggerCallback(Le){const ke="start"==Le?this._onStartFns:this._onDoneFns;ke.forEach(Et=>Et()),ke.length=0}}const on="!"},9808:(an,tt,N)=>{N.d(tt,{Do:()=>pt,ED:()=>vs,EM:()=>Hs,HT:()=>we,JF:()=>Ui,JJ:()=>ao,K0:()=>Re,Mx:()=>ns,NF:()=>gr,O5:()=>rs,Ov:()=>Dt,PC:()=>Vs,PM:()=>Zr,RF:()=>Ji,S$:()=>Xe,V_:()=>ce,Ye:()=>Le,b0:()=>on,bD:()=>Kr,ez:()=>os,lw:()=>Ce,mk:()=>is,mr:()=>Oe,n9:()=>Br,q:()=>ne,sg:()=>Ki,tP:()=>bs,w_:()=>ve});var y=N(5e3);let R=null;function ne(){return R}function we(z){R||(R=z)}class ve{}const Re=new y.OlP("DocumentToken");let Ce=(()=>{class z{historyGo($){throw new Error("Not implemented")}}return z.\u0275fac=function($){return new($||z)},z.\u0275prov=y.Yz7({token:z,factory:function(){return function Te(){return(0,y.LFG)(fe)}()},providedIn:"platform"}),z})();const ce=new y.OlP("Location Initialized");let fe=(()=>{class z extends Ce{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState($){const ue=ne().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",$,!1),()=>ue.removeEventListener("popstate",$)}onHashChange($){const ue=ne().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",$,!1),()=>ue.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,ue,Se){be()?this._history.pushState($,ue,Se):this.location.hash=Se}replaceState($,ue,Se){be()?this._history.replaceState($,ue,Se):this.location.hash=Se}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return z.\u0275fac=function($){return new($||z)(y.LFG(Re))},z.\u0275prov=y.Yz7({token:z,factory:function(){return function vt(){return new fe((0,y.LFG)(Re))}()},providedIn:"platform"}),z})();function be(){return!!window.history.pushState}function at(z,se){if(0==z.length)return se;if(0==se.length)return z;let $=0;return z.endsWith("/")&&$++,se.startsWith("/")&&$++,2==$?z+se.substring(1):1==$?z+se:z+"/"+se}function it(z){const se=z.match(/#|\?|$/),$=se&&se.index||z.length;return z.slice(0,$-("/"===z[$-1]?1:0))+z.slice($)}function Lt(z){return z&&"?"!==z[0]?"?"+z:z}let Xe=(()=>{class z{historyGo($){throw new Error("Not implemented")}}return z.\u0275fac=function($){return new($||z)},z.\u0275prov=y.Yz7({token:z,factory:function(){return function st(z){const se=(0,y.LFG)(Re).location;return new on((0,y.LFG)(Ce),se&&se.origin||"")}()},providedIn:"root"}),z})();const Oe=new y.OlP("appBaseHref");let on=(()=>{class z extends Xe{constructor($,ue){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==ue&&(ue=this._platformLocation.getBaseHrefFromDOM()),null==ue)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ue}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return at(this._baseHref,$)}path($=!1){const ue=this._platformLocation.pathname+Lt(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&$?`${ue}${Se}`:ue}pushState($,ue,Se,Pt){const $t=this.prepareExternalUrl(Se+Lt(Pt));this._platformLocation.pushState($,ue,$t)}replaceState($,ue,Se,Pt){const $t=this.prepareExternalUrl(Se+Lt(Pt));this._platformLocation.replaceState($,ue,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ue,Se;null===(Se=(ue=this._platformLocation).historyGo)||void 0===Se||Se.call(ue,$)}}return z.\u0275fac=function($){return new($||z)(y.LFG(Ce),y.LFG(Oe,8))},z.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac}),z})(),pt=(()=>{class z extends Xe{constructor($,ue){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl($){const ue=at(this._baseHref,$);return ue.length>0?"#"+ue:ue}pushState($,ue,Se,Pt){let $t=this.prepareExternalUrl(Se+Lt(Pt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState($,ue,$t)}replaceState($,ue,Se,Pt){let $t=this.prepareExternalUrl(Se+Lt(Pt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState($,ue,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var ue,Se;null===(Se=(ue=this._platformLocation).historyGo)||void 0===Se||Se.call(ue,$)}}return z.\u0275fac=function($){return new($||z)(y.LFG(Ce),y.LFG(Oe,8))},z.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac}),z})(),Le=(()=>{class z{constructor($,ue){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const Se=this._platformStrategy.getBaseHref();this._platformLocation=ue,this._baseHref=it(ot(Se)),this._platformStrategy.onPopState(Pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pt.state,type:Pt.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,ue=""){return this.path()==this.normalize($+Lt(ue))}normalize($){return z.stripTrailingSlash(function Et(z,se){return z&&se.startsWith(z)?se.substring(z.length):se}(this._baseHref,ot($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,ue="",Se=null){this._platformStrategy.pushState(Se,"",$,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Lt(ue)),Se)}replaceState($,ue="",Se=null){this._platformStrategy.replaceState(Se,"",$,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Lt(ue)),Se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var ue,Se;null===(Se=(ue=this._platformStrategy).historyGo)||void 0===Se||Se.call(ue,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)}))}_notifyUrlChangeListeners($="",ue){this._urlChangeListeners.forEach(Se=>Se($,ue))}subscribe($,ue,Se){return this._subject.subscribe({next:$,error:ue,complete:Se})}}return z.normalizeQueryParams=Lt,z.joinWithSlash=at,z.stripTrailingSlash=it,z.\u0275fac=function($){return new($||z)(y.LFG(Xe),y.LFG(Ce))},z.\u0275prov=y.Yz7({token:z,factory:function(){return function ke(){return new Le((0,y.LFG)(Xe),(0,y.LFG)(Ce))}()},providedIn:"root"}),z})();function ot(z){return z.replace(/\/index.html$/,"")}var Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Percent=1]="Percent",Ve[Ve.Currency=2]="Currency",Ve[Ve.Scientific=3]="Scientific",Ve))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))();function qt(z,se){const $=(0,y.cg1)(z),ue=$[y.wAp.NumberSymbols][se];if(void 0===ue){if(se===lt.CurrencyDecimal)return $[y.wAp.NumberSymbols][lt.Decimal];if(se===lt.CurrencyGroup)return $[y.wAp.NumberSymbols][lt.Group]}return ue}const kt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Fr(z){const se=parseInt(z);if(isNaN(se))throw new Error("Invalid integer literal when parsing "+z);return se}function ns(z,se){se=encodeURIComponent(se);for(const $ of z.split(";")){const ue=$.indexOf("="),[Se,Pt]=-1==ue?[$,""]:[$.slice(0,ue),$.slice(ue+1)];if(Se.trim()===se)return decodeURIComponent(Pt)}return null}let is=(()=>{class z{constructor($,ue,Se,Pt){this._iterableDiffers=$,this._keyValueDiffers=ue,this._ngEl=Se,this._renderer=Pt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),$.forEachChangedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),$.forEachRemovedItem(ue=>{ue.previousValue&&this._toggleClass(ue.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(ue=>{if("string"!=typeof ue.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,y.AaK)(ue.item)}`);this._toggleClass(ue.item,!0)}),$.forEachRemovedItem(ue=>this._toggleClass(ue.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(ue=>this._toggleClass(ue,!0)):Object.keys($).forEach(ue=>this._toggleClass(ue,!!$[ue])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(ue=>this._toggleClass(ue,!1)):Object.keys($).forEach(ue=>this._toggleClass(ue,!1)))}_toggleClass($,ue){($=$.trim())&&$.split(/\s+/g).forEach(Se=>{ue?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},z.\u0275dir=y.lG2({type:z,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),z})();class Ar{constructor(se,$,ue,Se){this.$implicit=se,this.ngForOf=$,this.index=ue,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class z{constructor($,ue,Se){this._viewContainer=$,this._template=ue,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ue=this._viewContainer;$.forEachOperation((Se,Pt,$t)=>{if(null==Se.previousIndex)ue.createEmbeddedView(this._template,new Ar(Se.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)ue.remove(null===Pt?void 0:Pt);else if(null!==Pt){const En=ue.get(Pt);ue.move(En,$t),Gr(En,Se)}});for(let Se=0,Pt=ue.length;Se<Pt;Se++){const En=ue.get(Se).context;En.index=Se,En.count=Pt,En.ngForOf=this._ngForOf}$.forEachIdentityChange(Se=>{Gr(ue.get(Se.currentIndex),Se)})}static ngTemplateContextGuard($,ue){return!0}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},z.\u0275dir=y.lG2({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),z})();function Gr(z,se){z.context.$implicit=se.item}let rs=(()=>{class z{constructor($,ue){this._viewContainer=$,this._context=new $i,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){di("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){di("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ue){return!0}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.s_b),y.Y36(y.Rgc))},z.\u0275dir=y.lG2({type:z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),z})();class $i{constructor(){this.$implicit=null,this.ngIf=null}}function di(z,se){if(se&&!se.createEmbeddedView)throw new Error(`${z} must be a TemplateRef, but received '${(0,y.AaK)(se)}'.`)}class No{constructor(se,$){this._viewContainerRef=se,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(se){se&&!this._created?this.create():!se&&this._created&&this.destroy()}}let Ji=(()=>{class z{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push($)}_matchCase($){const ue=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ue,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ue}_updateDefaultCases($){if(this._defaultViews&&$!==this._defaultUsed){this._defaultUsed=$;for(let ue=0;ue<this._defaultViews.length;ue++)this._defaultViews[ue].enforceState($)}}}return z.\u0275fac=function($){return new($||z)},z.\u0275dir=y.lG2({type:z,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),z})(),Br=(()=>{class z{constructor($,ue,Se){this.ngSwitch=Se,Se._addCase(),this._view=new No($,ue)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(Ji,9))},z.\u0275dir=y.lG2({type:z,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),z})(),vs=(()=>{class z{constructor($,ue,Se){Se._addDefault(new No($,ue))}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(Ji,9))},z.\u0275dir=y.lG2({type:z,selectors:[["","ngSwitchDefault",""]]}),z})(),Vs=(()=>{class z{constructor($,ue,Se){this._ngEl=$,this._differs=ue,this._renderer=Se,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,ue){const[Se,Pt]=$.split(".");null!=(ue=null!=ue&&Pt?`${ue}${Pt}`:ue)?this._renderer.setStyle(this._ngEl.nativeElement,Se,ue):this._renderer.removeStyle(this._ngEl.nativeElement,Se)}_applyChanges($){$.forEachRemovedItem(ue=>this._setStyle(ue.key,null)),$.forEachAddedItem(ue=>this._setStyle(ue.key,ue.currentValue)),$.forEachChangedItem(ue=>this._setStyle(ue.key,ue.currentValue))}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},z.\u0275dir=y.lG2({type:z,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),z})(),bs=(()=>{class z{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges($){if($.ngTemplateOutlet){const ue=this._viewContainerRef;this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ue.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.s_b))},z.\u0275dir=y.lG2({type:z,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[y.TTD]}),z})();function pr(z,se){return new y.vHH(2100,"")}class Os{createSubscription(se,$){return se.subscribe({next:$,error:ue=>{throw ue}})}dispose(se){se.unsubscribe()}onDestroy(se){se.unsubscribe()}}class oo{createSubscription(se,$){return se.then($,ue=>{throw ue})}dispose(se){}onDestroy(se){}}const et=new oo,He=new Os;let Dt=(()=>{class z{constructor($){this._ref=$,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,ue=>this._updateLatestValue($,ue))}_selectStrategy($){if((0,y.QGY)($))return et;if((0,y.F4k)($))return He;throw pr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,ue){$===this._obj&&(this._latestValue=ue,this._ref.markForCheck())}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.sBO,16))},z.\u0275pipe=y.Yjl({name:"async",type:z,pure:!1}),z})(),ao=(()=>{class z{constructor($){this._locale=$}transform($,ue,Se){if(!function eo(z){return!(null==z||""===z||z!=z)}($))return null;Se=Se||this._locale;try{return function yi(z,se,$){return function Er(z,se,$,ue,Se,Pt,$t=!1){let En="",Yi=!1;if(isFinite(z)){let Li=function vr(z){let ue,Se,Pt,$t,En,se=Math.abs(z)+"",$=0;for((Se=se.indexOf("."))>-1&&(se=se.replace(".","")),(Pt=se.search(/e/i))>0?(Se<0&&(Se=Pt),Se+=+se.slice(Pt+1),se=se.substring(0,Pt)):Se<0&&(Se=se.length),Pt=0;"0"===se.charAt(Pt);Pt++);if(Pt===(En=se.length))ue=[0],Se=1;else{for(En--;"0"===se.charAt(En);)En--;for(Se-=Pt,ue=[],$t=0;Pt<=En;Pt++,$t++)ue[$t]=Number(se.charAt(Pt))}return Se>22&&(ue=ue.splice(0,21),$=Se-1,Se=1),{digits:ue,exponent:$,integerLen:Se}}(z);$t&&(Li=function wr(z){if(0===z.digits[0])return z;const se=z.digits.length-z.integerLen;return z.exponent?z.exponent+=2:(0===se?z.digits.push(0,0):1===se&&z.digits.push(0),z.integerLen+=2),z}(Li));let wi=se.minInt,Ri=se.minFrac,Cr=se.maxFrac;if(Pt){const le=Pt.match(kt);if(null===le)throw new Error(`${Pt} is not a valid digit info`);const Ot=le[1],Un=le[3],zi=le[5];null!=Ot&&(wi=Fr(Ot)),null!=Un&&(Ri=Fr(Un)),null!=zi?Cr=Fr(zi):null!=Un&&Ri>Cr&&(Cr=Ri)}!function fr(z,se,$){if(se>$)throw new Error(`The minimum number of digits after fraction (${se}) is higher than the maximum (${$}).`);let ue=z.digits,Se=ue.length-z.integerLen;const Pt=Math.min(Math.max(se,Se),$);let $t=Pt+z.integerLen,En=ue[$t];if($t>0){ue.splice(Math.max(z.integerLen,$t));for(let Ri=$t;Ri<ue.length;Ri++)ue[Ri]=0}else{Se=Math.max(0,Se),z.integerLen=1,ue.length=Math.max(1,$t=Pt+1),ue[0]=0;for(let Ri=1;Ri<$t;Ri++)ue[Ri]=0}if(En>=5)if($t-1<0){for(let Ri=0;Ri>$t;Ri--)ue.unshift(0),z.integerLen++;ue.unshift(1),z.integerLen++}else ue[$t-1]++;for(;Se<Math.max(0,Pt);Se++)ue.push(0);let Yi=0!==Pt;const Li=se+z.integerLen,wi=ue.reduceRight(function(Ri,Cr,Qi,ar){return ar[Qi]=(Cr+=Ri)<10?Cr:Cr-10,Yi&&(0===ar[Qi]&&Qi>=Li?ar.pop():Yi=!1),Cr>=10?1:0},0);wi&&(ue.unshift(wi),z.integerLen++)}(Li,Ri,Cr);let Qi=Li.digits,ar=Li.integerLen;const W=Li.exponent;let H=[];for(Yi=Qi.every(le=>!le);ar<wi;ar++)Qi.unshift(0);for(;ar<0;ar++)Qi.unshift(0);ar>0?H=Qi.splice(ar,Qi.length):(H=Qi,Qi=[0]);const L=[];for(Qi.length>=se.lgSize&&L.unshift(Qi.splice(-se.lgSize,Qi.length).join(""));Qi.length>se.gSize;)L.unshift(Qi.splice(-se.gSize,Qi.length).join(""));Qi.length&&L.unshift(Qi.join("")),En=L.join(qt($,ue)),H.length&&(En+=qt($,Se)+H.join("")),W&&(En+=qt($,lt.Exponential)+"+"+W)}else En=qt($,lt.Infinity);return En=z<0&&!Yi?se.negPre+En+se.negSuf:se.posPre+En+se.posSuf,En}(z,function Gi(z,se="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ue=z.split(";"),Se=ue[0],Pt=ue[1],$t=-1!==Se.indexOf(".")?Se.split("."):[Se.substring(0,Se.lastIndexOf("0")+1),Se.substring(Se.lastIndexOf("0")+1)],En=$t[0],Yi=$t[1]||"";$.posPre=En.substr(0,En.indexOf("#"));for(let wi=0;wi<Yi.length;wi++){const Ri=Yi.charAt(wi);"0"===Ri?$.minFrac=$.maxFrac=wi+1:"#"===Ri?$.maxFrac=wi+1:$.posSuf+=Ri}const Li=En.split(",");if($.gSize=Li[1]?Li[1].length:0,$.lgSize=Li[2]||Li[1]?(Li[2]||Li[1]).length:0,Pt){const wi=Se.length-$.posPre.length-$.posSuf.length,Ri=Pt.indexOf("#");$.negPre=Pt.substr(0,Ri).replace(/'/g,""),$.negSuf=Pt.substr(Ri+wi).replace(/'/g,"")}else $.negPre=se+$.posPre,$.negSuf=$.posSuf;return $}(function Sn(z,se){return(0,y.cg1)(z)[y.wAp.NumberFormats][se]}(se,Ve.Decimal),qt(se,lt.MinusSign)),se,lt.Group,lt.Decimal,$)}(function Ps(z){if("string"==typeof z&&!isNaN(Number(z)-parseFloat(z)))return Number(z);if("number"!=typeof z)throw new Error(`${z} is not a number`);return z}($),Se,ue)}catch(Pt){throw pr()}}}return z.\u0275fac=function($){return new($||z)(y.Y36(y.soG,16))},z.\u0275pipe=y.Yjl({name:"number",type:z,pure:!0}),z})();let os=(()=>{class z{}return z.\u0275fac=function($){return new($||z)},z.\u0275mod=y.oAB({type:z}),z.\u0275inj=y.cJS({}),z})();const Kr="browser";function gr(z){return z===Kr}function Zr(z){return"server"===z}let Hs=(()=>{class z{}return z.\u0275prov=(0,y.Yz7)({token:z,providedIn:"root",factory:()=>new as((0,y.LFG)(Re),window)}),z})();class as{constructor(se,$){this.document=se,this.window=$,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const $=function Io(z,se){const $=z.getElementById(se)||z.getElementsByName(se)[0];if($)return $;if("function"==typeof z.createTreeWalker&&z.body&&(z.body.createShadowRoot||z.body.attachShadow)){const ue=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let Se=ue.currentNode;for(;Se;){const Pt=Se.shadowRoot;if(Pt){const $t=Pt.getElementById(se)||Pt.querySelector(`[name="${se}"]`);if($t)return $t}Se=ue.nextNode()}}return null}(this.document,se);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=se)}}scrollToElement(se){const $=se.getBoundingClientRect(),ue=$.left+this.window.pageXOffset,Se=$.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(ue-Pt[0],Se-Pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=ls(this.window.history)||ls(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function ls(z){return Object.getOwnPropertyDescriptor(z,"scrollRestoration")}class Ui{}},520:(an,tt,N)=>{N.d(tt,{JF:()=>wn,eN:()=>lt});var y=N(9808),R=N(5e3),ne=N(9646),me=N(8306),we=N(4351),ve=N(9300),Re=N(4004);class Ce{}class Te{}class ce{constructor(Be){this.normalizedNames=new Map,this.lazyUpdate=null,Be?this.lazyInit="string"==typeof Be?()=>{this.headers=new Map,Be.split("\n").forEach(je=>{const Gt=je.indexOf(":");if(Gt>0){const Mt=je.slice(0,Gt),Zt=Mt.toLowerCase(),_n=je.slice(Gt+1).trim();this.maybeSetNormalizedName(Mt,Zt),this.headers.has(Zt)?this.headers.get(Zt).push(_n):this.headers.set(Zt,[_n])}})}:()=>{this.headers=new Map,Object.keys(Be).forEach(je=>{let Gt=Be[je];const Mt=je.toLowerCase();"string"==typeof Gt&&(Gt=[Gt]),Gt.length>0&&(this.headers.set(Mt,Gt),this.maybeSetNormalizedName(je,Mt))})}:this.headers=new Map}has(Be){return this.init(),this.headers.has(Be.toLowerCase())}get(Be){this.init();const je=this.headers.get(Be.toLowerCase());return je&&je.length>0?je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Be){return this.init(),this.headers.get(Be.toLowerCase())||null}append(Be,je){return this.clone({name:Be,value:je,op:"a"})}set(Be,je){return this.clone({name:Be,value:je,op:"s"})}delete(Be,je){return this.clone({name:Be,value:je,op:"d"})}maybeSetNormalizedName(Be,je){this.normalizedNames.has(je)||this.normalizedNames.set(je,Be)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Be=>this.applyUpdate(Be)),this.lazyUpdate=null))}copyFrom(Be){Be.init(),Array.from(Be.headers.keys()).forEach(je=>{this.headers.set(je,Be.headers.get(je)),this.normalizedNames.set(je,Be.normalizedNames.get(je))})}clone(Be){const je=new ce;return je.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,je.lazyUpdate=(this.lazyUpdate||[]).concat([Be]),je}applyUpdate(Be){const je=Be.name.toLowerCase();switch(Be.op){case"a":case"s":let Gt=Be.value;if("string"==typeof Gt&&(Gt=[Gt]),0===Gt.length)return;this.maybeSetNormalizedName(Be.name,je);const Mt=("a"===Be.op?this.headers.get(je):void 0)||[];Mt.push(...Gt),this.headers.set(je,Mt);break;case"d":const Zt=Be.value;if(Zt){let _n=this.headers.get(je);if(!_n)return;_n=_n.filter(Ei=>-1===Zt.indexOf(Ei)),0===_n.length?(this.headers.delete(je),this.normalizedNames.delete(je)):this.headers.set(je,_n)}else this.headers.delete(je),this.normalizedNames.delete(je)}}forEach(Be){this.init(),Array.from(this.normalizedNames.keys()).forEach(je=>Be(this.normalizedNames.get(je),this.headers.get(je)))}}class fe{encodeKey(Be){return it(Be)}encodeValue(Be){return it(Be)}decodeKey(Be){return decodeURIComponent(Be)}decodeValue(Be){return decodeURIComponent(Be)}}const vt=/%(\d[a-f0-9])/gi,at={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function it(_t){return encodeURIComponent(_t).replace(vt,(Be,je)=>{var Gt;return null!==(Gt=at[je])&&void 0!==Gt?Gt:Be})}function Lt(_t){return`${_t}`}class Xe{constructor(Be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Be.encoder||new fe,Be.fromString){if(Be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function be(_t,Be){const je=new Map;return _t.length>0&&_t.replace(/^\?/,"").split("&").forEach(Mt=>{const Zt=Mt.indexOf("="),[_n,Ei]=-1==Zt?[Be.decodeKey(Mt),""]:[Be.decodeKey(Mt.slice(0,Zt)),Be.decodeValue(Mt.slice(Zt+1))],Pn=je.get(_n)||[];Pn.push(Ei),je.set(_n,Pn)}),je}(Be.fromString,this.encoder)}else Be.fromObject?(this.map=new Map,Object.keys(Be.fromObject).forEach(je=>{const Gt=Be.fromObject[je];this.map.set(je,Array.isArray(Gt)?Gt:[Gt])})):this.map=null}has(Be){return this.init(),this.map.has(Be)}get(Be){this.init();const je=this.map.get(Be);return je?je[0]:null}getAll(Be){return this.init(),this.map.get(Be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Be,je){return this.clone({param:Be,value:je,op:"a"})}appendAll(Be){const je=[];return Object.keys(Be).forEach(Gt=>{const Mt=Be[Gt];Array.isArray(Mt)?Mt.forEach(Zt=>{je.push({param:Gt,value:Zt,op:"a"})}):je.push({param:Gt,value:Mt,op:"a"})}),this.clone(je)}set(Be,je){return this.clone({param:Be,value:je,op:"s"})}delete(Be,je){return this.clone({param:Be,value:je,op:"d"})}toString(){return this.init(),this.keys().map(Be=>{const je=this.encoder.encodeKey(Be);return this.map.get(Be).map(Gt=>je+"="+this.encoder.encodeValue(Gt)).join("&")}).filter(Be=>""!==Be).join("&")}clone(Be){const je=new Xe({encoder:this.encoder});return je.cloneFrom=this.cloneFrom||this,je.updates=(this.updates||[]).concat(Be),je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Be=>this.map.set(Be,this.cloneFrom.map.get(Be))),this.updates.forEach(Be=>{switch(Be.op){case"a":case"s":const je=("a"===Be.op?this.map.get(Be.param):void 0)||[];je.push(Lt(Be.value)),this.map.set(Be.param,je);break;case"d":if(void 0===Be.value){this.map.delete(Be.param);break}{let Gt=this.map.get(Be.param)||[];const Mt=Gt.indexOf(Lt(Be.value));-1!==Mt&&Gt.splice(Mt,1),Gt.length>0?this.map.set(Be.param,Gt):this.map.delete(Be.param)}}}),this.cloneFrom=this.updates=null)}}class Oe{constructor(){this.map=new Map}set(Be,je){return this.map.set(Be,je),this}get(Be){return this.map.has(Be)||this.map.set(Be,Be.defaultValue()),this.map.get(Be)}delete(Be){return this.map.delete(Be),this}has(Be){return this.map.has(Be)}keys(){return this.map.keys()}}function pt(_t){return"undefined"!=typeof ArrayBuffer&&_t instanceof ArrayBuffer}function Le(_t){return"undefined"!=typeof Blob&&_t instanceof Blob}function ke(_t){return"undefined"!=typeof FormData&&_t instanceof FormData}class ot{constructor(Be,je,Gt,Mt){let Zt;if(this.url=je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Be.toUpperCase(),function on(_t){switch(_t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Mt?(this.body=void 0!==Gt?Gt:null,Zt=Mt):Zt=Gt,Zt&&(this.reportProgress=!!Zt.reportProgress,this.withCredentials=!!Zt.withCredentials,Zt.responseType&&(this.responseType=Zt.responseType),Zt.headers&&(this.headers=Zt.headers),Zt.context&&(this.context=Zt.context),Zt.params&&(this.params=Zt.params)),this.headers||(this.headers=new ce),this.context||(this.context=new Oe),this.params){const _n=this.params.toString();if(0===_n.length)this.urlWithParams=je;else{const Ei=je.indexOf("?");this.urlWithParams=je+(-1===Ei?"?":Ei<je.length-1?"&":"")+_n}}else this.params=new Xe,this.urlWithParams=je}serializeBody(){return null===this.body?null:pt(this.body)||Le(this.body)||ke(this.body)||function Et(_t){return"undefined"!=typeof URLSearchParams&&_t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ke(this.body)?null:Le(this.body)?this.body.type||null:pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Be={}){var je;const Gt=Be.method||this.method,Mt=Be.url||this.url,Zt=Be.responseType||this.responseType,_n=void 0!==Be.body?Be.body:this.body,Ei=void 0!==Be.withCredentials?Be.withCredentials:this.withCredentials,Pn=void 0!==Be.reportProgress?Be.reportProgress:this.reportProgress;let Nn=Be.headers||this.headers,Zi=Be.params||this.params;const Bi=null!==(je=Be.context)&&void 0!==je?je:this.context;return void 0!==Be.setHeaders&&(Nn=Object.keys(Be.setHeaders).reduce((gi,sn)=>gi.set(sn,Be.setHeaders[sn]),Nn)),Be.setParams&&(Zi=Object.keys(Be.setParams).reduce((gi,sn)=>gi.set(sn,Be.setParams[sn]),Zi)),new ot(Gt,Mt,_n,{params:Zi,headers:Nn,context:Bi,reportProgress:Pn,responseType:Zt,withCredentials:Ei})}}var ge=(()=>((ge=ge||{})[ge.Sent=0]="Sent",ge[ge.UploadProgress=1]="UploadProgress",ge[ge.ResponseHeader=2]="ResponseHeader",ge[ge.DownloadProgress=3]="DownloadProgress",ge[ge.Response=4]="Response",ge[ge.User=5]="User",ge))();class Ve{constructor(Be,je=200,Gt="OK"){this.headers=Be.headers||new ce,this.status=void 0!==Be.status?Be.status:je,this.statusText=Be.statusText||Gt,this.url=Be.url||null,this.ok=this.status>=200&&this.status<300}}class ze extends Ve{constructor(Be={}){super(Be),this.type=ge.ResponseHeader}clone(Be={}){return new ze({headers:Be.headers||this.headers,status:void 0!==Be.status?Be.status:this.status,statusText:Be.statusText||this.statusText,url:Be.url||this.url||void 0})}}class ht extends Ve{constructor(Be={}){super(Be),this.type=ge.Response,this.body=void 0!==Be.body?Be.body:null}clone(Be={}){return new ht({body:void 0!==Be.body?Be.body:this.body,headers:Be.headers||this.headers,status:void 0!==Be.status?Be.status:this.status,statusText:Be.statusText||this.statusText,url:Be.url||this.url||void 0})}}class yt extends Ve{constructor(Be){super(Be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Be.url||"(unknown url)"}`:`Http failure response for ${Be.url||"(unknown url)"}: ${Be.status} ${Be.statusText}`,this.error=Be.error||null}}function It(_t,Be){return{body:Be,headers:_t.headers,context:_t.context,observe:_t.observe,params:_t.params,reportProgress:_t.reportProgress,responseType:_t.responseType,withCredentials:_t.withCredentials}}let lt=(()=>{class _t{constructor(je){this.handler=je}request(je,Gt,Mt={}){let Zt;if(je instanceof ot)Zt=je;else{let Pn,Nn;Pn=Mt.headers instanceof ce?Mt.headers:new ce(Mt.headers),Mt.params&&(Nn=Mt.params instanceof Xe?Mt.params:new Xe({fromObject:Mt.params})),Zt=new ot(je,Gt,void 0!==Mt.body?Mt.body:null,{headers:Pn,context:Mt.context,params:Nn,reportProgress:Mt.reportProgress,responseType:Mt.responseType||"json",withCredentials:Mt.withCredentials})}const _n=(0,ne.of)(Zt).pipe((0,we.b)(Pn=>this.handler.handle(Pn)));if(je instanceof ot||"events"===Mt.observe)return _n;const Ei=_n.pipe((0,ve.h)(Pn=>Pn instanceof ht));switch(Mt.observe||"body"){case"body":switch(Zt.responseType){case"arraybuffer":return Ei.pipe((0,Re.U)(Pn=>{if(null!==Pn.body&&!(Pn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Pn.body}));case"blob":return Ei.pipe((0,Re.U)(Pn=>{if(null!==Pn.body&&!(Pn.body instanceof Blob))throw new Error("Response is not a Blob.");return Pn.body}));case"text":return Ei.pipe((0,Re.U)(Pn=>{if(null!==Pn.body&&"string"!=typeof Pn.body)throw new Error("Response is not a string.");return Pn.body}));default:return Ei.pipe((0,Re.U)(Pn=>Pn.body))}case"response":return Ei;default:throw new Error(`Unreachable: unhandled observe type ${Mt.observe}}`)}}delete(je,Gt={}){return this.request("DELETE",je,Gt)}get(je,Gt={}){return this.request("GET",je,Gt)}head(je,Gt={}){return this.request("HEAD",je,Gt)}jsonp(je,Gt){return this.request("JSONP",je,{params:(new Xe).append(Gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(je,Gt={}){return this.request("OPTIONS",je,Gt)}patch(je,Gt,Mt={}){return this.request("PATCH",je,It(Mt,Gt))}post(je,Gt,Mt={}){return this.request("POST",je,It(Mt,Gt))}put(je,Gt,Mt={}){return this.request("PUT",je,It(Mt,Gt))}}return _t.\u0275fac=function(je){return new(je||_t)(R.LFG(Ce))},_t.\u0275prov=R.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class ft{constructor(Be,je){this.next=Be,this.interceptor=je}handle(Be){return this.interceptor.intercept(Be,this.next)}}const dn=new R.OlP("HTTP_INTERCEPTORS");let Pe=(()=>{class _t{intercept(je,Gt){return Gt.handle(je)}}return _t.\u0275fac=function(je){return new(je||_t)},_t.\u0275prov=R.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const qt=/^\)\]\}',?\n/;let ti=(()=>{class _t{constructor(je){this.xhrFactory=je}handle(je){if("JSONP"===je.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new me.y(Gt=>{const Mt=this.xhrFactory.build();if(Mt.open(je.method,je.urlWithParams),je.withCredentials&&(Mt.withCredentials=!0),je.headers.forEach((sn,mi)=>Mt.setRequestHeader(sn,mi.join(","))),je.headers.has("Accept")||Mt.setRequestHeader("Accept","application/json, text/plain, */*"),!je.headers.has("Content-Type")){const sn=je.detectContentTypeHeader();null!==sn&&Mt.setRequestHeader("Content-Type",sn)}if(je.responseType){const sn=je.responseType.toLowerCase();Mt.responseType="json"!==sn?sn:"text"}const Zt=je.serializeBody();let _n=null;const Ei=()=>{if(null!==_n)return _n;const sn=Mt.statusText||"OK",mi=new ce(Mt.getAllResponseHeaders()),Bn=function Sn(_t){return"responseURL"in _t&&_t.responseURL?_t.responseURL:/^X-Request-URL:/m.test(_t.getAllResponseHeaders())?_t.getResponseHeader("X-Request-URL"):null}(Mt)||je.url;return _n=new ze({headers:mi,status:Mt.status,statusText:sn,url:Bn}),_n},Pn=()=>{let{headers:sn,status:mi,statusText:Bn,url:bn}=Ei(),Vt=null;204!==mi&&(Vt=void 0===Mt.response?Mt.responseText:Mt.response),0===mi&&(mi=Vt?200:0);let In=mi>=200&&mi<300;if("json"===je.responseType&&"string"==typeof Vt){const An=Vt;Vt=Vt.replace(qt,"");try{Vt=""!==Vt?JSON.parse(Vt):null}catch(Yn){Vt=An,In&&(In=!1,Vt={error:Yn,text:Vt})}}In?(Gt.next(new ht({body:Vt,headers:sn,status:mi,statusText:Bn,url:bn||void 0})),Gt.complete()):Gt.error(new yt({error:Vt,headers:sn,status:mi,statusText:Bn,url:bn||void 0}))},Nn=sn=>{const{url:mi}=Ei(),Bn=new yt({error:sn,status:Mt.status||0,statusText:Mt.statusText||"Unknown Error",url:mi||void 0});Gt.error(Bn)};let Zi=!1;const Bi=sn=>{Zi||(Gt.next(Ei()),Zi=!0);let mi={type:ge.DownloadProgress,loaded:sn.loaded};sn.lengthComputable&&(mi.total=sn.total),"text"===je.responseType&&!!Mt.responseText&&(mi.partialText=Mt.responseText),Gt.next(mi)},gi=sn=>{let mi={type:ge.UploadProgress,loaded:sn.loaded};sn.lengthComputable&&(mi.total=sn.total),Gt.next(mi)};return Mt.addEventListener("load",Pn),Mt.addEventListener("error",Nn),Mt.addEventListener("timeout",Nn),Mt.addEventListener("abort",Nn),je.reportProgress&&(Mt.addEventListener("progress",Bi),null!==Zt&&Mt.upload&&Mt.upload.addEventListener("progress",gi)),Mt.send(Zt),Gt.next({type:ge.Sent}),()=>{Mt.removeEventListener("error",Nn),Mt.removeEventListener("abort",Nn),Mt.removeEventListener("load",Pn),Mt.removeEventListener("timeout",Nn),je.reportProgress&&(Mt.removeEventListener("progress",Bi),null!==Zt&&Mt.upload&&Mt.upload.removeEventListener("progress",gi)),Mt.readyState!==Mt.DONE&&Mt.abort()}})}}return _t.\u0275fac=function(je){return new(je||_t)(R.LFG(y.JF))},_t.\u0275prov=R.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Ci=new R.OlP("XSRF_COOKIE_NAME"),si=new R.OlP("XSRF_HEADER_NAME");class qn{}let ii=(()=>{class _t{constructor(je,Gt,Mt){this.doc=je,this.platform=Gt,this.cookieName=Mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const je=this.doc.cookie||"";return je!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(je,this.cookieName),this.lastCookieString=je),this.lastToken}}return _t.\u0275fac=function(je){return new(je||_t)(R.LFG(y.K0),R.LFG(R.Lbi),R.LFG(Ci))},_t.\u0275prov=R.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),fi=(()=>{class _t{constructor(je,Gt){this.tokenService=je,this.headerName=Gt}intercept(je,Gt){const Mt=je.url.toLowerCase();if("GET"===je.method||"HEAD"===je.method||Mt.startsWith("http://")||Mt.startsWith("https://"))return Gt.handle(je);const Zt=this.tokenService.getToken();return null!==Zt&&!je.headers.has(this.headerName)&&(je=je.clone({headers:je.headers.set(this.headerName,Zt)})),Gt.handle(je)}}return _t.\u0275fac=function(je){return new(je||_t)(R.LFG(qn),R.LFG(si))},_t.\u0275prov=R.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),pi=(()=>{class _t{constructor(je,Gt){this.backend=je,this.injector=Gt,this.chain=null}handle(je){if(null===this.chain){const Gt=this.injector.get(dn,[]);this.chain=Gt.reduceRight((Mt,Zt)=>new ft(Mt,Zt),this.backend)}return this.chain.handle(je)}}return _t.\u0275fac=function(je){return new(je||_t)(R.LFG(Te),R.LFG(R.zs3))},_t.\u0275prov=R.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),Tt=(()=>{class _t{static disable(){return{ngModule:_t,providers:[{provide:fi,useClass:Pe}]}}static withOptions(je={}){return{ngModule:_t,providers:[je.cookieName?{provide:Ci,useValue:je.cookieName}:[],je.headerName?{provide:si,useValue:je.headerName}:[]]}}}return _t.\u0275fac=function(je){return new(je||_t)},_t.\u0275mod=R.oAB({type:_t}),_t.\u0275inj=R.cJS({providers:[fi,{provide:dn,useExisting:fi,multi:!0},{provide:qn,useClass:ii},{provide:Ci,useValue:"XSRF-TOKEN"},{provide:si,useValue:"X-XSRF-TOKEN"}]}),_t})(),wn=(()=>{class _t{}return _t.\u0275fac=function(je){return new(je||_t)},_t.\u0275mod=R.oAB({type:_t}),_t.\u0275inj=R.cJS({providers:[lt,{provide:Ce,useClass:pi},ti,{provide:Te,useExisting:ti}],imports:[[Tt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),_t})()},5e3:(an,tt,N)=>{N.d(tt,{$8M:()=>fo,$Z:()=>Ys,AFp:()=>pb,ALo:()=>k0,AaK:()=>Ce,AsE:()=>Ag,BQk:()=>Wf,CHM:()=>Oa,CRH:()=>W0,CZH:()=>yv,CqO:()=>mg,DdM:()=>A0,EJc:()=>bw,EiD:()=>ha,EpF:()=>S_,F$t:()=>_g,F4k:()=>Ym,FYo:()=>_0,FiY:()=>Vo,G48:()=>$w,Gf:()=>z0,GfV:()=>v0,GkF:()=>pg,Gpc:()=>fe,Gre:()=>Ey,Hsn:()=>Kh,Ikx:()=>ep,JOm:()=>Bt,JVY:()=>td,L6k:()=>nd,LAX:()=>Hl,LFG:()=>ri,LSH:()=>Ga,Lbi:()=>yw,MAs:()=>Vf,NdJ:()=>su,O4$:()=>ms,OlP:()=>Hr,Oqu:()=>Ig,PXZ:()=>kw,Q6J:()=>Zm,QGY:()=>gg,Qsj:()=>_E,R0b:()=>ac,RDi:()=>ls,Rgc:()=>$g,SBq:()=>Bg,Sil:()=>ww,Suo:()=>G0,TTD:()=>eo,TgZ:()=>Gh,Tol:()=>uy,Udp:()=>Qf,VKq:()=>S0,VLi:()=>Pw,W1O:()=>Y0,WFA:()=>Qm,WLB:()=>x0,X6Q:()=>Hw,XFs:()=>vn,Xpm:()=>Dn,Y36:()=>zh,YKP:()=>D0,YNc:()=>Ff,Yjl:()=>ye,Yz7:()=>Rt,ZZ4:()=>Mv,_Bn:()=>g0,_UZ:()=>fg,_Vd:()=>Vy,_c5:()=>sD,_uU:()=>oc,aQg:()=>Ov,c2e:()=>_w,cJS:()=>ut,cg1:()=>xd,d8E:()=>tp,dDg:()=>bb,deG:()=>Wc,dqk:()=>Nn,eBb:()=>Fd,eFA:()=>wb,ekj:()=>Id,evT:()=>Gd,f3M:()=>Ti,g9A:()=>mb,h0i:()=>lp,hGG:()=>oD,hij:()=>Uu,iGM:()=>$0,ifc:()=>Mt,ip1:()=>fb,kL8:()=>xa,kcU:()=>jo,lG2:()=>Me,lcZ:()=>L0,mCW:()=>Gl,n5z:()=>Hu,n_E:()=>Uy,oAB:()=>ct,oJD:()=>$r,oxw:()=>Jm,pB0:()=>Na,q3G:()=>cr,q4F:()=>b0,qLn:()=>Do,qOj:()=>Lh,qZA:()=>zf,qzn:()=>jl,s9C:()=>vg,sBO:()=>zw,sIi:()=>Fh,s_b:()=>Hy,soG:()=>vv,tBr:()=>Ts,tb:()=>yb,tp0:()=>Ha,uIk:()=>kf,vHH:()=>it,vpe:()=>Gc,wAp:()=>bi,xi3:()=>F0,xp6:()=>fs,yhl:()=>Ra,ynx:()=>Gf,z2F:()=>Cv,z3N:()=>Ia,zSh:()=>Vp,zs3:()=>Pl});var y=N(7579),R=N(727),ne=N(8306),me=N(6451),we=N(3099);function ve(n){for(let i in n)if(n[i]===ve)return i;throw Error("Could not find renamed property on target object.")}function Re(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Te(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ce=ve({__forward_ref__:ve});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Ce(this())},n}function be(n){return vt(n)?n():n}function vt(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===fe}class it extends Error{constructor(i,s){super(function Lt(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function Xe(n){return"string"==typeof n?n:null==n?"":String(n)}function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Xe(n)}function Le(n,i){const s=i?` in ${i}`:"";throw new it(-201,`No provider for ${st(n)} found${s}`)}function nt(n,i){null==n&&function rt(n,i,s,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${s} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function Rt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function qt(n){return Sn(n,qn)||Sn(n,fi)}function Sn(n,i){return n.hasOwnProperty(i)?n[i]:null}function si(n){return n&&(n.hasOwnProperty(ii)||n.hasOwnProperty(pi))?n[ii]:null}const qn=ve({\u0275prov:ve}),ii=ve({\u0275inj:ve}),fi=ve({ngInjectableDef:ve}),pi=ve({ngInjectorDef:ve});var vn=(()=>((vn=vn||{})[vn.Default=0]="Default",vn[vn.Host=1]="Host",vn[vn.Self=2]="Self",vn[vn.SkipSelf=4]="SkipSelf",vn[vn.Optional=8]="Optional",vn))();let Fn;function wn(n){const i=Fn;return Fn=n,i}function Xt(n,i,s){const d=qt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&vn.Optional?null:void 0!==i?i:void Le(Ce(n),"Injector")}function _t(n){return{toString:n}.toString()}var Be=(()=>((Be=Be||{})[Be.OnPush=0]="OnPush",Be[Be.Default=1]="Default",Be))(),Mt=(()=>{return(n=Mt||(Mt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Mt;var n})();const Zt="undefined"!=typeof globalThis&&globalThis,_n="undefined"!=typeof window&&window,Ei="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nn=Zt||"undefined"!=typeof global&&global||_n||Ei,gi={},sn=[],mi=ve({\u0275cmp:ve}),Bn=ve({\u0275dir:ve}),bn=ve({\u0275pipe:ve}),Vt=ve({\u0275mod:ve}),In=ve({\u0275fac:ve}),An=ve({__NG_ELEMENT_ID__:ve});let Yn=0;function Dn(n){return _t(()=>{const s={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||sn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Mt.Emulated,id:"c",styles:n.styles||sn,_:null,setInput:null,schemas:n.schemas||null,tView:null},p=n.directives,E=n.features,I=n.pipes;return d.id+=Yn++,d.inputs=Ye(n.inputs,s),d.outputs=Ye(n.outputs),E&&E.forEach(P=>P(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(De):null,d.pipeDefs=I?()=>("function"==typeof I?I():I).map(Ke):null,d})}function De(n){return qe(n)||function kt(n){return n[Bn]||null}(n)}function Ke(n){return function mn(n){return n[bn]||null}(n)}const At={};function ct(n){return _t(()=>{const i={type:n.type,bootstrap:n.bootstrap||sn,declarations:n.declarations||sn,imports:n.imports||sn,exports:n.exports||sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(At[n.id]=n.type),i})}function Ye(n,i){if(null==n)return gi;const s={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],E=p;Array.isArray(p)&&(E=p[1],p=p[0]),s[p]=d,i&&(i[p]=E)}return s}const Me=Dn;function ye(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function qe(n){return n[mi]||null}function jn(n,i){const s=n[Vt]||null;if(!s&&!0===i)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return s}function Ji(n){return Array.isArray(n)&&"object"==typeof n[1]}function Br(n){return Array.isArray(n)&&!0===n[1]}function vs(n){return 0!=(8&n.flags)}function ds(n){return 2==(2&n.flags)}function ss(n){return 1==(1&n.flags)}function Dr(n){return null!==n.template}function Vs(n){return 0!=(512&n[2])}function Wr(n,i){return n.hasOwnProperty(In)?n[In]:null}class Bs{constructor(i,s,d){this.previousValue=i,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function eo(){return Ps}function Ps(n){return n.type.prototype.ngOnChanges&&(n.setInput=sa),_o}function _o(){const n=Kr(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===gi)n.previous=i;else for(let d in i)s[d]=i[d];n.current=null,this.ngOnChanges(i)}}function sa(n,i,s,d){const p=Kr(n)||function ws(n,i){return n[os]=i}(n,{previous:gi,current:null}),E=p.current||(p.current={}),I=p.previous,P=this.declaredInputs[s],B=I[P];E[P]=new Bs(B&&B.currentValue,i,I===gi),n[d]=i}eo.ngInherit=!0;const os="__ngSimpleChanges__";function Kr(n){return n[os]||null}let as;function ls(n){as=n}function Io(){return void 0!==as?as:"undefined"!=typeof document?document:void 0}function Ui(n){return!!n.listen}const z={createRenderer:(n,i)=>Io()};function $(n){for(;Array.isArray(n);)n=n[0];return n}function Pt(n,i){return $(i[n])}function $t(n,i){return $(i[n.index])}function Yi(n,i){return n.data[i]}function Li(n,i){return n[i]}function wi(n,i){const s=i[n];return Ji(s)?s:s[0]}function Ri(n){return 4==(4&n[2])}function Cr(n){return 128==(128&n[2])}function ar(n,i){return null==i?null:n[i]}function W(n){n[18]=0}function H(n,i){n[5]+=i;let s=n,d=n[3];for(;null!==d&&(1===i&&1===s[5]||-1===i&&0===s[5]);)d[5]+=i,s=d,d=d[3]}const L={lFrame:zn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function us(){return L.bindingsEnabled}function nn(){return L.lFrame.lView}function Fi(){return L.lFrame.tView}function Oa(n){return L.lFrame.contextLView=n,n[8]}function Sr(){let n=vo();for(;null!==n&&64===n.type;)n=n.parent;return n}function vo(){return L.lFrame.currentTNode}function lo(n,i){const s=L.lFrame;s.currentTNode=n,s.isParent=i}function _a(){return L.lFrame.isParent}function Qa(){L.lFrame.isParent=!1}function Zo(){return L.isInCheckNoChangesMode}function Ds(n){L.isInCheckNoChangesMode=n}function ps(){const n=L.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ee(){return L.lFrame.bindingIndex++}function C(n){const i=L.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function ie(n,i){const s=L.lFrame;s.bindingIndex=s.bindingRootIndex=n,Fe(i)}function Fe(n){L.lFrame.currentDirectiveIndex=n}function Ue(n){const i=L.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function bt(){return L.lFrame.currentQueryIndex}function Wt(n){L.lFrame.currentQueryIndex=n}function kn(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Zn(n,i,s){if(s&vn.SkipSelf){let p=i,E=n;for(;!(p=p.parent,null!==p||s&vn.Host||(p=kn(E),null===p||(E=E[15],10&p.type))););if(null===p)return!1;i=p,n=E}const d=L.lFrame=Vi();return d.currentTNode=i,d.lView=n,!0}function Qn(n){const i=Vi(),s=n[1];L.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Vi(){const n=L.lFrame,i=null===n?null:n.child;return null===i?zn(n):i}function zn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Di(){const n=L.lFrame;return L.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const lr=Di;function Tr(){const n=Di();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tr(){return L.lFrame.selectedIndex}function Ws(n){L.lFrame.selectedIndex=n}function ur(){const n=L.lFrame;return Yi(n.tView,n.selectedIndex)}function ms(){L.lFrame.currentNamespace="svg"}function jo(){!function no(){L.lFrame.currentNamespace=null}()}function Yr(n,i){for(let s=i.directiveStart,d=i.directiveEnd;s<d;s++){const E=n.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:P,ngAfterViewInit:B,ngAfterViewChecked:J,ngOnDestroy:ae}=E;I&&(n.contentHooks||(n.contentHooks=[])).push(-s,I),P&&((n.contentHooks||(n.contentHooks=[])).push(s,P),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,P)),B&&(n.viewHooks||(n.viewHooks=[])).push(-s,B),J&&((n.viewHooks||(n.viewHooks=[])).push(s,J),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,J)),null!=ae&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ae)}}function Lo(n,i,s){ei(n,i,3,s)}function Yo(n,i,s,d){(3&n[2])===s&&ei(n,i,s,d)}function Tn(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function ei(n,i,s,d){const E=null!=d?d:-1,I=i.length-1;let P=0;for(let B=void 0!==d?65535&n[18]:0;B<I;B++)if("number"==typeof i[B+1]){if(P=i[B],null!=d&&P>=d)break}else i[B]<0&&(n[18]+=65536),(P<E||-1==E)&&(li(n,s,i,B),n[18]=(4294901760&n[18])+B+2),B++}function li(n,i,s,d){const p=s[d]<0,E=s[d+1],P=n[p?-s[d]:s[d]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{E.call(P)}finally{}}}else try{E.call(P)}finally{}}class sr{constructor(i,s,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function Ks(n,i,s){const d=Ui(n);let p=0;for(;p<s.length;){const E=s[p];if("number"==typeof E){if(0!==E)break;p++;const I=s[p++],P=s[p++],B=s[p++];d?n.setAttribute(i,P,B,I):i.setAttributeNS(I,P,B)}else{const I=E,P=s[++p];ba(I)?d&&n.setProperty(i,I,P):d?n.setAttribute(i,I,P):i.setAttribute(I,P),p++}}return p}function Ns(n){return 3===n||4===n||6===n}function ba(n){return 64===n.charCodeAt(0)}function Ea(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let d=0;d<i.length;d++){const p=i[d];"number"==typeof p?s=p:0===s||wa(n,s,p,null,-1===s||2===s?i[++d]:null)}}return n}function wa(n,i,s,d,p){let E=0,I=n.length;if(-1===i)I=-1;else for(;E<n.length;){const P=n[E++];if("number"==typeof P){if(P===i){I=-1;break}if(P>i){I=E-1;break}}}for(;E<n.length;){const P=n[E];if("number"==typeof P)break;if(P===s){if(null===d)return void(null!==p&&(n[E+1]=p));if(d===n[E+1])return void(n[E+2]=p)}E++,null!==d&&E++,null!==p&&E++}-1!==I&&(n.splice(I,0,i),E=I+1),n.splice(E++,0,s),null!==d&&n.splice(E++,0,d),null!==p&&n.splice(E++,0,p)}function hl(n){return-1!==n}function Mr(n){return 32767&n}function ho(n,i){let s=function ju(n){return n>>16}(n),d=i;for(;s>0;)d=d[15],s--;return d}let fl=!0;function la(n){const i=fl;return fl=n,i}let G=0;function X(n,i){const s=$e(n,i);if(-1!==s)return s;const d=i[1];d.firstCreatePass&&(n.injectorIndex=i.length,_e(d.data,n),_e(i,null),_e(d.blueprint,null));const p=Ft(n,i),E=n.injectorIndex;if(hl(p)){const I=Mr(p),P=ho(p,i),B=P[1].data;for(let J=0;J<8;J++)i[E+J]=P[I+J]|B[I+J]}return i[E+8]=p,E}function _e(n,i){n.push(0,0,0,0,0,0,0,0,i)}function $e(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ft(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,d=null,p=i;for(;null!==p;){const E=p[1],I=E.type;if(d=2===I?E.declTNode:1===I?p[6]:null,null===d)return-1;if(s++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return-1}function jt(n,i,s){!function q(n,i,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(An)&&(d=s[An]),null==d&&(d=s[An]=G++);const p=255&d;i.data[n+(p>>5)]|=1<<p}(n,i,s)}function Jn(n,i,s){if(s&vn.Optional)return n;Le(i,"NodeInjector")}function ln(n,i,s,d){if(s&vn.Optional&&void 0===d&&(d=null),0==(s&(vn.Self|vn.Host))){const p=n[9],E=wn(void 0);try{return p?p.get(i,d,s&vn.Optional):Xt(i,d,s&vn.Optional)}finally{wn(E)}}return Jn(d,i,s)}function gt(n,i,s,d=vn.Default,p){if(null!==n){const E=function Fl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(An)?n[An]:void 0;return"number"==typeof i?i>=0?255&i:Lr:i}(s);if("function"==typeof E){if(!Zn(i,n,d))return d&vn.Host?Jn(p,s,d):ln(i,s,d,p);try{const I=E(d);if(null!=I||d&vn.Optional)return I;Le(s)}finally{lr()}}else if("number"==typeof E){let I=null,P=$e(n,i),B=-1,J=d&vn.Host?i[16][6]:null;for((-1===P||d&vn.SkipSelf)&&(B=-1===P?Ft(n,i):i[P+8],-1!==B&&uc(d,!1)?(I=i[1],P=Mr(B),i=ho(B,i)):P=-1);-1!==P;){const ae=i[1];if(uu(E,P,ae.data)){const Ee=Ll(P,i,s,I,d,J);if(Ee!==Yt)return Ee}B=i[P+8],-1!==B&&uc(d,i[1].data[P+8]===J)&&uu(E,P,i)?(I=ae,P=Mr(B),i=ho(B,i)):P=-1}}}return ln(i,s,d,p)}const Yt={};function Lr(){return new Ho(Sr(),nn())}function Ll(n,i,s,d,p,E){const I=i[1],P=I.data[n+8],ae=Da(P,I,s,null==d?ds(P)&&fl:d!=I&&0!=(3&P.type),p&vn.Host&&E===P);return null!==ae?Eo(i,I,ae,P):Yt}function Da(n,i,s,d,p){const E=n.providerIndexes,I=i.data,P=1048575&E,B=n.directiveStart,ae=E>>20,Ze=p?P+ae:n.directiveEnd;for(let wt=d?P:P+ae;wt<Ze;wt++){const Qt=I[wt];if(wt<B&&s===Qt||wt>=B&&Qt.type===s)return wt}if(p){const wt=I[B];if(wt&&Dr(wt)&&wt.type===s)return B}return null}function Eo(n,i,s,d){let p=n[s];const E=i.data;if(function Rs(n){return n instanceof sr}(p)){const I=p;I.resolving&&function Oe(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new it(-200,`Circular dependency in DI detected for ${n}${s}`)}(st(E[s]));const P=la(I.canSeeViewProviders);I.resolving=!0;const B=I.injectImpl?wn(I.injectImpl):null;Zn(n,d,vn.Default);try{p=n[s]=I.factory(void 0,E,n,d),i.firstCreatePass&&s>=d.directiveStart&&function bo(n,i,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:E}=i.type.prototype;if(d){const I=Ps(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,I),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,I)}p&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,p),E&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,E))}(s,E[s],i)}finally{null!==B&&wn(B),la(P),I.resolving=!1,lr()}}return p}function uu(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function uc(n,i){return!(n&vn.Self||n&vn.Host&&i)}class Ho{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,d){return gt(this._tNode,this._lView,i,d,s)}}function Hu(n){return _t(()=>{const i=n.prototype.constructor,s=i[In]||Vl(i),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const E=p[In]||Vl(p);if(E&&E!==s)return E;p=Object.getPrototypeOf(p)}return E=>new E})}function Vl(n){return vt(n)?()=>{const i=Vl(be(n));return i&&i()}:Wr(n)}function fo(n){return function xn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const E=s[p];if(Ns(E))break;if(0===E)p+=2;else if("number"==typeof E)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(E===i)return s[p+1];p+=2}}}return null}(Sr(),n)}const Ua="__parameters__";function Jr(n,i,s){return _t(()=>{const d=function cu(n){return function(...s){if(n){const d=n(...s);for(const p in d)this[p]=d[p]}}}(i);function p(...E){if(this instanceof p)return d.apply(this,E),this;const I=new p(...E);return P.annotation=I,P;function P(B,J,ae){const Ee=B.hasOwnProperty(Ua)?B[Ua]:Object.defineProperty(B,Ua,{value:[]})[Ua];for(;Ee.length<=ae;)Ee.push(null);return(Ee[ae]=Ee[ae]||[]).push(I),B}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class Hr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Rt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wc=new Hr("AnalyzeForEntryComponents");function Zs(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let d=n[s];Array.isArray(d)?(i===n&&(i=n.slice(0,s)),Zs(d,i)):i!==n&&i.push(d)}return i}function Jo(n,i){n.forEach(s=>Array.isArray(s)?Jo(s,i):i(s))}function Ca(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function po(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function So(n,i){const s=[];for(let d=0;d<n;d++)s.push(i);return s}function go(n,i,s){let d=Ja(n,i);return d>=0?n[1|d]=s:(d=~d,function Ul(n,i,s,d){let p=n.length;if(p==i)n.push(s,d);else if(1===p)n.push(d,n[0]),n[0]=s;else{for(p--,n.push(n[p-1],n[p]);p>i;)n[p]=n[p-2],p--;n[i]=s,n[i+1]=d}}(n,d,i,s)),d}function ca(n,i){const s=Ja(n,i);if(s>=0)return n[1|s]}function Ja(n,i){return function Pa(n,i,s){let d=0,p=n.length>>s;for(;p!==d;){const E=d+(p-d>>1),I=n[E<<s];if(i===I)return E<<s;I>i?p=E:d=E+1}return~(p<<s)}(n,i,1)}const Ta={},_l="__NG_DI_FLAG__",pu="ngTempTokenPath",K=/\n/gm,Ae="__source",mt=ve({provide:String,useValue:ve});let St;function yn(n){const i=St;return St=n,i}function $n(n,i=vn.Default){if(void 0===St)throw new it(203,"");return null===St?Xt(n,void 0,i):St.get(n,i&vn.Optional?null:void 0,i)}function ri(n,i=vn.Default){return(function Tt(){return Fn}()||$n)(be(n),i)}const Ti=ri;function Oi(n){const i=[];for(let s=0;s<n.length;s++){const d=be(n[s]);if(Array.isArray(d)){if(0===d.length)throw new it(900,"");let p,E=vn.Default;for(let I=0;I<d.length;I++){const P=d[I],B=xs(P);"number"==typeof B?-1===B?p=P.token:E|=B:p=P}i.push(ri(p,E))}else i.push(ri(d))}return i}function ro(n,i){return n[_l]=i,n.prototype[_l]=i,n}function xs(n){return n[_l]}const Ts=ro(Jr("Inject",n=>({token:n})),-1),Vo=ro(Jr("Optional"),8),Ha=ro(Jr("SkipSelf"),4);let nl,$a;function il(n){var i;return(null===(i=function bu(){if(void 0===nl&&(nl=null,Nn.trustedTypes))try{nl=Nn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return nl}())||void 0===i?void 0:i.createHTML(n))||n}function pc(n){var i;return(null===(i=function ta(){if(void 0===$a&&($a=null,Nn.trustedTypes))try{$a=Nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return $a}())||void 0===i?void 0:i.createHTML(n))||n}class sl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jc extends sl{getTypeName(){return"HTML"}}class gc extends sl{getTypeName(){return"Style"}}class Xc extends sl{getTypeName(){return"Script"}}class za extends sl{getTypeName(){return"URL"}}class ed extends sl{getTypeName(){return"ResourceURL"}}function Ia(n){return n instanceof sl?n.changingThisBreaksApplicationSecurity:n}function jl(n,i){const s=Ra(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Ra(n){return n instanceof sl&&n.getTypeName()||null}function td(n){return new Jc(n)}function nd(n){return new gc(n)}function Fd(n){return new Xc(n)}function Hl(n){return new za(n)}function Na(n){return new ed(n)}class $l{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(il(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Vd{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const d=this.inertDocument.createElement("body");s.appendChild(d)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=il(i),s;const d=this.inertDocument.createElement("body");return d.innerHTML=il(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(i){const s=i.attributes;for(let p=s.length-1;0<p;p--){const I=s.item(p).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&i.removeAttribute(I)}let d=i.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const wl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gl(n){return(n=String(n)).match(wl)||n.match(zl)?n:"unsafe:"+n}function Or(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function Dl(...n){const i={};for(const s of n)for(const d in s)s.hasOwnProperty(d)&&(i[d]=!0);return i}const Ku=Or("area,br,col,hr,img,wbr"),Wl=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zu=Or("rp,rt"),Kl=Dl(Ku,Dl(Wl,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dl(Zu,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dl(Zu,Wl)),ol=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_c=Or("srcset"),Tl=Dl(ol,_c,Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qu=Or("script,style,template");class vc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,d=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let p=this.checkClobberedElement(s,s.nextSibling);if(p){s=p;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Kl.hasOwnProperty(s))return this.sanitizedSomething=!0,!qu.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=i.attributes;for(let p=0;p<d.length;p++){const E=d.item(p),I=E.name,P=I.toLowerCase();if(!Tl.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let B=E.value;ol[P]&&(B=Gl(B)),_c[P]&&(n=B,B=(n=String(n)).split(",").map(i=>Gl(i.trim())).join(", ")),this.buf.push(" ",I,'="',rd(B),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Kl.hasOwnProperty(s)&&!Ku.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(rd(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Ls=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function rd(n){return n.replace(/&/g,"&amp;").replace(Ls,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Du;function ha(n,i){let s=null;try{Du=Du||function mc(n){const i=new Vd(n);return function wu(){try{return!!(new window.DOMParser).parseFromString(il(""),"text/html")}catch(n){return!1}}()?new $l(i):i}(n);let d=i?String(i):"";s=Du.getInertBodyElement(d);let p=5,E=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=E,E=s.innerHTML,s=Du.getInertBodyElement(d)}while(d!==E);return il((new vc).sanitizeChildren(Ms(s)||s))}finally{if(s){const d=Ms(s)||s;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Ms(n){return"content"in n&&function bc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var cr=(()=>((cr=cr||{})[cr.NONE=0]="NONE",cr[cr.HTML=1]="HTML",cr[cr.STYLE=2]="STYLE",cr[cr.SCRIPT=3]="SCRIPT",cr[cr.URL=4]="URL",cr[cr.RESOURCE_URL=5]="RESOURCE_URL",cr))();function $r(n){const i=Yu();return i?pc(i.sanitize(cr.HTML,n)||""):jl(n,"HTML")?pc(Ia(n)):ha(Io(),Xe(n))}function Ga(n){const i=Yu();return i?i.sanitize(cr.URL,n)||"":jl(n,"URL")?Ia(n):Gl(Xe(n))}function Yu(){const n=nn();return n&&n[12]}const Zl="__ngContext__";function xo(n,i){n[Zl]=i}function wc(n){const i=function Al(n){return n[Zl]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function ql(n){return n.ngOriginalError}function Su(n,...i){n.error(...i)}class Do{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),d=function Wa(n){return n&&n.ngErrorLogger||Su}(i);d(this._console,"ERROR",i),s&&d(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&ql(i);for(;s&&ql(s);)s=ql(s);return s||null}}const zd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nn))();function Gd(n){return n.ownerDocument}function b(n){return n instanceof Function?n():n}var Bt=(()=>((Bt=Bt||{})[Bt.Important=1]="Important",Bt[Bt.DashCase=2]="DashCase",Bt))();function Ln(n,i){return undefined(n,i)}function _r(n){const i=n[3];return Br(i)?i[3]:i}function Sl(n){return Ac(n[13])}function Jl(n){return Ac(n[4])}function Ac(n){for(;null!==n&&!Br(n);)n=n[4];return n}function Ka(n,i,s,d,p){if(null!=d){let E,I=!1;Br(d)?E=d:Ji(d)&&(I=!0,d=d[0]);const P=$(d);0===n&&null!==s?null==p?Za(i,s,P):ul(i,s,P,p||null,!0):1===n&&null!==s?ul(i,s,P,p||null,!0):2===n?function f(n,i,s){const d=xl(n,i);d&&function Mc(n,i,s,d){Ui(n)?n.removeChild(i,s,d):i.removeChild(s)}(n,d,i,s)}(i,P,I):3===n&&i.destroyNode(P),null!=E&&function k(n,i,s,d,p){const E=s[7];E!==$(s)&&Ka(i,n,d,E,p);for(let P=10;P<s.length;P++){const B=s[P];_(B[1],B,n,i,d,E)}}(i,n,E,s,p)}}function xc(n,i,s){if(Ui(n))return n.createElement(i,s);{const d=null!==s?function Hs(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===d?n.createElement(i):n.createElementNS(d,i)}}function wh(n,i){const s=n[9],d=s.indexOf(i),p=i[3];1024&i[2]&&(i[2]&=-1025,H(p,-1)),s.splice(d,1)}function Wd(n,i){if(n.length<=10)return;const s=10+i,d=n[s];if(d){const p=d[17];null!==p&&p!==n&&wh(p,d),i>0&&(n[s-1][4]=d[4]);const E=po(n,10+i);!function bh(n,i){_(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(d[1],d);const I=E[19];null!==I&&I.detachView(E[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function of(n,i){if(!(256&i[2])){const s=i[11];Ui(s)&&s.destroyNode&&_(n,i,s,3,null,null),function dp(n){let i=n[13];if(!i)return Ou(n[1],n);for(;i;){let s=null;if(Ji(i))s=i[13];else{const d=i[10];d&&(s=d)}if(!s){for(;i&&!i[4]&&i!==n;)Ji(i)&&Ou(i[1],i),i=i[3];null===i&&(i=n),Ji(i)&&Ou(i[1],i),s=i&&i[4]}i=s}}(i)}}function Ou(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function ma(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let d=0;d<s.length;d+=2){const p=i[s[d]];if(!(p instanceof sr)){const E=s[d+1];if(Array.isArray(E))for(let I=0;I<E.length;I+=2){const P=p[E[I]],B=E[I+1];try{B.call(P)}finally{}}else try{E.call(p)}finally{}}}}(n,i),function Kd(n,i){const s=n.cleanup,d=i[7];let p=-1;if(null!==s)for(let E=0;E<s.length-1;E+=2)if("string"==typeof s[E]){const I=s[E+1],P="function"==typeof I?I(i):$(i[I]),B=d[p=s[E+2]],J=s[E+3];"boolean"==typeof J?P.removeEventListener(s[E],B,J):J>=0?d[p=J]():d[p=-J].unsubscribe(),E+=2}else{const I=d[p=s[E+1]];s[E].call(I)}if(null!==d){for(let E=p+1;E<d.length;E++)d[E]();i[7]=null}}(n,i),1===i[1].type&&Ui(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&Br(i[3])){s!==i[3]&&wh(s,i);const d=i[19];null!==d&&d.detachView(n)}}}function Dh(n,i,s){return function zt(n,i,s){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return s[0];if(2&d.flags){const p=n.data[d.directiveStart].encapsulation;if(p===Mt.None||p===Mt.Emulated)return null}return $t(d,s)}(n,i.parent,s)}function ul(n,i,s,d,p){Ui(n)?n.insertBefore(i,s,d,p):i.insertBefore(s,d,p)}function Za(n,i,s){Ui(n)?n.appendChild(i,s):i.appendChild(s)}function af(n,i,s,d,p){null!==d?ul(n,i,s,d,p):Za(n,i,s)}function xl(n,i){return Ui(n)?n.parentNode(i):i.parentNode}function Ml(n,i,s){return Pc(n,i,s)}let Pc=function Oc(n,i,s){return 40&n.type?$t(n,s):null};function u(n,i,s,d){const p=Dh(n,d,i),E=i[11],P=Ml(d.parent||i[6],d,i);if(null!=p)if(Array.isArray(s))for(let B=0;B<s.length;B++)af(E,p,s[B],P,!1);else af(E,p,s,P,!1)}function l(n,i){if(null!==i){const s=i.type;if(3&s)return $t(i,n);if(4&s)return c(-1,n[i.index]);if(8&s){const d=i.child;if(null!==d)return l(n,d);{const p=n[i.index];return Br(p)?c(-1,p):$(p)}}if(32&s)return Ln(i,n)()||$(n[i.index]);{const d=a(n,i);return null!==d?Array.isArray(d)?d[0]:l(_r(n[16]),d):l(n,i.next)}}return null}function a(n,i){return null!==i?n[16][6].projection[i.projection]:null}function c(n,i){const s=10+n+1;if(s<i.length){const d=i[s],p=d[1].firstChild;if(null!==p)return l(d,p)}return i[7]}function g(n,i,s,d,p,E,I){for(;null!=s;){const P=d[s.index],B=s.type;if(I&&0===i&&(P&&xo($(P),d),s.flags|=4),64!=(64&s.flags))if(8&B)g(n,i,s.child,d,p,E,!1),Ka(i,n,p,P,E);else if(32&B){const J=Ln(s,d);let ae;for(;ae=J();)Ka(i,n,p,ae,E);Ka(i,n,p,P,E)}else 16&B?A(n,i,d,s,p,E):Ka(i,n,p,P,E);s=I?s.projectionNext:s.next}}function _(n,i,s,d,p,E){g(s,d,n.firstChild,i,p,E,!1)}function A(n,i,s,d,p,E){const I=s[16],B=I[6].projection[d.projection];if(Array.isArray(B))for(let J=0;J<B.length;J++)Ka(i,n,p,B[J],E);else g(n,i,B,I[3],p,E,!0)}function te(n,i,s){Ui(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function he(n,i,s){Ui(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function xe(n,i,s){let d=n.length;for(;;){const p=n.indexOf(i,s);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const E=i.length;if(p+E===d||n.charCodeAt(p+E)<=32)return p}s=p+1}}const Je="ng-template";function Ct(n,i,s){let d=0;for(;d<n.length;){let p=n[d++];if(s&&"class"===p){if(p=n[d],-1!==xe(p.toLowerCase(),i,0))return!0}else if(1===p){for(;d<n.length&&"string"==typeof(p=n[d++]);)if(p.toLowerCase()===i)return!0;return!1}}return!1}function xt(n){return 4===n.type&&n.value!==Je}function rn(n,i,s){return i===(4!==n.type||s?n.value:Je)}function Mn(n,i,s){let d=4;const p=n.attrs||[],E=function ci(n){for(let i=0;i<n.length;i++)if(Ns(n[i]))return i;return n.length}(p);let I=!1;for(let P=0;P<i.length;P++){const B=i[P];if("number"!=typeof B){if(!I)if(4&d){if(d=2|1&d,""!==B&&!rn(n,B,s)||""===B&&1===i.length){if(tn(d))return!1;I=!0}}else{const J=8&d?B:i[++P];if(8&d&&null!==n.attrs){if(!Ct(n.attrs,J,s)){if(tn(d))return!1;I=!0}continue}const Ee=en(8&d?"class":B,p,xt(n),s);if(-1===Ee){if(tn(d))return!1;I=!0;continue}if(""!==J){let Ze;Ze=Ee>E?"":p[Ee+1].toLowerCase();const wt=8&d?Ze:null;if(wt&&-1!==xe(wt,J,0)||2&d&&J!==Ze){if(tn(d))return!1;I=!0}}}}else{if(!I&&!tn(d)&&!tn(B))return!1;if(I&&tn(B))continue;I=!1,d=B|1&d}}return tn(d)||I}function tn(n){return 0==(1&n)}function en(n,i,s,d){if(null===i)return-1;let p=0;if(d||!s){let E=!1;for(;p<i.length;){const I=i[p];if(I===n)return p;if(3===I||6===I)E=!0;else{if(1===I||2===I){let P=i[++p];for(;"string"==typeof P;)P=i[++p];continue}if(4===I)break;if(0===I){p+=4;continue}}p+=E?1:2}return-1}return function vi(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const d=n[s];if("number"==typeof d)return-1;if(d===i)return s;s++}return-1}(i,n)}function Gn(n,i,s=!1){for(let d=0;d<i.length;d++)if(Mn(n,i[d],s))return!0;return!1}function cs(n,i){e:for(let s=0;s<i.length;s++){const d=i[s];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function dr(n,i){return n?":not("+i.trim()+")":i}function nr(n){let i=n[0],s=1,d=2,p="",E=!1;for(;s<n.length;){let I=n[s];if("string"==typeof I)if(2&d){const P=n[++s];p+="["+I+(P.length>0?'="'+P+'"':"")+"]"}else 8&d?p+="."+I:4&d&&(p+=" "+I);else""!==p&&!tn(I)&&(i+=dr(E,p),p=""),d=I,E=E||!tn(d);s++}return""!==p&&(i+=dr(E,p)),i}const Vn={};function fs(n){Pu(Fi(),nn(),tr()+n,Zo())}function Pu(n,i,s,d){if(!d)if(3==(3&i[2])){const E=n.preOrderCheckHooks;null!==E&&Lo(i,E,s)}else{const E=n.preOrderHooks;null!==E&&Yo(i,E,0,s)}Ws(s)}function Ru(n,i){return n<<17|i<<2}function Go(n){return n>>17&32767}function Ol(n){return 2|n}function qa(n){return(131068&n)>>2}function Bo(n,i){return-131069&n|i<<2}function qd(n){return 1|n}function tm(n,i){const s=n.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const p=s[d],E=s[d+1];if(-1!==E){const I=n.data[E];Wt(p),I.contentQueries(2,i[E],E)}}}function gd(n,i,s,d,p,E,I,P,B,J){const ae=i.blueprint.slice();return ae[0]=p,ae[2]=140|d,W(ae),ae[3]=ae[15]=n,ae[8]=s,ae[10]=I||n&&n[10],ae[11]=P||n&&n[11],ae[12]=B||n&&n[12]||null,ae[9]=J||n&&n[9]||null,ae[6]=E,ae[16]=2==i.type?n[16]:ae,ae}function ec(n,i,s,d,p){let E=n.data[i];if(null===E)E=function pf(n,i,s,d,p){const E=vo(),I=_a(),B=n.data[i]=function i_(n,i,s,d,p,E){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?E:E&&E.parent,s,i,d,p);return null===n.firstChild&&(n.firstChild=B),null!==E&&(I?null==E.child&&null!==B.parent&&(E.child=B):null===E.next&&(E.next=B)),B}(n,i,s,d,p),function S(){return L.lFrame.inI18n}()&&(E.flags|=64);else if(64&E.type){E.type=s,E.value=d,E.attrs=p;const I=function oa(){const n=L.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();E.injectorIndex=null===I?-1:I.injectorIndex}return lo(E,!0),E}function md(n,i,s,d){if(0===s)return-1;const p=i.length;for(let E=0;E<s;E++)i.push(d),n.blueprint.push(d),n.data.push(null);return p}function Xd(n,i,s){Qn(i);try{const d=n.viewQuery;null!==d&&nh(1,d,s);const p=n.template;null!==p&&nm(n,i,p,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&tm(n,i),n.staticViewQueries&&nh(2,n.viewQuery,s);const E=n.components;null!==E&&function Jd(n,i){for(let s=0;s<i.length;s++)Op(n,i[s])}(i,E)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[2]&=-5,Tr()}}function eh(n,i,s,d){const p=i[2];if(256==(256&p))return;Qn(i);const E=Zo();try{W(i),function va(n){return L.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&nm(n,i,s,2,d);const I=3==(3&p);if(!E)if(I){const J=n.preOrderCheckHooks;null!==J&&Lo(i,J,null)}else{const J=n.preOrderHooks;null!==J&&Yo(i,J,0,null),Tn(i,0)}if(function Mh(n){for(let i=Sl(n);null!==i;i=Jl(i)){if(!i[2])continue;const s=i[9];for(let d=0;d<s.length;d++){const p=s[d],E=p[3];0==(1024&p[2])&&H(E,1),p[2]|=1024}}}(i),function wf(n){for(let i=Sl(n);null!==i;i=Jl(i))for(let s=10;s<i.length;s++){const d=i[s],p=d[1];Cr(d)&&eh(p,d,p.template,d[8])}}(i),null!==n.contentQueries&&tm(n,i),!E)if(I){const J=n.contentCheckHooks;null!==J&&Lo(i,J)}else{const J=n.contentHooks;null!==J&&Yo(i,J,1),Tn(i,1)}!function em(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const p=s[d];if(p<0)Ws(~p);else{const E=p,I=s[++d],P=s[++d];ie(I,E),P(2,i[E])}}}finally{Ws(-1)}}(n,i);const P=n.components;null!==P&&function Qd(n,i){for(let s=0;s<i.length;s++)Mp(n,i[s])}(i,P);const B=n.viewQuery;if(null!==B&&nh(2,B,d),!E)if(I){const J=n.viewCheckHooks;null!==J&&Lo(i,J)}else{const J=n.viewHooks;null!==J&&Yo(i,J,2),Tn(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),E||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,H(i[3],-1))}finally{Tr()}}function bp(n,i,s,d){const p=i[10],E=!Zo(),I=Ri(i);try{E&&!I&&p.begin&&p.begin(),I&&Xd(n,i,d),eh(n,i,s,d)}finally{E&&!I&&p.end&&p.end()}}function nm(n,i,s,d,p){const E=tr(),I=2&d;try{Ws(-1),I&&i.length>20&&Pu(n,i,20,Zo()),s(d,p)}finally{Ws(E)}}function gf(n,i,s){if(vs(i)){const p=i.directiveEnd;for(let E=i.directiveStart;E<p;E++){const I=n.data[E];I.contentQueries&&I.contentQueries(1,s[E],E)}}}function Ep(n,i,s){!us()||(function s_(n,i,s,d){const p=s.directiveStart,E=s.directiveEnd;n.firstCreatePass||X(s,i),xo(d,i);const I=s.initialInputs;for(let P=p;P<E;P++){const B=n.data[P],J=Dr(B);J&&a_(i,s,B);const ae=Eo(i,n,P,s);xo(ae,i),null!==I&&Sh(0,P-p,ae,B,0,I),J&&(wi(s.index,i)[8]=ae)}}(n,i,s,$t(s,i)),128==(128&s.flags)&&function o_(n,i,s){const d=s.directiveStart,p=s.directiveEnd,I=s.index,P=function pe(){return L.lFrame.currentDirectiveIndex}();try{Ws(I);for(let B=d;B<p;B++){const J=n.data[B],ae=i[B];Fe(B),(null!==J.hostBindings||0!==J.hostVars||null!==J.hostAttrs)&&Ip(J,ae)}}finally{Ws(-1),Fe(P)}}(n,i,s))}function wp(n,i,s=$t){const d=i.localNames;if(null!==d){let p=i.index+1;for(let E=0;E<d.length;E+=2){const I=d[E+1],P=-1===I?s(i,n):n[I];n[p++]=P}}}function mf(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Oo(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Oo(n,i,s,d,p,E,I,P,B,J){const ae=20+d,Ee=ae+p,Ze=function n_(n,i){const s=[];for(let d=0;d<i;d++)s.push(d<n?null:Vn);return s}(ae,Ee),wt="function"==typeof J?J():J;return Ze[1]={type:n,blueprint:Ze,template:s,queries:null,viewQuery:P,declTNode:i,data:Ze.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:B,consts:wt,incompleteFirstPass:!1}}function sm(n,i,s,d){const p=yd(i);null===s?p.push(d):(p.push(s),n.firstCreatePass&&If(n).push(d,p.length-1))}function yf(n,i,s){for(let d in n)if(n.hasOwnProperty(d)){const p=n[d];(s=null===s?{}:s).hasOwnProperty(d)?s[d].push(i,p):s[d]=[i,p]}return s}function Fa(n,i,s,d,p,E,I,P){const B=$t(i,s);let ae,J=i.inputs;!P&&null!=J&&(ae=J[d])?(kp(n,s,ae,d,p),ds(i)&&function _f(n,i){const s=wi(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(d=function am(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=I?I(p,i.value||"",d):p,Ui(E)?E.setProperty(B,d,p):ba(d)||(B.setProperty?B.setProperty(d,p):B[d]=p))}function Cp(n,i,s,d){let p=!1;if(us()){const E=function bf(n,i,s){const d=n.directiveRegistry;let p=null;if(d)for(let E=0;E<d.length;E++){const I=d[E];Gn(s,I.selectors,!1)&&(p||(p=[]),jt(X(s,i),n,I.type),Dr(I)?(th(n,s),p.unshift(I)):p.push(I))}return p}(n,i,s),I=null===d?null:{"":-1};if(null!==E){p=!0,hm(s,n.data.length,E.length);for(let ae=0;ae<E.length;ae++){const Ee=E[ae];Ee.providersResolver&&Ee.providersResolver(Ee)}let P=!1,B=!1,J=md(n,i,E.length,null);for(let ae=0;ae<E.length;ae++){const Ee=E[ae];s.mergedAttrs=Ea(s.mergedAttrs,Ee.hostAttrs),fm(n,s,i,J,Ee),dm(J,Ee,I),null!==Ee.contentQueries&&(s.flags|=8),(null!==Ee.hostBindings||null!==Ee.hostAttrs||0!==Ee.hostVars)&&(s.flags|=128);const Ze=Ee.type.prototype;!P&&(Ze.ngOnChanges||Ze.ngOnInit||Ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),P=!0),!B&&(Ze.ngOnChanges||Ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),B=!0),J++}!function om(n,i){const d=i.directiveEnd,p=n.data,E=i.attrs,I=[];let P=null,B=null;for(let J=i.directiveStart;J<d;J++){const ae=p[J],Ee=ae.inputs,Ze=null===E||xt(i)?null:xp(Ee,E);I.push(Ze),P=yf(Ee,J,P),B=yf(ae.outputs,J,B)}null!==P&&(P.hasOwnProperty("class")&&(i.flags|=16),P.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=I,i.inputs=P,i.outputs=B}(n,s)}I&&function Ap(n,i,s){if(i){const d=n.localNames=[];for(let p=0;p<i.length;p+=2){const E=s[i[p+1]];if(null==E)throw new it(-301,!1);d.push(i[p],E)}}}(s,d,I)}return s.mergedAttrs=Ea(s.mergedAttrs,s.attrs),p}function Tp(n,i,s,d,p,E){const I=E.hostBindings;if(I){let P=n.hostBindingOpCodes;null===P&&(P=n.hostBindingOpCodes=[]);const B=~i.index;(function r_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(P)!=B&&P.push(B),P.push(d,p,I)}}function Ip(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function th(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function dm(n,i,s){if(s){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)s[i.exportAs[d]]=n;Dr(i)&&(s[""]=n)}}function hm(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function fm(n,i,s,d,p){n.data[d]=p;const E=p.factory||(p.factory=Wr(p.type)),I=new sr(E,Dr(p),null);n.blueprint[d]=I,s[d]=I,Tp(n,i,0,d,md(n,s,p.hostVars,Vn),p)}function a_(n,i,s){const d=$t(i,n),p=mf(s),E=n[10],I=nu(n,gd(n,p,null,s.onPush?64:16,d,i,E,E.createRenderer(d,s),null,null));n[i.index]=I}function ku(n,i,s,d,p,E){const I=$t(n,i);!function Sp(n,i,s,d,p,E,I){if(null==E)Ui(n)?n.removeAttribute(i,p,s):i.removeAttribute(p);else{const P=null==I?Xe(E):I(E,d||"",p);Ui(n)?n.setAttribute(i,p,P,s):s?i.setAttributeNS(s,p,P):i.setAttribute(p,P)}}(i[11],I,E,n.value,s,d,p)}function Sh(n,i,s,d,p,E){const I=E[i];if(null!==I){const P=d.setInput;for(let B=0;B<I.length;){const J=I[B++],ae=I[B++],Ee=I[B++];null!==P?d.setInput(s,Ee,J,ae):s[ae]=Ee}}}function xp(n,i){let s=null,d=0;for(;d<i.length;){const p=i[d];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===s&&(s=[]),s.push(p,n[p],i[d+1])),d+=2}else d+=2;else d+=4}return s}function Ef(n,i,s,d){return new Array(n,!0,!1,i,null,0,d,s,null,null)}function Mp(n,i){const s=wi(i,n);if(Cr(s)){const d=s[1];80&s[2]?eh(d,s,d.template,s[8]):s[5]>0&&Df(s)}}function Df(n){for(let d=Sl(n);null!==d;d=Jl(d))for(let p=10;p<d.length;p++){const E=d[p];if(1024&E[2]){const I=E[1];eh(I,E,I.template,E[8])}else E[5]>0&&Df(E)}const s=n[1].components;if(null!==s)for(let d=0;d<s.length;d++){const p=wi(s[d],n);Cr(p)&&p[5]>0&&Df(p)}}function Op(n,i){const s=wi(i,n),d=s[1];(function Pp(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(d,s),Xd(d,s,s[8])}function nu(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Cf(n){for(;n;){n[2]|=64;const i=_r(n);if(Vs(n)&&!i)return n;n=i}return null}function Rp(n,i,s){const d=i[10];d.begin&&d.begin();try{eh(n,i,n.template,s)}catch(p){throw ym(i,p),p}finally{d.end&&d.end()}}function Tf(n){!function Oh(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],d=wc(s),p=d[1];bp(p,d,p.template,s)}}(n[8])}function nh(n,i,s){Wt(0),i(n,s)}const gm=(()=>Promise.resolve(null))();function yd(n){return n[7]||(n[7]=[])}function If(n){return n.cleanup||(n.cleanup=[])}function mm(n,i,s){return(null===n||Dr(n))&&(s=function ue(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[i.index])),s[11]}function ym(n,i){const s=n[9],d=s?s.get(Do,null):null;d&&d.handleError(i)}function kp(n,i,s,d,p){for(let E=0;E<s.length;){const I=s[E++],P=s[E++],B=i[I],J=n.data[I];null!==J.setInput?J.setInput(B,p,d,P):B[P]=p}}function Lu(n,i,s){const d=Pt(i,n);!function cd(n,i,s){Ui(n)?n.setValue(i,s):i.textContent=s}(n[11],d,s)}function Af(n,i,s){let d=s?n.styles:null,p=s?n.classes:null,E=0;if(null!==i)for(let I=0;I<i.length;I++){const P=i[I];"number"==typeof P?E=P:1==E?p=Te(p,P):2==E&&(d=Te(d,P+": "+i[++I]+";"))}s?n.styles=d:n.stylesWithoutHost=d,s?n.classes=p:n.classesWithoutHost=p}const Fp=new Hr("INJECTOR",-1);class Sf{get(i,s=Ta){if(s===Ta){const d=new Error(`NullInjectorError: No provider for ${Ce(i)}!`);throw d.name="NullInjectorError",d}return s}}const Vp=new Hr("Set Injector scope."),_d={},vm={};let Ph;function xf(){return void 0===Ph&&(Ph=new Sf),Ph}function Mf(n,i=null,s=null,d){const p=vd(n,i,s,d);return p._resolveInjectorDefTypes(),p}function vd(n,i=null,s=null,d){return new kc(n,s,i||xf(),d)}class kc{constructor(i,s,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const E=[];s&&Jo(s,P=>this.processProvider(P,i,s)),Jo([i],P=>this.processInjectorType(P,[],E)),this.records.set(Fp,iu(void 0,this));const I=this.records.get(Vp);this.scope=null!=I?I.value:null,this.source=p||("object"==typeof i?null:Ce(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Ta,d=vn.Default){this.assertNotDestroyed();const p=yn(this),E=wn(void 0);try{if(!(d&vn.SkipSelf)){let P=this.records.get(i);if(void 0===P){const B=function f_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Hr}(i)&&qt(i);P=B&&this.injectableDefInScope(B)?iu(Rh(i),_d):null,this.records.set(i,P)}if(null!=P)return this.hydrate(i,P)}return(d&vn.Self?xf():this.parent).get(i,s=d&vn.Optional&&s===Ta?null:s)}catch(I){if("NullInjectorError"===I.name){if((I[pu]=I[pu]||[]).unshift(Ce(i)),p)throw I;return function ea(n,i,s,d){const p=n[pu];throw i[Ae]&&p.unshift(i[Ae]),n.message=function gu(n,i,s,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let p=Ce(i);if(Array.isArray(i))p=i.map(Ce).join(" -> ");else if("object"==typeof i){let E=[];for(let I in i)if(i.hasOwnProperty(I)){let P=i[I];E.push(I+":"+("string"==typeof P?JSON.stringify(P):Ce(P)))}p=`{${E.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${n.replace(K,"\n  ")}`}("\n"+n.message,p,s,d),n.ngTokenPath=p,n[pu]=null,n}(I,i,"R3InjectorError",this.source)}throw I}finally{wn(E),yn(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((d,p)=>i.push(Ce(p))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processInjectorType(i,s,d){if(!(i=be(i)))return!1;let p=si(i);const E=null==p&&i.ngModule||void 0,I=void 0===E?i:E,P=-1!==d.indexOf(I);if(void 0!==E&&(p=si(E)),null==p)return!1;if(null!=p.imports&&!P){let ae;d.push(I);try{Jo(p.imports,Ee=>{this.processInjectorType(Ee,s,d)&&(void 0===ae&&(ae=[]),ae.push(Ee))})}finally{}if(void 0!==ae)for(let Ee=0;Ee<ae.length;Ee++){const{ngModule:Ze,providers:wt}=ae[Ee];Jo(wt,Qt=>this.processProvider(Qt,Ze,wt||sn))}}this.injectorDefTypes.add(I);const B=Wr(I)||(()=>new I);this.records.set(I,iu(B,_d));const J=p.providers;if(null!=J&&!P){const ae=i;Jo(J,Ee=>this.processProvider(Ee,ae,J))}return void 0!==E&&void 0!==i.providers}processProvider(i,s,d){let p=Lc(i=be(i))?i:be(i&&i.provide);const E=function rh(n,i,s){return bm(n)?iu(void 0,n.useValue):iu(Bp(n),_d)}(i);if(Lc(i)||!0!==i.multi)this.records.get(p);else{let I=this.records.get(p);I||(I=iu(void 0,_d,!0),I.factory=()=>Oi(I.multi),this.records.set(p,I)),p=i,I.multi.push(i)}this.records.set(p,E)}hydrate(i,s){return s.value===_d&&(s.value=vm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function h_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=be(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Rh(n){const i=qt(n),s=null!==i?i.factory:Wr(n);if(null!==s)return s;if(n instanceof Hr)throw new it(204,!1);if(n instanceof Function)return function ih(n){const i=n.length;if(i>0)throw So(i,"?"),new it(204,!1);const s=function ti(n){const i=n&&(n[qn]||n[fi]);if(i){const s=function Ci(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new it(204,!1)}function Bp(n,i,s){let d;if(Lc(n)){const p=be(n);return Wr(p)||Rh(p)}if(bm(n))d=()=>be(n.useValue);else if(function Up(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Oi(n.deps||[]));else if(function d_(n){return!(!n||!n.useExisting)}(n))d=()=>ri(be(n.useExisting));else{const p=be(n&&(n.useClass||n.provide));if(!function Hp(n){return!!n.deps}(n))return Wr(p)||Rh(p);d=()=>new p(...Oi(n.deps))}return d}function iu(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function bm(n){return null!==n&&"object"==typeof n&&mt in n}function Lc(n){return"function"==typeof n}let Pl=(()=>{class n{static create(s,d){var p;if(Array.isArray(s))return Mf({name:""},d,s,"");{const E=null!==(p=s.name)&&void 0!==p?p:"";return Mf({name:E},s.parent,s.providers,E)}}}return n.THROW_IF_NOT_FOUND=Ta,n.NULL=new Sf,n.\u0275prov=Rt({token:n,providedIn:"any",factory:()=>ri(Fp)}),n.__NG_ELEMENT_ID__=-1,n})();function Zp(n,i){Yr(wc(n)[1],Sr())}function Lh(n){let i=function Rf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const d=[n];for(;i;){let p;if(Dr(n))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new it(903,"");p=i.\u0275dir}if(p){if(s){d.push(p);const I=n;I.inputs=Fc(n.inputs),I.declaredInputs=Fc(n.declaredInputs),I.outputs=Fc(n.outputs);const P=p.hostBindings;P&&m_(n,P);const B=p.viewQuery,J=p.contentQueries;if(B&&Rm(n,B),J&&Yp(n,J),Re(n.inputs,p.inputs),Re(n.declaredInputs,p.declaredInputs),Re(n.outputs,p.outputs),Dr(p)&&p.data.animation){const ae=n.data;ae.animation=(ae.animation||[]).concat(p.data.animation)}}const E=p.features;if(E)for(let I=0;I<E.length;I++){const P=E[I];P&&P.ngInherit&&P(n),P===Lh&&(s=!1)}}i=Object.getPrototypeOf(i)}!function qp(n){let i=0,s=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=i+=p.hostVars,p.hostAttrs=Ea(p.hostAttrs,s=Ea(s,p.hostAttrs))}}(d)}function Fc(n){return n===gi?{}:n===sn?[]:n}function Rm(n,i){const s=n.viewQuery;n.viewQuery=s?(d,p)=>{i(d,p),s(d,p)}:i}function Yp(n,i){const s=n.contentQueries;n.contentQueries=s?(d,p,E)=>{i(d,p,E),s(d,p,E)}:i}function m_(n,i){const s=n.hostBindings;n.hostBindings=s?(d,p)=>{i(d,p),s(d,p)}:i}let Nf=null;function Vc(){if(!Nf){const n=Nn.Symbol;if(n&&n.iterator)Nf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const d=i[s];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Nf=d)}}}return Nf}function Fh(n){return!!Vh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Vc()in n)}function Vh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fu(n,i,s){return n[i]=s}function Aa(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function nc(n,i,s,d){const p=Aa(n,i,s);return Aa(n,i+1,d)||p}function kf(n,i,s,d){const p=nn();return Aa(p,ee(),i)&&(Fi(),ku(ur(),p,n,i,s,d)),kf}function oh(n,i,s,d){return Aa(n,ee(),s)?i+Xe(s)+d:Vn}function Bc(n,i,s,d,p,E){const P=nc(n,function Gs(){return L.lFrame.bindingIndex}(),s,p);return C(2),P?i+Xe(s)+d+Xe(p)+E:Vn}function Ff(n,i,s,d,p,E,I,P){const B=nn(),J=Fi(),ae=n+20,Ee=J.firstCreatePass?function Bm(n,i,s,d,p,E,I,P,B){const J=i.consts,ae=ec(i,n,4,I||null,ar(J,P));Cp(i,s,ae,ar(J,B)),Yr(i,ae);const Ee=ae.tViews=Oo(2,ae,d,p,E,i.directiveRegistry,i.pipeRegistry,null,i.schemas,J);return null!==i.queries&&(i.queries.template(i,ae),Ee.queries=i.queries.embeddedTView(ae)),ae}(ae,J,B,i,s,d,p,E,I):J.data[ae];lo(Ee,!1);const Ze=B[11].createComment("");u(J,B,Ze,Ee),xo(Ze,B),nu(B,B[ae]=Ef(Ze,B,Ze,Ee)),ss(Ee)&&Ep(J,B,Ee),null!=I&&wp(B,Ee,P)}function Vf(n){return Li(function Ba(){return L.lFrame.contextLView}(),20+n)}function zh(n,i=vn.Default){const s=nn();return null===s?ri(n,i):gt(Sr(),s,be(n),i)}function Ys(){throw new Error("invalid")}function Zm(n,i,s){const d=nn();return Aa(d,ee(),i)&&Fa(Fi(),ur(),d,n,i,d[11],s,!1),Zm}function qm(n,i,s,d,p){const I=p?"class":"style";kp(n,s,i.inputs[I],I,d)}function Gh(n,i,s,d){const p=nn(),E=Fi(),I=20+n,P=p[11],B=p[I]=xc(P,i,function qo(){return L.lFrame.currentNamespace}()),J=E.firstCreatePass?function Uo(n,i,s,d,p,E,I){const P=i.consts,J=ec(i,n,2,p,ar(P,E));return Cp(i,s,J,ar(P,I)),null!==J.attrs&&Af(J,J.attrs,!1),null!==J.mergedAttrs&&Af(J,J.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,J),J}(I,E,p,0,i,s,d):E.data[I];lo(J,!0);const ae=J.mergedAttrs;null!==ae&&Ks(P,B,ae);const Ee=J.classes;null!==Ee&&he(P,B,Ee);const Ze=J.styles;return null!==Ze&&te(P,B,Ze),64!=(64&J.flags)&&u(E,p,B,J),0===function Ot(){return L.lFrame.elementDepthCount}()&&xo(B,p),function Un(){L.lFrame.elementDepthCount++}(),ss(J)&&(Ep(E,p,J),gf(E,J,p)),null!==d&&wp(p,J),Gh}function zf(){let n=Sr();_a()?Qa():(n=n.parent,lo(n,!1));const i=n;!function zi(){L.lFrame.elementDepthCount--}();const s=Fi();return s.firstCreatePass&&(Yr(s,n),vs(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function uo(n){return 0!=(16&n.flags)}(i)&&qm(s,i,nn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function co(n){return 0!=(32&n.flags)}(i)&&qm(s,i,nn(),i.stylesWithoutHost,!1),zf}function fg(n,i,s,d){return Gh(n,i,s,d),zf(),fg}function Gf(n,i,s){const d=nn(),p=Fi(),E=n+20,I=p.firstCreatePass?function A_(n,i,s,d,p){const E=i.consts,I=ar(E,d),P=ec(i,n,8,"ng-container",I);return null!==I&&Af(P,I,!0),Cp(i,s,P,ar(E,p)),null!==i.queries&&i.queries.elementStart(i,P),P}(E,p,d,i,s):p.data[E];lo(I,!0);const P=d[E]=d[11].createComment("");return u(p,d,P,I),xo(P,d),ss(I)&&(Ep(p,d,I),gf(p,I,d)),null!=s&&wp(d,I),Gf}function Wf(){let n=Sr();const i=Fi();return _a()?Qa():(n=n.parent,lo(n,!1)),i.firstCreatePass&&(Yr(i,n),vs(n)&&i.queries.elementEnd(n)),Wf}function pg(n,i,s){return Gf(n,i,s),Wf(),pg}function S_(){return nn()}function gg(n){return!!n&&"function"==typeof n.then}function Ym(n){return!!n&&"function"==typeof n.subscribe}const mg=Ym;function su(n,i,s,d){const p=nn(),E=Fi(),I=Sr();return $c(E,p,p[11],I,n,i,!!s,d),su}function Qm(n,i){const s=Sr(),d=nn(),p=Fi();return $c(p,d,mm(Ue(p.data),s,d),s,n,i,!1),Qm}function $c(n,i,s,d,p,E,I,P){const B=ss(d),ae=n.firstCreatePass&&If(n),Ee=i[8],Ze=yd(i);let wt=!0;if(3&d.type||P){const Hn=$t(d,i),ai=P?P(Hn):Hn,hn=Ze.length,Pi=P?Rr=>P($(Rr[d.index])):d.index;if(Ui(s)){let Rr=null;if(!P&&B&&(Rr=function Vu(n,i,s,d){const p=n.cleanup;if(null!=p)for(let E=0;E<p.length-1;E+=2){const I=p[E];if(I===s&&p[E+1]===d){const P=i[7],B=p[E+2];return P.length>B?P[B]:null}"string"==typeof I&&(E+=2)}return null}(n,i,p,d.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=E,Rr.__ngLastListenerFn__=E,wt=!1;else{E=yg(d,i,Ee,E,!1);const As=s.listen(ai,p,E);Ze.push(E,As),ae&&ae.push(p,Pi,hn,hn+1)}}else E=yg(d,i,Ee,E,!0),ai.addEventListener(p,E,I),Ze.push(E),ae&&ae.push(p,Pi,hn,I)}else E=yg(d,i,Ee,E,!1);const Qt=d.outputs;let On;if(wt&&null!==Qt&&(On=Qt[p])){const Hn=On.length;if(Hn)for(let ai=0;ai<Hn;ai+=2){const lu=i[On[ai]][On[ai+1]].subscribe(E),nf=Ze.length;Ze.push(E,lu),ae&&ae.push(p,d.index,nf,-(nf+1))}}}function Wh(n,i,s,d){try{return!1!==s(d)}catch(p){return ym(n,p),!1}}function yg(n,i,s,d,p){return function E(I){if(I===Function)return d;const P=2&n.flags?wi(n.index,i):i;0==(32&i[2])&&Cf(P);let B=Wh(i,0,d,I),J=E.__ngNextListenerFn__;for(;J;)B=Wh(i,0,J,I)&&B,J=J.__ngNextListenerFn__;return p&&!1===B&&(I.preventDefault(),I.returnValue=!1),B}}function Jm(n=1){return function qr(n){return(L.lFrame.contextLView=function gs(n,i){for(;n>0;)i=i[15],n--;return i}(n,L.lFrame.contextLView))[8]}(n)}function Xm(n,i){let s=null;const d=function Wn(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(n);for(let p=0;p<i.length;p++){const E=i[p];if("*"!==E){if(null===d?Gn(n,E,!0):cs(d,E))return p}else s=p}return s}function _g(n){const i=nn()[16][6];if(!i.projection){const d=i.projection=So(n?n.length:1,null),p=d.slice();let E=i.child;for(;null!==E;){const I=n?Xm(E,n):0;null!==I&&(p[I]?p[I].projectionNext=E:d[I]=E,p[I]=E),E=E.next}}}function Kh(n,i=0,s){const d=nn(),p=Fi(),E=ec(p,20+n,16,null,s||null);null===E.projection&&(E.projection=i),Qa(),64!=(64&E.flags)&&function w(n,i,s){A(i[11],0,i,s,Dh(n,s,i),Ml(s.parent||i[6],s,i))}(p,d,E)}function vg(n,i,s){return ic(n,"",i,"",s),vg}function ic(n,i,s,d,p){const E=nn(),I=oh(E,i,s,d);return I!==Vn&&Fa(Fi(),ur(),E,n,I,E[11],p,!1),ic}function Eg(n,i,s,d,p){const E=n[s+1],I=null===i;let P=d?Go(E):qa(E),B=!1;for(;0!==P&&(!1===B||I);){const ae=n[P+1];sy(n[P],i)&&(B=!0,n[P+1]=d?qd(ae):Ol(ae)),P=d?Go(ae):qa(ae)}B&&(n[s+1]=d?Ol(E):qd(E))}function sy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Ja(n,i)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qf(n){return n.substring(Po.key,Po.keyEnd)}function qh(n,i){const s=Po.textEnd;return s===i?-1:(i=Po.keyEnd=function Td(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,Po.key=i,s),rc(n,i,s))}function rc(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Qf(n,i,s){return ou(n,i,s,!1),Qf}function Id(n,i){return ou(n,i,null,!0),Id}function uy(n){Nl(go,Bu,n,!0)}function Bu(n,i){for(let s=function Yf(n){return function ay(n){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=n.length}(n),qh(n,rc(n,0,Po.textEnd))}(i);s>=0;s=qh(i,s))go(n,qf(i),!0)}function ou(n,i,s,d){const p=nn(),E=Fi(),I=C(2);E.firstUpdatePass&&dy(E,n,I,d),i!==Vn&&Aa(p,I,i)&&Cg(E,E.data[tr()],p,p[11],n,p[I+1]=function N_(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ce(Ia(n)))),n}(i,s),d,I)}function Nl(n,i,s,d){const p=Fi(),E=C(2);p.firstUpdatePass&&dy(p,null,E,d);const I=nn();if(s!==Vn&&Aa(I,E,s)){const P=p.data[tr()];if(Tg(P,d)&&!cy(p,E)){let B=d?P.classesWithoutHost:P.stylesWithoutHost;null!==B&&(s=Te(B,s||"")),qm(p,P,I,s,d)}else!function gy(n,i,s,d,p,E,I,P){p===Vn&&(p=sn);let B=0,J=0,ae=0<p.length?p[0]:null,Ee=0<E.length?E[0]:null;for(;null!==ae||null!==Ee;){const Ze=B<p.length?p[B+1]:void 0,wt=J<E.length?E[J+1]:void 0;let On,Qt=null;ae===Ee?(B+=2,J+=2,Ze!==wt&&(Qt=Ee,On=wt)):null===Ee||null!==ae&&ae<Ee?(B+=2,Qt=ae):(J+=2,Qt=Ee,On=wt),null!==Qt&&Cg(n,i,s,d,Qt,On,I,P),ae=B<p.length?p[B]:null,Ee=J<E.length?E[J]:null}}(p,P,I,I[11],I[E+1],I[E+1]=function py(n,i,s){if(null==s||""===s)return sn;const d=[],p=Ia(s);if(Array.isArray(p))for(let E=0;E<p.length;E++)n(d,p[E],!0);else if("object"==typeof p)for(const E in p)p.hasOwnProperty(E)&&n(d,E,p[E]);else"string"==typeof p&&i(d,p);return d}(n,i,s),d,E)}}function cy(n,i){return i>=n.expandoStartIndex}function dy(n,i,s,d){const p=n.data;if(null===p[s+1]){const E=p[tr()],I=cy(n,s);Tg(E,d)&&null===i&&!I&&(i=!1),i=function hy(n,i,s,d){const p=Ue(n);let E=d?i.residualClasses:i.residualStyles;if(null===p)0===(d?i.classBindings:i.styleBindings)&&(s=Yh(s=wg(null,n,i,s,d),i.attrs,d),E=null);else{const I=i.directiveStylingLast;if(-1===I||n[I]!==p)if(s=wg(p,n,i,s,d),null===E){let B=function P_(n,i,s){const d=s?i.classBindings:i.styleBindings;if(0!==qa(d))return n[Go(d)]}(n,i,d);void 0!==B&&Array.isArray(B)&&(B=wg(null,n,i,B[1],d),B=Yh(B,i.attrs,d),function R_(n,i,s,d){n[Go(s?i.classBindings:i.styleBindings)]=d}(n,i,d,B))}else E=function fy(n,i,s){let d;const p=i.directiveEnd;for(let E=1+i.directiveStylingLast;E<p;E++)d=Yh(d,n[E].hostAttrs,s);return Yh(d,i.attrs,s)}(n,i,d)}return void 0!==E&&(d?i.residualClasses=E:i.residualStyles=E),s}(p,E,i,d),function ry(n,i,s,d,p,E){let I=E?i.classBindings:i.styleBindings,P=Go(I),B=qa(I);n[d]=s;let ae,J=!1;if(Array.isArray(s)){const Ee=s;ae=Ee[1],(null===ae||Ja(Ee,ae)>0)&&(J=!0)}else ae=s;if(p)if(0!==B){const Ze=Go(n[P+1]);n[d+1]=Ru(Ze,P),0!==Ze&&(n[Ze+1]=Bo(n[Ze+1],d)),n[P+1]=function eu(n,i){return 131071&n|i<<17}(n[P+1],d)}else n[d+1]=Ru(P,0),0!==P&&(n[P+1]=Bo(n[P+1],d)),P=d;else n[d+1]=Ru(B,0),0===P?P=d:n[B+1]=Bo(n[B+1],d),B=d;J&&(n[d+1]=Ol(n[d+1])),Eg(n,ae,d,!0),Eg(n,ae,d,!1),function Cd(n,i,s,d,p){const E=p?n.residualClasses:n.residualStyles;null!=E&&"string"==typeof i&&Ja(E,i)>=0&&(s[d+1]=qd(s[d+1]))}(i,ae,n,d,E),I=Ru(P,B),E?i.classBindings=I:i.styleBindings=I}(p,E,i,s,I,d)}}function wg(n,i,s,d,p){let E=null;const I=s.directiveEnd;let P=s.directiveStylingLast;for(-1===P?P=s.directiveStart:P++;P<I&&(E=i[P],d=Yh(d,E.hostAttrs,p),E!==n);)P++;return null!==n&&(s.directiveStylingLast=P),d}function Yh(n,i,s){const d=s?1:2;let p=-1;if(null!==i)for(let E=0;E<i.length;E++){const I=i[E];"number"==typeof I?p=I:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),go(n,I,!!s||i[++E]))}return void 0===n?null:n}function Cg(n,i,s,d,p,E,I,P){if(!(3&i.type))return;const B=n.data,J=B[P+1];Ad(function hd(n){return 1==(1&n)}(J)?Jf(B,i,s,p,qa(J),I):void 0)||(Ad(E)||function Xl(n){return 2==(2&n)}(J)&&(E=Jf(B,null,s,p,P,I)),function Z(n,i,s,d,p){const E=Ui(n);if(i)p?E?n.addClass(s,d):s.classList.add(d):E?n.removeClass(s,d):s.classList.remove(d);else{let I=-1===d.indexOf("-")?void 0:Bt.DashCase;if(null==p)E?n.removeStyle(s,d,I):s.style.removeProperty(d);else{const P="string"==typeof p&&p.endsWith("!important");P&&(p=p.slice(0,-10),I|=Bt.Important),E?n.setStyle(s,d,p,I):s.style.setProperty(d,p,P?"important":"")}}}(d,I,Pt(tr(),s),p,E))}function Jf(n,i,s,d,p,E){const I=null===i;let P;for(;p>0;){const B=n[p],J=Array.isArray(B),ae=J?B[1]:B,Ee=null===ae;let Ze=s[p+1];Ze===Vn&&(Ze=Ee?sn:void 0);let wt=Ee?ca(Ze,d):ae===d?Ze:void 0;if(J&&!Ad(wt)&&(wt=ca(B,d)),Ad(wt)&&(P=wt,I))return P;const Qt=n[p+1];p=I?Go(Qt):qa(Qt)}if(null!==i){let B=E?i.residualClasses:i.residualStyles;null!=B&&(P=ca(B,d))}return P}function Ad(n){return void 0!==n}function Tg(n,i){return 0!=(n.flags&(i?16:32))}function oc(n,i=""){const s=nn(),d=Fi(),p=n+20,E=d.firstCreatePass?ec(d,p,1,i,null):d.data[p],I=s[p]=function Mu(n,i){return Ui(n)?n.createText(i):n.createTextNode(i)}(s[11],i);u(d,s,I,E),lo(E,!1)}function Ig(n){return Uu("",n,""),Ig}function Uu(n,i,s){const d=nn(),p=oh(d,n,i,s);return p!==Vn&&Lu(d,tr(),p),Uu}function Ag(n,i,s,d,p){const E=nn(),I=Bc(E,n,i,s,d,p);return I!==Vn&&Lu(E,tr(),I),Ag}function Ey(n,i,s){Nl(go,Bu,oh(nn(),n,i,s),!0)}function ep(n,i,s){const d=nn();return Aa(d,ee(),i)&&Fa(Fi(),ur(),d,n,i,d[11],s,!0),ep}function tp(n,i,s){const d=nn();if(Aa(d,ee(),i)){const E=Fi(),I=ur();Fa(E,I,d,n,i,mm(Ue(E.data),I,d),s,!0)}return tp}const cl=void 0;var Va=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kl(n){const s=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let Sd={};function xd(n){const i=function Md(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Ay(i);if(s)return s;const d=i.split("-")[0];if(s=Ay(d),s)return s;if("en"===d)return Va;throw new Error(`Missing locale data for the locale "${n}".`)}function xa(n){return xd(n)[bi.PluralCase]}function Ay(n){return n in Sd||(Sd[n]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[n]),Sd[n]}var bi=(()=>((bi=bi||{})[bi.LocaleId=0]="LocaleId",bi[bi.DayPeriodsFormat=1]="DayPeriodsFormat",bi[bi.DayPeriodsStandalone=2]="DayPeriodsStandalone",bi[bi.DaysFormat=3]="DaysFormat",bi[bi.DaysStandalone=4]="DaysStandalone",bi[bi.MonthsFormat=5]="MonthsFormat",bi[bi.MonthsStandalone=6]="MonthsStandalone",bi[bi.Eras=7]="Eras",bi[bi.FirstDayOfWeek=8]="FirstDayOfWeek",bi[bi.WeekendRange=9]="WeekendRange",bi[bi.DateFormat=10]="DateFormat",bi[bi.TimeFormat=11]="TimeFormat",bi[bi.DateTimeFormat=12]="DateTimeFormat",bi[bi.NumberSymbols=13]="NumberSymbols",bi[bi.NumberFormats=14]="NumberFormats",bi[bi.CurrencyCode=15]="CurrencyCode",bi[bi.CurrencySymbol=16]="CurrencySymbol",bi[bi.CurrencyName=17]="CurrencyName",bi[bi.Currencies=18]="Currencies",bi[bi.Directionality=19]="Directionality",bi[bi.PluralCase=20]="PluralCase",bi[bi.ExtraData=21]="ExtraData",bi))();const ip="en-US";let xy=ip;function J_(n,i,s,d,p){if(n=be(n),Array.isArray(n))for(let E=0;E<n.length;E++)J_(n[E],i,s,d,p);else{const E=Fi(),I=nn();let P=Lc(n)?n:be(n.provide),B=Bp(n);const J=Sr(),ae=1048575&J.providerIndexes,Ee=J.directiveStart,Ze=J.providerIndexes>>20;if(Lc(n)||!n.multi){const wt=new sr(B,p,zh),Qt=ev(P,i,p?ae:ae+Ze,Ee);-1===Qt?(jt(X(J,I),E,P),X_(E,n,i.length),i.push(P),J.directiveStart++,J.directiveEnd++,p&&(J.providerIndexes+=1048576),s.push(wt),I.push(wt)):(s[Qt]=wt,I[Qt]=wt)}else{const wt=ev(P,i,ae+Ze,Ee),Qt=ev(P,i,ae,ae+Ze),On=wt>=0&&s[wt],Hn=Qt>=0&&s[Qt];if(p&&!Hn||!p&&!On){jt(X(J,I),E,P);const ai=function hE(n,i,s,d,p){const E=new sr(n,s,zh);return E.multi=[],E.index=i,E.componentProviders=0,p0(E,p,d&&!s),E}(p?dE:cE,s.length,p,d,B);!p&&Hn&&(s[Qt].providerFactory=ai),X_(E,n,i.length,0),i.push(P),J.directiveStart++,J.directiveEnd++,p&&(J.providerIndexes+=1048576),s.push(ai),I.push(ai)}else X_(E,n,wt>-1?wt:Qt,p0(s[p?Qt:wt],B,!p&&d));!p&&d&&Hn&&s[Qt].componentProviders++}}}function X_(n,i,s,d){const p=Lc(i),E=function jp(n){return!!n.useClass}(i);if(p||E){const B=(E?be(i.useClass):i).prototype.ngOnDestroy;if(B){const J=n.destroyHooks||(n.destroyHooks=[]);if(!p&&i.multi){const ae=J.indexOf(s);-1===ae?J.push(s,[d,B]):J[ae+1].push(d,B)}else J.push(s,B)}}}function p0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function ev(n,i,s,d){for(let p=s;p<d;p++)if(i[p]===n)return p;return-1}function cE(n,i,s,d){return tv(this.multi,[])}function dE(n,i,s,d){const p=this.multi;let E;if(this.providerFactory){const I=this.providerFactory.componentProviders,P=Eo(s,s[1],this.providerFactory.index,d);E=P.slice(0,I),tv(p,E);for(let B=I;B<P.length;B++)E.push(P[B])}else E=[],tv(p,E);return E}function tv(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function g0(n,i=[]){return s=>{s.providersResolver=(d,p)=>function uE(n,i,s){const d=Fi();if(d.firstCreatePass){const p=Dr(n);J_(s,d.data,d.blueprint,p,!0),J_(i,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,i)}}class m0{}class gE{resolveComponentFactory(i){throw function pE(n){const i=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Vy=(()=>{class n{}return n.NULL=new gE,n})();function mE(){return ap(Sr(),nn())}function ap(n,i){return new Bg($t(n,i))}let Bg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=mE,n})();function yE(n){return n instanceof Bg?n.nativeElement:n}class _0{}let _E=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bE(){const n=nn(),s=wi(Sr().index,n);return function vE(n){return n[11]}(Ji(s)?s:n)}(),n})(),EE=(()=>{class n{}return n.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const b0=new v0("13.3.3"),nv={};function By(n,i,s,d,p=!1){for(;null!==s;){const E=i[s.index];if(null!==E&&d.push($(E)),Br(E))for(let P=10;P<E.length;P++){const B=E[P],J=B[1].firstChild;null!==J&&By(B[1],B,J,d)}const I=s.type;if(8&I)By(n,i,s.child,d);else if(32&I){const P=Ln(s,i);let B;for(;B=P();)d.push(B)}else if(16&I){const P=a(i,s);if(Array.isArray(P))d.push(...P);else{const B=_r(i[16]);By(B[1],B,P,d,!0)}}s=p?s.projectionNext:s.next}return d}class Ug{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return By(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Br(i)){const s=i[8],d=s?s.indexOf(this):-1;d>-1&&(Wd(i,d),po(s,d))}this._attachedToViewContainer=!1}of(this._lView[1],this._lView)}onDestroy(i){sm(this._lView[1],this._lView,null,i)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function u_(n,i,s){Ds(!0);try{Rp(n,i,s)}finally{Ds(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new it(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Eh(n,i){_(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new it(902,"");this._appRef=i}}class wE extends Ug{constructor(i){super(i),this._view=i}detectChanges(){Tf(this._view)}checkNoChanges(){!function Np(n){Ds(!0);try{Tf(n)}finally{Ds(!1)}}(this._view)}get context(){return null}}class E0 extends Vy{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=qe(i);return new iv(s,this.ngModule)}}function w0(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class iv extends m0{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Is(n){return n.map(nr).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(i,s,d,p){const E=(p=p||this.ngModule)?function CE(n,i){return{get:(s,d,p)=>{const E=n.get(s,nv,p);return E!==nv||d===nv?E:i.get(s,d,p)}}}(i,p.injector):i,I=E.get(_0,z),P=E.get(EE,null),B=I.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ae=d?function rm(n,i,s){if(Ui(n))return n.selectRootElement(i,s===Mt.ShadowDom);let d="string"==typeof i?n.querySelector(i):i;return d.textContent="",d}(B,d,this.componentDef.encapsulation):xc(I.createRenderer(null,this.componentDef),J,function DE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),Ee=this.componentDef.onPush?576:528,Ze=function Pm(n,i){return{components:[],scheduler:n||zd,clean:gm,playerHandler:i||null,flags:0}}(),wt=Oo(0,null,null,1,0,null,null,null,null,null),Qt=gd(null,wt,Ze,Ee,null,null,I,B,P,E);let On,Hn;Qn(Qt);try{const ai=function Om(n,i,s,d,p,E){const I=s[1];s[20]=n;const B=ec(I,20,2,"#host",null),J=B.mergedAttrs=i.hostAttrs;null!==J&&(Af(B,J,!0),null!==n&&(Ks(p,n,J),null!==B.classes&&he(p,n,B.classes),null!==B.styles&&te(p,n,B.styles)));const ae=d.createRenderer(n,i),Ee=gd(s,mf(i),null,i.onPush?64:16,s[20],B,d,ae,E||null,null);return I.firstCreatePass&&(jt(X(B,s),I,i.type),th(I,B),hm(B,s.length,1)),nu(s,Ee),s[20]=Ee}(ae,this.componentDef,Qt,I,B);if(ae)if(d)Ks(B,ae,["ng-version",b0.full]);else{const{attrs:hn,classes:Pi}=function ra(n){const i=[],s=[];let d=1,p=2;for(;d<n.length;){let E=n[d];if("string"==typeof E)2===p?""!==E&&i.push(E,n[++d]):8===p&&s.push(E);else{if(!tn(p))break;p=E}d++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);hn&&Ks(B,ae,hn),Pi&&Pi.length>0&&he(B,ae,Pi.join(" "))}if(Hn=Yi(wt,20),void 0!==s){const hn=Hn.projection=[];for(let Pi=0;Pi<this.ngContentSelectors.length;Pi++){const Rr=s[Pi];hn.push(null!=Rr?Array.from(Rr):null)}}On=function Pf(n,i,s,d,p){const E=s[1],I=function cm(n,i,s){const d=Sr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),fm(n,d,i,md(n,i,1,null),s));const p=Eo(i,n,d.directiveStart,d);xo(p,i);const E=$t(d,i);return E&&xo(E,i),p}(E,s,i);if(d.components.push(I),n[8]=I,p&&p.forEach(B=>B(I,i)),i.contentQueries){const B=Sr();i.contentQueries(1,I,B.directiveStart)}const P=Sr();return!E.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Ws(P.index),Tp(s[1],P,0,P.directiveStart,P.directiveEnd,i),Ip(i,I)),I}(ai,this.componentDef,Qt,Ze,[Zp]),Xd(wt,Qt,null)}finally{Tr()}return new IE(this.componentType,On,ap(Hn,Qt),Qt,Hn)}}class IE extends class fE{}{constructor(i,s,d,p,E){super(),this.location=d,this._rootLView=p,this._tNode=E,this.instance=s,this.hostView=this.changeDetectorRef=new wE(p),this.componentType=i}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class lp{}class D0{}const up=new Map;class I0 extends lp{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const d=jn(i);this._bootstrapComponents=b(d.bootstrap),this._r3Injector=vd(i,s,[{provide:lp,useValue:this},{provide:Vy,useValue:this.componentFactoryResolver}],Ce(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=Pl.THROW_IF_NOT_FOUND,d=vn.Default){return i===Pl||i===lp||i===Fp?this:this._r3Injector.get(i,s,d)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class rv extends D0{constructor(i){super(),this.moduleType=i,null!==jn(i)&&function SE(n){const i=new Set;!function s(d){const p=jn(d,!0),E=p.id;null!==E&&(function C0(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${Ce(i)} vs ${Ce(i.name)}`)}(E,up.get(E),d),up.set(E,d));const I=b(p.imports);for(const P of I)i.has(P)||(i.add(P),s(P))}(n)}(i)}create(i){return new I0(this.moduleType,i)}}function A0(n,i,s){const d=ps()+n,p=nn();return p[d]===Vn?Fu(p,d,s?i.call(s):i()):function bd(n,i){return n[i]}(p,d)}function S0(n,i,s,d){return M0(nn(),ps(),n,i,s,d)}function x0(n,i,s,d,p){return O0(nn(),ps(),n,i,s,d,p)}function jg(n,i){const s=n[i];return s===Vn?void 0:s}function M0(n,i,s,d,p,E){const I=i+s;return Aa(n,I,p)?Fu(n,I+1,E?d.call(E,p):d(p)):jg(n,I+1)}function O0(n,i,s,d,p,E,I){const P=i+s;return nc(n,P,p,E)?Fu(n,P+2,I?d.call(I,p,E):d(p,E)):jg(n,P+2)}function k0(n,i){const s=Fi();let d;const p=n+20;s.firstCreatePass?(d=function LE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const d=i[s];if(n===d.name)return d}}(i,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(p,d.onDestroy)):d=s.data[p];const E=d.factory||(d.factory=Wr(d.type)),I=wn(zh);try{const P=la(!1),B=E();return la(P),function Um(n,i,s,d){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=d}(s,nn(),p,B),B}finally{wn(I)}}function L0(n,i,s){const d=n+20,p=nn(),E=Li(p,d);return Hg(p,d)?M0(p,ps(),i,E.transform,s,E):E.transform(s)}function F0(n,i,s,d){const p=n+20,E=nn(),I=Li(E,p);return Hg(E,p)?O0(E,ps(),i,I.transform,s,d,I):I.transform(s,d)}function Hg(n,i){return n[1].data[i].pure}function sv(n){return i=>{setTimeout(n,void 0,i)}}const Gc=class UE extends y.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,d){var p,E,I;let P=i,B=s||(()=>null),J=d;if(i&&"object"==typeof i){const Ee=i;P=null===(p=Ee.next)||void 0===p?void 0:p.bind(Ee),B=null===(E=Ee.error)||void 0===E?void 0:E.bind(Ee),J=null===(I=Ee.complete)||void 0===I?void 0:I.bind(Ee)}this.__isAsync&&(B=sv(B),P&&(P=sv(P)),J&&(J=sv(J)));const ae=super.subscribe({next:P,error:B,complete:J});return i instanceof R.w0&&i.add(ae),ae}};function jE(){return this._results[Vc()]()}class Uy{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Vc(),d=Uy.prototype;d[s]||(d[s]=jE)}get changes(){return this._changes||(this._changes=new Gc)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const d=this;d.dirty=!1;const p=Zs(i);(this._changesDetected=!function Bl(n,i,s){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],E=i[d];if(s&&(p=s(p),E=s(E)),E!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $g=(()=>{class n{}return n.__NG_ELEMENT_ID__=zE,n})();const HE=$g,$E=class extends HE{constructor(i,s,d){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(i){const s=this._declarationTContainer.tViews,d=gd(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(d[19]=E.createEmbeddedView(s)),Xd(s,d,i),new Ug(d)}};function zE(){return jy(Sr(),nn())}function jy(n,i){return 4&n.type?new $E(i,n,ap(n,i)):null}let Hy=(()=>{class n{}return n.__NG_ELEMENT_ID__=GE,n})();function GE(){return U0(Sr(),nn())}const WE=Hy,V0=class extends WE{constructor(i,s,d){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=d}get element(){return ap(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ft(this._hostTNode,this._hostLView);if(hl(i)){const s=ho(i,this._hostLView),d=Mr(i);return new Ho(s[1].data[d+8],s)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=B0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,d){const p=i.createEmbeddedView(s||{});return this.insert(p,d),p}createComponent(i,s,d,p,E){const I=i&&!function $o(n){return"function"==typeof n}(i);let P;if(I)P=s;else{const Ee=s||{};P=Ee.index,d=Ee.injector,p=Ee.projectableNodes,E=Ee.ngModuleRef}const B=I?i:new iv(qe(i)),J=d||this.parentInjector;if(!E&&null==B.ngModule){const Ze=(I?J:this.parentInjector).get(lp,null);Ze&&(E=Ze)}const ae=B.create(J,p,void 0,E);return this.insert(ae.hostView,P),ae}insert(i,s){const d=i._lView,p=d[1];if(function Qi(n){return Br(n[3])}(d)){const ae=this.indexOf(i);if(-1!==ae)this.detach(ae);else{const Ee=d[3],Ze=new V0(Ee,Ee[6],Ee[3]);Ze.detach(Ze.indexOf(i))}}const E=this._adjustIndex(s),I=this._lContainer;!function hp(n,i,s,d){const p=10+d,E=s.length;d>0&&(s[p-1][4]=i),d<E-10?(i[4]=s[p],Ca(s,10+d,i)):(s.push(i),i[4]=null),i[3]=s;const I=i[17];null!==I&&s!==I&&function fp(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(I,i);const P=i[19];null!==P&&P.insertView(n),i[2]|=128}(p,d,I,E);const P=c(E,I),B=d[11],J=xl(B,I[7]);return null!==J&&function dd(n,i,s,d,p,E){d[0]=p,d[6]=i,_(n,d,s,1,p,E)}(p,I[6],B,d,J,P),i.attachToViewContainerRef(),Ca(ov(I),E,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=B0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),d=Wd(this._lContainer,s);d&&(po(ov(this._lContainer),s),of(d[1],d))}detach(i){const s=this._adjustIndex(i,-1),d=Wd(this._lContainer,s);return d&&null!=po(ov(this._lContainer),s)?new Ug(d):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function B0(n){return n[8]}function ov(n){return n[8]||(n[8]=[])}function U0(n,i){let s;const d=i[n.index];if(Br(d))s=d;else{let p;if(8&n.type)p=$(d);else{const E=i[11];p=E.createComment("");const I=$t(n,i);ul(E,xl(E,I),p,function lf(n,i){return Ui(n)?n.nextSibling(i):i.nextSibling}(E,I),!1)}i[n.index]=s=Ef(d,i,p,n),nu(i,s)}return new V0(s,n,i)}class av{constructor(i){this.queryList=i,this.matches=null}clone(){return new av(this.queryList)}setDirty(){this.queryList.setDirty()}}class lv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const d=null!==i.contentQueries?i.contentQueries[0]:s.length,p=[];for(let E=0;E<d;E++){const I=s.getByIndex(E);p.push(this.queries[I.indexInDeclarationView].clone())}return new lv(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==q0(i,s).matches&&this.queries[s].setDirty()}}class j0{constructor(i,s,d=null){this.predicate=i,this.flags=s,this.read=d}}class uv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,E=this.getByIndex(d).embeddedTView(i,p);E&&(E.indexInDeclarationView=d,null!==s?s.push(E):s=[E])}return null!==s?new uv(s):null}template(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class cv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new cv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const E=d[p];this.matchTNodeWithReadOption(i,s,qE(s,E)),this.matchTNodeWithReadOption(i,s,Da(s,i,E,!1,!1))}else d===$g?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Da(s,i,d,!1,!1))}matchTNodeWithReadOption(i,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Bg||p===Hy||p===$g&&4&s.type)this.addMatch(s.index,-2);else{const E=Da(s,i,p,!1,!1);null!==E&&this.addMatch(s.index,E)}else this.addMatch(s.index,d)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function qE(n,i){const s=n.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===i)return s[d+1];return null}function QE(n,i,s,d){return-1===s?function YE(n,i){return 11&n.type?ap(n,i):4&n.type?jy(n,i):null}(i,n):-2===s?function JE(n,i,s){return s===Bg?ap(i,n):s===$g?jy(i,n):s===Hy?U0(i,n):void 0}(n,i,d):Eo(n,n[1],s,i)}function H0(n,i,s,d){const p=i[19].queries[d];if(null===p.matches){const E=n.data,I=s.matches,P=[];for(let B=0;B<I.length;B+=2){const J=I[B];P.push(J<0?null:QE(i,E[J],I[B+1],s.metadata.read))}p.matches=P}return p.matches}function dv(n,i,s,d){const p=n.queries.getByIndex(s),E=p.matches;if(null!==E){const I=H0(n,i,p,s);for(let P=0;P<E.length;P+=2){const B=E[P];if(B>0)d.push(I[P/2]);else{const J=E[P+1],ae=i[-B];for(let Ee=10;Ee<ae.length;Ee++){const Ze=ae[Ee];Ze[17]===Ze[3]&&dv(Ze[1],Ze,J,d)}if(null!==ae[9]){const Ee=ae[9];for(let Ze=0;Ze<Ee.length;Ze++){const wt=Ee[Ze];dv(wt[1],wt,J,d)}}}}}return d}function $0(n){const i=nn(),s=Fi(),d=bt();Wt(d+1);const p=q0(s,d);if(n.dirty&&Ri(i)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const E=p.crossesNgTemplate?dv(s,i,d,[]):H0(s,i,p,d);n.reset(E,yE),n.notifyOnChanges()}return!0}return!1}function z0(n,i,s){const d=Fi();d.firstCreatePass&&(Z0(d,new j0(n,i,s),-1),2==(2&i)&&(d.staticViewQueries=!0)),K0(d,nn(),i)}function G0(n,i,s,d){const p=Fi();if(p.firstCreatePass){const E=Sr();Z0(p,new j0(i,s,d),E.index),function ew(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(p,n),2==(2&s)&&(p.staticContentQueries=!0)}K0(p,nn(),s)}function W0(){return function XE(n,i){return n[19].queries[i].queryList}(nn(),bt())}function K0(n,i,s){const d=new Uy(4==(4&s));sm(n,i,d,d.destroy),null===i[19]&&(i[19]=new lv),i[19].queries.push(new av(d))}function Z0(n,i,s){null===n.queries&&(n.queries=new uv),n.queries.track(new cv(i,s))}function q0(n,i){return n.queries.getByIndex(i)}function Y0(n,i){return jy(n,i)}function Gy(...n){}const fb=new Hr("Application Initializer");let yv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const E=this.appInits[p]();if(gg(E))s.push(E);else if(mg(E)){const I=new Promise((P,B)=>{E.subscribe({complete:P,error:B})});s.push(I)}}Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ri(fb,8))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pb=new Hr("AppId",{providedIn:"root",factory:function gb(){return`${_v()}${_v()}${_v()}`}});function _v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mb=new Hr("Platform Initializer"),yw=new Hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yb=new Hr("appBootstrapListener");let _w=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vv=new Hr("LocaleId",{providedIn:"root",factory:()=>Ti(vv,vn.Optional|vn.SkipSelf)||function vw(){return"undefined"!=typeof $localize&&$localize.locale||ip}()}),bw=new Hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ew{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let ww=(()=>{class n{compileModuleSync(s){return new rv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),E=b(jn(s).declarations).reduce((I,P)=>{const B=qe(P);return B&&I.push(new iv(B)),I},[]);return new Ew(d,E)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cw=(()=>Promise.resolve(0))();function bv(n){"undefined"==typeof Zone?Cw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ac{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gc(!1),this.onMicrotaskEmpty=new Gc(!1),this.onStable=new Gc(!1),this.onError=new Gc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Tw(){let n=Nn.requestAnimationFrame,i=Nn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Sw(n){const i=()=>{!function Aw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wv(n),n.isCheckStableRunning=!0,Ev(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,E,I,P)=>{try{return _b(n),s.invokeTask(p,E,I,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||n.shouldCoalesceRunChangeDetection)&&i(),vb(n)}},onInvoke:(s,d,p,E,I,P,B)=>{try{return _b(n),s.invoke(p,E,I,P,B)}finally{n.shouldCoalesceRunChangeDetection&&i(),vb(n)}},onHasTask:(s,d,p,E)=>{s.hasTask(p,E),d===p&&("microTask"==E.change?(n._hasPendingMicrotasks=E.microTask,wv(n),Ev(n)):"macroTask"==E.change&&(n.hasPendingMacrotasks=E.macroTask))},onHandleError:(s,d,p,E)=>(s.handleError(p,E),n.runOutsideAngular(()=>n.onError.emit(E)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ac.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ac.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,d){return this._inner.run(i,s,d)}runTask(i,s,d,p){const E=this._inner,I=E.scheduleEventTask("NgZoneEvent: "+p,i,Iw,Gy,Gy);try{return E.runTask(I,s,d)}finally{E.cancelTask(I)}}runGuarded(i,s,d){return this._inner.runGuarded(i,s,d)}runOutsideAngular(i){return this._outer.run(i)}}const Iw={};function Ev(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _b(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vb(n){n._nesting--,Ev(n)}class xw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gc,this.onMicrotaskEmpty=new Gc,this.onStable=new Gc,this.onError=new Gc}run(i,s,d){return i.apply(s,d)}runGuarded(i,s,d){return i.apply(s,d)}runOutsideAngular(i){return i()}runTask(i,s,d,p){return i.apply(s,d)}}let bb=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ac.assertNotInAngularZone(),bv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let E=-1;d&&d>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==E),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:E,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,d,p){return[]}}return n.\u0275fac=function(s){return new(s||n)(ri(ac))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(){this._applications=new Map,Dv.addToWindow(this)}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return Dv.findTestabilityInTree(this,s,d)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Ow{addToWindow(i){}findTestabilityInTree(i,s,d){return null}}function Pw(n){Dv=n}let lc,Dv=new Ow;const Eb=new Hr("AllowMultipleToken");class kw{constructor(i,s){this.name=i,this.token=s}}function wb(n,i,s=[]){const d=`Platform: ${i}`,p=new Hr(d);return(E=[])=>{let I=Db();if(!I||I.injector.get(Eb,!1))if(n)n(s.concat(E).concat({provide:p,useValue:!0}));else{const P=s.concat(E).concat({provide:p,useValue:!0},{provide:Vp,useValue:"platform"});!function Lw(n){if(lc&&!lc.destroyed&&!lc.injector.get(Eb,!1))throw new it(400,"");lc=n.get(Vw);const i=n.get(mb,null);i&&i.forEach(s=>s())}(Pl.create({providers:P,name:d}))}return function Fw(n){const i=Db();if(!i)throw new it(401,"");return i}()}}function Db(){return lc&&!lc.destroyed?lc:null}let Vw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const P=function Bw(n,i){let s;return s="noop"===n?new xw:("zone.js"===n?void 0:n)||new ac({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),B=[{provide:ac,useValue:P}];return P.run(()=>{const J=Pl.create({providers:B,parent:this.injector,name:s.moduleType.name}),ae=s.create(J),Ee=ae.injector.get(Do,null);if(!Ee)throw new it(402,"");return P.runOutsideAngular(()=>{const Ze=P.onError.subscribe({next:wt=>{Ee.handleError(wt)}});ae.onDestroy(()=>{Tv(this._modules,ae),Ze.unsubscribe()})}),function Uw(n,i,s){try{const d=s();return gg(d)?d.catch(p=>{throw i.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(Ee,P,()=>{const Ze=ae.injector.get(yv);return Ze.runInitializers(),Ze.donePromise.then(()=>(function My(n){nt(n,"Expected localeId to be defined"),"string"==typeof n&&(xy=n.toLowerCase().replace(/_/g,"-"))}(ae.injector.get(vv,ip)||ip),this._moduleDoBootstrap(ae),ae))})})}bootstrapModule(s,d=[]){const p=Cb({},d);return function Rw(n,i,s){const d=new rv(s);return Promise.resolve(d)}(0,0,s).then(E=>this.bootstrapModuleFactory(E,p))}_moduleDoBootstrap(s){const d=s.injector.get(Cv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new it(403,"");s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ri(Pl))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Cb(n,i){return Array.isArray(i)?i.reduce(Cb,n):Object.assign(Object.assign({},n),i)}let Cv=(()=>{class n{constructor(s,d,p,E){this._zone=s,this._injector=d,this._exceptionHandler=p,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new ne.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),P=new ne.y(B=>{let J;this._zone.runOutsideAngular(()=>{J=this._zone.onStable.subscribe(()=>{ac.assertNotInAngularZone(),bv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const ae=this._zone.onUnstable.subscribe(()=>{ac.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{J.unsubscribe(),ae.unsubscribe()}});this.isStable=(0,me.T)(I,P.pipe((0,we.B)()))}bootstrap(s,d){if(!this._initStatus.done)throw new it(405,"");let p;p=s instanceof m0?s:this._injector.get(Vy).resolveComponentFactory(s),this.componentTypes.push(p.componentType);const E=function Nw(n){return n.isBoundToModule}(p)?void 0:this._injector.get(lp),P=p.create(Pl.NULL,[],d||p.selector,E),B=P.location.nativeElement,J=P.injector.get(bb,null),ae=J&&P.injector.get(Mw);return J&&ae&&ae.registerApplication(B,J),P.onDestroy(()=>{this.detachView(P.hostView),Tv(this.components,P),ae&&ae.unregisterApplication(B)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new it(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;Tv(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(yb,[]).concat(this._bootstrapListeners).forEach(p=>p(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(ri(ac),ri(Pl),ri(Do),ri(yv))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let Ib=!0,Ab=!1;function Hw(){return Ab=!0,Ib}function $w(){if(Ab)throw new Error("Cannot enable prod mode after platform setup.");Ib=!1}let zw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gw,n})();function Gw(n){return function Ww(n,i,s){if(ds(n)&&!s){const d=wi(n.index,i);return new Ug(d,d)}return 47&n.type?new Ug(i[16],i):null}(Sr(),nn(),16==(16&n))}class Ob{constructor(){}supports(i){return Fh(i)}create(i){return new Jw(i)}}const Qw=(n,i)=>i;class Jw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Qw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,d=this._removalsHead,p=0,E=null;for(;s||d;){const I=!d||s&&s.currentIndex<Rb(d,p,E)?s:d,P=Rb(I,p,E),B=I.currentIndex;if(I===d)p--,d=d._nextRemoved;else if(s=s._next,null==I.previousIndex)p++;else{E||(E=[]);const J=P-p,ae=B-p;if(J!=ae){for(let Ze=0;Ze<J;Ze++){const wt=Ze<E.length?E[Ze]:E[Ze]=0,Qt=wt+Ze;ae<=Qt&&Qt<J&&(E[Ze]=wt+1)}E[I.previousIndex]=ae-J}}P!==B&&i(I,P,B)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Fh(i))throw new it(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,E,I,s=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let P=0;P<this.length;P++)E=i[P],I=this._trackByFn(P,E),null!==s&&Object.is(s.trackById,I)?(d&&(s=this._verifyReinsertion(s,E,I,P)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,I,P),d=!0),s=s._next}else p=0,function __(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Vc()]();let d;for(;!(d=s.next()).done;)i(d.value)}}(i,P=>{I=this._trackByFn(p,P),null!==s&&Object.is(s.trackById,I)?(d&&(s=this._verifyReinsertion(s,P,I,p)),Object.is(s.item,P)||this._addIdentityChange(s,P)):(s=this._mismatch(s,P,I,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,d,p){let E;return null===i?E=this._itTail:(E=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,E,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,E,p)):i=this._addAfter(new Xw(s,d),E,p),i}_verifyReinsertion(i,s,d,p){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==E?i=this._reinsertAfter(E,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,E=i._nextRemoved;return null===p?this._removalsHead=E:p._nextRemoved=E,null===E?this._removalsTail=p:E._prevRemoved=p,this._insertAfter(i,s,d),this._addToMoves(i,d),i}_moveAfter(i,s,d){return this._unlink(i),this._insertAfter(i,s,d),this._addToMoves(i,d),i}_addAfter(i,s,d){return this._insertAfter(i,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,d){const p=null===s?this._itHead:s._next;return i._next=p,i._prev=s,null===p?this._itTail=i:p._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Pb),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,d=i._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Xw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const s=i._prevDup,d=i._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class Pb{constructor(){this.map=new Map}put(i){const s=i.trackById;let d=this.map.get(s);d||(d=new eD,this.map.set(s,d)),d.add(i)}get(i,s){const p=this.map.get(i);return p?p.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rb(n,i,s){const d=n.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+i+p}class Nb{constructor(){}supports(i){return i instanceof Map||Vh(i)}create(){return new tD}}class tD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Vh(i)))throw new it(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const E=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,E)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const d=i._prev;return s._next=i,s._prev=d,i._prev=s,d&&(d._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,s);const E=p._prev,I=p._next;return E&&(E._next=I),I&&(I._prev=E),p._next=null,p._prev=null,p}const d=new nD(i);return this._records.set(i,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(d=>s(i[d],d))}}class nD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kb(){return new Mv([new Ob])}let Mv=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||kb()),deps:[[n,new Ha,new Vo]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new it(901,"")}}return n.\u0275prov=Rt({token:n,providedIn:"root",factory:kb}),n})();function Lb(){return new Ov([new Nb])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||Lb()),deps:[[n,new Ha,new Vo]]}}find(s){const d=this.factories.find(E=>E.supports(s));if(d)return d;throw new it(901,"")}}return n.\u0275prov=Rt({token:n,providedIn:"root",factory:Lb}),n})();const sD=wb(null,"core",[]);let oD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ri(Cv))},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})()},3075:(an,tt,N)=>{N.d(tt,{Cf:()=>Xe,EJ:()=>Wr,F:()=>Ki,Fj:()=>at,JJ:()=>vn,JL:()=>Fn,JU:()=>Ce,Kr:()=>Kr,NI:()=>oi,On:()=>ds,Q7:()=>ls,UX:()=>Ri,Wl:()=>ce,YN:()=>Bs,Zs:()=>Io,_Y:()=>ss,a5:()=>si,gN:()=>qn,kI:()=>on,qu:()=>Qi,sg:()=>ki,u:()=>or,u5:()=>wi,wV:()=>Vs});var y=N(5e3),R=N(9808),ne=N(8996),me=N(4128),we=N(4004);let ve=(()=>{class W{constructor(L,le){this._renderer=L,this._elementRef=le,this.onChange=Ot=>{},this.onTouched=()=>{}}setProperty(L,le){this._renderer.setProperty(this._elementRef.nativeElement,L,le)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(y.Qsj),y.Y36(y.SBq))},W.\u0275dir=y.lG2({type:W}),W})(),Re=(()=>{class W extends ve{}return W.\u0275fac=function(){let H;return function(le){return(H||(H=y.n5z(W)))(le||W)}}(),W.\u0275dir=y.lG2({type:W,features:[y.qOj]}),W})();const Ce=new y.OlP("NgValueAccessor"),Te={provide:Ce,useExisting:(0,y.Gpc)(()=>ce),multi:!0};let ce=(()=>{class W extends Re{writeValue(L){this.setProperty("checked",L)}}return W.\u0275fac=function(){let H;return function(le){return(H||(H=y.n5z(W)))(le||W)}}(),W.\u0275dir=y.lG2({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,le){1&L&&y.NdJ("change",function(Un){return le.onChange(Un.target.checked)})("blur",function(){return le.onTouched()})},features:[y._Bn([Te]),y.qOj]}),W})();const fe={provide:Ce,useExisting:(0,y.Gpc)(()=>at),multi:!0},vt=new y.OlP("CompositionEventMode");let at=(()=>{class W extends ve{constructor(L,le,Ot){super(L,le),this._compositionMode=Ot,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const W=(0,R.q)()?(0,R.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(vt,8))},W.\u0275dir=y.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,le){1&L&&y.NdJ("input",function(Un){return le._handleInput(Un.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(Un){return le._compositionEnd(Un.target.value)})},features:[y._Bn([fe]),y.qOj]}),W})();function it(W){return null==W||0===W.length}function Lt(W){return null!=W&&"number"==typeof W.length}const Xe=new y.OlP("NgValidators"),st=new y.OlP("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class on{static min(H){return function pt(W){return H=>{if(it(H.value)||it(W))return null;const L=parseFloat(H.value);return!isNaN(L)&&L<W?{min:{min:W,actual:H.value}}:null}}(H)}static max(H){return function Le(W){return H=>{if(it(H.value)||it(W))return null;const L=parseFloat(H.value);return!isNaN(L)&&L>W?{max:{max:W,actual:H.value}}:null}}(H)}static required(H){return ke(H)}static requiredTrue(H){return Et(H)}static email(H){return function ot(W){return it(W.value)||Oe.test(W.value)?null:{email:!0}}(H)}static minLength(H){return function ge(W){return H=>it(H.value)||!Lt(H.value)?null:H.value.length<W?{minlength:{requiredLength:W,actualLength:H.value.length}}:null}(H)}static maxLength(H){return function Ve(W){return H=>Lt(H.value)&&H.value.length>W?{maxlength:{requiredLength:W,actualLength:H.value.length}}:null}(H)}static pattern(H){return function ze(W){if(!W)return ht;let H,L;return"string"==typeof W?(L="","^"!==W.charAt(0)&&(L+="^"),L+=W,"$"!==W.charAt(W.length-1)&&(L+="$"),H=new RegExp(L)):(L=W.toString(),H=W),le=>{if(it(le.value))return null;const Ot=le.value;return H.test(Ot)?null:{pattern:{requiredPattern:L,actualValue:Ot}}}}(H)}static nullValidator(H){return null}static compose(H){return nt(H)}static composeAsync(H){return Ht(H)}}function ke(W){return it(W.value)?{required:!0}:null}function Et(W){return!0===W.value?null:{required:!0}}function ht(W){return null}function yt(W){return null!=W}function It(W){const H=(0,y.QGY)(W)?(0,ne.D)(W):W;return(0,y.CqO)(H),H}function lt(W){let H={};return W.forEach(L=>{H=null!=L?Object.assign(Object.assign({},H),L):H}),0===Object.keys(H).length?null:H}function ft(W,H){return H.map(L=>L(W))}function Pe(W){return W.map(H=>function dn(W){return!W.validate}(H)?H:L=>H.validate(L))}function nt(W){if(!W)return null;const H=W.filter(yt);return 0==H.length?null:function(L){return lt(ft(L,H))}}function rt(W){return null!=W?nt(Pe(W)):null}function Ht(W){if(!W)return null;const H=W.filter(yt);return 0==H.length?null:function(L){const le=ft(L,H).map(It);return(0,me.D)(le).pipe((0,we.U)(lt))}}function un(W){return null!=W?Ht(Pe(W)):null}function Ut(W,H){return null===W?[H]:Array.isArray(W)?[...W,H]:[W,H]}function Rt(W){return W._rawValidators}function Ge(W){return W._rawAsyncValidators}function ut(W){return W?Array.isArray(W)?W:[W]:[]}function qt(W,H){return Array.isArray(W)?W.includes(H):W===H}function Sn(W,H){const L=ut(H);return ut(W).forEach(Ot=>{qt(L,Ot)||L.push(Ot)}),L}function ti(W,H){return ut(H).filter(L=>!qt(W,L))}class Ci{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=rt(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H){this.control&&this.control.reset(H)}hasError(H,L){return!!this.control&&this.control.hasError(H,L)}getError(H,L){return this.control?this.control.getError(H,L):null}}class si extends Ci{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qn extends Ci{get formDirective(){return null}get path(){return null}}class ii{constructor(H){this._cd=H}is(H){var L,le,Ot;return"submitted"===H?!!(null===(L=this._cd)||void 0===L?void 0:L.submitted):!!(null===(Ot=null===(le=this._cd)||void 0===le?void 0:le.control)||void 0===Ot?void 0:Ot[H])}}let vn=(()=>{class W extends ii{constructor(L){super(L)}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(si,2))},W.\u0275dir=y.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,le){2&L&&y.ekj("ng-untouched",le.is("untouched"))("ng-touched",le.is("touched"))("ng-pristine",le.is("pristine"))("ng-dirty",le.is("dirty"))("ng-valid",le.is("valid"))("ng-invalid",le.is("invalid"))("ng-pending",le.is("pending"))},features:[y.qOj]}),W})(),Fn=(()=>{class W extends ii{constructor(L){super(L)}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(qn,10))},W.\u0275dir=y.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,le){2&L&&y.ekj("ng-untouched",le.is("untouched"))("ng-touched",le.is("touched"))("ng-pristine",le.is("pristine"))("ng-dirty",le.is("dirty"))("ng-valid",le.is("valid"))("ng-invalid",le.is("invalid"))("ng-pending",le.is("pending"))("ng-submitted",le.is("submitted"))},features:[y.qOj]}),W})();function gi(W,H){return[...H.path,W]}function sn(W,H){Vt(W,H),H.valueAccessor.writeValue(W.value),function An(W,H){H.valueAccessor.registerOnChange(L=>{W._pendingValue=L,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Dn(W,H)})}(W,H),function Ne(W,H){const L=(le,Ot)=>{H.valueAccessor.writeValue(le),Ot&&H.viewToModelUpdate(le)};W.registerOnChange(L),H._registerOnDestroy(()=>{W._unregisterOnChange(L)})}(W,H),function Yn(W,H){H.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Dn(W,H),"submit"!==W.updateOn&&W.markAsTouched()})}(W,H),function bn(W,H){if(H.valueAccessor.setDisabledState){const L=le=>{H.valueAccessor.setDisabledState(le)};W.registerOnDisabledChange(L),H._registerOnDestroy(()=>{W._unregisterOnDisabledChange(L)})}}(W,H)}function mi(W,H,L=!0){const le=()=>{};H.valueAccessor&&(H.valueAccessor.registerOnChange(le),H.valueAccessor.registerOnTouched(le)),In(W,H),W&&(H._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Bn(W,H){W.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(H)})}function Vt(W,H){const L=Rt(W);null!==H.validator?W.setValidators(Ut(L,H.validator)):"function"==typeof L&&W.setValidators([L]);const le=Ge(W);null!==H.asyncValidator?W.setAsyncValidators(Ut(le,H.asyncValidator)):"function"==typeof le&&W.setAsyncValidators([le]);const Ot=()=>W.updateValueAndValidity();Bn(H._rawValidators,Ot),Bn(H._rawAsyncValidators,Ot)}function In(W,H){let L=!1;if(null!==W){if(null!==H.validator){const Ot=Rt(W);if(Array.isArray(Ot)&&Ot.length>0){const Un=Ot.filter(zi=>zi!==H.validator);Un.length!==Ot.length&&(L=!0,W.setValidators(Un))}}if(null!==H.asyncValidator){const Ot=Ge(W);if(Array.isArray(Ot)&&Ot.length>0){const Un=Ot.filter(zi=>zi!==H.asyncValidator);Un.length!==Ot.length&&(L=!0,W.setAsyncValidators(Un))}}}const le=()=>{};return Bn(H._rawValidators,le),Bn(H._rawAsyncValidators,le),L}function Dn(W,H){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function De(W,H){Vt(W,H)}function Me(W,H){if(!W.hasOwnProperty("model"))return!1;const L=W.model;return!!L.isFirstChange()||!Object.is(H,L.currentValue)}function qe(W,H){W._syncPendingControls(),H.forEach(L=>{const le=L.control;"submit"===le.updateOn&&le._pendingChange&&(L.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function kt(W,H){if(!H)return null;let L,le,Ot;return Array.isArray(H),H.forEach(Un=>{Un.constructor===at?L=Un:function ye(W){return Object.getPrototypeOf(W.constructor)===Re}(Un)?le=Un:Ot=Un}),Ot||le||L||null}function mn(W,H){const L=W.indexOf(H);L>-1&&W.splice(L,1)}const ir="VALID",_s="INVALID",rr="PENDING",Nr="DISABLED";function Er(W){return(Gi(W)?W.validators:W)||null}function Wi(W){return Array.isArray(W)?rt(W):W||null}function Jt(W,H){return(Gi(H)?H.asyncValidators:W)||null}function yi(W){return Array.isArray(W)?un(W):W||null}function Gi(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}const wr=W=>W instanceof oi,vr=W=>W instanceof ns,fr=W=>W instanceof is;function Fr(W){return wr(W)?W.value:W.getRawValue()}function Mi(W,H){const L=vr(W),le=W.controls;if(!(L?Object.keys(le):le).length)throw new y.vHH(1e3,"");if(!le[H])throw new y.vHH(1001,"")}function Hi(W,H){vr(W),W._forEachChild((le,Ot)=>{if(void 0===H[Ot])throw new y.vHH(1002,"")})}class ts{constructor(H,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=H,this._rawAsyncValidators=L,this._composedValidatorFn=Wi(this._rawValidators),this._composedAsyncValidatorFn=yi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===ir}get invalid(){return this.status===_s}get pending(){return this.status==rr}get disabled(){return this.status===Nr}get enabled(){return this.status!==Nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._rawValidators=H,this._composedValidatorFn=Wi(H)}setAsyncValidators(H){this._rawAsyncValidators=H,this._composedAsyncValidatorFn=yi(H)}addValidators(H){this.setValidators(Sn(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(Sn(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(ti(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(ti(H,this._rawAsyncValidators))}hasValidator(H){return qt(this._rawValidators,H)}hasAsyncValidator(H){return qt(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=rr,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const L=this._parentMarkedDirty(H.onlySelf);this.status=Nr,this.errors=null,this._forEachChild(le=>{le.disable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:L})),this._onDisabledChange.forEach(le=>le(!0))}enable(H={}){const L=this._parentMarkedDirty(H.onlySelf);this.status=ir,this._forEachChild(le=>{le.enable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:L})),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ir||this.status===rr)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nr:ir}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=rr,this._hasOwnPendingAsyncValidator=!0;const L=It(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,L={}){this.errors=H,this._updateControlsErrors(!1!==L.emitEvent)}get(H){return function hr(W,H,L){if(null==H||(Array.isArray(H)||(H=H.split(L)),Array.isArray(H)&&0===H.length))return null;let le=W;return H.forEach(Ot=>{le=vr(le)?le.controls.hasOwnProperty(Ot)?le.controls[Ot]:null:fr(le)&&le.at(Ot)||null}),le}(this,H,".")}getError(H,L){const le=L?this.get(L):this;return le&&le.errors?le.errors[H]:null}hasError(H,L){return!!this.getError(H,L)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Nr:this.errors?_s:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rr)?rr:this._anyControlsHaveStatus(_s)?_s:ir}_anyControlsHaveStatus(H){return this._anyControls(L=>L.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_isBoxedValue(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){Gi(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class oi extends ts{constructor(H=null,L,le){super(Er(L),Jt(le,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gi(L)&&L.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(H)?H.value:H)}setValue(H,L={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(H,L={}){this.setValue(H,L)}reset(H=this.defaultValue,L={}){this._applyFormState(H),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){mn(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){mn(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){this._isBoxedValue(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}}class ns extends ts{constructor(H,L,le){super(Er(L),Jt(le,L)),this.controls=H,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,L){return this.controls[H]?this.controls[H]:(this.controls[H]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(H,L,le={}){this.registerControl(H,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(H,L={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(H,L,le={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],L&&this.registerControl(H,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,L={}){Hi(this,H),Object.keys(H).forEach(le=>{Mi(this,le),this.controls[le].setValue(H[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(H,L={}){null!=H&&(Object.keys(H).forEach(le=>{this.controls[le]&&this.controls[le].patchValue(H[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(H={},L={}){this._forEachChild((le,Ot)=>{le.reset(H[Ot],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(H,L,le)=>(H[le]=Fr(L),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(L,le)=>!!le._syncPendingControls()||L);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(L=>{const le=this.controls[L];le&&H(le,L)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const L of Object.keys(this.controls)){const le=this.controls[L];if(this.contains(L)&&H(le))return!0}return!1}_reduceValue(){return this._reduceChildren({},(H,L,le)=>((L.enabled||this.disabled)&&(H[le]=L.value),H))}_reduceChildren(H,L){let le=H;return this._forEachChild((Ot,Un)=>{le=L(le,Ot,Un)}),le}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class is extends ts{constructor(H,L,le){super(Er(L),Jt(le,L)),this.controls=H,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(H){return this.controls[H]}push(H,L={}){this.controls.push(H),this._registerControl(H),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(H,L,le={}){this.controls.splice(H,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(H,L={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(H,L,le={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),L&&(this.controls.splice(H,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(H,L={}){Hi(this,H),H.forEach((le,Ot)=>{Mi(this,Ot),this.at(Ot).setValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(H,L={}){null!=H&&(H.forEach((le,Ot)=>{this.at(Ot)&&this.at(Ot).patchValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(H=[],L={}){this._forEachChild((le,Ot)=>{le.reset(H[Ot],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(H=>Fr(H))}clear(H={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:H.emitEvent}))}_syncPendingControls(){let H=this.controls.reduce((L,le)=>!!le._syncPendingControls()||L,!1);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){this.controls.forEach((L,le)=>{H(L,le)})}_updateValue(){this.value=this.controls.filter(H=>H.enabled||this.disabled).map(H=>H.value)}_anyControls(H){return this.controls.some(L=>L.enabled&&H(L))}_setUpControls(){this._forEachChild(H=>this._registerControl(H))}_allControlsDisabled(){for(const H of this.controls)if(H.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(H){H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)}}const Fs={provide:qn,useExisting:(0,y.Gpc)(()=>Ki)},Ar=(()=>Promise.resolve(null))();let Ki=(()=>{class W extends qn{constructor(L,le){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new ns({},rt(L),un(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Ar.then(()=>{const le=this._findContainer(L.path);L.control=le.registerControl(L.name,L.control),sn(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Ar.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Ar.then(()=>{const le=this._findContainer(L.path),Ot=new ns({});De(Ot,L),le.registerControl(L.name,Ot),Ot.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Ar.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,le){Ar.then(()=>{this.form.get(L.path).setValue(le)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,qe(this.form,this._directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(Xe,10),y.Y36(st,10))},W.\u0275dir=y.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,le){1&L&&y.NdJ("submit",function(Un){return le.onSubmit(Un)})("reset",function(){return le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Fs]),y.qOj]}),W})();const Br={provide:si,useExisting:(0,y.Gpc)(()=>ds)},vs=(()=>Promise.resolve(null))();let ds=(()=>{class W extends si{constructor(L,le,Ot,Un,zi){super(),this._changeDetectorRef=zi,this.control=new oi,this._registered=!1,this.update=new y.vpe,this._parent=L,this._setValidators(le),this._setAsyncValidators(Ot),this.valueAccessor=kt(0,Un)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const le=L.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Me(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){vs.then(()=>{var le;this.control.setValue(L,{emitViewToModelChange:!1}),null===(le=this._changeDetectorRef)||void 0===le||le.markForCheck()})}_updateDisabled(L){const le=L.isDisabled.currentValue,Ot=""===le||le&&"false"!==le;vs.then(()=>{var Un;Ot&&!this.control.disabled?this.control.disable():!Ot&&this.control.disabled&&this.control.enable(),null===(Un=this._changeDetectorRef)||void 0===Un||Un.markForCheck()})}_getPath(L){return this._parent?gi(L,this._parent):[L]}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(qn,9),y.Y36(Xe,10),y.Y36(st,10),y.Y36(Ce,10),y.Y36(y.sBO,8))},W.\u0275dir=y.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Br]),y.qOj,y.TTD]}),W})(),ss=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=y.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})();const Dr={provide:Ce,useExisting:(0,y.Gpc)(()=>Vs),multi:!0};let Vs=(()=>{class W extends Re{writeValue(L){this.setProperty("value",null==L?"":L)}registerOnChange(L){this.onChange=le=>{L(""==le?null:parseFloat(le))}}}return W.\u0275fac=function(){let H;return function(le){return(H||(H=y.n5z(W)))(le||W)}}(),W.\u0275dir=y.lG2({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,le){1&L&&y.NdJ("input",function(Un){return le.onChange(Un.target.value)})("blur",function(){return le.onTouched()})},features:[y._Bn([Dr]),y.qOj]}),W})(),pr=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=y.oAB({type:W}),W.\u0275inj=y.cJS({}),W})();const Dt=new y.OlP("NgModelWithFormControlWarning"),Kn={provide:qn,useExisting:(0,y.Gpc)(()=>ki)};let ki=(()=>{class W extends qn{constructor(L,le){super(),this.validators=L,this.asyncValidators=le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(L),this._setAsyncValidators(le)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(In(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const le=this.form.get(L.path);return sn(le,L),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),le}getControl(L){return this.form.get(L.path)}removeControl(L){mi(L.control||null,L,!1),mn(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,le){this.form.get(L.path).setValue(le)}onSubmit(L){return this.submitted=!0,qe(this.form,this.directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const le=L.control,Ot=this.form.get(L.path);le!==Ot&&(mi(le||null,L),wr(Ot)&&(sn(Ot,L),L.control=Ot))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const le=this.form.get(L.path);De(le,L),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const le=this.form.get(L.path);le&&function Ke(W,H){return In(W,H)}(le,L)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vt(this.form,this),this._oldForm&&In(this._oldForm,this)}_checkFormPresent(){}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(Xe,10),y.Y36(st,10))},W.\u0275dir=y.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(L,le){1&L&&y.NdJ("submit",function(Un){return le.onSubmit(Un)})("reset",function(){return le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Kn]),y.qOj,y.TTD]}),W})();const Xs={provide:si,useExisting:(0,y.Gpc)(()=>or)};let or=(()=>{class W extends si{constructor(L,le,Ot,Un,zi){super(),this._ngModelWarningConfig=zi,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(le),this._setAsyncValidators(Ot),this.valueAccessor=kt(0,Un)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),Me(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return gi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return W._ngModelWarningSentOnce=!1,W.\u0275fac=function(L){return new(L||W)(y.Y36(qn,13),y.Y36(Xe,10),y.Y36(st,10),y.Y36(Ce,10),y.Y36(Dt,8))},W.\u0275dir=y.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([Xs]),y.qOj,y.TTD]}),W})();const To={provide:Ce,useExisting:(0,y.Gpc)(()=>Wr),multi:!0};function Ur(W,H){return null==W?`${H}`:(H&&"object"==typeof H&&(H="Object"),`${W}: ${H}`.slice(0,50))}let Wr=(()=>{class W extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Ot=Ur(this._getOptionId(L),L);this.setProperty("value",Ot)}registerOnChange(L){this.onChange=le=>{this.value=this._getOptionValue(le),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le),L))return le;return null}_getOptionValue(L){const le=function ao(W){return W.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le):L}}return W.\u0275fac=function(){let H;return function(le){return(H||(H=y.n5z(W)))(le||W)}}(),W.\u0275dir=y.lG2({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,le){1&L&&y.NdJ("change",function(Un){return le.onChange(Un.target.value)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([To]),y.qOj]}),W})(),Bs=(()=>{class W{constructor(L,le,Ot){this._element=L,this._renderer=le,this._select=Ot,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(Ur(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(Wr,9))},W.\u0275dir=y.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),W})();const eo={provide:Ce,useExisting:(0,y.Gpc)(()=>os),multi:!0};function Ps(W,H){return null==W?`${H}`:("string"==typeof H&&(H=`'${H}'`),H&&"object"==typeof H&&(H="Object"),`${W}: ${H}`.slice(0,50))}let os=(()=>{class W extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let le;if(this.value=L,Array.isArray(L)){const Ot=L.map(Un=>this._getOptionId(Un));le=(Un,zi)=>{Un._setSelected(Ot.indexOf(zi.toString())>-1)}}else le=(Ot,Un)=>{Ot._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(L){this.onChange=le=>{const Ot=[],Un=le.selectedOptions;if(void 0!==Un){const zi=Un;for(let us=0;us<zi.length;us++){const zs=this._getOptionValue(zi[us].value);Ot.push(zs)}}else{const zi=le.options;for(let us=0;us<zi.length;us++){const Ko=zi[us];if(Ko.selected){const zs=this._getOptionValue(Ko.value);Ot.push(zs)}}}this.value=Ot,L(Ot)}}_registerOption(L){const le=(this._idCounter++).toString();return this._optionMap.set(le,L),le}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le)._value,L))return le;return null}_getOptionValue(L){const le=function _o(W){return W.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le)._value:L}}return W.\u0275fac=function(){let H;return function(le){return(H||(H=y.n5z(W)))(le||W)}}(),W.\u0275dir=y.lG2({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,le){1&L&&y.NdJ("change",function(Un){return le.onChange(Un.target)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([eo]),y.qOj]}),W})(),Kr=(()=>{class W{constructor(L,le,Ot){this._element=L,this._renderer=le,this._select=Ot,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Ps(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Ps(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return W.\u0275fac=function(L){return new(L||W)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(os,9))},W.\u0275dir=y.lG2({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),W})(),gr=(()=>{class W{constructor(){this._validator=ht}ngOnChanges(L){if(this.inputName in L){const le=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):ht,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=y.lG2({type:W,features:[y.TTD]}),W})();const Hs={provide:Xe,useExisting:(0,y.Gpc)(()=>ls),multi:!0},as={provide:Xe,useExisting:(0,y.Gpc)(()=>Io),multi:!0};let ls=(()=>{class W extends gr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=L=>function to(W){return null!=W&&!1!==W&&"false"!=`${W}`}(L),this.createValidator=L=>ke}enabled(L){return L}}return W.\u0275fac=function(){let H;return function(le){return(H||(H=y.n5z(W)))(le||W)}}(),W.\u0275dir=y.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,le){2&L&&y.uIk("required",le._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([Hs]),y.qOj]}),W})(),Io=(()=>{class W extends ls{constructor(){super(...arguments),this.createValidator=L=>Et}}return W.\u0275fac=function(){let H;return function(le){return(H||(H=y.n5z(W)))(le||W)}}(),W.\u0275dir=y.lG2({type:W,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&y.uIk("required",le._enabled?"":null)},features:[y._Bn([as]),y.qOj]}),W})(),Li=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=y.oAB({type:W}),W.\u0275inj=y.cJS({imports:[[pr]]}),W})(),wi=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=y.oAB({type:W}),W.\u0275inj=y.cJS({imports:[Li]}),W})(),Ri=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:Dt,useValue:L.warnOnNgModelWithFormControl}]}}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=y.oAB({type:W}),W.\u0275inj=y.cJS({imports:[Li]}),W})(),Qi=(()=>{class W{group(L,le=null){const Ot=this._reduceControls(L);let us,Un=null,zi=null;return null!=le&&(function Cr(W){return void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn}(le)?(Un=null!=le.validators?le.validators:null,zi=null!=le.asyncValidators?le.asyncValidators:null,us=null!=le.updateOn?le.updateOn:void 0):(Un=null!=le.validator?le.validator:null,zi=null!=le.asyncValidator?le.asyncValidator:null)),new ns(Ot,{asyncValidators:zi,updateOn:us,validators:Un})}control(L,le,Ot){return new oi(L,le,Ot)}array(L,le,Ot){const Un=L.map(zi=>this._createControl(zi));return new is(Un,le,Ot)}_reduceControls(L){const le={};return Object.keys(L).forEach(Ot=>{le[Ot]=this._createControl(L[Ot])}),le}_createControl(L){return wr(L)||vr(L)||fr(L)?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac,providedIn:Ri}),W})()},6360:(an,tt,N)=>{N.d(tt,{Qb:()=>Ba,PW:()=>Gs});var y=N(5e3),R=N(2313),ne=N(1777);const me=!1;function ve(ee){return new y.vHH(3e3,me)}function Ge(){return"undefined"!=typeof window&&void 0!==window.document}function ut(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qt(ee){switch(ee.length){case 0:return new ne.ZN;case 1:return ee[0];default:return new ne.ZE(ee)}}function Sn(ee,C,S,j,ie={},pe={}){const Fe=[],Ue=[];let bt=-1,Wt=null;if(j.forEach(kn=>{const Zn=kn.offset,Qn=Zn==bt,Vi=Qn&&Wt||{};Object.keys(kn).forEach(zn=>{let Di=zn,lr=kn[zn];if("offset"!==zn)switch(Di=C.normalizePropertyName(Di,Fe),lr){case ne.k1:lr=ie[zn];break;case ne.l3:lr=pe[zn];break;default:lr=C.normalizeStyleValue(zn,Di,lr,Fe)}Vi[Di]=lr}),Qn||Ue.push(Vi),Wt=Vi,bt=Zn}),Fe.length)throw function yt(ee){return new y.vHH(3502,me)}();return Ue}function ti(ee,C,S,j){switch(C){case"start":ee.onStart(()=>j(S&&Ci(S,"start",ee)));break;case"done":ee.onDone(()=>j(S&&Ci(S,"done",ee)));break;case"destroy":ee.onDestroy(()=>j(S&&Ci(S,"destroy",ee)))}}function Ci(ee,C,S){const j=S.totalTime,pe=si(ee.element,ee.triggerName,ee.fromState,ee.toState,C||ee.phaseName,null==j?ee.totalTime:j,!!S.disabled),Fe=ee._data;return null!=Fe&&(pe._data=Fe),pe}function si(ee,C,S,j,ie="",pe=0,Fe){return{element:ee,triggerName:C,fromState:S,toState:j,phaseName:ie,totalTime:pe,disabled:!!Fe}}function qn(ee,C,S){let j;return ee instanceof Map?(j=ee.get(C),j||ee.set(C,j=S)):(j=ee[C],j||(j=ee[C]=S)),j}function ii(ee){const C=ee.indexOf(":");return[ee.substring(1,C),ee.substr(C+1)]}let fi=(ee,C)=>!1,pi=(ee,C,S)=>[],vn=null;function Fn(ee){const C=ee.parentNode||ee.host;return C===vn?null:C}(ut()||"undefined"!=typeof Element)&&(Ge()?(vn=(()=>document.documentElement)(),fi=(ee,C)=>{for(;C;){if(C===ee)return!0;C=Fn(C)}return!1}):fi=(ee,C)=>ee.contains(C),pi=(ee,C,S)=>{if(S)return Array.from(ee.querySelectorAll(C));const j=ee.querySelector(C);return j?[j]:[]});let Xt=null,ni=!1;function _t(ee){Xt||(Xt=function Be(){return"undefined"!=typeof document?document.body:null}()||{},ni=!!Xt.style&&"WebkitAppearance"in Xt.style);let C=!0;return Xt.style&&!function wn(ee){return"ebkit"==ee.substring(1,6)}(ee)&&(C=ee in Xt.style,!C&&ni&&(C="Webkit"+ee.charAt(0).toUpperCase()+ee.substr(1)in Xt.style)),C}const je=fi,Gt=pi;let Zt=(()=>{class ee{validateStyleProperty(S){return _t(S)}matchesElement(S,j){return!1}containsElement(S,j){return je(S,j)}getParentElement(S){return Fn(S)}query(S,j,ie){return Gt(S,j,ie)}computeStyle(S,j,ie){return ie||""}animate(S,j,ie,pe,Fe,Ue=[],bt){return new ne.ZN(ie,pe)}}return ee.\u0275fac=function(S){return new(S||ee)},ee.\u0275prov=y.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),_n=(()=>{class ee{}return ee.NOOP=new Zt,ee})();const Zi="ng-enter",Bi="ng-leave",gi="ng-trigger",sn=".ng-trigger",mi="ng-animating",Bn=".ng-animating";function bn(ee){if("number"==typeof ee)return ee;const C=ee.match(/^(-?[\.\d]+)(m?s)/);return!C||C.length<2?0:Vt(parseFloat(C[1]),C[2])}function Vt(ee,C){return"s"===C?1e3*ee:ee}function In(ee,C,S){return ee.hasOwnProperty("duration")?ee:function An(ee,C,S){let ie,pe=0,Fe="";if("string"==typeof ee){const Ue=ee.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ue)return C.push(ve()),{duration:0,delay:0,easing:""};ie=Vt(parseFloat(Ue[1]),Ue[2]);const bt=Ue[3];null!=bt&&(pe=Vt(parseFloat(bt),Ue[4]));const Wt=Ue[5];Wt&&(Fe=Wt)}else ie=ee;if(!S){let Ue=!1,bt=C.length;ie<0&&(C.push(function Re(){return new y.vHH(3100,me)}()),Ue=!0),pe<0&&(C.push(function Ce(){return new y.vHH(3101,me)}()),Ue=!0),Ue&&C.splice(bt,0,ve())}return{duration:ie,delay:pe,easing:Fe}}(ee,C,S)}function Yn(ee,C={}){return Object.keys(ee).forEach(S=>{C[S]=ee[S]}),C}function Ne(ee,C,S={}){if(C)for(let j in ee)S[j]=ee[j];else Yn(ee,S);return S}function De(ee,C,S){return S?C+":"+S+";":""}function Ke(ee){let C="";for(let S=0;S<ee.style.length;S++){const j=ee.style.item(S);C+=De(0,j,ee.style.getPropertyValue(j))}for(const S in ee.style)ee.style.hasOwnProperty(S)&&!S.startsWith("_")&&(C+=De(0,xi(S),ee.style[S]));ee.setAttribute("style",C)}function At(ee,C,S){ee.style&&(Object.keys(C).forEach(j=>{const ie=jn(j);S&&!S.hasOwnProperty(j)&&(S[j]=ee.style[ie]),ee.style[ie]=C[j]}),ut()&&Ke(ee))}function ct(ee,C){ee.style&&(Object.keys(C).forEach(S=>{const j=jn(S);ee.style[j]=""}),ut()&&Ke(ee))}function pn(ee){return Array.isArray(ee)?1==ee.length?ee[0]:(0,ne.vP)(ee):ee}const Me=new RegExp("{{\\s*(.+?)\\s*}}","g");function ye(ee){let C=[];if("string"==typeof ee){let S;for(;S=Me.exec(ee);)C.push(S[1]);Me.lastIndex=0}return C}function qe(ee,C,S){const j=ee.toString(),ie=j.replace(Me,(pe,Fe)=>{let Ue=C[Fe];return C.hasOwnProperty(Fe)||(S.push(function ce(ee){return new y.vHH(3003,me)}()),Ue=""),Ue.toString()});return ie==j?ee:ie}function kt(ee){const C=[];let S=ee.next();for(;!S.done;)C.push(S.value),S=ee.next();return C}const mn=/-+([a-z0-9])/g;function jn(ee){return ee.replace(mn,(...C)=>C[1].toUpperCase())}function xi(ee){return ee.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rr(ee,C,S){switch(C.type){case 7:return ee.visitTrigger(C,S);case 0:return ee.visitState(C,S);case 1:return ee.visitTransition(C,S);case 2:return ee.visitSequence(C,S);case 3:return ee.visitGroup(C,S);case 4:return ee.visitAnimate(C,S);case 5:return ee.visitKeyframes(C,S);case 6:return ee.visitStyle(C,S);case 8:return ee.visitReference(C,S);case 9:return ee.visitAnimateChild(C,S);case 10:return ee.visitAnimateRef(C,S);case 11:return ee.visitQuery(C,S);case 12:return ee.visitStagger(C,S);default:throw function fe(ee){return new y.vHH(3004,me)}()}}function Nr(ee,C){return window.getComputedStyle(ee)[C]}function fr(ee,C){const S=[];return"string"==typeof ee?ee.split(/\s*,\s*/).forEach(j=>function Fr(ee,C,S){if(":"==ee[0]){const bt=function Mi(ee,C){switch(ee){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(S,j)=>parseFloat(j)>parseFloat(S);case":decrement":return(S,j)=>parseFloat(j)<parseFloat(S);default:return C.push(function ge(ee){return new y.vHH(3016,me)}()),"* => *"}}(ee,S);if("function"==typeof bt)return void C.push(bt);ee=bt}const j=ee.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==j||j.length<4)return S.push(function ot(ee){return new y.vHH(3015,me)}()),C;const ie=j[1],pe=j[2],Fe=j[3];C.push(oi(ie,Fe));"<"==pe[0]&&!("*"==ie&&"*"==Fe)&&C.push(oi(Fe,ie))}(j,S,C)):S.push(ee),S}const Hi=new Set(["true","1"]),ts=new Set(["false","0"]);function oi(ee,C){const S=Hi.has(ee)||ts.has(ee),j=Hi.has(C)||ts.has(C);return(ie,pe)=>{let Fe="*"==ee||ee==ie,Ue="*"==C||C==pe;return!Fe&&S&&"boolean"==typeof ie&&(Fe=ie?Hi.has(ee):ts.has(ee)),!Ue&&j&&"boolean"==typeof pe&&(Ue=pe?Hi.has(C):ts.has(C)),Fe&&Ue}}const is=new RegExp("s*:selfs*,?","g");function Fs(ee,C,S,j){return new Ki(ee).build(C,S,j)}class Ki{constructor(C){this._driver=C}build(C,S,j){const ie=new rs(S);this._resetContextStyleTimingState(ie);const pe=rr(this,pn(C),ie);return ie.unsupportedCSSPropertiesFound.size&&ie.unsupportedCSSPropertiesFound.keys(),pe}_resetContextStyleTimingState(C){C.currentQuerySelector="",C.collectedStyles={},C.collectedStyles[""]={},C.currentTime=0}visitTrigger(C,S){let j=S.queryCount=0,ie=S.depCount=0;const pe=[],Fe=[];return"@"==C.name.charAt(0)&&S.errors.push(function vt(){return new y.vHH(3006,me)}()),C.definitions.forEach(Ue=>{if(this._resetContextStyleTimingState(S),0==Ue.type){const bt=Ue,Wt=bt.name;Wt.toString().split(/\s*,\s*/).forEach(kn=>{bt.name=kn,pe.push(this.visitState(bt,S))}),bt.name=Wt}else if(1==Ue.type){const bt=this.visitTransition(Ue,S);j+=bt.queryCount,ie+=bt.depCount,Fe.push(bt)}else S.errors.push(function at(){return new y.vHH(3007,me)}())}),{type:7,name:C.name,states:pe,transitions:Fe,queryCount:j,depCount:ie,options:null}}visitState(C,S){const j=this.visitStyle(C.styles,S),ie=C.options&&C.options.params||null;if(j.containsDynamicStyles){const pe=new Set,Fe=ie||{};j.styles.forEach(Ue=>{if(di(Ue)){const bt=Ue;Object.keys(bt).forEach(Wt=>{ye(bt[Wt]).forEach(kn=>{Fe.hasOwnProperty(kn)||pe.add(kn)})})}}),pe.size&&(kt(pe.values()),S.errors.push(function it(ee,C){return new y.vHH(3008,me)}()))}return{type:0,name:C.name,style:j,options:ie?{params:ie}:null}}visitTransition(C,S){S.queryCount=0,S.depCount=0;const j=rr(this,pn(C.animation),S);return{type:1,matchers:fr(C.expr,S.errors),animation:j,queryCount:S.queryCount,depCount:S.depCount,options:Ji(C.options)}}visitSequence(C,S){return{type:2,steps:C.steps.map(j=>rr(this,j,S)),options:Ji(C.options)}}visitGroup(C,S){const j=S.currentTime;let ie=0;const pe=C.steps.map(Fe=>{S.currentTime=j;const Ue=rr(this,Fe,S);return ie=Math.max(ie,S.currentTime),Ue});return S.currentTime=ie,{type:3,steps:pe,options:Ji(C.options)}}visitAnimate(C,S){const j=function No(ee,C){if(ee.hasOwnProperty("duration"))return ee;if("number"==typeof ee)return Br(In(ee,C).duration,0,"");const S=ee;if(S.split(/\s+/).some(pe=>"{"==pe.charAt(0)&&"{"==pe.charAt(1))){const pe=Br(0,0,"");return pe.dynamic=!0,pe.strValue=S,pe}const ie=In(S,C);return Br(ie.duration,ie.delay,ie.easing)}(C.timings,S.errors);S.currentAnimateTimings=j;let ie,pe=C.styles?C.styles:(0,ne.oB)({});if(5==pe.type)ie=this.visitKeyframes(pe,S);else{let Fe=C.styles,Ue=!1;if(!Fe){Ue=!0;const Wt={};j.easing&&(Wt.easing=j.easing),Fe=(0,ne.oB)(Wt)}S.currentTime+=j.duration+j.delay;const bt=this.visitStyle(Fe,S);bt.isEmptyStep=Ue,ie=bt}return S.currentAnimateTimings=null,{type:4,timings:j,style:ie,options:null}}visitStyle(C,S){const j=this._makeStyleAst(C,S);return this._validateStyleAst(j,S),j}_makeStyleAst(C,S){const j=[];Array.isArray(C.styles)?C.styles.forEach(Fe=>{"string"==typeof Fe?Fe==ne.l3?j.push(Fe):S.errors.push(function Lt(ee){return new y.vHH(3002,me)}()):j.push(Fe)}):j.push(C.styles);let ie=!1,pe=null;return j.forEach(Fe=>{if(di(Fe)){const Ue=Fe,bt=Ue.easing;if(bt&&(pe=bt,delete Ue.easing),!ie)for(let Wt in Ue)if(Ue[Wt].toString().indexOf("{{")>=0){ie=!0;break}}}),{type:6,styles:j,easing:pe,offset:C.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(C,S){const j=S.currentAnimateTimings;let ie=S.currentTime,pe=S.currentTime;j&&pe>0&&(pe-=j.duration+j.delay),C.styles.forEach(Fe=>{"string"!=typeof Fe&&Object.keys(Fe).forEach(Ue=>{if(!this._driver.validateStyleProperty(Ue))return delete Fe[Ue],void S.unsupportedCSSPropertiesFound.add(Ue);const bt=S.collectedStyles[S.currentQuerySelector],Wt=bt[Ue];let kn=!0;Wt&&(pe!=ie&&pe>=Wt.startTime&&ie<=Wt.endTime&&(S.errors.push(function st(ee,C,S,j,ie){return new y.vHH(3010,me)}()),kn=!1),pe=Wt.startTime),kn&&(bt[Ue]={startTime:pe,endTime:ie}),S.options&&function Ye(ee,C,S){const j=C.params||{},ie=ye(ee);ie.length&&ie.forEach(pe=>{j.hasOwnProperty(pe)||S.push(function Te(ee){return new y.vHH(3001,me)}())})}(Fe[Ue],S.options,S.errors)})})}visitKeyframes(C,S){const j={type:5,styles:[],options:null};if(!S.currentAnimateTimings)return S.errors.push(function Oe(){return new y.vHH(3011,me)}()),j;let pe=0;const Fe=[];let Ue=!1,bt=!1,Wt=0;const kn=C.steps.map(Tr=>{const qr=this._makeStyleAst(Tr,S);let gs=null!=qr.offset?qr.offset:function $i(ee){if("string"==typeof ee)return null;let C=null;if(Array.isArray(ee))ee.forEach(S=>{if(di(S)&&S.hasOwnProperty("offset")){const j=S;C=parseFloat(j.offset),delete j.offset}});else if(di(ee)&&ee.hasOwnProperty("offset")){const S=ee;C=parseFloat(S.offset),delete S.offset}return C}(qr.styles),tr=0;return null!=gs&&(pe++,tr=qr.offset=gs),bt=bt||tr<0||tr>1,Ue=Ue||tr<Wt,Wt=tr,Fe.push(tr),qr});bt&&S.errors.push(function on(){return new y.vHH(3012,me)}()),Ue&&S.errors.push(function pt(){return new y.vHH(3200,me)}());const Zn=C.steps.length;let Qn=0;pe>0&&pe<Zn?S.errors.push(function Le(){return new y.vHH(3202,me)}()):0==pe&&(Qn=1/(Zn-1));const Vi=Zn-1,zn=S.currentTime,Di=S.currentAnimateTimings,lr=Di.duration;return kn.forEach((Tr,qr)=>{const gs=Qn>0?qr==Vi?1:Qn*qr:Fe[qr],tr=gs*lr;S.currentTime=zn+Di.delay+tr,Di.duration=tr,this._validateStyleAst(Tr,S),Tr.offset=gs,j.styles.push(Tr)}),j}visitReference(C,S){return{type:8,animation:rr(this,pn(C.animation),S),options:Ji(C.options)}}visitAnimateChild(C,S){return S.depCount++,{type:9,options:Ji(C.options)}}visitAnimateRef(C,S){return{type:10,animation:this.visitReference(C.animation,S),options:Ji(C.options)}}visitQuery(C,S){const j=S.currentQuerySelector,ie=C.options||{};S.queryCount++,S.currentQuery=C;const[pe,Fe]=function Gr(ee){const C=!!ee.split(/\s*,\s*/).find(S=>":self"==S);return C&&(ee=ee.replace(is,"")),ee=ee.replace(/@\*/g,sn).replace(/@\w+/g,S=>sn+"-"+S.substr(1)).replace(/:animating/g,Bn),[ee,C]}(C.selector);S.currentQuerySelector=j.length?j+" "+pe:pe,qn(S.collectedStyles,S.currentQuerySelector,{});const Ue=rr(this,pn(C.animation),S);return S.currentQuery=null,S.currentQuerySelector=j,{type:11,selector:pe,limit:ie.limit||0,optional:!!ie.optional,includeSelf:Fe,animation:Ue,originalSelector:C.selector,options:Ji(C.options)}}visitStagger(C,S){S.currentQuery||S.errors.push(function ke(){return new y.vHH(3013,me)}());const j="full"===C.timings?{duration:0,delay:0,easing:"full"}:In(C.timings,S.errors,!0);return{type:12,animation:rr(this,pn(C.animation),S),timings:j,options:null}}}class rs{constructor(C){this.errors=C,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function di(ee){return!Array.isArray(ee)&&"object"==typeof ee}function Ji(ee){return ee?(ee=Yn(ee)).params&&(ee.params=function Vr(ee){return ee?Yn(ee):null}(ee.params)):ee={},ee}function Br(ee,C,S){return{duration:ee,delay:C,easing:S}}function vs(ee,C,S,j,ie,pe,Fe=null,Ue=!1){return{type:1,element:ee,keyframes:C,preStyleProps:S,postStyleProps:j,duration:ie,delay:pe,totalTime:ie+pe,easing:Fe,subTimeline:Ue}}class ds{constructor(){this._map=new Map}get(C){return this._map.get(C)||[]}append(C,S){let j=this._map.get(C);j||this._map.set(C,j=[]),j.push(...S)}has(C){return this._map.has(C)}clear(){this._map.clear()}}const Vs=new RegExp(":enter","g"),ko=new RegExp(":leave","g");function pr(ee,C,S,j,ie,pe={},Fe={},Ue,bt,Wt=[]){return(new Os).buildKeyframes(ee,C,S,j,ie,pe,Fe,Ue,bt,Wt)}class Os{buildKeyframes(C,S,j,ie,pe,Fe,Ue,bt,Wt,kn=[]){Wt=Wt||new ds;const Zn=new et(C,S,Wt,ie,pe,kn,[]);Zn.options=bt,Zn.currentTimeline.setStyles([Fe],null,Zn.errors,bt),rr(this,j,Zn);const Qn=Zn.timelines.filter(Vi=>Vi.containsAnimation());if(Object.keys(Ue).length){let Vi;for(let zn=Qn.length-1;zn>=0;zn--){const Di=Qn[zn];if(Di.element===S){Vi=Di;break}}Vi&&!Vi.allowOnlyTimelineStyles()&&Vi.setStyles([Ue],null,Zn.errors,bt)}return Qn.length?Qn.map(Vi=>Vi.buildKeyframes()):[vs(S,[],[],[],0,0,"",!1)]}visitTrigger(C,S){}visitState(C,S){}visitTransition(C,S){}visitAnimateChild(C,S){const j=S.subInstructions.get(S.element);if(j){const ie=S.createSubContext(C.options),pe=S.currentTimeline.currentTime,Fe=this._visitSubInstructions(j,ie,ie.options);pe!=Fe&&S.transformIntoNewTimeline(Fe)}S.previousNode=C}visitAnimateRef(C,S){const j=S.createSubContext(C.options);j.transformIntoNewTimeline(),this.visitReference(C.animation,j),S.transformIntoNewTimeline(j.currentTimeline.currentTime),S.previousNode=C}_visitSubInstructions(C,S,j){let pe=S.currentTimeline.currentTime;const Fe=null!=j.duration?bn(j.duration):null,Ue=null!=j.delay?bn(j.delay):null;return 0!==Fe&&C.forEach(bt=>{const Wt=S.appendInstructionToTimeline(bt,Fe,Ue);pe=Math.max(pe,Wt.duration+Wt.delay)}),pe}visitReference(C,S){S.updateOptions(C.options,!0),rr(this,C.animation,S),S.previousNode=C}visitSequence(C,S){const j=S.subContextCount;let ie=S;const pe=C.options;if(pe&&(pe.params||pe.delay)&&(ie=S.createSubContext(pe),ie.transformIntoNewTimeline(),null!=pe.delay)){6==ie.previousNode.type&&(ie.currentTimeline.snapshotCurrentStyles(),ie.previousNode=oo);const Fe=bn(pe.delay);ie.delayNextStep(Fe)}C.steps.length&&(C.steps.forEach(Fe=>rr(this,Fe,ie)),ie.currentTimeline.applyStylesToKeyframe(),ie.subContextCount>j&&ie.transformIntoNewTimeline()),S.previousNode=C}visitGroup(C,S){const j=[];let ie=S.currentTimeline.currentTime;const pe=C.options&&C.options.delay?bn(C.options.delay):0;C.steps.forEach(Fe=>{const Ue=S.createSubContext(C.options);pe&&Ue.delayNextStep(pe),rr(this,Fe,Ue),ie=Math.max(ie,Ue.currentTimeline.currentTime),j.push(Ue.currentTimeline)}),j.forEach(Fe=>S.currentTimeline.mergeTimelineCollectedStyles(Fe)),S.transformIntoNewTimeline(ie),S.previousNode=C}_visitTiming(C,S){if(C.dynamic){const j=C.strValue;return In(S.params?qe(j,S.params,S.errors):j,S.errors)}return{duration:C.duration,delay:C.delay,easing:C.easing}}visitAnimate(C,S){const j=S.currentAnimateTimings=this._visitTiming(C.timings,S),ie=S.currentTimeline;j.delay&&(S.incrementTime(j.delay),ie.snapshotCurrentStyles());const pe=C.style;5==pe.type?this.visitKeyframes(pe,S):(S.incrementTime(j.duration),this.visitStyle(pe,S),ie.applyStylesToKeyframe()),S.currentAnimateTimings=null,S.previousNode=C}visitStyle(C,S){const j=S.currentTimeline,ie=S.currentAnimateTimings;!ie&&j.getCurrentStyleProperties().length&&j.forwardFrame();const pe=ie&&ie.easing||C.easing;C.isEmptyStep?j.applyEmptyStep(pe):j.setStyles(C.styles,pe,S.errors,S.options),S.previousNode=C}visitKeyframes(C,S){const j=S.currentAnimateTimings,ie=S.currentTimeline.duration,pe=j.duration,Ue=S.createSubContext().currentTimeline;Ue.easing=j.easing,C.styles.forEach(bt=>{Ue.forwardTime((bt.offset||0)*pe),Ue.setStyles(bt.styles,bt.easing,S.errors,S.options),Ue.applyStylesToKeyframe()}),S.currentTimeline.mergeTimelineCollectedStyles(Ue),S.transformIntoNewTimeline(ie+pe),S.previousNode=C}visitQuery(C,S){const j=S.currentTimeline.currentTime,ie=C.options||{},pe=ie.delay?bn(ie.delay):0;pe&&(6===S.previousNode.type||0==j&&S.currentTimeline.getCurrentStyleProperties().length)&&(S.currentTimeline.snapshotCurrentStyles(),S.previousNode=oo);let Fe=j;const Ue=S.invokeQuery(C.selector,C.originalSelector,C.limit,C.includeSelf,!!ie.optional,S.errors);S.currentQueryTotal=Ue.length;let bt=null;Ue.forEach((Wt,kn)=>{S.currentQueryIndex=kn;const Zn=S.createSubContext(C.options,Wt);pe&&Zn.delayNextStep(pe),Wt===S.element&&(bt=Zn.currentTimeline),rr(this,C.animation,Zn),Zn.currentTimeline.applyStylesToKeyframe(),Fe=Math.max(Fe,Zn.currentTimeline.currentTime)}),S.currentQueryIndex=0,S.currentQueryTotal=0,S.transformIntoNewTimeline(Fe),bt&&(S.currentTimeline.mergeTimelineCollectedStyles(bt),S.currentTimeline.snapshotCurrentStyles()),S.previousNode=C}visitStagger(C,S){const j=S.parentContext,ie=S.currentTimeline,pe=C.timings,Fe=Math.abs(pe.duration),Ue=Fe*(S.currentQueryTotal-1);let bt=Fe*S.currentQueryIndex;switch(pe.duration<0?"reverse":pe.easing){case"reverse":bt=Ue-bt;break;case"full":bt=j.currentStaggerTime}const kn=S.currentTimeline;bt&&kn.delayNextStep(bt);const Zn=kn.currentTime;rr(this,C.animation,S),S.previousNode=C,j.currentStaggerTime=ie.currentTime-Zn+(ie.startTime-j.currentTimeline.startTime)}}const oo={};class et{constructor(C,S,j,ie,pe,Fe,Ue,bt){this._driver=C,this.element=S,this.subInstructions=j,this._enterClassName=ie,this._leaveClassName=pe,this.errors=Fe,this.timelines=Ue,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=bt||new He(this._driver,S,0),Ue.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(C,S){if(!C)return;const j=C;let ie=this.options;null!=j.duration&&(ie.duration=bn(j.duration)),null!=j.delay&&(ie.delay=bn(j.delay));const pe=j.params;if(pe){let Fe=ie.params;Fe||(Fe=this.options.params={}),Object.keys(pe).forEach(Ue=>{(!S||!Fe.hasOwnProperty(Ue))&&(Fe[Ue]=qe(pe[Ue],Fe,this.errors))})}}_copyOptions(){const C={};if(this.options){const S=this.options.params;if(S){const j=C.params={};Object.keys(S).forEach(ie=>{j[ie]=S[ie]})}}return C}createSubContext(C=null,S,j){const ie=S||this.element,pe=new et(this._driver,ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ie,j||0));return pe.previousNode=this.previousNode,pe.currentAnimateTimings=this.currentAnimateTimings,pe.options=this._copyOptions(),pe.updateOptions(C),pe.currentQueryIndex=this.currentQueryIndex,pe.currentQueryTotal=this.currentQueryTotal,pe.parentContext=this,this.subContextCount++,pe}transformIntoNewTimeline(C){return this.previousNode=oo,this.currentTimeline=this.currentTimeline.fork(this.element,C),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(C,S,j){const ie={duration:null!=S?S:C.duration,delay:this.currentTimeline.currentTime+(null!=j?j:0)+C.delay,easing:""},pe=new Dt(this._driver,C.element,C.keyframes,C.preStyleProps,C.postStyleProps,ie,C.stretchStartingKeyframe);return this.timelines.push(pe),ie}incrementTime(C){this.currentTimeline.forwardTime(this.currentTimeline.duration+C)}delayNextStep(C){C>0&&this.currentTimeline.delayNextStep(C)}invokeQuery(C,S,j,ie,pe,Fe){let Ue=[];if(ie&&Ue.push(this.element),C.length>0){C=(C=C.replace(Vs,"."+this._enterClassName)).replace(ko,"."+this._leaveClassName);let Wt=this._driver.query(this.element,C,1!=j);0!==j&&(Wt=j<0?Wt.slice(Wt.length+j,Wt.length):Wt.slice(0,j)),Ue.push(...Wt)}return!pe&&0==Ue.length&&Fe.push(function Et(ee){return new y.vHH(3014,me)}()),Ue}}class He{constructor(C,S,j,ie){this._driver=C,this.element=S,this.startTime=j,this._elementTimelineStylesLookup=ie,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(S),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(S,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(C){const S=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||S?(this.forwardTime(this.currentTime+C),S&&this.snapshotCurrentStyles()):this.startTime+=C}fork(C,S){return this.applyStylesToKeyframe(),new He(this._driver,C,S||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(C){this.applyStylesToKeyframe(),this.duration=C,this._loadKeyframe()}_updateStyle(C,S){this._localTimelineStyles[C]=S,this._globalTimelineStyles[C]=S,this._styleSummary[C]={time:this.currentTime,value:S}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(C){C&&(this._previousKeyframe.easing=C),Object.keys(this._globalTimelineStyles).forEach(S=>{this._backFill[S]=this._globalTimelineStyles[S]||ne.l3,this._currentKeyframe[S]=ne.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(C,S,j,ie){S&&(this._previousKeyframe.easing=S);const pe=ie&&ie.params||{},Fe=function fn(ee,C){const S={};let j;return ee.forEach(ie=>{"*"===ie?(j=j||Object.keys(C),j.forEach(pe=>{S[pe]=ne.l3})):Ne(ie,!1,S)}),S}(C,this._globalTimelineStyles);Object.keys(Fe).forEach(Ue=>{const bt=qe(Fe[Ue],pe,j);this._pendingStyles[Ue]=bt,this._localTimelineStyles.hasOwnProperty(Ue)||(this._backFill[Ue]=this._globalTimelineStyles.hasOwnProperty(Ue)?this._globalTimelineStyles[Ue]:ne.l3),this._updateStyle(Ue,bt)})}applyStylesToKeyframe(){const C=this._pendingStyles,S=Object.keys(C);0!=S.length&&(this._pendingStyles={},S.forEach(j=>{this._currentKeyframe[j]=C[j]}),Object.keys(this._localTimelineStyles).forEach(j=>{this._currentKeyframe.hasOwnProperty(j)||(this._currentKeyframe[j]=this._localTimelineStyles[j])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(C=>{const S=this._localTimelineStyles[C];this._pendingStyles[C]=S,this._updateStyle(C,S)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const C=[];for(let S in this._currentKeyframe)C.push(S);return C}mergeTimelineCollectedStyles(C){Object.keys(C._styleSummary).forEach(S=>{const j=this._styleSummary[S],ie=C._styleSummary[S];(!j||ie.time>j.time)&&this._updateStyle(S,ie.value)})}buildKeyframes(){this.applyStylesToKeyframe();const C=new Set,S=new Set,j=1===this._keyframes.size&&0===this.duration;let ie=[];this._keyframes.forEach((Ue,bt)=>{const Wt=Ne(Ue,!0);Object.keys(Wt).forEach(kn=>{const Zn=Wt[kn];Zn==ne.k1?C.add(kn):Zn==ne.l3&&S.add(kn)}),j||(Wt.offset=bt/this.duration),ie.push(Wt)});const pe=C.size?kt(C.values()):[],Fe=S.size?kt(S.values()):[];if(j){const Ue=ie[0],bt=Yn(Ue);Ue.offset=0,bt.offset=1,ie=[Ue,bt]}return vs(this.element,ie,pe,Fe,this.duration,this.startTime,this.easing,!1)}}class Dt extends He{constructor(C,S,j,ie,pe,Fe,Ue=!1){super(C,S,Fe.delay),this.keyframes=j,this.preStyleProps=ie,this.postStyleProps=pe,this._stretchStartingKeyframe=Ue,this.timings={duration:Fe.duration,delay:Fe.delay,easing:Fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let C=this.keyframes,{delay:S,duration:j,easing:ie}=this.timings;if(this._stretchStartingKeyframe&&S){const pe=[],Fe=j+S,Ue=S/Fe,bt=Ne(C[0],!1);bt.offset=0,pe.push(bt);const Wt=Ne(C[0],!1);Wt.offset=Kt(Ue),pe.push(Wt);const kn=C.length-1;for(let Zn=1;Zn<=kn;Zn++){let Qn=Ne(C[Zn],!1);Qn.offset=Kt((S+Qn.offset*j)/Fe),pe.push(Qn)}j=Fe,S=0,ie="",C=pe}return vs(this.element,C,this.preStyleProps,this.postStyleProps,j,S,ie,!0)}}function Kt(ee,C=3){const S=Math.pow(10,C-1);return Math.round(ee*S)/S}class ki{}class Ai extends ki{normalizePropertyName(C,S){return jn(C)}normalizeStyleValue(C,S,j,ie){let pe="";const Fe=j.toString().trim();if(Xi[S]&&0!==j&&"0"!==j)if("number"==typeof j)pe="px";else{const Ue=j.match(/^[+-]?[\d\.]+([a-z]*)$/);Ue&&0==Ue[1].length&&ie.push(function be(ee,C){return new y.vHH(3005,me)}())}return Fe+pe}}const Xi=(()=>function qi(ee){const C={};return ee.forEach(S=>C[S]=!0),C}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Es(ee,C,S,j,ie,pe,Fe,Ue,bt,Wt,kn,Zn,Qn){return{type:0,element:ee,triggerName:C,isRemovalTransition:ie,fromState:S,fromStyles:pe,toState:j,toStyles:Fe,timelines:Ue,queriedElements:bt,preStyleProps:Wt,postStyleProps:kn,totalTime:Zn,errors:Qn}}const Xs={};class or{constructor(C,S,j){this._triggerName=C,this.ast=S,this._stateStyles=j}match(C,S,j,ie){return function To(ee,C,S,j,ie){return ee.some(pe=>pe(C,S,j,ie))}(this.ast.matchers,C,S,j,ie)}buildStyles(C,S,j){const ie=this._stateStyles["*"],pe=this._stateStyles[C],Fe=ie?ie.buildStyles(S,j):{};return pe?pe.buildStyles(S,j):Fe}build(C,S,j,ie,pe,Fe,Ue,bt,Wt,kn){const Zn=[],Qn=this.ast.options&&this.ast.options.params||Xs,zn=this.buildStyles(j,Ue&&Ue.params||Xs,Zn),Di=bt&&bt.params||Xs,lr=this.buildStyles(ie,Di,Zn),Tr=new Set,qr=new Map,gs=new Map,tr="void"===ie,Ws={params:Object.assign(Object.assign({},Qn),Di)},ur=kn?[]:pr(C,S,this.ast.animation,pe,Fe,zn,lr,Ws,Wt,Zn);let ms=0;if(ur.forEach(jo=>{ms=Math.max(jo.duration+jo.delay,ms)}),Zn.length)return Es(S,this._triggerName,j,ie,tr,zn,lr,[],[],qr,gs,ms,Zn);ur.forEach(jo=>{const no=jo.element,qo=qn(qr,no,{});jo.preStyleProps.forEach(Yr=>qo[Yr]=!0);const bo=qn(gs,no,{});jo.postStyleProps.forEach(Yr=>bo[Yr]=!0),no!==S&&Tr.add(no)});const jr=kt(Tr.values());return Es(S,this._triggerName,j,ie,tr,zn,lr,ur,jr,qr,gs,ms)}}class Ur{constructor(C,S,j){this.styles=C,this.defaultParams=S,this.normalizer=j}buildStyles(C,S){const j={},ie=Yn(this.defaultParams);return Object.keys(C).forEach(pe=>{const Fe=C[pe];null!=Fe&&(ie[pe]=Fe)}),this.styles.styles.forEach(pe=>{if("string"!=typeof pe){const Fe=pe;Object.keys(Fe).forEach(Ue=>{let bt=Fe[Ue];bt.length>1&&(bt=qe(bt,ie,S));const Wt=this.normalizer.normalizePropertyName(Ue,S);bt=this.normalizer.normalizeStyleValue(Ue,Wt,bt,S),j[Wt]=bt})}}),j}}class Wr{constructor(C,S,j){this.name=C,this.ast=S,this._normalizer=j,this.transitionFactories=[],this.states={},S.states.forEach(ie=>{this.states[ie.name]=new Ur(ie.style,ie.options&&ie.options.params||{},j)}),eo(this.states,"true","1"),eo(this.states,"false","0"),S.transitions.forEach(ie=>{this.transitionFactories.push(new or(C,ie,this.states))}),this.fallbackTransition=function Bs(ee,C,S){return new or(ee,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Fe,Ue)=>!0],options:null,queryCount:0,depCount:0},C)}(C,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(C,S,j,ie){return this.transitionFactories.find(Fe=>Fe.match(C,S,j,ie))||null}matchStyles(C,S,j){return this.fallbackTransition.buildStyles(C,S,j)}}function eo(ee,C,S){ee.hasOwnProperty(C)?ee.hasOwnProperty(S)||(ee[S]=ee[C]):ee.hasOwnProperty(S)&&(ee[C]=ee[S])}const Ps=new ds;class _o{constructor(C,S,j){this.bodyNode=C,this._driver=S,this._normalizer=j,this._animations={},this._playersById={},this.players=[]}register(C,S){const j=[],pe=Fs(this._driver,S,j,[]);if(j.length)throw function It(ee){return new y.vHH(3503,me)}();this._animations[C]=pe}_buildPlayer(C,S,j){const ie=C.element,pe=Sn(0,this._normalizer,0,C.keyframes,S,j);return this._driver.animate(ie,pe,C.duration,C.delay,C.easing,[],!0)}create(C,S,j={}){const ie=[],pe=this._animations[C];let Fe;const Ue=new Map;if(pe?(Fe=pr(this._driver,S,pe,Zi,Bi,{},{},j,Ps,ie),Fe.forEach(kn=>{const Zn=qn(Ue,kn.element,{});kn.postStyleProps.forEach(Qn=>Zn[Qn]=null)})):(ie.push(function lt(){return new y.vHH(3300,me)}()),Fe=[]),ie.length)throw function ft(ee){return new y.vHH(3504,me)}();Ue.forEach((kn,Zn)=>{Object.keys(kn).forEach(Qn=>{kn[Qn]=this._driver.computeStyle(Zn,Qn,ne.l3)})});const Wt=qt(Fe.map(kn=>{const Zn=Ue.get(kn.element);return this._buildPlayer(kn,{},Zn)}));return this._playersById[C]=Wt,Wt.onDestroy(()=>this.destroy(C)),this.players.push(Wt),Wt}destroy(C){const S=this._getPlayer(C);S.destroy(),delete this._playersById[C];const j=this.players.indexOf(S);j>=0&&this.players.splice(j,1)}_getPlayer(C){const S=this._playersById[C];if(!S)throw function dn(ee){return new y.vHH(3301,me)}();return S}listen(C,S,j,ie){const pe=si(S,"","","");return ti(this._getPlayer(C),j,pe,ie),()=>{}}command(C,S,j,ie){if("register"==j)return void this.register(C,ie[0]);if("create"==j)return void this.create(C,S,ie[0]||{});const pe=this._getPlayer(C);switch(j){case"play":pe.play();break;case"pause":pe.pause();break;case"reset":pe.reset();break;case"restart":pe.restart();break;case"finish":pe.finish();break;case"init":pe.init();break;case"setPosition":pe.setPosition(parseFloat(ie[0]));break;case"destroy":this.destroy(C)}}}const sa="ng-animate-queued",Kr="ng-animate-disabled",gr=[],Zr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed";class js{constructor(C,S=""){this.namespaceId=S;const j=C&&C.hasOwnProperty("value");if(this.value=function z(ee){return null!=ee?ee:null}(j?C.value:C),j){const pe=Yn(C);delete pe.value,this.options=pe}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(C){const S=C.params;if(S){const j=this.options.params;Object.keys(S).forEach(ie=>{null==j[ie]&&(j[ie]=S[ie])})}}}const Hs="void",as=new js(Hs);class ls{constructor(C,S,j){this.id=C,this.hostElement=S,this._engine=j,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+C,$t(S,this._hostClassName)}listen(C,S,j,ie){if(!this._triggers.hasOwnProperty(S))throw function Pe(ee,C){return new y.vHH(3302,me)}();if(null==j||0==j.length)throw function nt(ee){return new y.vHH(3303,me)}();if(!function $(ee){return"start"==ee||"done"==ee}(j))throw function rt(ee,C){return new y.vHH(3400,me)}();const pe=qn(this._elementListeners,C,[]),Fe={name:S,phase:j,callback:ie};pe.push(Fe);const Ue=qn(this._engine.statesByElement,C,{});return Ue.hasOwnProperty(S)||($t(C,gi),$t(C,gi+"-"+S),Ue[S]=as),()=>{this._engine.afterFlush(()=>{const bt=pe.indexOf(Fe);bt>=0&&pe.splice(bt,1),this._triggers[S]||delete Ue[S]})}}register(C,S){return!this._triggers[C]&&(this._triggers[C]=S,!0)}_getTrigger(C){const S=this._triggers[C];if(!S)throw function Ht(ee){return new y.vHH(3401,me)}();return S}trigger(C,S,j,ie=!0){const pe=this._getTrigger(S),Fe=new $s(this.id,S,C);let Ue=this._engine.statesByElement.get(C);Ue||($t(C,gi),$t(C,gi+"-"+S),this._engine.statesByElement.set(C,Ue={}));let bt=Ue[S];const Wt=new js(j,this.id);if(!(j&&j.hasOwnProperty("value"))&&bt&&Wt.absorbOptions(bt.options),Ue[S]=Wt,bt||(bt=as),Wt.value!==Hs&&bt.value===Wt.value){if(!function Ri(ee,C){const S=Object.keys(ee),j=Object.keys(C);if(S.length!=j.length)return!1;for(let ie=0;ie<S.length;ie++){const pe=S[ie];if(!C.hasOwnProperty(pe)||ee[pe]!==C[pe])return!1}return!0}(bt.params,Wt.params)){const Di=[],lr=pe.matchStyles(bt.value,bt.params,Di),Tr=pe.matchStyles(Wt.value,Wt.params,Di);Di.length?this._engine.reportError(Di):this._engine.afterFlush(()=>{ct(C,lr),At(C,Tr)})}return}const Qn=qn(this._engine.playersByElement,C,[]);Qn.forEach(Di=>{Di.namespaceId==this.id&&Di.triggerName==S&&Di.queued&&Di.destroy()});let Vi=pe.matchTransition(bt.value,Wt.value,C,Wt.params),zn=!1;if(!Vi){if(!ie)return;Vi=pe.fallbackTransition,zn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:S,transition:Vi,fromState:bt,toState:Wt,player:Fe,isFallbackTransition:zn}),zn||($t(C,sa),Fe.onStart(()=>{En(C,sa)})),Fe.onDone(()=>{let Di=this.players.indexOf(Fe);Di>=0&&this.players.splice(Di,1);const lr=this._engine.playersByElement.get(C);if(lr){let Tr=lr.indexOf(Fe);Tr>=0&&lr.splice(Tr,1)}}),this.players.push(Fe),Qn.push(Fe),Fe}deregister(C){delete this._triggers[C],this._engine.statesByElement.forEach((S,j)=>{delete S[C]}),this._elementListeners.forEach((S,j)=>{this._elementListeners.set(j,S.filter(ie=>ie.name!=C))})}clearElementCache(C){this._engine.statesByElement.delete(C),this._elementListeners.delete(C);const S=this._engine.playersByElement.get(C);S&&(S.forEach(j=>j.destroy()),this._engine.playersByElement.delete(C))}_signalRemovalForInnerTriggers(C,S){const j=this._engine.driver.query(C,sn,!0);j.forEach(ie=>{if(ie[er])return;const pe=this._engine.fetchNamespacesByElement(ie);pe.size?pe.forEach(Fe=>Fe.triggerLeaveAnimation(ie,S,!1,!0)):this.clearElementCache(ie)}),this._engine.afterFlushAnimationsDone(()=>j.forEach(ie=>this.clearElementCache(ie)))}triggerLeaveAnimation(C,S,j,ie){const pe=this._engine.statesByElement.get(C),Fe=new Map;if(pe){const Ue=[];if(Object.keys(pe).forEach(bt=>{if(Fe.set(bt,pe[bt].value),this._triggers[bt]){const Wt=this.trigger(C,bt,Hs,ie);Wt&&Ue.push(Wt)}}),Ue.length)return this._engine.markElementAsRemoved(this.id,C,!0,S,Fe),j&&qt(Ue).onDone(()=>this._engine.processLeaveNode(C)),!0}return!1}prepareLeaveAnimationListeners(C){const S=this._elementListeners.get(C),j=this._engine.statesByElement.get(C);if(S&&j){const ie=new Set;S.forEach(pe=>{const Fe=pe.name;if(ie.has(Fe))return;ie.add(Fe);const bt=this._triggers[Fe].fallbackTransition,Wt=j[Fe]||as,kn=new js(Hs),Zn=new $s(this.id,Fe,C);this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:Fe,transition:bt,fromState:Wt,toState:kn,player:Zn,isFallbackTransition:!0})})}}removeNode(C,S){const j=this._engine;if(C.childElementCount&&this._signalRemovalForInnerTriggers(C,S),this.triggerLeaveAnimation(C,S,!0))return;let ie=!1;if(j.totalAnimations){const pe=j.players.length?j.playersByQueriedElement.get(C):[];if(pe&&pe.length)ie=!0;else{let Fe=C;for(;Fe=Fe.parentNode;)if(j.statesByElement.get(Fe)){ie=!0;break}}}if(this.prepareLeaveAnimationListeners(C),ie)j.markElementAsRemoved(this.id,C,!1,S);else{const pe=C[er];(!pe||pe===Zr)&&(j.afterFlush(()=>this.clearElementCache(C)),j.destroyInnerAnimations(C),j._onRemovalComplete(C,S))}}insertNode(C,S){$t(C,this._hostClassName)}drainQueuedTransitions(C){const S=[];return this._queue.forEach(j=>{const ie=j.player;if(ie.destroyed)return;const pe=j.element,Fe=this._elementListeners.get(pe);Fe&&Fe.forEach(Ue=>{if(Ue.name==j.triggerName){const bt=si(pe,j.triggerName,j.fromState.value,j.toState.value);bt._data=C,ti(j.player,Ue.phase,bt,Ue.callback)}}),ie.markedForDestroy?this._engine.afterFlush(()=>{ie.destroy()}):S.push(j)}),this._queue=[],S.sort((j,ie)=>{const pe=j.transition.ast.depCount,Fe=ie.transition.ast.depCount;return 0==pe||0==Fe?pe-Fe:this._engine.driver.containsElement(j.element,ie.element)?1:-1})}destroy(C){this.players.forEach(S=>S.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,C)}elementContainsData(C){let S=!1;return this._elementListeners.has(C)&&(S=!0),S=!!this._queue.find(j=>j.element===C)||S,S}}class Io{constructor(C,S,j){this.bodyNode=C,this.driver=S,this._normalizer=j,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ie,pe)=>{}}_onRemovalComplete(C,S){this.onRemovalComplete(C,S)}get queuedPlayers(){const C=[];return this._namespaceList.forEach(S=>{S.players.forEach(j=>{j.queued&&C.push(j)})}),C}createNamespace(C,S){const j=new ls(C,S,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,S)?this._balanceNamespaceList(j,S):(this.newHostElements.set(S,j),this.collectEnterElement(S)),this._namespaceLookup[C]=j}_balanceNamespaceList(C,S){const j=this._namespaceList,ie=this.namespacesByHostElement,pe=j.length-1;if(pe>=0){let Fe=!1;if(void 0!==this.driver.getParentElement){let Ue=this.driver.getParentElement(S);for(;Ue;){const bt=ie.get(Ue);if(bt){const Wt=j.indexOf(bt);j.splice(Wt+1,0,C),Fe=!0;break}Ue=this.driver.getParentElement(Ue)}}else for(let Ue=pe;Ue>=0;Ue--)if(this.driver.containsElement(j[Ue].hostElement,S)){j.splice(Ue+1,0,C),Fe=!0;break}Fe||j.unshift(C)}else j.push(C);return ie.set(S,C),C}register(C,S){let j=this._namespaceLookup[C];return j||(j=this.createNamespace(C,S)),j}registerTrigger(C,S,j){let ie=this._namespaceLookup[C];ie&&ie.register(S,j)&&this.totalAnimations++}destroy(C,S){if(!C)return;const j=this._fetchNamespace(C);this.afterFlush(()=>{this.namespacesByHostElement.delete(j.hostElement),delete this._namespaceLookup[C];const ie=this._namespaceList.indexOf(j);ie>=0&&this._namespaceList.splice(ie,1)}),this.afterFlushAnimationsDone(()=>j.destroy(S))}_fetchNamespace(C){return this._namespaceLookup[C]}fetchNamespacesByElement(C){const S=new Set,j=this.statesByElement.get(C);if(j){const ie=Object.keys(j);for(let pe=0;pe<ie.length;pe++){const Fe=j[ie[pe]].namespaceId;if(Fe){const Ue=this._fetchNamespace(Fe);Ue&&S.add(Ue)}}}return S}trigger(C,S,j,ie){if(se(S)){const pe=this._fetchNamespace(C);if(pe)return pe.trigger(S,j,ie),!0}return!1}insertNode(C,S,j,ie){if(!se(S))return;const pe=S[er];if(pe&&pe.setForRemoval){pe.setForRemoval=!1,pe.setForMove=!0;const Fe=this.collectedLeaveElements.indexOf(S);Fe>=0&&this.collectedLeaveElements.splice(Fe,1)}if(C){const Fe=this._fetchNamespace(C);Fe&&Fe.insertNode(S,j)}ie&&this.collectEnterElement(S)}collectEnterElement(C){this.collectedEnterElements.push(C)}markElementAsDisabled(C,S){S?this.disabledNodes.has(C)||(this.disabledNodes.add(C),$t(C,Kr)):this.disabledNodes.has(C)&&(this.disabledNodes.delete(C),En(C,Kr))}removeNode(C,S,j,ie){if(se(S)){const pe=C?this._fetchNamespace(C):null;if(pe?pe.removeNode(S,ie):this.markElementAsRemoved(C,S,!1,ie),j){const Fe=this.namespacesByHostElement.get(S);Fe&&Fe.id!==C&&Fe.removeNode(S,ie)}}else this._onRemovalComplete(S,ie)}markElementAsRemoved(C,S,j,ie,pe){this.collectedLeaveElements.push(S),S[er]={namespaceId:C,setForRemoval:ie,hasAnimation:j,removedBeforeQueried:!1,previousTriggersValues:pe}}listen(C,S,j,ie,pe){return se(S)?this._fetchNamespace(C).listen(S,j,ie,pe):()=>{}}_buildInstruction(C,S,j,ie,pe){return C.transition.build(this.driver,C.element,C.fromState.value,C.toState.value,j,ie,C.fromState.options,C.toState.options,S,pe)}destroyInnerAnimations(C){let S=this.driver.query(C,sn,!0);S.forEach(j=>this.destroyActiveAnimationsForElement(j)),0!=this.playersByQueriedElement.size&&(S=this.driver.query(C,Bn,!0),S.forEach(j=>this.finishActiveQueriedAnimationOnElement(j)))}destroyActiveAnimationsForElement(C){const S=this.playersByElement.get(C);S&&S.forEach(j=>{j.queued?j.markedForDestroy=!0:j.destroy()})}finishActiveQueriedAnimationOnElement(C){const S=this.playersByQueriedElement.get(C);S&&S.forEach(j=>j.finish())}whenRenderingDone(){return new Promise(C=>{if(this.players.length)return qt(this.players).onDone(()=>C());C()})}processLeaveNode(C){var S;const j=C[er];if(j&&j.setForRemoval){if(C[er]=Zr,j.namespaceId){this.destroyInnerAnimations(C);const ie=this._fetchNamespace(j.namespaceId);ie&&ie.clearElementCache(C)}this._onRemovalComplete(C,j.setForRemoval)}(null===(S=C.classList)||void 0===S?void 0:S.contains(Kr))&&this.markElementAsDisabled(C,!1),this.driver.query(C,".ng-animate-disabled",!0).forEach(ie=>{this.markElementAsDisabled(ie,!1)})}flush(C=-1){let S=[];if(this.newHostElements.size&&(this.newHostElements.forEach((j,ie)=>this._balanceNamespaceList(j,ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let j=0;j<this.collectedEnterElements.length;j++)$t(this.collectedEnterElements[j],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const j=[];try{S=this._flushAnimations(j,C)}finally{for(let ie=0;ie<j.length;ie++)j[ie]()}}else for(let j=0;j<this.collectedLeaveElements.length;j++)this.processLeaveNode(this.collectedLeaveElements[j]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(j=>j()),this._flushFns=[],this._whenQuietFns.length){const j=this._whenQuietFns;this._whenQuietFns=[],S.length?qt(S).onDone(()=>{j.forEach(ie=>ie())}):j.forEach(ie=>ie())}}reportError(C){throw function un(ee){return new y.vHH(3402,me)}()}_flushAnimations(C,S){const j=new ds,ie=[],pe=new Map,Fe=[],Ue=new Map,bt=new Map,Wt=new Map,kn=new Set;this.disabledNodes.forEach(Tn=>{kn.add(Tn);const ei=this.driver.query(Tn,".ng-animate-queued",!0);for(let li=0;li<ei.length;li++)kn.add(ei[li])});const Zn=this.bodyNode,Qn=Array.from(this.statesByElement.keys()),Vi=Pt(Qn,this.collectedEnterElements),zn=new Map;let Di=0;Vi.forEach((Tn,ei)=>{const li=Zi+Di++;zn.set(ei,li),Tn.forEach(Si=>$t(Si,li))});const lr=[],Tr=new Set,qr=new Set;for(let Tn=0;Tn<this.collectedLeaveElements.length;Tn++){const ei=this.collectedLeaveElements[Tn],li=ei[er];li&&li.setForRemoval&&(lr.push(ei),Tr.add(ei),li.hasAnimation?this.driver.query(ei,".ng-star-inserted",!0).forEach(Si=>Tr.add(Si)):qr.add(ei))}const gs=new Map,tr=Pt(Qn,Array.from(Tr));tr.forEach((Tn,ei)=>{const li=Bi+Di++;gs.set(ei,li),Tn.forEach(Si=>$t(Si,li))}),C.push(()=>{Vi.forEach((Tn,ei)=>{const li=zn.get(ei);Tn.forEach(Si=>En(Si,li))}),tr.forEach((Tn,ei)=>{const li=gs.get(ei);Tn.forEach(Si=>En(Si,li))}),lr.forEach(Tn=>{this.processLeaveNode(Tn)})});const Ws=[],ur=[];for(let Tn=this._namespaceList.length-1;Tn>=0;Tn--)this._namespaceList[Tn].drainQueuedTransitions(S).forEach(li=>{const Si=li.player,sr=li.element;if(Ws.push(Si),this.collectedEnterElements.length){const io=sr[er];if(io&&io.setForMove){if(io.previousTriggersValues&&io.previousTriggersValues.has(li.triggerName)){const Qr=io.previousTriggersValues.get(li.triggerName),Ks=this.statesByElement.get(li.element);Ks&&Ks[li.triggerName]&&(Ks[li.triggerName].value=Qr)}return void Si.destroy()}}const Rs=!Zn||!this.driver.containsElement(Zn,sr),xr=gs.get(sr),Cs=zn.get(sr),Ir=this._buildInstruction(li,j,Cs,xr,Rs);if(Ir.errors&&Ir.errors.length)return void ur.push(Ir);if(Rs)return Si.onStart(()=>ct(sr,Ir.fromStyles)),Si.onDestroy(()=>At(sr,Ir.toStyles)),void ie.push(Si);if(li.isFallbackTransition)return Si.onStart(()=>ct(sr,Ir.fromStyles)),Si.onDestroy(()=>At(sr,Ir.toStyles)),void ie.push(Si);const uo=[];Ir.timelines.forEach(io=>{io.stretchStartingKeyframe=!0,this.disabledNodes.has(io.element)||uo.push(io)}),Ir.timelines=uo,j.append(sr,Ir.timelines),Fe.push({instruction:Ir,player:Si,element:sr}),Ir.queriedElements.forEach(io=>qn(Ue,io,[]).push(Si)),Ir.preStyleProps.forEach((io,Qr)=>{const Ks=Object.keys(io);if(Ks.length){let Ns=bt.get(Qr);Ns||bt.set(Qr,Ns=new Set),Ks.forEach(ba=>Ns.add(ba))}}),Ir.postStyleProps.forEach((io,Qr)=>{const Ks=Object.keys(io);let Ns=Wt.get(Qr);Ns||Wt.set(Qr,Ns=new Set),Ks.forEach(ba=>Ns.add(ba))})});if(ur.length){const Tn=[];ur.forEach(ei=>{Tn.push(function Rt(ee,C){return new y.vHH(3505,me)}())}),Ws.forEach(ei=>ei.destroy()),this.reportError(Tn)}const ms=new Map,jr=new Map;Fe.forEach(Tn=>{const ei=Tn.element;j.has(ei)&&(jr.set(ei,ei),this._beforeAnimationBuild(Tn.player.namespaceId,Tn.instruction,ms))}),ie.forEach(Tn=>{const ei=Tn.element;this._getPreviousPlayers(ei,!1,Tn.namespaceId,Tn.triggerName,null).forEach(Si=>{qn(ms,ei,[]).push(Si),Si.destroy()})});const jo=lr.filter(Tn=>Cr(Tn,bt,Wt)),no=new Map;Se(no,this.driver,qr,Wt,ne.l3).forEach(Tn=>{Cr(Tn,bt,Wt)&&jo.push(Tn)});const bo=new Map;Vi.forEach((Tn,ei)=>{Se(bo,this.driver,new Set(Tn),bt,ne.k1)}),jo.forEach(Tn=>{const ei=no.get(Tn),li=bo.get(Tn);no.set(Tn,Object.assign(Object.assign({},ei),li))});const Yr=[],Lo=[],Yo={};Fe.forEach(Tn=>{const{element:ei,player:li,instruction:Si}=Tn;if(j.has(ei)){if(kn.has(ei))return li.onDestroy(()=>At(ei,Si.toStyles)),li.disabled=!0,li.overrideTotalTime(Si.totalTime),void ie.push(li);let sr=Yo;if(jr.size>1){let xr=ei;const Cs=[];for(;xr=xr.parentNode;){const Ir=jr.get(xr);if(Ir){sr=Ir;break}Cs.push(xr)}Cs.forEach(Ir=>jr.set(Ir,sr))}const Rs=this._buildAnimation(li.namespaceId,Si,ms,pe,bo,no);if(li.setRealPlayer(Rs),sr===Yo)Yr.push(li);else{const xr=this.playersByElement.get(sr);xr&&xr.length&&(li.parentPlayer=qt(xr)),ie.push(li)}}else ct(ei,Si.fromStyles),li.onDestroy(()=>At(ei,Si.toStyles)),Lo.push(li),kn.has(ei)&&ie.push(li)}),Lo.forEach(Tn=>{const ei=pe.get(Tn.element);if(ei&&ei.length){const li=qt(ei);Tn.setRealPlayer(li)}}),ie.forEach(Tn=>{Tn.parentPlayer?Tn.syncPlayerEvents(Tn.parentPlayer):Tn.destroy()});for(let Tn=0;Tn<lr.length;Tn++){const ei=lr[Tn],li=ei[er];if(En(ei,Bi),li&&li.hasAnimation)continue;let Si=[];if(Ue.size){let Rs=Ue.get(ei);Rs&&Rs.length&&Si.push(...Rs);let xr=this.driver.query(ei,Bn,!0);for(let Cs=0;Cs<xr.length;Cs++){let Ir=Ue.get(xr[Cs]);Ir&&Ir.length&&Si.push(...Ir)}}const sr=Si.filter(Rs=>!Rs.destroyed);sr.length?Yi(this,ei,sr):this.processLeaveNode(ei)}return lr.length=0,Yr.forEach(Tn=>{this.players.push(Tn),Tn.onDone(()=>{Tn.destroy();const ei=this.players.indexOf(Tn);this.players.splice(ei,1)}),Tn.play()}),Yr}elementContainsData(C,S){let j=!1;const ie=S[er];return ie&&ie.setForRemoval&&(j=!0),this.playersByElement.has(S)&&(j=!0),this.playersByQueriedElement.has(S)&&(j=!0),this.statesByElement.has(S)&&(j=!0),this._fetchNamespace(C).elementContainsData(S)||j}afterFlush(C){this._flushFns.push(C)}afterFlushAnimationsDone(C){this._whenQuietFns.push(C)}_getPreviousPlayers(C,S,j,ie,pe){let Fe=[];if(S){const Ue=this.playersByQueriedElement.get(C);Ue&&(Fe=Ue)}else{const Ue=this.playersByElement.get(C);if(Ue){const bt=!pe||pe==Hs;Ue.forEach(Wt=>{Wt.queued||!bt&&Wt.triggerName!=ie||Fe.push(Wt)})}}return(j||ie)&&(Fe=Fe.filter(Ue=>!(j&&j!=Ue.namespaceId||ie&&ie!=Ue.triggerName))),Fe}_beforeAnimationBuild(C,S,j){const pe=S.element,Fe=S.isRemovalTransition?void 0:C,Ue=S.isRemovalTransition?void 0:S.triggerName;for(const bt of S.timelines){const Wt=bt.element,kn=Wt!==pe,Zn=qn(j,Wt,[]);this._getPreviousPlayers(Wt,kn,Fe,Ue,S.toState).forEach(Vi=>{const zn=Vi.getRealPlayer();zn.beforeDestroy&&zn.beforeDestroy(),Vi.destroy(),Zn.push(Vi)})}ct(pe,S.fromStyles)}_buildAnimation(C,S,j,ie,pe,Fe){const Ue=S.triggerName,bt=S.element,Wt=[],kn=new Set,Zn=new Set,Qn=S.timelines.map(zn=>{const Di=zn.element;kn.add(Di);const lr=Di[er];if(lr&&lr.removedBeforeQueried)return new ne.ZN(zn.duration,zn.delay);const Tr=Di!==bt,qr=function Li(ee){const C=[];return wi(ee,C),C}((j.get(Di)||gr).map(ms=>ms.getRealPlayer())).filter(ms=>!!ms.element&&ms.element===Di),gs=pe.get(Di),tr=Fe.get(Di),Ws=Sn(0,this._normalizer,0,zn.keyframes,gs,tr),ur=this._buildPlayer(zn,Ws,qr);if(zn.subTimeline&&ie&&Zn.add(Di),Tr){const ms=new $s(C,Ue,Di);ms.setRealPlayer(ur),Wt.push(ms)}return ur});Wt.forEach(zn=>{qn(this.playersByQueriedElement,zn.element,[]).push(zn),zn.onDone(()=>function Ui(ee,C,S){let j;if(ee instanceof Map){if(j=ee.get(C),j){if(j.length){const ie=j.indexOf(S);j.splice(ie,1)}0==j.length&&ee.delete(C)}}else if(j=ee[C],j){if(j.length){const ie=j.indexOf(S);j.splice(ie,1)}0==j.length&&delete ee[C]}return j}(this.playersByQueriedElement,zn.element,zn))}),kn.forEach(zn=>$t(zn,mi));const Vi=qt(Qn);return Vi.onDestroy(()=>{kn.forEach(zn=>En(zn,mi)),At(bt,S.toStyles)}),Zn.forEach(zn=>{qn(ie,zn,[]).push(Vi)}),Vi}_buildPlayer(C,S,j){return S.length>0?this.driver.animate(C.element,S,C.duration,C.delay,C.easing,j):new ne.ZN(C.duration,C.delay)}}class $s{constructor(C,S,j){this.namespaceId=C,this.triggerName=S,this.element=j,this._player=new ne.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(C){this._containsRealPlayer||(this._player=C,Object.keys(this._queuedCallbacks).forEach(S=>{this._queuedCallbacks[S].forEach(j=>ti(C,S,void 0,j))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(C.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(C){this.totalTime=C}syncPlayerEvents(C){const S=this._player;S.triggerCallback&&C.onStart(()=>S.triggerCallback("start")),C.onDone(()=>this.finish()),C.onDestroy(()=>this.destroy())}_queueEvent(C,S){qn(this._queuedCallbacks,C,[]).push(S)}onDone(C){this.queued&&this._queueEvent("done",C),this._player.onDone(C)}onStart(C){this.queued&&this._queueEvent("start",C),this._player.onStart(C)}onDestroy(C){this.queued&&this._queueEvent("destroy",C),this._player.onDestroy(C)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(C){this.queued||this._player.setPosition(C)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(C){const S=this._player;S.triggerCallback&&S.triggerCallback(C)}}function se(ee){return ee&&1===ee.nodeType}function ue(ee,C){const S=ee.style.display;return ee.style.display=null!=C?C:"none",S}function Se(ee,C,S,j,ie){const pe=[];S.forEach(bt=>pe.push(ue(bt)));const Fe=[];j.forEach((bt,Wt)=>{const kn={};bt.forEach(Zn=>{const Qn=kn[Zn]=C.computeStyle(Wt,Zn,ie);(!Qn||0==Qn.length)&&(Wt[er]=Wo,Fe.push(Wt))}),ee.set(Wt,kn)});let Ue=0;return S.forEach(bt=>ue(bt,pe[Ue++])),Fe}function Pt(ee,C){const S=new Map;if(ee.forEach(Ue=>S.set(Ue,[])),0==C.length)return S;const ie=new Set(C),pe=new Map;function Fe(Ue){if(!Ue)return 1;let bt=pe.get(Ue);if(bt)return bt;const Wt=Ue.parentNode;return bt=S.has(Wt)?Wt:ie.has(Wt)?1:Fe(Wt),pe.set(Ue,bt),bt}return C.forEach(Ue=>{const bt=Fe(Ue);1!==bt&&S.get(bt).push(Ue)}),S}function $t(ee,C){var S;null===(S=ee.classList)||void 0===S||S.add(C)}function En(ee,C){var S;null===(S=ee.classList)||void 0===S||S.remove(C)}function Yi(ee,C,S){qt(S).onDone(()=>ee.processLeaveNode(C))}function wi(ee,C){for(let S=0;S<ee.length;S++){const j=ee[S];j instanceof ne.ZE?wi(j.players,C):C.push(j)}}function Cr(ee,C,S){const j=S.get(ee);if(!j)return!1;let ie=C.get(ee);return ie?j.forEach(pe=>ie.add(pe)):C.set(ee,j),S.delete(ee),!0}class Qi{constructor(C,S,j){this.bodyNode=C,this._driver=S,this._normalizer=j,this._triggerCache={},this.onRemovalComplete=(ie,pe)=>{},this._transitionEngine=new Io(C,S,j),this._timelineEngine=new _o(C,S,j),this._transitionEngine.onRemovalComplete=(ie,pe)=>this.onRemovalComplete(ie,pe)}registerTrigger(C,S,j,ie,pe){const Fe=C+"-"+ie;let Ue=this._triggerCache[Fe];if(!Ue){const bt=[],kn=Fs(this._driver,pe,bt,[]);if(bt.length)throw function ht(ee,C){return new y.vHH(3404,me)}();Ue=function ao(ee,C,S){return new Wr(ee,C,S)}(ie,kn,this._normalizer),this._triggerCache[Fe]=Ue}this._transitionEngine.registerTrigger(S,ie,Ue)}register(C,S){this._transitionEngine.register(C,S)}destroy(C,S){this._transitionEngine.destroy(C,S)}onInsert(C,S,j,ie){this._transitionEngine.insertNode(C,S,j,ie)}onRemove(C,S,j,ie){this._transitionEngine.removeNode(C,S,ie||!1,j)}disableAnimations(C,S){this._transitionEngine.markElementAsDisabled(C,S)}process(C,S,j,ie){if("@"==j.charAt(0)){const[pe,Fe]=ii(j);this._timelineEngine.command(pe,S,Fe,ie)}else this._transitionEngine.trigger(C,S,j,ie)}listen(C,S,j,ie,pe){if("@"==j.charAt(0)){const[Fe,Ue]=ii(j);return this._timelineEngine.listen(Fe,S,Ue,pe)}return this._transitionEngine.listen(C,S,j,ie,pe)}flush(C=-1){this._transitionEngine.flush(C)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let W=(()=>{class ee{constructor(S,j,ie){this._element=S,this._startStyles=j,this._endStyles=ie,this._state=0;let pe=ee.initialStylesByElement.get(S);pe||ee.initialStylesByElement.set(S,pe={}),this._initialStyles=pe}start(){this._state<1&&(this._startStyles&&At(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(At(this._element,this._initialStyles),this._endStyles&&(At(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ee.initialStylesByElement.delete(this._element),this._startStyles&&(ct(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ct(this._element,this._endStyles),this._endStyles=null),At(this._element,this._initialStyles),this._state=3)}}return ee.initialStylesByElement=new WeakMap,ee})();function H(ee){let C=null;const S=Object.keys(ee);for(let j=0;j<S.length;j++){const ie=S[j];L(ie)&&(C=C||{},C[ie]=ee[ie])}return C}function L(ee){return"display"===ee||"position"===ee}class le{constructor(C,S,j,ie){this.element=C,this.keyframes=S,this.options=j,this._specialStyles=ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=j.duration,this._delay=j.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const C=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,C,this.options),this._finalKeyframe=C.length?C[C.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(C,S,j){return C.animate(S,j)}onStart(C){this._onStartFns.push(C)}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(C=>C()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}setPosition(C){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=C*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const C={};if(this.hasStarted()){const S=this._finalKeyframe;Object.keys(S).forEach(j=>{"offset"!=j&&(C[j]=this._finished?S[j]:Nr(this.element,j))})}this.currentSnapshot=C}triggerCallback(C){const S="start"==C?this._onStartFns:this._onDoneFns;S.forEach(j=>j()),S.length=0}}class Ot{validateStyleProperty(C){return _t(C)}matchesElement(C,S){return!1}containsElement(C,S){return je(C,S)}getParentElement(C){return Fn(C)}query(C,S,j){return Gt(C,S,j)}computeStyle(C,S,j){return window.getComputedStyle(C)[S]}animate(C,S,j,ie,pe,Fe=[]){const bt={duration:j,delay:ie,fill:0==ie?"both":"forwards"};pe&&(bt.easing=pe);const Wt={},kn=Fe.filter(Qn=>Qn instanceof le);(function ir(ee,C){return 0===ee||0===C})(j,ie)&&kn.forEach(Qn=>{let Vi=Qn.currentSnapshot;Object.keys(Vi).forEach(zn=>Wt[zn]=Vi[zn])}),S=function _s(ee,C,S){const j=Object.keys(S);if(j.length&&C.length){let pe=C[0],Fe=[];if(j.forEach(Ue=>{pe.hasOwnProperty(Ue)||Fe.push(Ue),pe[Ue]=S[Ue]}),Fe.length)for(var ie=1;ie<C.length;ie++){let Ue=C[ie];Fe.forEach(function(bt){Ue[bt]=Nr(ee,bt)})}}return C}(C,S=S.map(Qn=>Ne(Qn,!1)),Wt);const Zn=function ar(ee,C){let S=null,j=null;return Array.isArray(C)&&C.length?(S=H(C[0]),C.length>1&&(j=H(C[C.length-1]))):C&&(S=H(C)),S||j?new W(ee,S,j):null}(C,S);return new le(C,S,bt,Zn)}}var Un=N(9808);let zi=(()=>{class ee extends ne._j{constructor(S,j){super(),this._nextAnimationId=0,this._renderer=S.createRenderer(j.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(S){const j=this._nextAnimationId.toString();this._nextAnimationId++;const ie=Array.isArray(S)?(0,ne.vP)(S):S;return zs(this._renderer,null,j,"register",[ie]),new us(j,this._renderer)}}return ee.\u0275fac=function(S){return new(S||ee)(y.LFG(y.FYo),y.LFG(Un.K0))},ee.\u0275prov=y.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class us extends ne.LC{constructor(C,S){super(),this._id=C,this._renderer=S}create(C,S){return new Ko(this._id,C,S||{},this._renderer)}}class Ko{constructor(C,S,j,ie){this.id=C,this.element=S,this._renderer=ie,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",j)}_listen(C,S){return this._renderer.listen(this.element,`@@${this.id}:${C}`,S)}_command(C,...S){return zs(this._renderer,this.element,this.id,C,S)}onDone(C){this._listen("done",C)}onStart(C){this._listen("start",C)}onDestroy(C){this._listen("destroy",C)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(C){this._command("setPosition",C)}getPosition(){var C,S;return null!==(S=null===(C=this._renderer.engine.players[+this.id])||void 0===C?void 0:C.getPosition())&&void 0!==S?S:0}}function zs(ee,C,S,j,ie){return ee.setProperty(C,`@@${S}:${j}`,ie)}const Fi="@.disabled";let Oa=(()=>{class ee{constructor(S,j,ie){this.delegate=S,this.engine=j,this._zone=ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),j.onRemovalComplete=(pe,Fe)=>{const Ue=null==Fe?void 0:Fe.parentNode(pe);Ue&&Fe.removeChild(Ue,pe)}}createRenderer(S,j){const pe=this.delegate.createRenderer(S,j);if(!(S&&j&&j.data&&j.data.animation)){let kn=this._rendererCache.get(pe);return kn||(kn=new Sr("",pe,this.engine),this._rendererCache.set(pe,kn)),kn}const Fe=j.id,Ue=j.id+"-"+this._currentId;this._currentId++,this.engine.register(Ue,S);const bt=kn=>{Array.isArray(kn)?kn.forEach(bt):this.engine.registerTrigger(Fe,Ue,S,kn.name,kn)};return j.data.animation.forEach(bt),new vo(this,Ue,pe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(S,j,ie){S>=0&&S<this._microtaskId?this._zone.run(()=>j(ie)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(pe=>{const[Fe,Ue]=pe;Fe(Ue)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([j,ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return ee.\u0275fac=function(S){return new(S||ee)(y.LFG(y.FYo),y.LFG(Qi),y.LFG(y.R0b))},ee.\u0275prov=y.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class Sr{constructor(C,S,j){this.namespaceId=C,this.delegate=S,this.engine=j,this.destroyNode=this.delegate.destroyNode?ie=>S.destroyNode(ie):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(C,S){return this.delegate.createElement(C,S)}createComment(C){return this.delegate.createComment(C)}createText(C){return this.delegate.createText(C)}appendChild(C,S){this.delegate.appendChild(C,S),this.engine.onInsert(this.namespaceId,S,C,!1)}insertBefore(C,S,j,ie=!0){this.delegate.insertBefore(C,S,j),this.engine.onInsert(this.namespaceId,S,C,ie)}removeChild(C,S,j){this.engine.onRemove(this.namespaceId,S,this.delegate,j)}selectRootElement(C,S){return this.delegate.selectRootElement(C,S)}parentNode(C){return this.delegate.parentNode(C)}nextSibling(C){return this.delegate.nextSibling(C)}setAttribute(C,S,j,ie){this.delegate.setAttribute(C,S,j,ie)}removeAttribute(C,S,j){this.delegate.removeAttribute(C,S,j)}addClass(C,S){this.delegate.addClass(C,S)}removeClass(C,S){this.delegate.removeClass(C,S)}setStyle(C,S,j,ie){this.delegate.setStyle(C,S,j,ie)}removeStyle(C,S,j){this.delegate.removeStyle(C,S,j)}setProperty(C,S,j){"@"==S.charAt(0)&&S==Fi?this.disableAnimations(C,!!j):this.delegate.setProperty(C,S,j)}setValue(C,S){this.delegate.setValue(C,S)}listen(C,S,j){return this.delegate.listen(C,S,j)}disableAnimations(C,S){this.engine.disableAnimations(C,S)}}class vo extends Sr{constructor(C,S,j,ie){super(S,j,ie),this.factory=C,this.namespaceId=S}setProperty(C,S,j){"@"==S.charAt(0)?"."==S.charAt(1)&&S==Fi?this.disableAnimations(C,j=void 0===j||!!j):this.engine.process(this.namespaceId,C,S.substr(1),j):this.delegate.setProperty(C,S,j)}listen(C,S,j){if("@"==S.charAt(0)){const ie=function oa(ee){switch(ee){case"body":return document.body;case"document":return document;case"window":return window;default:return ee}}(C);let pe=S.substr(1),Fe="";return"@"!=pe.charAt(0)&&([pe,Fe]=function lo(ee){const C=ee.indexOf(".");return[ee.substring(0,C),ee.substr(C+1)]}(pe)),this.engine.listen(this.namespaceId,ie,pe,Fe,Ue=>{this.factory.scheduleListenerCallback(Ue._data||-1,j,Ue)})}return this.delegate.listen(C,S,j)}}let _a=(()=>{class ee extends Qi{constructor(S,j,ie){super(S.body,j,ie)}ngOnDestroy(){this.flush()}}return ee.\u0275fac=function(S){return new(S||ee)(y.LFG(Un.K0),y.LFG(_n),y.LFG(ki))},ee.\u0275prov=y.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Ba=new y.OlP("AnimationModuleType"),Zo=[{provide:ne._j,useClass:zi},{provide:ki,useFactory:function Qa(){return new Ai}},{provide:Qi,useClass:_a},{provide:y.FYo,useFactory:function aa(ee,C,S){return new Oa(ee,C,S)},deps:[R.se,Qi,y.R0b]}],Ds=[{provide:_n,useFactory:()=>new Ot},{provide:Ba,useValue:"BrowserAnimations"},...Zo],ps=[{provide:_n,useClass:Zt},{provide:Ba,useValue:"NoopAnimations"},...Zo];let Gs=(()=>{class ee{static withConfig(S){return{ngModule:ee,providers:S.disableAnimations?ps:Ds}}}return ee.\u0275fac=function(S){return new(S||ee)},ee.\u0275mod=y.oAB({type:ee}),ee.\u0275inj=y.cJS({providers:Ds,imports:[R.b2]}),ee})()},2313:(an,tt,N)=>{N.d(tt,{H7:()=>Ke,b2:()=>fi,q6:()=>qn,se:()=>It});var y=N(9808),R=N(5e3);class ne extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends ne{static makeCurrent(){(0,y.HT)(new me)}onAndCancel(Me,ye,qe){return Me.addEventListener(ye,qe,!1),()=>{Me.removeEventListener(ye,qe,!1)}}dispatchEvent(Me,ye){Me.dispatchEvent(ye)}remove(Me){Me.parentNode&&Me.parentNode.removeChild(Me)}createElement(Me,ye){return(ye=ye||this.getDefaultDocument()).createElement(Me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Me){return Me.nodeType===Node.ELEMENT_NODE}isShadowRoot(Me){return Me instanceof DocumentFragment}getGlobalEventTarget(Me,ye){return"window"===ye?window:"document"===ye?Me:"body"===ye?Me.body:null}getBaseHref(Me){const ye=function ve(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==ye?null:function Ce(Ye){Re=Re||document.createElement("a"),Re.setAttribute("href",Ye);const Me=Re.pathname;return"/"===Me.charAt(0)?Me:`/${Me}`}(ye)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(Me){return(0,y.Mx)(document.cookie,Me)}}let Re,we=null;const Te=new R.OlP("TRANSITION_ID"),fe=[{provide:R.ip1,useFactory:function ce(Ye,Me,ye){return()=>{ye.get(R.CZH).donePromise.then(()=>{const qe=(0,y.q)(),kt=Me.querySelectorAll(`style[ng-transition="${Ye}"]`);for(let mn=0;mn<kt.length;mn++)qe.remove(kt[mn])})}},deps:[Te,y.K0,R.zs3],multi:!0}];class be{static init(){(0,R.VLi)(new be)}addToWindow(Me){R.dqk.getAngularTestability=(qe,kt=!0)=>{const mn=Me.findTestabilityInTree(qe,kt);if(null==mn)throw new Error("Could not find testability for element.");return mn},R.dqk.getAllAngularTestabilities=()=>Me.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>Me.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(qe=>{const kt=R.dqk.getAllAngularTestabilities();let mn=kt.length,jn=!1;const xi=function(ir){jn=jn||ir,mn--,0==mn&&qe(jn)};kt.forEach(function(ir){ir.whenStable(xi)})})}findTestabilityInTree(Me,ye,qe){if(null==ye)return null;const kt=Me.getTestability(ye);return null!=kt?kt:qe?(0,y.q)().isShadowRoot(ye)?this.findTestabilityInTree(Me,ye.host,!0):this.findTestabilityInTree(Me,ye.parentElement,!0):null}}let vt=(()=>{class Ye{build(){return new XMLHttpRequest}}return Ye.\u0275fac=function(ye){return new(ye||Ye)},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const at=new R.OlP("EventManagerPlugins");let it=(()=>{class Ye{constructor(ye,qe){this._zone=qe,this._eventNameToPlugin=new Map,ye.forEach(kt=>kt.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,qe,kt){return this._findPluginFor(qe).addEventListener(ye,qe,kt)}addGlobalEventListener(ye,qe,kt){return this._findPluginFor(qe).addGlobalEventListener(ye,qe,kt)}getZone(){return this._zone}_findPluginFor(ye){const qe=this._eventNameToPlugin.get(ye);if(qe)return qe;const kt=this._plugins;for(let mn=0;mn<kt.length;mn++){const jn=kt[mn];if(jn.supports(ye))return this._eventNameToPlugin.set(ye,jn),jn}throw new Error(`No event manager plugin found for event ${ye}`)}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(R.LFG(at),R.LFG(R.R0b))},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class Lt{constructor(Me){this._doc=Me}addGlobalEventListener(Me,ye,qe){const kt=(0,y.q)().getGlobalEventTarget(this._doc,Me);if(!kt)throw new Error(`Unsupported event target ${kt} for event ${ye}`);return this.addEventListener(kt,ye,qe)}}let Xe=(()=>{class Ye{constructor(){this._stylesSet=new Set}addStyles(ye){const qe=new Set;ye.forEach(kt=>{this._stylesSet.has(kt)||(this._stylesSet.add(kt),qe.add(kt))}),this.onStylesAdded(qe)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return Ye.\u0275fac=function(ye){return new(ye||Ye)},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),st=(()=>{class Ye extends Xe{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,qe,kt){ye.forEach(mn=>{const jn=this._doc.createElement("style");jn.textContent=mn,kt.push(qe.appendChild(jn))})}addHost(ye){const qe=[];this._addStylesToHost(this._stylesSet,ye,qe),this._hostNodes.set(ye,qe)}removeHost(ye){const qe=this._hostNodes.get(ye);qe&&qe.forEach(Oe),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((qe,kt)=>{this._addStylesToHost(ye,kt,qe)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(Oe))}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(R.LFG(y.K0))},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function Oe(Ye){(0,y.q)().remove(Ye)}const on={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pt=/%COMP%/g;function ze(Ye,Me,ye){for(let qe=0;qe<Me.length;qe++){let kt=Me[qe];Array.isArray(kt)?ze(Ye,kt,ye):(kt=kt.replace(pt,Ye),ye.push(kt))}return ye}function ht(Ye){return Me=>{if("__ngUnwrap__"===Me)return Ye;!1===Ye(Me)&&(Me.preventDefault(),Me.returnValue=!1)}}let It=(()=>{class Ye{constructor(ye,qe,kt){this.eventManager=ye,this.sharedStylesHost=qe,this.appId=kt,this.rendererByCompId=new Map,this.defaultRenderer=new lt(ye)}createRenderer(ye,qe){if(!ye||!qe)return this.defaultRenderer;switch(qe.encapsulation){case R.ifc.Emulated:{let kt=this.rendererByCompId.get(qe.id);return kt||(kt=new Pe(this.eventManager,this.sharedStylesHost,qe,this.appId),this.rendererByCompId.set(qe.id,kt)),kt.applyToHost(ye),kt}case 1:case R.ifc.ShadowDom:return new nt(this.eventManager,this.sharedStylesHost,ye,qe);default:if(!this.rendererByCompId.has(qe.id)){const kt=ze(qe.id,qe.styles,[]);this.sharedStylesHost.addStyles(kt),this.rendererByCompId.set(qe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(R.LFG(it),R.LFG(st),R.LFG(R.AFp))},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class lt{constructor(Me){this.eventManager=Me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Me,ye){return ye?document.createElementNS(on[ye]||ye,Me):document.createElement(Me)}createComment(Me){return document.createComment(Me)}createText(Me){return document.createTextNode(Me)}appendChild(Me,ye){Me.appendChild(ye)}insertBefore(Me,ye,qe){Me&&Me.insertBefore(ye,qe)}removeChild(Me,ye){Me&&Me.removeChild(ye)}selectRootElement(Me,ye){let qe="string"==typeof Me?document.querySelector(Me):Me;if(!qe)throw new Error(`The selector "${Me}" did not match any elements`);return ye||(qe.textContent=""),qe}parentNode(Me){return Me.parentNode}nextSibling(Me){return Me.nextSibling}setAttribute(Me,ye,qe,kt){if(kt){ye=kt+":"+ye;const mn=on[kt];mn?Me.setAttributeNS(mn,ye,qe):Me.setAttribute(ye,qe)}else Me.setAttribute(ye,qe)}removeAttribute(Me,ye,qe){if(qe){const kt=on[qe];kt?Me.removeAttributeNS(kt,ye):Me.removeAttribute(`${qe}:${ye}`)}else Me.removeAttribute(ye)}addClass(Me,ye){Me.classList.add(ye)}removeClass(Me,ye){Me.classList.remove(ye)}setStyle(Me,ye,qe,kt){kt&(R.JOm.DashCase|R.JOm.Important)?Me.style.setProperty(ye,qe,kt&R.JOm.Important?"important":""):Me.style[ye]=qe}removeStyle(Me,ye,qe){qe&R.JOm.DashCase?Me.style.removeProperty(ye):Me.style[ye]=""}setProperty(Me,ye,qe){Me[ye]=qe}setValue(Me,ye){Me.nodeValue=ye}listen(Me,ye,qe){return"string"==typeof Me?this.eventManager.addGlobalEventListener(Me,ye,ht(qe)):this.eventManager.addEventListener(Me,ye,ht(qe))}}class Pe extends lt{constructor(Me,ye,qe,kt){super(Me),this.component=qe;const mn=ze(kt+"-"+qe.id,qe.styles,[]);ye.addStyles(mn),this.contentAttr=function ge(Ye){return"_ngcontent-%COMP%".replace(pt,Ye)}(kt+"-"+qe.id),this.hostAttr=function Ve(Ye){return"_nghost-%COMP%".replace(pt,Ye)}(kt+"-"+qe.id)}applyToHost(Me){super.setAttribute(Me,this.hostAttr,"")}createElement(Me,ye){const qe=super.createElement(Me,ye);return super.setAttribute(qe,this.contentAttr,""),qe}}class nt extends lt{constructor(Me,ye,qe,kt){super(Me),this.sharedStylesHost=ye,this.hostEl=qe,this.shadowRoot=qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=ze(kt.id,kt.styles,[]);for(let jn=0;jn<mn.length;jn++){const xi=document.createElement("style");xi.textContent=mn[jn],this.shadowRoot.appendChild(xi)}}nodeOrShadowRoot(Me){return Me===this.hostEl?this.shadowRoot:Me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Me,ye){return super.appendChild(this.nodeOrShadowRoot(Me),ye)}insertBefore(Me,ye,qe){return super.insertBefore(this.nodeOrShadowRoot(Me),ye,qe)}removeChild(Me,ye){return super.removeChild(this.nodeOrShadowRoot(Me),ye)}parentNode(Me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Me)))}}let rt=(()=>{class Ye extends Lt{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,qe,kt){return ye.addEventListener(qe,kt,!1),()=>this.removeEventListener(ye,qe,kt)}removeEventListener(ye,qe,kt){return ye.removeEventListener(qe,kt)}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(R.LFG(y.K0))},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Ht=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ge={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let ut=(()=>{class Ye extends Lt{constructor(ye){super(ye)}supports(ye){return null!=Ye.parseEventName(ye)}addEventListener(ye,qe,kt){const mn=Ye.parseEventName(qe),jn=Ye.eventCallback(mn.fullKey,kt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(ye,mn.domEventName,jn))}static parseEventName(ye){const qe=ye.toLowerCase().split("."),kt=qe.shift();if(0===qe.length||"keydown"!==kt&&"keyup"!==kt)return null;const mn=Ye._normalizeKey(qe.pop());let jn="";if(Ht.forEach(ir=>{const _s=qe.indexOf(ir);_s>-1&&(qe.splice(_s,1),jn+=ir+".")}),jn+=mn,0!=qe.length||0===mn.length)return null;const xi={};return xi.domEventName=kt,xi.fullKey=jn,xi}static getEventFullKey(ye){let qe="",kt=function qt(Ye){let Me=Ye.key;if(null==Me){if(Me=Ye.keyIdentifier,null==Me)return"Unidentified";Me.startsWith("U+")&&(Me=String.fromCharCode(parseInt(Me.substring(2),16)),3===Ye.location&&Rt.hasOwnProperty(Me)&&(Me=Rt[Me]))}return Ut[Me]||Me}(ye);return kt=kt.toLowerCase()," "===kt?kt="space":"."===kt&&(kt="dot"),Ht.forEach(mn=>{mn!=kt&&Ge[mn](ye)&&(qe+=mn+".")}),qe+=kt,qe}static eventCallback(ye,qe,kt){return mn=>{Ye.getEventFullKey(mn)===ye&&kt.runGuarded(()=>qe(mn))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(R.LFG(y.K0))},Ye.\u0275prov=R.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const qn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:y.bD},{provide:R.g9A,useValue:function Sn(){me.makeCurrent(),be.init()},multi:!0},{provide:y.K0,useFactory:function Ci(){return(0,R.RDi)(document),document},deps:[]}]),ii=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function ti(){return new R.qLn},deps:[]},{provide:at,useClass:rt,multi:!0,deps:[y.K0,R.R0b,R.Lbi]},{provide:at,useClass:ut,multi:!0,deps:[y.K0]},{provide:It,useClass:It,deps:[it,st,R.AFp]},{provide:R.FYo,useExisting:It},{provide:Xe,useExisting:st},{provide:st,useClass:st,deps:[y.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:it,useClass:it,deps:[at,R.R0b]},{provide:y.JF,useClass:vt,deps:[]}];let fi=(()=>{class Ye{constructor(ye){if(ye)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ye){return{ngModule:Ye,providers:[{provide:R.AFp,useValue:ye.appId},{provide:Te,useExisting:R.AFp},fe]}}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(R.LFG(Ye,12))},Ye.\u0275mod=R.oAB({type:Ye}),Ye.\u0275inj=R.cJS({providers:ii,imports:[y.ez,R.hGG]}),Ye})();"undefined"!=typeof window&&window;let Ke=(()=>{class Ye{}return Ye.\u0275fac=function(ye){return new(ye||Ye)},Ye.\u0275prov=R.Yz7({token:Ye,factory:function(ye){let qe=null;return qe=ye?new(ye||Ye):R.LFG(ct),qe},providedIn:"root"}),Ye})(),ct=(()=>{class Ye extends Ke{constructor(ye){super(),this._doc=ye}sanitize(ye,qe){if(null==qe)return null;switch(ye){case R.q3G.NONE:return qe;case R.q3G.HTML:return(0,R.qzn)(qe,"HTML")?(0,R.z3N)(qe):(0,R.EiD)(this._doc,String(qe)).toString();case R.q3G.STYLE:return(0,R.qzn)(qe,"Style")?(0,R.z3N)(qe):qe;case R.q3G.SCRIPT:if((0,R.qzn)(qe,"Script"))return(0,R.z3N)(qe);throw new Error("unsafe value used in a script context");case R.q3G.URL:return(0,R.yhl)(qe),(0,R.qzn)(qe,"URL")?(0,R.z3N)(qe):(0,R.mCW)(String(qe));case R.q3G.RESOURCE_URL:if((0,R.qzn)(qe,"ResourceURL"))return(0,R.z3N)(qe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ye} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ye){return(0,R.JVY)(ye)}bypassSecurityTrustStyle(ye){return(0,R.L6k)(ye)}bypassSecurityTrustScript(ye){return(0,R.eBb)(ye)}bypassSecurityTrustUrl(ye){return(0,R.LAX)(ye)}bypassSecurityTrustResourceUrl(ye){return(0,R.pB0)(ye)}}return Ye.\u0275fac=function(ye){return new(ye||Ye)(R.LFG(y.K0))},Ye.\u0275prov=R.Yz7({token:Ye,factory:function(ye){let qe=null;return qe=ye?new ye:function At(Ye){return new ct(Ye.get(y.K0))}(R.LFG(R.zs3)),qe},providedIn:"root"}),Ye})()},1402:(an,tt,N)=>{N.d(tt,{F0:()=>jr,rH:()=>qo,Od:()=>Lo,yS:()=>bo,Bz:()=>co,lC:()=>Kr});var y=N(5e3),R=N(8306),ne=N(727),me=N(4482),we=N(5403);function ve(){return(0,me.e)((F,O)=>{let x=null;F._refCount++;const G=(0,we.x)(O,void 0,void 0,void 0,()=>{if(!F||F._refCount<=0||0<--F._refCount)return void(x=null);const q=F._connection,X=x;x=null,q&&(!X||q===X)&&q.unsubscribe(),O.unsubscribe()});F.subscribe(G),G.closed||(x=F.connect())})}class Re extends R.y{constructor(O,x){super(),this.source=O,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,null==O||O.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new ne.w0;const x=this.getSubject();O.add(this.source.subscribe((0,we.x)(x,void 0,()=>{this._teardown(),x.complete()},G=>{this._teardown(),x.error(G)},()=>this._teardown()))),O.closed&&(this._connection=null,O=ne.w0.EMPTY)}return O}refCount(){return ve()(this)}}var Ce=N(8996),Te=N(9646),ce=N(1135),fe=N(9841),be=N(2843),vt=N(6805),at=N(7272),it=N(9770),Lt=N(515),Xe=N(7579),st=N(9300);function Oe(F){return F<=0?()=>Lt.E:(0,me.e)((O,x)=>{let G=[];O.subscribe((0,we.x)(x,q=>{G.push(q),F<G.length&&G.shift()},()=>{for(const q of G)x.next(q);x.complete()},void 0,()=>{G=null}))})}var on=N(8068),pt=N(6590),Le=N(4671),Et=N(4004),ot=N(3900),ge=N(5698),Ve=N(8675),ze=N(5026),ht=N(262),yt=N(4351),It=N(590),lt=N(5577),ft=N(8505),dn=N(8746),Pe=N(8189),nt=N(9808);class rt{constructor(O,x){this.id=O,this.url=x}}class Ht extends rt{constructor(O,x,G="imperative",q=null){super(O,x),this.navigationTrigger=G,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class un extends rt{constructor(O,x,G){super(O,x),this.urlAfterRedirects=G}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ut extends rt{constructor(O,x,G){super(O,x),this.reason=G}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rt extends rt{constructor(O,x,G){super(O,x),this.error=G}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ge extends rt{constructor(O,x,G,q){super(O,x),this.urlAfterRedirects=G,this.state=q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends rt{constructor(O,x,G,q){super(O,x),this.urlAfterRedirects=G,this.state=q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qt extends rt{constructor(O,x,G,q,X){super(O,x),this.urlAfterRedirects=G,this.state=q,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sn extends rt{constructor(O,x,G,q){super(O,x),this.urlAfterRedirects=G,this.state=q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends rt{constructor(O,x,G,q){super(O,x),this.urlAfterRedirects=G,this.state=q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci{constructor(O){this.route=O}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class si{constructor(O){this.route=O}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qn{constructor(O){this.snapshot=O}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(O){this.snapshot=O}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(O){this.snapshot=O}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pi{constructor(O){this.snapshot=O}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(O,x,G){this.routerEvent=O,this.position=x,this.anchor=G}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fn="primary";class Tt{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const x=this.params[O];return Array.isArray(x)?x[0]:x}return null}getAll(O){if(this.has(O)){const x=this.params[O];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function wn(F){return new Tt(F)}const Xt="ngNavigationCancelingError";function ni(F){const O=Error("NavigationCancelingError: "+F);return O[Xt]=!0,O}function Be(F,O,x){const G=x.path.split("/");if(G.length>F.length||"full"===x.pathMatch&&(O.hasChildren()||G.length<F.length))return null;const q={};for(let X=0;X<G.length;X++){const _e=G[X],$e=F[X];if(_e.startsWith(":"))q[_e.substring(1)]=$e;else if(_e!==$e.path)return null}return{consumed:F.slice(0,G.length),posParams:q}}function Gt(F,O){const x=F?Object.keys(F):void 0,G=O?Object.keys(O):void 0;if(!x||!G||x.length!=G.length)return!1;let q;for(let X=0;X<x.length;X++)if(q=x[X],!Mt(F[q],O[q]))return!1;return!0}function Mt(F,O){if(Array.isArray(F)&&Array.isArray(O)){if(F.length!==O.length)return!1;const x=[...F].sort(),G=[...O].sort();return x.every((q,X)=>G[X]===q)}return F===O}function Zt(F){return Array.prototype.concat.apply([],F)}function _n(F){return F.length>0?F[F.length-1]:null}function Pn(F,O){for(const x in F)F.hasOwnProperty(x)&&O(F[x],x)}function Nn(F){return(0,y.CqO)(F)?F:(0,y.QGY)(F)?(0,Ce.D)(Promise.resolve(F)):(0,Te.of)(F)}const Bi={exact:function Bn(F,O,x){if(!Ke(F.segments,O.segments)||!An(F.segments,O.segments,x)||F.numberOfChildren!==O.numberOfChildren)return!1;for(const G in O.children)if(!F.children[G]||!Bn(F.children[G],O.children[G],x))return!1;return!0},subset:Vt},gi={exact:function mi(F,O){return Gt(F,O)},subset:function bn(F,O){return Object.keys(O).length<=Object.keys(F).length&&Object.keys(O).every(x=>Mt(F[x],O[x]))},ignored:()=>!0};function sn(F,O,x){return Bi[x.paths](F.root,O.root,x.matrixParams)&&gi[x.queryParams](F.queryParams,O.queryParams)&&!("exact"===x.fragment&&F.fragment!==O.fragment)}function Vt(F,O,x){return In(F,O,O.segments,x)}function In(F,O,x,G){if(F.segments.length>x.length){const q=F.segments.slice(0,x.length);return!(!Ke(q,x)||O.hasChildren()||!An(q,x,G))}if(F.segments.length===x.length){if(!Ke(F.segments,x)||!An(F.segments,x,G))return!1;for(const q in O.children)if(!F.children[q]||!Vt(F.children[q],O.children[q],G))return!1;return!0}{const q=x.slice(0,F.segments.length),X=x.slice(F.segments.length);return!!(Ke(F.segments,q)&&An(F.segments,q,G)&&F.children[Fn])&&In(F.children[Fn],O,X,G)}}function An(F,O,x){return O.every((G,q)=>gi[x](F[q].parameters,G.parameters))}class Yn{constructor(O,x,G){this.root=O,this.queryParams=x,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return Ye.serialize(this)}}class Dn{constructor(O,x){this.segments=O,this.children=x,this.parent=null,Pn(x,(G,q)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Me(this)}}class Ne{constructor(O,x){this.path=O,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return _s(this)}}function Ke(F,O){return F.length===O.length&&F.every((x,G)=>x.path===O[G].path)}class ct{}class pn{parse(O){const x=new wr(O);return new Yn(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(O){const x=`/${ye(O.root,!0)}`,G=function Nr(F){const O=Object.keys(F).map(x=>{const G=F[x];return Array.isArray(G)?G.map(q=>`${kt(x)}=${kt(q)}`).join("&"):`${kt(x)}=${kt(G)}`}).filter(x=>!!x);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${x}${G}${"string"==typeof O.fragment?`#${function mn(F){return encodeURI(F)}(O.fragment)}`:""}`}}const Ye=new pn;function Me(F){return F.segments.map(O=>_s(O)).join("/")}function ye(F,O){if(!F.hasChildren())return Me(F);if(O){const x=F.children[Fn]?ye(F.children[Fn],!1):"",G=[];return Pn(F.children,(q,X)=>{X!==Fn&&G.push(`${X}:${ye(q,!1)}`)}),G.length>0?`${x}(${G.join("//")})`:x}{const x=function At(F,O){let x=[];return Pn(F.children,(G,q)=>{q===Fn&&(x=x.concat(O(G,q)))}),Pn(F.children,(G,q)=>{q!==Fn&&(x=x.concat(O(G,q)))}),x}(F,(G,q)=>q===Fn?[ye(F.children[Fn],!1)]:[`${q}:${ye(G,!1)}`]);return 1===Object.keys(F.children).length&&null!=F.children[Fn]?`${Me(F)}/${x[0]}`:`${Me(F)}/(${x.join("//")})`}}function qe(F){return encodeURIComponent(F).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kt(F){return qe(F).replace(/%3B/gi,";")}function jn(F){return qe(F).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xi(F){return decodeURIComponent(F)}function ir(F){return xi(F.replace(/\+/g,"%20"))}function _s(F){return`${jn(F.path)}${function rr(F){return Object.keys(F).map(O=>`;${jn(O)}=${jn(F[O])}`).join("")}(F.parameters)}`}const hr=/^[^\/()?;=#]+/;function Er(F){const O=F.match(hr);return O?O[0]:""}const Wi=/^[^=?&#]+/,yi=/^[^&#]+/;class wr{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(O.length>0||Object.keys(x).length>0)&&(G[Fn]=new Dn(O,x)),G}parseSegment(){const O=Er(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(O),new Ne(xi(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const x=Er(this.remaining);if(!x)return;this.capture(x);let G="";if(this.consumeOptional("=")){const q=Er(this.remaining);q&&(G=q,this.capture(G))}O[xi(x)]=xi(G)}parseQueryParam(O){const x=function Jt(F){const O=F.match(Wi);return O?O[0]:""}(this.remaining);if(!x)return;this.capture(x);let G="";if(this.consumeOptional("=")){const _e=function Gi(F){const O=F.match(yi);return O?O[0]:""}(this.remaining);_e&&(G=_e,this.capture(G))}const q=ir(x),X=ir(G);if(O.hasOwnProperty(q)){let _e=O[q];Array.isArray(_e)||(_e=[_e],O[q]=_e),_e.push(X)}else O[q]=X}parseParens(O){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=Er(this.remaining),q=this.remaining[G.length];if("/"!==q&&")"!==q&&";"!==q)throw new Error(`Cannot parse url '${this.url}'`);let X;G.indexOf(":")>-1?(X=G.substr(0,G.indexOf(":")),this.capture(X),this.capture(":")):O&&(X=Fn);const _e=this.parseChildren();x[X]=1===Object.keys(_e).length?_e[Fn]:new Dn([],_e),this.consumeOptional("//")}return x}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new Error(`Expected "${O}".`)}}class vr{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const x=this.pathFromRoot(O);return x.length>1?x[x.length-2]:null}children(O){const x=fr(O,this._root);return x?x.children.map(G=>G.value):[]}firstChild(O){const x=fr(O,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(O){const x=Fr(O,this._root);return x.length<2?[]:x[x.length-2].children.map(q=>q.value).filter(q=>q!==O)}pathFromRoot(O){return Fr(O,this._root).map(x=>x.value)}}function fr(F,O){if(F===O.value)return O;for(const x of O.children){const G=fr(F,x);if(G)return G}return null}function Fr(F,O){if(F===O.value)return[O];for(const x of O.children){const G=Fr(F,x);if(G.length)return G.unshift(O),G}return[]}class Mi{constructor(O,x){this.value=O,this.children=x}toString(){return`TreeNode(${this.value})`}}function Hi(F){const O={};return F&&F.children.forEach(x=>O[x.value.outlet]=x),O}class ts extends vr{constructor(O,x){super(O),this.snapshot=x,Vr(this,O)}toString(){return this.snapshot.toString()}}function oi(F,O){const x=function ns(F,O){const _e=new Ki([],{},{},"",{},Fn,O,null,F.root,-1,{});return new Gr("",new Mi(_e,[]))}(F,O),G=new ce.X([new Ne("",{})]),q=new ce.X({}),X=new ce.X({}),_e=new ce.X({}),$e=new ce.X(""),Ft=new is(G,q,_e,$e,X,Fn,O,x.root);return Ft.snapshot=x.root,new ts(new Mi(Ft,[]),x)}class is{constructor(O,x,G,q,X,_e,$e,Ft){this.url=O,this.params=x,this.queryParams=G,this.fragment=q,this.data=X,this.outlet=_e,this.component=$e,this._futureSnapshot=Ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(O=>wn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(O=>wn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fs(F,O="emptyOnly"){const x=F.pathFromRoot;let G=0;if("always"!==O)for(G=x.length-1;G>=1;){const q=x[G],X=x[G-1];if(q.routeConfig&&""===q.routeConfig.path)G--;else{if(X.component)break;G--}}return function Ar(F){return F.reduce((O,x)=>({params:Object.assign(Object.assign({},O.params),x.params),data:Object.assign(Object.assign({},O.data),x.data),resolve:Object.assign(Object.assign({},O.resolve),x._resolvedData)}),{params:{},data:{},resolve:{}})}(x.slice(G))}class Ki{constructor(O,x,G,q,X,_e,$e,Ft,jt,xn,Jn){this.url=O,this.params=x,this.queryParams=G,this.fragment=q,this.data=X,this.outlet=_e,this.component=$e,this.routeConfig=Ft,this._urlSegment=jt,this._lastPathIndex=xn,this._resolve=Jn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gr extends vr{constructor(O,x){super(x),this.url=O,Vr(this,x)}toString(){return rs(this._root)}}function Vr(F,O){O.value._routerState=F,O.children.forEach(x=>Vr(F,x))}function rs(F){const O=F.children.length>0?` { ${F.children.map(rs).join(", ")} } `:"";return`${F.value}${O}`}function $i(F){if(F.snapshot){const O=F.snapshot,x=F._futureSnapshot;F.snapshot=x,Gt(O.queryParams,x.queryParams)||F.queryParams.next(x.queryParams),O.fragment!==x.fragment&&F.fragment.next(x.fragment),Gt(O.params,x.params)||F.params.next(x.params),function je(F,O){if(F.length!==O.length)return!1;for(let x=0;x<F.length;++x)if(!Gt(F[x],O[x]))return!1;return!0}(O.url,x.url)||F.url.next(x.url),Gt(O.data,x.data)||F.data.next(x.data)}else F.snapshot=F._futureSnapshot,F.data.next(F._futureSnapshot.data)}function di(F,O){const x=Gt(F.params,O.params)&&function De(F,O){return Ke(F,O)&&F.every((x,G)=>Gt(x.parameters,O[G].parameters))}(F.url,O.url);return x&&!(!F.parent!=!O.parent)&&(!F.parent||di(F.parent,O.parent))}function Ji(F,O,x){if(x&&F.shouldReuseRoute(O.value,x.value.snapshot)){const G=x.value;G._futureSnapshot=O.value;const q=function Br(F,O,x){return O.children.map(G=>{for(const q of x.children)if(F.shouldReuseRoute(G.value,q.value.snapshot))return Ji(F,G,q);return Ji(F,G)})}(F,O,x);return new Mi(G,q)}{if(F.shouldAttach(O.value)){const X=F.retrieve(O.value);if(null!==X){const _e=X.route;return _e.value._futureSnapshot=O.value,_e.children=O.children.map($e=>Ji(F,$e)),_e}}const G=function vs(F){return new is(new ce.X(F.url),new ce.X(F.params),new ce.X(F.queryParams),new ce.X(F.fragment),new ce.X(F.data),F.outlet,F.component,F)}(O.value),q=O.children.map(X=>Ji(F,X));return new Mi(G,q)}}function ss(F){return"object"==typeof F&&null!=F&&!F.outlets&&!F.segmentPath}function Dr(F){return"object"==typeof F&&null!=F&&F.outlets}function Vs(F,O,x,G,q){let X={};if(G&&Pn(G,($e,Ft)=>{X[Ft]=Array.isArray($e)?$e.map(jt=>`${jt}`):`${$e}`}),F===O)return new Yn(x,X,q);const _e=bs(F,O,x);return new Yn(_e,X,q)}function bs(F,O,x){const G={};return Pn(F.children,(q,X)=>{G[X]=q===O?x:bs(q,O,x)}),new Dn(F.segments,G)}class ko{constructor(O,x,G){if(this.isAbsolute=O,this.numberOfDoubleDots=x,this.commands=G,O&&G.length>0&&ss(G[0]))throw new Error("Root segment cannot have matrix parameters");const q=G.find(Dr);if(q&&q!==_n(G))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Os{constructor(O,x,G){this.segmentGroup=O,this.processChildren=x,this.index=G}}function Dt(F,O,x){if(F||(F=new Dn([],{})),0===F.segments.length&&F.hasChildren())return Kt(F,O,x);const G=function fn(F,O,x){let G=0,q=O;const X={match:!1,pathIndex:0,commandIndex:0};for(;q<F.segments.length;){if(G>=x.length)return X;const _e=F.segments[q],$e=x[G];if(Dr($e))break;const Ft=`${$e}`,jt=G<x.length-1?x[G+1]:null;if(q>0&&void 0===Ft)break;if(Ft&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!Ai(Ft,jt,_e))return X;G+=2}else{if(!Ai(Ft,{},_e))return X;G++}q++}return{match:!0,pathIndex:q,commandIndex:G}}(F,O,x),q=x.slice(G.commandIndex);if(G.match&&G.pathIndex<F.segments.length){const X=new Dn(F.segments.slice(0,G.pathIndex),{});return X.children[Fn]=new Dn(F.segments.slice(G.pathIndex),F.children),Kt(X,0,q)}return G.match&&0===q.length?new Dn(F.segments,{}):G.match&&!F.hasChildren()?Kn(F,O,x):G.match?Kt(F,0,q):Kn(F,O,x)}function Kt(F,O,x){if(0===x.length)return new Dn(F.segments,{});{const G=function He(F){return Dr(F[0])?F[0].outlets:{[Fn]:F}}(x),q={};return Pn(G,(X,_e)=>{"string"==typeof X&&(X=[X]),null!==X&&(q[_e]=Dt(F.children[_e],O,X))}),Pn(F.children,(X,_e)=>{void 0===G[_e]&&(q[_e]=X)}),new Dn(F.segments,q)}}function Kn(F,O,x){const G=F.segments.slice(0,O);let q=0;for(;q<x.length;){const X=x[q];if(Dr(X)){const Ft=ki(X.outlets);return new Dn(G,Ft)}if(0===q&&ss(x[0])){G.push(new Ne(F.segments[O].path,kr(x[0]))),q++;continue}const _e=Dr(X)?X.outlets[Fn]:`${X}`,$e=q<x.length-1?x[q+1]:null;_e&&$e&&ss($e)?(G.push(new Ne(_e,kr($e))),q+=2):(G.push(new Ne(_e,{})),q++)}return new Dn(G,{})}function ki(F){const O={};return Pn(F,(x,G)=>{"string"==typeof x&&(x=[x]),null!==x&&(O[G]=Kn(new Dn([],{}),0,x))}),O}function kr(F){const O={};return Pn(F,(x,G)=>O[G]=`${x}`),O}function Ai(F,O,x){return F==x.path&&Gt(O,x.parameters)}class qi{constructor(O,x,G,q){this.routeReuseStrategy=O,this.futureState=x,this.currState=G,this.forwardEvent=q}activate(O){const x=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,G,O),$i(this.futureState.root),this.activateChildRoutes(x,G,O)}deactivateChildRoutes(O,x,G){const q=Hi(x);O.children.forEach(X=>{const _e=X.value.outlet;this.deactivateRoutes(X,q[_e],G),delete q[_e]}),Pn(q,(X,_e)=>{this.deactivateRouteAndItsChildren(X,G)})}deactivateRoutes(O,x,G){const q=O.value,X=x?x.value:null;if(q===X)if(q.component){const _e=G.getContext(q.outlet);_e&&this.deactivateChildRoutes(O,x,_e.children)}else this.deactivateChildRoutes(O,x,G);else X&&this.deactivateRouteAndItsChildren(x,G)}deactivateRouteAndItsChildren(O,x){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,x):this.deactivateRouteAndOutlet(O,x)}detachAndStoreRouteSubtree(O,x){const G=x.getContext(O.value.outlet),q=G&&O.value.component?G.children:x,X=Hi(O);for(const _e of Object.keys(X))this.deactivateRouteAndItsChildren(X[_e],q);if(G&&G.outlet){const _e=G.outlet.detach(),$e=G.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:_e,route:O,contexts:$e})}}deactivateRouteAndOutlet(O,x){const G=x.getContext(O.value.outlet),q=G&&O.value.component?G.children:x,X=Hi(O);for(const _e of Object.keys(X))this.deactivateRouteAndItsChildren(X[_e],q);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(O,x,G){const q=Hi(x);O.children.forEach(X=>{this.activateRoutes(X,q[X.value.outlet],G),this.forwardEvent(new pi(X.value.snapshot))}),O.children.length&&this.forwardEvent(new ii(O.value.snapshot))}activateRoutes(O,x,G){const q=O.value,X=x?x.value:null;if($i(q),q===X)if(q.component){const _e=G.getOrCreateContext(q.outlet);this.activateChildRoutes(O,x,_e.children)}else this.activateChildRoutes(O,x,G);else if(q.component){const _e=G.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const $e=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),_e.children.onOutletReAttached($e.contexts),_e.attachRef=$e.componentRef,_e.route=$e.route.value,_e.outlet&&_e.outlet.attach($e.componentRef,$e.route.value),$i($e.route.value),this.activateChildRoutes(O,null,_e.children)}else{const $e=function Es(F){for(let O=F.parent;O;O=O.parent){const x=O.routeConfig;if(x&&x._loadedConfig)return x._loadedConfig;if(x&&x.component)return null}return null}(q.snapshot),Ft=$e?$e.module.componentFactoryResolver:null;_e.attachRef=null,_e.route=q,_e.resolver=Ft,_e.outlet&&_e.outlet.activateWith(q,Ft),this.activateChildRoutes(O,null,_e.children)}}else this.activateChildRoutes(O,null,G)}}class Xs{constructor(O,x){this.routes=O,this.module=x}}function or(F){return"function"==typeof F}function Ur(F){return F instanceof Yn}const Ps=Symbol("INITIAL_VALUE");function _o(){return(0,ot.w)(F=>(0,fe.a)(F.map(O=>O.pipe((0,ge.q)(1),(0,Ve.O)(Ps)))).pipe((0,ze.R)((O,x)=>{let G=!1;return x.reduce((q,X,_e)=>q!==Ps?q:(X===Ps&&(G=!0),G||!1!==X&&_e!==x.length-1&&!Ur(X)?q:X),O)},Ps),(0,st.h)(O=>O!==Ps),(0,Et.U)(O=>Ur(O)?O:!0===O),(0,ge.q)(1)))}class sa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new os,this.attachRef=null}}class os{constructor(){this.contexts=new Map}onChildOutletCreated(O,x){const G=this.getOrCreateContext(O);G.outlet=x,this.contexts.set(O,G)}onChildOutletDestroyed(O){const x=this.getContext(O);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let x=this.getContext(O);return x||(x=new sa,this.contexts.set(O,x)),x}getContext(O){return this.contexts.get(O)||null}}let Kr=(()=>{class F{constructor(x,G,q,X,_e){this.parentContexts=x,this.location=G,this.resolver=q,this.changeDetector=_e,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=X||Fn,x.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const x=this.parentContexts.getContext(this.name);x&&x.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,G){this.activated=x,this._activatedRoute=G,this.location.insert(x.hostView),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,G){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=x;const _e=(G=G||this.resolver).resolveComponentFactory(x._futureSnapshot.routeConfig.component),$e=this.parentContexts.getOrCreateContext(this.name).children,Ft=new ws(x,$e,this.location.injector);this.activated=this.location.createComponent(_e,this.location.length,Ft),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return F.\u0275fac=function(x){return new(x||F)(y.Y36(os),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},F.\u0275dir=y.lG2({type:F,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),F})();class ws{constructor(O,x,G){this.route=O,this.childContexts=x,this.parent=G}get(O,x){return O===is?this.route:O===os?this.childContexts:this.parent.get(O,x)}}let to=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275cmp=y.Xpm({type:F,selectors:[["ng-component"]],decls:1,vars:0,template:function(x,G){1&x&&y._UZ(0,"router-outlet")},directives:[Kr],encapsulation:2}),F})();function Us(F,O=""){for(let x=0;x<F.length;x++){const G=F[x];gr(G,Zr(O,G))}}function gr(F,O){F.children&&Us(F.children,O)}function Zr(F,O){return O?F||O.path?F&&!O.path?`${F}/`:!F&&O.path?O.path:`${F}/${O.path}`:"":F}function Wo(F){const O=F.children&&F.children.map(Wo),x=O?Object.assign(Object.assign({},F),{children:O}):Object.assign({},F);return!x.component&&(O||x.loadChildren)&&x.outlet&&x.outlet!==Fn&&(x.component=to),x}function er(F){return F.outlet||Fn}function js(F,O){const x=F.filter(G=>er(G)===O);return x.push(...F.filter(G=>er(G)!==O)),x}const Hs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function as(F,O,x){var G;if(""===O.path)return"full"===O.pathMatch&&(F.hasChildren()||x.length>0)?Object.assign({},Hs):{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const X=(O.matcher||Be)(x,F,O);if(!X)return Object.assign({},Hs);const _e={};Pn(X.posParams,(Ft,jt)=>{_e[jt]=Ft.path});const $e=X.consumed.length>0?Object.assign(Object.assign({},_e),X.consumed[X.consumed.length-1].parameters):_e;return{matched:!0,consumedSegments:X.consumed,remainingSegments:x.slice(X.consumed.length),parameters:$e,positionalParamSegments:null!==(G=X.posParams)&&void 0!==G?G:{}}}function ls(F,O,x,G,q="corrected"){if(x.length>0&&function Ui(F,O,x){return x.some(G=>se(F,O,G)&&er(G)!==Fn)}(F,x,G)){const _e=new Dn(O,function $s(F,O,x,G){const q={};q[Fn]=G,G._sourceSegment=F,G._segmentIndexShift=O.length;for(const X of x)if(""===X.path&&er(X)!==Fn){const _e=new Dn([],{});_e._sourceSegment=F,_e._segmentIndexShift=O.length,q[er(X)]=_e}return q}(F,O,G,new Dn(x,F.children)));return _e._sourceSegment=F,_e._segmentIndexShift=O.length,{segmentGroup:_e,slicedSegments:[]}}if(0===x.length&&function z(F,O,x){return x.some(G=>se(F,O,G))}(F,x,G)){const _e=new Dn(F.segments,function Io(F,O,x,G,q,X){const _e={};for(const $e of G)if(se(F,x,$e)&&!q[er($e)]){const Ft=new Dn([],{});Ft._sourceSegment=F,Ft._segmentIndexShift="legacy"===X?F.segments.length:O.length,_e[er($e)]=Ft}return Object.assign(Object.assign({},q),_e)}(F,O,x,G,F.children,q));return _e._sourceSegment=F,_e._segmentIndexShift=O.length,{segmentGroup:_e,slicedSegments:x}}const X=new Dn(F.segments,F.children);return X._sourceSegment=F,X._segmentIndexShift=O.length,{segmentGroup:X,slicedSegments:x}}function se(F,O,x){return(!(F.hasChildren()||O.length>0)||"full"!==x.pathMatch)&&""===x.path}function $(F,O,x,G){return!!(er(F)===G||G!==Fn&&se(O,x,F))&&("**"===F.path||as(O,F,x).matched)}function ue(F,O,x){return 0===O.length&&!F.children[x]}class Se{constructor(O){this.segmentGroup=O||null}}class Pt{constructor(O){this.urlTree=O}}function $t(F){return(0,be._)(new Se(F))}function En(F){return(0,be._)(new Pt(F))}class Ri{constructor(O,x,G,q,X){this.configLoader=x,this.urlSerializer=G,this.urlTree=q,this.config=X,this.allowRedirects=!0,this.ngModule=O.get(y.h0i)}apply(){const O=ls(this.urlTree.root,[],[],this.config).segmentGroup,x=new Dn(O.segments,O.children);return this.expandSegmentGroup(this.ngModule,this.config,x,Fn).pipe((0,Et.U)(X=>this.createUrlTree(Qi(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ht.K)(X=>{if(X instanceof Pt)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof Se?this.noMatchError(X):X}))}match(O){return this.expandSegmentGroup(this.ngModule,this.config,O.root,Fn).pipe((0,Et.U)(q=>this.createUrlTree(Qi(q),O.queryParams,O.fragment))).pipe((0,ht.K)(q=>{throw q instanceof Se?this.noMatchError(q):q}))}noMatchError(O){return new Error(`Cannot match any routes. URL Segment: '${O.segmentGroup}'`)}createUrlTree(O,x,G){const q=O.segments.length>0?new Dn([],{[Fn]:O}):O;return new Yn(q,x,G)}expandSegmentGroup(O,x,G,q){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(O,x,G).pipe((0,Et.U)(X=>new Dn([],X))):this.expandSegment(O,G,x,G.segments,q,!0)}expandChildren(O,x,G){const q=[];for(const X of Object.keys(G.children))"primary"===X?q.unshift(X):q.push(X);return(0,Ce.D)(q).pipe((0,yt.b)(X=>{const _e=G.children[X],$e=js(x,X);return this.expandSegmentGroup(O,$e,_e,X).pipe((0,Et.U)(Ft=>({segment:Ft,outlet:X})))}),(0,ze.R)((X,_e)=>(X[_e.outlet]=_e.segment,X),{}),function ke(F,O){const x=arguments.length>=2;return G=>G.pipe(F?(0,st.h)((q,X)=>F(q,X,G)):Le.y,Oe(1),x?(0,pt.d)(O):(0,on.T)(()=>new vt.K))}())}expandSegment(O,x,G,q,X,_e){return(0,Ce.D)(G).pipe((0,yt.b)($e=>this.expandSegmentAgainstRoute(O,x,G,$e,q,X,_e).pipe((0,ht.K)(jt=>{if(jt instanceof Se)return(0,Te.of)(null);throw jt}))),(0,It.P)($e=>!!$e),(0,ht.K)(($e,Ft)=>{if($e instanceof vt.K||"EmptyError"===$e.name)return ue(x,q,X)?(0,Te.of)(new Dn([],{})):$t(x);throw $e}))}expandSegmentAgainstRoute(O,x,G,q,X,_e,$e){return $(q,x,X,_e)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(O,x,q,X,_e):$e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,x,G,q,X,_e):$t(x):$t(x)}expandSegmentAgainstRouteUsingRedirect(O,x,G,q,X,_e){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,G,q,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(O,x,G,q,X,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,x,G,q){const X=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?En(X):this.lineralizeSegments(G,X).pipe((0,lt.z)(_e=>{const $e=new Dn(_e,{});return this.expandSegment(O,$e,x,_e,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,x,G,q,X,_e){const{matched:$e,consumedSegments:Ft,remainingSegments:jt,positionalParamSegments:xn}=as(x,q,X);if(!$e)return $t(x);const Jn=this.applyRedirectCommands(Ft,q.redirectTo,xn);return q.redirectTo.startsWith("/")?En(Jn):this.lineralizeSegments(q,Jn).pipe((0,lt.z)(ln=>this.expandSegment(O,x,G,ln.concat(jt),_e,!1)))}matchSegmentAgainstRoute(O,x,G,q,X){if("**"===G.path)return G.loadChildren?(G._loadedConfig?(0,Te.of)(G._loadedConfig):this.configLoader.load(O.injector,G)).pipe((0,Et.U)(Jn=>(G._loadedConfig=Jn,new Dn(q,{})))):(0,Te.of)(new Dn(q,{}));const{matched:_e,consumedSegments:$e,remainingSegments:Ft}=as(x,G,q);return _e?this.getChildConfig(O,G,q).pipe((0,lt.z)(xn=>{const Jn=xn.module,ln=xn.routes,{segmentGroup:gt,slicedSegments:Yt}=ls(x,$e,Ft,ln),Lr=new Dn(gt.segments,gt.children);if(0===Yt.length&&Lr.hasChildren())return this.expandChildren(Jn,ln,Lr).pipe((0,Et.U)(Fl=>new Dn($e,Fl)));if(0===ln.length&&0===Yt.length)return(0,Te.of)(new Dn($e,{}));const Ll=er(G)===X;return this.expandSegment(Jn,Lr,ln,Yt,Ll?Fn:X,!0).pipe((0,Et.U)(Eo=>new Dn($e.concat(Eo.segments),Eo.children)))})):$t(x)}getChildConfig(O,x,G){return x.children?(0,Te.of)(new Xs(x.children,O)):x.loadChildren?void 0!==x._loadedConfig?(0,Te.of)(x._loadedConfig):this.runCanLoadGuards(O.injector,x,G).pipe((0,lt.z)(q=>q?this.configLoader.load(O.injector,x).pipe((0,Et.U)(X=>(x._loadedConfig=X,X))):function Li(F){return(0,be._)(ni(`Cannot load children because the guard of the route "path: '${F.path}'" returned false`))}(x))):(0,Te.of)(new Xs([],O))}runCanLoadGuards(O,x,G){const q=x.canLoad;if(!q||0===q.length)return(0,Te.of)(!0);const X=q.map(_e=>{const $e=O.get(_e);let Ft;if(function ao(F){return F&&or(F.canLoad)}($e))Ft=$e.canLoad(x,G);else{if(!or($e))throw new Error("Invalid CanLoad guard");Ft=$e(x,G)}return Nn(Ft)});return(0,Te.of)(X).pipe(_o(),(0,ft.b)(_e=>{if(!Ur(_e))return;const $e=ni(`Redirecting to "${this.urlSerializer.serialize(_e)}"`);throw $e.url=_e,$e}),(0,Et.U)(_e=>!0===_e))}lineralizeSegments(O,x){let G=[],q=x.root;for(;;){if(G=G.concat(q.segments),0===q.numberOfChildren)return(0,Te.of)(G);if(q.numberOfChildren>1||!q.children[Fn])return(0,be._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${O.redirectTo}'`));q=q.children[Fn]}}applyRedirectCommands(O,x,G){return this.applyRedirectCreatreUrlTree(x,this.urlSerializer.parse(x),O,G)}applyRedirectCreatreUrlTree(O,x,G,q){const X=this.createSegmentGroup(O,x.root,G,q);return new Yn(X,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(O,x){const G={};return Pn(O,(q,X)=>{if("string"==typeof q&&q.startsWith(":")){const $e=q.substring(1);G[X]=x[$e]}else G[X]=q}),G}createSegmentGroup(O,x,G,q){const X=this.createSegments(O,x.segments,G,q);let _e={};return Pn(x.children,($e,Ft)=>{_e[Ft]=this.createSegmentGroup(O,$e,G,q)}),new Dn(X,_e)}createSegments(O,x,G,q){return x.map(X=>X.path.startsWith(":")?this.findPosParam(O,X,q):this.findOrReturn(X,G))}findPosParam(O,x,G){const q=G[x.path.substring(1)];if(!q)throw new Error(`Cannot redirect to '${O}'. Cannot find '${x.path}'.`);return q}findOrReturn(O,x){let G=0;for(const q of x){if(q.path===O.path)return x.splice(G),q;G++}return O}}function Qi(F){const O={};for(const G of Object.keys(F.children)){const X=Qi(F.children[G]);(X.segments.length>0||X.hasChildren())&&(O[G]=X)}return function Cr(F){if(1===F.numberOfChildren&&F.children[Fn]){const O=F.children[Fn];return new Dn(F.segments.concat(O.segments),O.children)}return F}(new Dn(F.segments,O))}class W{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class H{constructor(O,x){this.component=O,this.route=x}}function L(F,O,x){const G=F._root;return zi(G,O?O._root:null,x,[G.value])}function Ot(F,O,x){const G=function Un(F){if(!F)return null;for(let O=F.parent;O;O=O.parent){const x=O.routeConfig;if(x&&x._loadedConfig)return x._loadedConfig}return null}(O);return(G?G.module.injector:x).get(F)}function zi(F,O,x,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const X=Hi(O);return F.children.forEach(_e=>{(function us(F,O,x,G,q={canDeactivateChecks:[],canActivateChecks:[]}){const X=F.value,_e=O?O.value:null,$e=x?x.getContext(F.value.outlet):null;if(_e&&X.routeConfig===_e.routeConfig){const Ft=function Ko(F,O,x){if("function"==typeof x)return x(F,O);switch(x){case"pathParamsChange":return!Ke(F.url,O.url);case"pathParamsOrQueryParamsChange":return!Ke(F.url,O.url)||!Gt(F.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!di(F,O)||!Gt(F.queryParams,O.queryParams);default:return!di(F,O)}}(_e,X,X.routeConfig.runGuardsAndResolvers);Ft?q.canActivateChecks.push(new W(G)):(X.data=_e.data,X._resolvedData=_e._resolvedData),zi(F,O,X.component?$e?$e.children:null:x,G,q),Ft&&$e&&$e.outlet&&$e.outlet.isActivated&&q.canDeactivateChecks.push(new H($e.outlet.component,_e))}else _e&&zs(O,$e,q),q.canActivateChecks.push(new W(G)),zi(F,null,X.component?$e?$e.children:null:x,G,q)})(_e,X[_e.value.outlet],x,G.concat([_e.value]),q),delete X[_e.value.outlet]}),Pn(X,(_e,$e)=>zs(_e,x.getContext($e),q)),q}function zs(F,O,x){const G=Hi(F),q=F.value;Pn(G,(X,_e)=>{zs(X,q.component?O?O.children.getContext(_e):null:O,x)}),x.canDeactivateChecks.push(new H(q.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,q))}class Qa{}function aa(F){return new R.y(O=>O.error(F))}class Zo{constructor(O,x,G,q,X,_e){this.rootComponentType=O,this.config=x,this.urlTree=G,this.url=q,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=_e}recognize(){const O=ls(this.urlTree.root,[],[],this.config.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution).segmentGroup,x=this.processSegmentGroup(this.config,O,Fn);if(null===x)return null;const G=new Ki([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fn,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new Mi(G,x),X=new Gr(this.url,q);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(O){const x=O.value,G=Fs(x,this.paramsInheritanceStrategy);x.params=Object.freeze(G.params),x.data=Object.freeze(G.data),O.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(O,x,G){return 0===x.segments.length&&x.hasChildren()?this.processChildren(O,x):this.processSegment(O,x,x.segments,G)}processChildren(O,x){const G=[];for(const X of Object.keys(x.children)){const _e=x.children[X],$e=js(O,X),Ft=this.processSegmentGroup($e,_e,X);if(null===Ft)return null;G.push(...Ft)}const q=va(G);return function Ds(F){F.sort((O,x)=>O.value.outlet===Fn?-1:x.value.outlet===Fn?1:O.value.outlet.localeCompare(x.value.outlet))}(q),q}processSegment(O,x,G,q){for(const X of O){const _e=this.processSegmentAgainstRoute(X,x,G,q);if(null!==_e)return _e}return ue(x,G,q)?[]:null}processSegmentAgainstRoute(O,x,G,q){if(O.redirectTo||!$(O,x,G,q))return null;let X,_e=[],$e=[];if("**"===O.path){const gt=G.length>0?_n(G).parameters:{};X=new Ki(G,gt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,j(O),er(O),O.component,O,C(x),S(x)+G.length,ie(O))}else{const gt=as(x,O,G);if(!gt.matched)return null;_e=gt.consumedSegments,$e=gt.remainingSegments,X=new Ki(_e,gt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,j(O),er(O),O.component,O,C(x),S(x)+_e.length,ie(O))}const Ft=function ps(F){return F.children?F.children:F.loadChildren?F._loadedConfig.routes:[]}(O),{segmentGroup:jt,slicedSegments:xn}=ls(x,_e,$e,Ft.filter(gt=>void 0===gt.redirectTo),this.relativeLinkResolution);if(0===xn.length&&jt.hasChildren()){const gt=this.processChildren(Ft,jt);return null===gt?null:[new Mi(X,gt)]}if(0===Ft.length&&0===xn.length)return[new Mi(X,[])];const Jn=er(O)===q,ln=this.processSegment(Ft,jt,xn,Jn?Fn:q);return null===ln?null:[new Mi(X,ln)]}}function Gs(F){const O=F.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function va(F){const O=[],x=new Set;for(const G of F){if(!Gs(G)){O.push(G);continue}const q=O.find(X=>G.value.routeConfig===X.value.routeConfig);void 0!==q?(q.children.push(...G.children),x.add(q)):O.push(G)}for(const G of x){const q=va(G.children);O.push(new Mi(G.value,q))}return O.filter(G=>!x.has(G))}function C(F){let O=F;for(;O._sourceSegment;)O=O._sourceSegment;return O}function S(F){let O=F,x=O._segmentIndexShift?O._segmentIndexShift:0;for(;O._sourceSegment;)O=O._sourceSegment,x+=O._segmentIndexShift?O._segmentIndexShift:0;return x-1}function j(F){return F.data||{}}function ie(F){return F.resolve||{}}function Wt(F){return[...Object.keys(F),...Object.getOwnPropertySymbols(F)]}function Zn(F){return(0,ot.w)(O=>{const x=F(O);return x?(0,Ce.D)(x).pipe((0,Et.U)(()=>O)):(0,Te.of)(O)})}class zn extends class Vi{shouldDetach(O){return!1}store(O,x){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,x){return O.routeConfig===x.routeConfig}}{}const Di=new y.OlP("ROUTES");class lr{constructor(O,x,G,q){this.injector=O,this.compiler=x,this.onLoadStartListener=G,this.onLoadEndListener=q}load(O,x){if(x._loader$)return x._loader$;this.onLoadStartListener&&this.onLoadStartListener(x);const q=this.loadModuleFactory(x.loadChildren).pipe((0,Et.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(x);const _e=X.create(O);return new Xs(Zt(_e.injector.get(Di,void 0,y.XFs.Self|y.XFs.Optional)).map(Wo),_e)}),(0,ht.K)(X=>{throw x._loader$=void 0,X}));return x._loader$=new Re(q,()=>new Xe.x).pipe(ve()),x._loader$}loadModuleFactory(O){return Nn(O()).pipe((0,lt.z)(x=>x instanceof y.YKP?(0,Te.of)(x):(0,Ce.D)(this.compiler.compileModuleAsync(x))))}}class qr{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,x){return O}}function gs(F){throw F}function tr(F,O,x){return O.parse("/")}function Ws(F,O){return(0,Te.of)(null)}const ur={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ms={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jr=(()=>{class F{constructor(x,G,q,X,_e,$e,Ft){this.rootComponentType=x,this.urlSerializer=G,this.rootContexts=q,this.location=X,this.config=Ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xe.x,this.errorHandler=gs,this.malformedUriErrorHandler=tr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ws,afterPreactivation:Ws},this.urlHandlingStrategy=new qr,this.routeReuseStrategy=new zn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=_e.get(y.h0i),this.console=_e.get(y.c2e);const Jn=_e.get(y.R0b);this.isNgZoneEnabled=Jn instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(Ft),this.currentUrlTree=function Zi(){return new Yn(new Dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lr(_e,$e,ln=>this.triggerEvent(new Ci(ln)),ln=>this.triggerEvent(new si(ln))),this.routerState=oi(this.currentUrlTree,this.rootComponentType),this.transitions=new ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var x;return null===(x=this.location.getState())||void 0===x?void 0:x.\u0275routerPageId}setupNavigations(x){const G=this.events;return x.pipe((0,st.h)(q=>0!==q.id),(0,Et.U)(q=>Object.assign(Object.assign({},q),{extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,ot.w)(q=>{let X=!1,_e=!1;return(0,Te.of)(q).pipe((0,ft.b)($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.currentRawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ot.w)($e=>{const Ft=this.browserUrlTree.toString(),jt=!this.navigated||$e.extractedUrl.toString()!==Ft||Ft!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||jt)&&this.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return no($e.source)&&(this.browserUrlTree=$e.extractedUrl),(0,Te.of)($e).pipe((0,ot.w)(Jn=>{const ln=this.transitions.getValue();return G.next(new Ht(Jn.id,this.serializeUrl(Jn.extractedUrl),Jn.source,Jn.restoredState)),ln!==this.transitions.getValue()?Lt.E:Promise.resolve(Jn)}),function ar(F,O,x,G){return(0,ot.w)(q=>function wi(F,O,x,G,q){return new Ri(F,O,x,G,q).apply()}(F,O,x,q.extractedUrl,G).pipe((0,Et.U)(X=>Object.assign(Object.assign({},q),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ft.b)(Jn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Jn.urlAfterRedirects})}),function pe(F,O,x,G,q){return(0,lt.z)(X=>function Ba(F,O,x,G,q="emptyOnly",X="legacy"){try{const _e=new Zo(F,O,x,G,q,X).recognize();return null===_e?aa(new Qa):(0,Te.of)(_e)}catch(_e){return aa(_e)}}(F,O,X.urlAfterRedirects,x(X.urlAfterRedirects),G,q).pipe((0,Et.U)(_e=>Object.assign(Object.assign({},X),{targetSnapshot:_e}))))}(this.rootComponentType,this.config,Jn=>this.serializeUrl(Jn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ft.b)(Jn=>{if("eager"===this.urlUpdateStrategy){if(!Jn.extras.skipLocationChange){const gt=this.urlHandlingStrategy.merge(Jn.urlAfterRedirects,Jn.rawUrl);this.setBrowserUrl(gt,Jn)}this.browserUrlTree=Jn.urlAfterRedirects}const ln=new Ge(Jn.id,this.serializeUrl(Jn.extractedUrl),this.serializeUrl(Jn.urlAfterRedirects),Jn.targetSnapshot);G.next(ln)}));if(jt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ln,extractedUrl:gt,source:Yt,restoredState:Lr,extras:Ll}=$e,Da=new Ht(ln,this.serializeUrl(gt),Yt,Lr);G.next(Da);const Eo=oi(gt,this.rootComponentType).snapshot;return(0,Te.of)(Object.assign(Object.assign({},$e),{targetSnapshot:Eo,urlAfterRedirects:gt,extras:Object.assign(Object.assign({},Ll),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=$e.rawUrl,$e.resolve(null),Lt.E}),Zn($e=>{const{targetSnapshot:Ft,id:jt,extractedUrl:xn,rawUrl:Jn,extras:{skipLocationChange:ln,replaceUrl:gt}}=$e;return this.hooks.beforePreactivation(Ft,{navigationId:jt,appliedUrlTree:xn,rawUrlTree:Jn,skipLocationChange:!!ln,replaceUrl:!!gt})}),(0,ft.b)($e=>{const Ft=new ut($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(Ft)}),(0,Et.U)($e=>Object.assign(Object.assign({},$e),{guards:L($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)})),function nn(F,O){return(0,lt.z)(x=>{const{targetSnapshot:G,currentSnapshot:q,guards:{canActivateChecks:X,canDeactivateChecks:_e}}=x;return 0===_e.length&&0===X.length?(0,Te.of)(Object.assign(Object.assign({},x),{guardsResult:!0})):function Fi(F,O,x,G){return(0,Ce.D)(F).pipe((0,lt.z)(q=>function _a(F,O,x,G,q){const X=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,Te.of)(!0);const _e=X.map($e=>{const Ft=Ot($e,O,q);let jt;if(function eo(F){return F&&or(F.canDeactivate)}(Ft))jt=Nn(Ft.canDeactivate(F,O,x,G));else{if(!or(Ft))throw new Error("Invalid CanDeactivate guard");jt=Nn(Ft(F,O,x,G))}return jt.pipe((0,It.P)())});return(0,Te.of)(_e).pipe(_o())}(q.component,q.route,x,O,G)),(0,It.P)(q=>!0!==q,!0))}(_e,G,q,F).pipe((0,lt.z)($e=>$e&&function To(F){return"boolean"==typeof F}($e)?function Oa(F,O,x,G){return(0,Ce.D)(O).pipe((0,yt.b)(q=>(0,at.z)(function vo(F,O){return null!==F&&O&&O(new qn(F)),(0,Te.of)(!0)}(q.route.parent,G),function Sr(F,O){return null!==F&&O&&O(new fi(F)),(0,Te.of)(!0)}(q.route,G),function lo(F,O,x){const G=O[O.length-1],X=O.slice(0,O.length-1).reverse().map(_e=>function le(F){const O=F.routeConfig?F.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:F,guards:O}:null}(_e)).filter(_e=>null!==_e).map(_e=>(0,it.P)(()=>{const $e=_e.guards.map(Ft=>{const jt=Ot(Ft,_e.node,x);let xn;if(function Bs(F){return F&&or(F.canActivateChild)}(jt))xn=Nn(jt.canActivateChild(G,F));else{if(!or(jt))throw new Error("Invalid CanActivateChild guard");xn=Nn(jt(G,F))}return xn.pipe((0,It.P)())});return(0,Te.of)($e).pipe(_o())}));return(0,Te.of)(X).pipe(_o())}(F,q.path,x),function oa(F,O,x){const G=O.routeConfig?O.routeConfig.canActivate:null;if(!G||0===G.length)return(0,Te.of)(!0);const q=G.map(X=>(0,it.P)(()=>{const _e=Ot(X,O,x);let $e;if(function Wr(F){return F&&or(F.canActivate)}(_e))$e=Nn(_e.canActivate(O,F));else{if(!or(_e))throw new Error("Invalid CanActivate guard");$e=Nn(_e(O,F))}return $e.pipe((0,It.P)())}));return(0,Te.of)(q).pipe(_o())}(F,q.route,x))),(0,It.P)(q=>!0!==q,!0))}(G,X,F,O):(0,Te.of)($e)),(0,Et.U)($e=>Object.assign(Object.assign({},x),{guardsResult:$e})))})}(this.ngModule.injector,$e=>this.triggerEvent($e)),(0,ft.b)($e=>{if(Ur($e.guardsResult)){const jt=ni(`Redirecting to "${this.serializeUrl($e.guardsResult)}"`);throw jt.url=$e.guardsResult,jt}const Ft=new qt($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.triggerEvent(Ft)}),(0,st.h)($e=>!!$e.guardsResult||(this.restoreHistory($e),this.cancelNavigationTransition($e,""),!1)),Zn($e=>{if($e.guards.canActivateChecks.length)return(0,Te.of)($e).pipe((0,ft.b)(Ft=>{const jt=new Sn(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(jt)}),(0,ot.w)(Ft=>{let jt=!1;return(0,Te.of)(Ft).pipe(function Fe(F,O){return(0,lt.z)(x=>{const{targetSnapshot:G,guards:{canActivateChecks:q}}=x;if(!q.length)return(0,Te.of)(x);let X=0;return(0,Ce.D)(q).pipe((0,yt.b)(_e=>function Ue(F,O,x,G){return function bt(F,O,x,G){const q=Wt(F);if(0===q.length)return(0,Te.of)({});const X={};return(0,Ce.D)(q).pipe((0,lt.z)(_e=>function kn(F,O,x,G){const q=Ot(F,O,G);return Nn(q.resolve?q.resolve(O,x):q(O,x))}(F[_e],O,x,G).pipe((0,ft.b)($e=>{X[_e]=$e}))),Oe(1),(0,lt.z)(()=>Wt(X).length===q.length?(0,Te.of)(X):Lt.E))}(F._resolve,F,O,G).pipe((0,Et.U)(X=>(F._resolvedData=X,F.data=Object.assign(Object.assign({},F.data),Fs(F,x).resolve),null)))}(_e.route,G,F,O)),(0,ft.b)(()=>X++),Oe(1),(0,lt.z)(_e=>X===q.length?(0,Te.of)(x):Lt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ft.b)({next:()=>jt=!0,complete:()=>{jt||(this.restoreHistory(Ft),this.cancelNavigationTransition(Ft,"At least one route resolver didn't emit any value."))}}))}),(0,ft.b)(Ft=>{const jt=new ti(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(jt)}))}),Zn($e=>{const{targetSnapshot:Ft,id:jt,extractedUrl:xn,rawUrl:Jn,extras:{skipLocationChange:ln,replaceUrl:gt}}=$e;return this.hooks.afterPreactivation(Ft,{navigationId:jt,appliedUrlTree:xn,rawUrlTree:Jn,skipLocationChange:!!ln,replaceUrl:!!gt})}),(0,Et.U)($e=>{const Ft=function No(F,O,x){const G=Ji(F,O._root,x?x._root:void 0);return new ts(G,O)}(this.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return Object.assign(Object.assign({},$e),{targetRouterState:Ft})}),(0,ft.b)($e=>{this.currentUrlTree=$e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge($e.urlAfterRedirects,$e.rawUrl),this.routerState=$e.targetRouterState,"deferred"===this.urlUpdateStrategy&&($e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,$e),this.browserUrlTree=$e.urlAfterRedirects)}),((F,O,x)=>(0,Et.U)(G=>(new qi(O,G.targetRouterState,G.currentRouterState,x).activate(F),G)))(this.rootContexts,this.routeReuseStrategy,$e=>this.triggerEvent($e)),(0,ft.b)({next(){X=!0},complete(){X=!0}}),(0,dn.x)(()=>{var $e;X||_e||this.cancelNavigationTransition(q,`Navigation ID ${q.id} is not equal to the current navigation id ${this.navigationId}`),(null===($e=this.currentNavigation)||void 0===$e?void 0:$e.id)===q.id&&(this.currentNavigation=null)}),(0,ht.K)($e=>{if(_e=!0,function _t(F){return F&&F[Xt]}($e)){const Ft=Ur($e.url);Ft||(this.navigated=!0,this.restoreHistory(q,!0));const jt=new Ut(q.id,this.serializeUrl(q.extractedUrl),$e.message);G.next(jt),Ft?setTimeout(()=>{const xn=this.urlHandlingStrategy.merge($e.url,this.rawUrlTree),Jn={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||no(q.source)};this.scheduleNavigation(xn,"imperative",null,Jn,{resolve:q.resolve,reject:q.reject,promise:q.promise})},0):q.resolve(!1)}else{this.restoreHistory(q,!0);const Ft=new Rt(q.id,this.serializeUrl(q.extractedUrl),$e);G.next(Ft);try{q.resolve(this.errorHandler($e))}catch(jt){q.reject(jt)}}return Lt.E}))}))}resetRootComponentType(x){this.rootComponentType=x,this.routerState.root.component=this.rootComponentType}setTransition(x){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),x))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const G="popstate"===x.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{var q;const X={replaceUrl:!0},_e=(null===(q=x.state)||void 0===q?void 0:q.navigationId)?x.state:null;if(_e){const Ft=Object.assign({},_e);delete Ft.navigationId,delete Ft.\u0275routerPageId,0!==Object.keys(Ft).length&&(X.state=Ft)}const $e=this.parseUrl(x.url);this.scheduleNavigation($e,G,_e,X)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(x){this.events.next(x)}resetConfig(x){Us(x),this.config=x.map(Wo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,G={}){const{relativeTo:q,queryParams:X,fragment:_e,queryParamsHandling:$e,preserveFragment:Ft}=G,jt=q||this.routerState.root,xn=Ft?this.currentUrlTree.fragment:_e;let Jn=null;switch($e){case"merge":Jn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=X||null}return null!==Jn&&(Jn=this.removeEmptyProps(Jn)),function ds(F,O,x,G,q){if(0===x.length)return Vs(O.root,O.root,O.root,G,q);const X=function pr(F){if("string"==typeof F[0]&&1===F.length&&"/"===F[0])return new ko(!0,0,F);let O=0,x=!1;const G=F.reduce((q,X,_e)=>{if("object"==typeof X&&null!=X){if(X.outlets){const $e={};return Pn(X.outlets,(Ft,jt)=>{$e[jt]="string"==typeof Ft?Ft.split("/"):Ft}),[...q,{outlets:$e}]}if(X.segmentPath)return[...q,X.segmentPath]}return"string"!=typeof X?[...q,X]:0===_e?(X.split("/").forEach(($e,Ft)=>{0==Ft&&"."===$e||(0==Ft&&""===$e?x=!0:".."===$e?O++:""!=$e&&q.push($e))}),q):[...q,X]},[]);return new ko(x,O,G)}(x);if(X.toRoot())return Vs(O.root,O.root,new Dn([],{}),G,q);const _e=function oo(F,O,x){if(F.isAbsolute)return new Os(O.root,!0,0);if(-1===x.snapshot._lastPathIndex){const X=x.snapshot._urlSegment;return new Os(X,X===O.root,0)}const G=ss(F.commands[0])?0:1;return function et(F,O,x){let G=F,q=O,X=x;for(;X>q;){if(X-=q,G=G.parent,!G)throw new Error("Invalid number of '../'");q=G.segments.length}return new Os(G,!1,q-X)}(x.snapshot._urlSegment,x.snapshot._lastPathIndex+G,F.numberOfDoubleDots)}(X,O,F),$e=_e.processChildren?Kt(_e.segmentGroup,_e.index,X.commands):Dt(_e.segmentGroup,_e.index,X.commands);return Vs(O.root,_e.segmentGroup,$e,G,q)}(jt,this.currentUrlTree,x,Jn,null!=xn?xn:null)}navigateByUrl(x,G={skipLocationChange:!1}){const q=Ur(x)?x:this.parseUrl(x),X=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,G)}navigate(x,G={skipLocationChange:!1}){return function jo(F){for(let O=0;O<F.length;O++){const x=F[O];if(null==x)throw new Error(`The requested path contains ${x} segment at index ${O}`)}}(x),this.navigateByUrl(this.createUrlTree(x,G),G)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let G;try{G=this.urlSerializer.parse(x)}catch(q){G=this.malformedUriErrorHandler(q,this.urlSerializer,x)}return G}isActive(x,G){let q;if(q=!0===G?Object.assign({},ur):!1===G?Object.assign({},ms):G,Ur(x))return sn(this.currentUrlTree,x,q);const X=this.parseUrl(x);return sn(this.currentUrlTree,X,q)}removeEmptyProps(x){return Object.keys(x).reduce((G,q)=>{const X=x[q];return null!=X&&(G[q]=X),G},{})}processNavigations(){this.navigations.subscribe(x=>{this.navigated=!0,this.lastSuccessfulId=x.id,this.currentPageId=x.targetPageId,this.events.next(new un(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,x.resolve(!0)},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}scheduleNavigation(x,G,q,X,_e){var $e,Ft;if(this.disposed)return Promise.resolve(!1);let jt,xn,Jn;_e?(jt=_e.resolve,xn=_e.reject,Jn=_e.promise):Jn=new Promise((Yt,Lr)=>{jt=Yt,xn=Lr});const ln=++this.navigationId;let gt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(q=this.location.getState()),gt=q&&q.\u0275routerPageId?q.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==($e=this.browserPageId)&&void 0!==$e?$e:0:(null!==(Ft=this.browserPageId)&&void 0!==Ft?Ft:0)+1):gt=0,this.setTransition({id:ln,targetPageId:gt,source:G,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:x,extras:X,resolve:jt,reject:xn,promise:Jn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jn.catch(Yt=>Promise.reject(Yt))}setBrowserUrl(x,G){const q=this.urlSerializer.serialize(x),X=Object.assign(Object.assign({},G.extras.state),this.generateNgRouterState(G.id,G.targetPageId));this.location.isCurrentPathEqualTo(q)||G.extras.replaceUrl?this.location.replaceState(q,"",X):this.location.go(q,"",X)}restoreHistory(x,G=!1){var q,X;if("computed"===this.canceledNavigationResolution){const _e=this.currentPageId-x.targetPageId;"popstate"!==x.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)||0===_e?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===_e&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_e)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(x,G){const q=new Ut(x.id,this.serializeUrl(x.extractedUrl),G);this.triggerEvent(q),x.resolve(!1)}generateNgRouterState(x,G){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:G}:{navigationId:x}}}return F.\u0275fac=function(x){y.$Z()},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})();function no(F){return"imperative"!==F}let qo=(()=>{class F{constructor(x,G,q,X,_e){this.router=x,this.route=G,this.tabIndexAttribute=q,this.renderer=X,this.el=_e,this.commands=null,this.onChanges=new Xe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(x){if(null!=this.tabIndexAttribute)return;const G=this.renderer,q=this.el.nativeElement;null!==x?G.setAttribute(q,"tabindex",x):G.removeAttribute(q,"tabindex")}ngOnChanges(x){this.onChanges.next(this)}set routerLink(x){null!=x?(this.commands=Array.isArray(x)?x:[x],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const x={skipLocationChange:Yr(this.skipLocationChange),replaceUrl:Yr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,x),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yr(this.preserveFragment)})}}return F.\u0275fac=function(x){return new(x||F)(y.Y36(jr),y.Y36(is),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},F.\u0275dir=y.lG2({type:F,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(x,G){1&x&&y.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[y.TTD]}),F})(),bo=(()=>{class F{constructor(x,G,q){this.router=x,this.route=G,this.locationStrategy=q,this.commands=null,this.href=null,this.onChanges=new Xe.x,this.subscription=x.events.subscribe(X=>{X instanceof un&&this.updateTargetUrlAndHref()})}set routerLink(x){this.commands=null!=x?Array.isArray(x)?x:[x]:null}ngOnChanges(x){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(x,G,q,X,_e){if(0!==x||G||q||X||_e||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const $e={skipLocationChange:Yr(this.skipLocationChange),replaceUrl:Yr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,$e),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yr(this.preserveFragment)})}}return F.\u0275fac=function(x){return new(x||F)(y.Y36(jr),y.Y36(is),y.Y36(nt.S$))},F.\u0275dir=y.lG2({type:F,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(x,G){1&x&&y.NdJ("click",function(X){return G.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&x&&y.uIk("target",G.target)("href",G.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[y.TTD]}),F})();function Yr(F){return""===F||!!F}let Lo=(()=>{class F{constructor(x,G,q,X,_e,$e){this.router=x,this.element=G,this.renderer=q,this.cdr=X,this.link=_e,this.linkWithHref=$e,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new y.vpe,this.routerEventsSubscription=x.events.subscribe(Ft=>{Ft instanceof un&&this.update()})}ngAfterContentInit(){(0,Te.of)(this.links.changes,this.linksWithHrefs.changes,(0,Te.of)(null)).pipe((0,Pe.J)()).subscribe(x=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var x;null===(x=this.linkInputChangesSubscription)||void 0===x||x.unsubscribe();const G=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(q=>!!q).map(q=>q.onChanges);this.linkInputChangesSubscription=(0,Ce.D)(G).pipe((0,Pe.J)()).subscribe(q=>{this.isActive!==this.isLinkActive(this.router)(q)&&this.update()})}set routerLinkActive(x){const G=Array.isArray(x)?x:x.split(" ");this.classes=G.filter(q=>!!q)}ngOnChanges(x){this.update()}ngOnDestroy(){var x;this.routerEventsSubscription.unsubscribe(),null===(x=this.linkInputChangesSubscription)||void 0===x||x.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const x=this.hasActiveLinks();this.isActive!==x&&(this.isActive=x,this.cdr.markForCheck(),this.classes.forEach(G=>{x?this.renderer.addClass(this.element.nativeElement,G):this.renderer.removeClass(this.element.nativeElement,G)}),this.isActiveChange.emit(x))})}isLinkActive(x){const G=function Yo(F){return!!F.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&x.isActive(q.urlTree,G)}hasActiveLinks(){const x=this.isLinkActive(this.router);return this.link&&x(this.link)||this.linkWithHref&&x(this.linkWithHref)||this.links.some(x)||this.linksWithHrefs.some(x)}}return F.\u0275fac=function(x){return new(x||F)(y.Y36(jr),y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(y.sBO),y.Y36(qo,8),y.Y36(bo,8))},F.\u0275dir=y.lG2({type:F,selectors:[["","routerLinkActive",""]],contentQueries:function(x,G,q){if(1&x&&(y.Suo(q,qo,5),y.Suo(q,bo,5)),2&x){let X;y.iGM(X=y.CRH())&&(G.links=X),y.iGM(X=y.CRH())&&(G.linksWithHrefs=X)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[y.TTD]}),F})();class Tn{}class li{preload(O,x){return(0,Te.of)(null)}}let Si=(()=>{class F{constructor(x,G,q,X){this.router=x,this.injector=q,this.preloadingStrategy=X,this.loader=new lr(q,G,Ft=>x.triggerEvent(new Ci(Ft)),Ft=>x.triggerEvent(new si(Ft)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,st.h)(x=>x instanceof un),(0,yt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const x=this.injector.get(y.h0i);return this.processRoutes(x,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,G){const q=[];for(const X of G)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const _e=X._loadedConfig;q.push(this.processRoutes(_e.module,_e.routes))}else X.loadChildren&&!X.canLoad?q.push(this.preloadConfig(x,X)):X.children&&q.push(this.processRoutes(x,X.children));return(0,Ce.D)(q).pipe((0,Pe.J)(),(0,Et.U)(X=>{}))}preloadConfig(x,G){return this.preloadingStrategy.preload(G,()=>(G._loadedConfig?(0,Te.of)(G._loadedConfig):this.loader.load(x.injector,G)).pipe((0,lt.z)(X=>(G._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return F.\u0275fac=function(x){return new(x||F)(y.LFG(jr),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Tn))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})(),sr=(()=>{class F{constructor(x,G,q={}){this.router=x,this.viewportScroller=G,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(x=>{x instanceof Ht?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof un&&(this.lastId=x.id,this.scheduleScrollEvent(x,this.router.parseUrl(x.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(x=>{x instanceof vn&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,G){this.router.triggerEvent(new vn(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return F.\u0275fac=function(x){y.$Z()},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})();const xr=new y.OlP("ROUTER_CONFIGURATION"),Cs=new y.OlP("ROUTER_FORROOT_GUARD"),Ir=[nt.Ye,{provide:ct,useClass:pn},{provide:jr,useFactory:function ba(F,O,x,G,q,X,_e={},$e,Ft){const jt=new jr(null,F,O,x,G,q,Zt(X));return $e&&(jt.urlHandlingStrategy=$e),Ft&&(jt.routeReuseStrategy=Ft),function Ea(F,O){F.errorHandler&&(O.errorHandler=F.errorHandler),F.malformedUriErrorHandler&&(O.malformedUriErrorHandler=F.malformedUriErrorHandler),F.onSameUrlNavigation&&(O.onSameUrlNavigation=F.onSameUrlNavigation),F.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=F.paramsInheritanceStrategy),F.relativeLinkResolution&&(O.relativeLinkResolution=F.relativeLinkResolution),F.urlUpdateStrategy&&(O.urlUpdateStrategy=F.urlUpdateStrategy),F.canceledNavigationResolution&&(O.canceledNavigationResolution=F.canceledNavigationResolution)}(_e,jt),_e.enableTracing&&jt.events.subscribe(xn=>{var Jn,ln;null===(Jn=console.group)||void 0===Jn||Jn.call(console,`Router Event: ${xn.constructor.name}`),console.log(xn.toString()),console.log(xn),null===(ln=console.groupEnd)||void 0===ln||ln.call(console)}),jt},deps:[ct,os,nt.Ye,y.zs3,y.Sil,Di,xr,[class Tr{},new y.FiY],[class Qn{},new y.FiY]]},os,{provide:is,useFactory:function wa(F){return F.routerState.root},deps:[jr]},Si,li,class ei{preload(O,x){return x().pipe((0,ht.K)(()=>(0,Te.of)(null)))}},{provide:xr,useValue:{enableTracing:!1}}];function uo(){return new y.PXZ("Router",jr)}let co=(()=>{class F{constructor(x,G){}static forRoot(x,G){return{ngModule:F,providers:[Ir,Ns(x),{provide:Cs,useFactory:Ks,deps:[[jr,new y.FiY,new y.tp0]]},{provide:xr,useValue:G||{}},{provide:nt.S$,useFactory:Qr,deps:[nt.lw,[new y.tBr(nt.mr),new y.FiY],xr]},{provide:sr,useFactory:io,deps:[jr,nt.EM,xr]},{provide:Tn,useExisting:G&&G.preloadingStrategy?G.preloadingStrategy:li},{provide:y.PXZ,multi:!0,useFactory:uo},[hl,{provide:y.ip1,multi:!0,useFactory:Mr,deps:[hl]},{provide:ho,useFactory:ju,deps:[hl]},{provide:y.tb,multi:!0,useExisting:ho}]]}}static forChild(x){return{ngModule:F,providers:[Ns(x)]}}}return F.\u0275fac=function(x){return new(x||F)(y.LFG(Cs,8),y.LFG(jr,8))},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({}),F})();function io(F,O,x){return x.scrollOffset&&O.setOffset(x.scrollOffset),new sr(F,O,x)}function Qr(F,O,x={}){return x.useHash?new nt.Do(F,O):new nt.b0(F,O)}function Ks(F){return"guarded"}function Ns(F){return[{provide:y.deG,multi:!0,useValue:F},{provide:Di,multi:!0,useValue:F}]}let hl=(()=>{class F{constructor(x){this.injector=x,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xe.x}appInitializer(){return this.injector.get(nt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let G=null;const q=new Promise($e=>G=$e),X=this.injector.get(jr),_e=this.injector.get(xr);return"disabled"===_e.initialNavigation?(X.setUpLocationChangeListener(),G(!0)):"enabled"===_e.initialNavigation||"enabledBlocking"===_e.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?(0,Te.of)(null):(this.initNavigation=!0,G(!0),this.resultOfPreactivationDone),X.initialNavigation()):G(!0),q})}bootstrapListener(x){const G=this.injector.get(xr),q=this.injector.get(Si),X=this.injector.get(sr),_e=this.injector.get(jr),$e=this.injector.get(y.z2F);x===$e.components[0]&&(("enabledNonBlocking"===G.initialNavigation||void 0===G.initialNavigation)&&_e.initialNavigation(),q.setUpPreloading(),X.init(),_e.resetRootComponentType($e.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return F.\u0275fac=function(x){return new(x||F)(y.LFG(y.zs3))},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac}),F})();function Mr(F){return F.appInitializer.bind(F)}function ju(F){return F.bootstrapListener.bind(F)}const ho=new y.OlP("Router Initializer")},3942:(an,tt,N)=>{N.d(tt,{Z:()=>it});var y=N(2090),R=N(4859),ne=N(9681),me=N(1877);class we{constructor(Xe,st){this._delegate=Xe,this.firebase=st,(0,ne._addComponent)(Xe,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ne.deleteApp)(this._delegate)))}_getService(Xe,st=ne._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const on=this._delegate.container.getProvider(Xe);return!on.isInitialized()&&"EXPLICIT"===(null===(Oe=on.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&on.initialize(),on.getImmediate({identifier:st})}_removeServiceInstance(Xe,st=ne._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(st)}_addComponent(Xe){(0,ne._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,ne._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Te(){const Lt=function Ce(Lt){const Xe={},st={__esModule:!0,initializeApp:function pt(ot,ge={}){const Ve=ne.initializeApp(ot,ge);if((0,y.r3)(Xe,Ve.name))return Xe[Ve.name];const ze=new Lt(Ve,st);return Xe[Ve.name]=ze,ze},app:on,registerVersion:ne.registerVersion,setLogLevel:ne.setLogLevel,onLog:ne.onLog,apps:null,SDK_VERSION:ne.SDK_VERSION,INTERNAL:{registerComponent:function ke(ot){const ge=ot.name,Ve=ge.replace("-compat","");if(ne._registerComponent(ot)&&"PUBLIC"===ot.type){const ze=(ht=on())=>{if("function"!=typeof ht[Ve])throw Re.create("invalid-app-argument",{appName:ge});return ht[Ve]()};void 0!==ot.serviceProps&&(0,y.ZB)(ze,ot.serviceProps),st[Ve]=ze,Lt.prototype[Ve]=function(...ht){return this._getService.bind(this,ge).apply(this,ot.multipleInstances?ht:[])}}return"PUBLIC"===ot.type?st[Ve]:null},removeApp:function Oe(ot){delete Xe[ot]},useAsService:function Et(ot,ge){return"serverAuth"===ge?null:ge},modularAPIs:ne}};function on(ot){if(!(0,y.r3)(Xe,ot=ot||ne._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:ot});return Xe[ot]}return st.default=st,Object.defineProperty(st,"apps",{get:function Le(){return Object.keys(Xe).map(ot=>Xe[ot])}}),on.App=Lt,st}(we);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function Xe(st){(0,y.ZB)(Lt,st)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),Lt}(),fe=new me.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=ce;!function at(Lt){(0,ne.registerVersion)("@firebase/app-compat","0.1.22",Lt)}()},9681:(an,tt,N)=>{N.r(tt),N.d(tt,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>si,_DEFAULT_ENTRY_NAME:()=>Pe,_addComponent:()=>un,_addOrOverwriteComponent:()=>Ut,_apps:()=>rt,_clearComponents:()=>qt,_components:()=>Ht,_getProvider:()=>Ge,_registerComponent:()=>Rt,_removeServiceInstance:()=>ut,deleteApp:()=>pi,getApp:()=>ii,getApps:()=>fi,initializeApp:()=>qn,onLog:()=>Tt,registerVersion:()=>Fn,setLogLevel:()=>wn});var y=N(5861),R=N(4859),ne=N(1877),me=N(2090);class we{constructor(Vt){this.container=Vt}getPlatformInfoString(){return this.container.getProviders().map(In=>{if(function ve(bn){const Vt=bn.getComponent();return"VERSION"===(null==Vt?void 0:Vt.type)}(In)){const An=In.getImmediate();return`${An.library}/${An.version}`}return null}).filter(In=>In).join(" ")}}const Re="@firebase/app",Te=new ne.Yd("@firebase/app"),Pe="[DEFAULT]",nt={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,Ht=new Map;function un(bn,Vt){try{bn.container.addComponent(Vt)}catch(In){Te.debug(`Component ${Vt.name} failed to register with FirebaseApp ${bn.name}`,In)}}function Ut(bn,Vt){bn.container.addOrOverwriteComponent(Vt)}function Rt(bn){const Vt=bn.name;if(Ht.has(Vt))return Te.debug(`There were multiple attempts to register component ${Vt}.`),!1;Ht.set(Vt,bn);for(const In of rt.values())un(In,bn);return!0}function Ge(bn,Vt){const In=bn.container.getProvider("heartbeat").getImmediate({optional:!0});return In&&In.triggerHeartbeat(),bn.container.getProvider(Vt)}function ut(bn,Vt,In=Pe){Ge(bn,Vt).clearInstance(In)}function qt(){Ht.clear()}const ti=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ci{constructor(Vt,In,An){this._isDeleted=!1,this._options=Object.assign({},Vt),this._config=Object.assign({},In),this._name=In.name,this._automaticDataCollectionEnabled=In.automaticDataCollectionEnabled,this._container=An,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Vt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Vt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Vt){this._isDeleted=Vt}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}const si="9.6.11";function qn(bn,Vt={}){"object"!=typeof Vt&&(Vt={name:Vt});const In=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},Vt),An=In.name;if("string"!=typeof An||!An)throw ti.create("bad-app-name",{appName:String(An)});const Yn=rt.get(An);if(Yn){if((0,me.vZ)(bn,Yn.options)&&(0,me.vZ)(In,Yn.config))return Yn;throw ti.create("duplicate-app",{appName:An})}const Dn=new R.H0(An);for(const De of Ht.values())Dn.addComponent(De);const Ne=new Ci(bn,In,Dn);return rt.set(An,Ne),Ne}function ii(bn=Pe){const Vt=rt.get(bn);if(!Vt)throw ti.create("no-app",{appName:bn});return Vt}function fi(){return Array.from(rt.values())}function pi(bn){return vn.apply(this,arguments)}function vn(){return(vn=(0,y.Z)(function*(bn){const Vt=bn.name;rt.has(Vt)&&(rt.delete(Vt),yield Promise.all(bn.container.getProviders().map(In=>In.delete())),bn.isDeleted=!0)})).apply(this,arguments)}function Fn(bn,Vt,In){var An;let Yn=null!==(An=nt[bn])&&void 0!==An?An:bn;In&&(Yn+=`-${In}`);const Dn=Yn.match(/\s|\//),Ne=Vt.match(/\s|\//);if(Dn||Ne){const De=[`Unable to register library "${Yn}" with version "${Vt}":`];return Dn&&De.push(`library name "${Yn}" contains illegal characters (whitespace or "/")`),Dn&&Ne&&De.push("and"),Ne&&De.push(`version name "${Vt}" contains illegal characters (whitespace or "/")`),void Te.warn(De.join(" "))}Rt(new R.wA(`${Yn}-version`,()=>({library:Yn,version:Vt}),"VERSION"))}function Tt(bn,Vt){if(null!==bn&&"function"!=typeof bn)throw ti.create("invalid-log-argument");(0,ne.Am)(bn,Vt)}function wn(bn){(0,ne.Ub)(bn)}const _t="firebase-heartbeat-store";let Be=null;function je(){return Be||(Be=(0,me.X3)("firebase-heartbeat-database",1,(bn,Vt)=>{0===Vt&&bn.createObjectStore(_t)}).catch(bn=>{throw ti.create("storage-open",{originalErrorMessage:bn.message})})),Be}function Mt(){return(Mt=(0,y.Z)(function*(bn){try{return(yield je()).transaction(_t).objectStore(_t).get(Ei(bn))}catch(Vt){throw ti.create("storage-get",{originalErrorMessage:Vt.message})}})).apply(this,arguments)}function Zt(bn,Vt){return _n.apply(this,arguments)}function _n(){return(_n=(0,y.Z)(function*(bn,Vt){try{const An=(yield je()).transaction(_t,"readwrite");return yield An.objectStore(_t).put(Vt,Ei(bn)),An.complete}catch(In){throw ti.create("storage-set",{originalErrorMessage:In.message})}})).apply(this,arguments)}function Ei(bn){return`${bn.name}!${bn.options.appId}`}class Zi{constructor(Vt){this.container=Vt,this._heartbeatsCache=null;const In=this.container.getProvider("app").getImmediate();this._storage=new sn(In),this._heartbeatsCachePromise=this._storage.read().then(An=>(this._heartbeatsCache=An,An))}triggerHeartbeat(){var Vt=this;return(0,y.Z)(function*(){const An=Vt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yn=Bi();if(null===Vt._heartbeatsCache&&(Vt._heartbeatsCache=yield Vt._heartbeatsCachePromise),Vt._heartbeatsCache.lastSentHeartbeatDate!==Yn&&!Vt._heartbeatsCache.heartbeats.some(Dn=>Dn.date===Yn))return Vt._heartbeatsCache.heartbeats.push({date:Yn,agent:An}),Vt._heartbeatsCache.heartbeats=Vt._heartbeatsCache.heartbeats.filter(Dn=>{const Ne=new Date(Dn.date).valueOf();return Date.now()-Ne<=2592e6}),Vt._storage.overwrite(Vt._heartbeatsCache)})()}getHeartbeatsHeader(){var Vt=this;return(0,y.Z)(function*(){if(null===Vt._heartbeatsCache&&(yield Vt._heartbeatsCachePromise),null===Vt._heartbeatsCache||0===Vt._heartbeatsCache.heartbeats.length)return"";const In=Bi(),{heartbeatsToSend:An,unsentEntries:Yn}=function gi(bn,Vt=1024){const In=[];let An=bn.slice();for(const Yn of bn){const Dn=In.find(Ne=>Ne.agent===Yn.agent);if(Dn){if(Dn.dates.push(Yn.date),mi(In)>Vt){Dn.dates.pop();break}}else if(In.push({agent:Yn.agent,dates:[Yn.date]}),mi(In)>Vt){In.pop();break}An=An.slice(1)}return{heartbeatsToSend:In,unsentEntries:An}}(Vt._heartbeatsCache.heartbeats),Dn=(0,me.L)(JSON.stringify({version:2,heartbeats:An}));return Vt._heartbeatsCache.lastSentHeartbeatDate=In,Yn.length>0?(Vt._heartbeatsCache.heartbeats=Yn,yield Vt._storage.overwrite(Vt._heartbeatsCache)):(Vt._heartbeatsCache.heartbeats=[],Vt._storage.overwrite(Vt._heartbeatsCache)),Dn})()}}function Bi(){return(new Date).toISOString().substring(0,10)}class sn{constructor(Vt){this.app=Vt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Vt=this;return(0,y.Z)(function*(){return(yield Vt._canUseIndexedDBPromise)&&(yield function Gt(bn){return Mt.apply(this,arguments)}(Vt.app))||{heartbeats:[]}})()}overwrite(Vt){var In=this;return(0,y.Z)(function*(){var An;if(yield In._canUseIndexedDBPromise){const Dn=yield In.read();return Zt(In.app,{lastSentHeartbeatDate:null!==(An=Vt.lastSentHeartbeatDate)&&void 0!==An?An:Dn.lastSentHeartbeatDate,heartbeats:Vt.heartbeats})}})()}add(Vt){var In=this;return(0,y.Z)(function*(){var An;if(yield In._canUseIndexedDBPromise){const Dn=yield In.read();return Zt(In.app,{lastSentHeartbeatDate:null!==(An=Vt.lastSentHeartbeatDate)&&void 0!==An?An:Dn.lastSentHeartbeatDate,heartbeats:[...Dn.heartbeats,...Vt.heartbeats]})}})()}}function mi(bn){return(0,me.L)(JSON.stringify({version:2,heartbeats:bn})).length}!function Bn(bn){Rt(new R.wA("platform-logger",Vt=>new we(Vt),"PRIVATE")),Rt(new R.wA("heartbeat",Vt=>new Zi(Vt),"PRIVATE")),Fn(Re,"0.7.21",bn),Fn(Re,"0.7.21","esm2017"),Fn("fire-js","")}("")},4859:(an,tt,N)=>{N.d(tt,{H0:()=>Ce,wA:()=>ne,zt:()=>we});var y=N(5861),R=N(2090);class ne{constructor(ce,fe,be){this.name=ce,this.instanceFactory=fe,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const me="[DEFAULT]";class we{constructor(ce,fe){this.name=ce,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const fe=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(fe)){const be=new R.BH;if(this.instancesDeferred.set(fe,be),this.isInitialized(fe)||this.shouldAutoInitialize())try{const vt=this.getOrInitializeService({instanceIdentifier:fe});vt&&be.resolve(vt)}catch(vt){}}return this.instancesDeferred.get(fe).promise}getImmediate(ce){var fe;const be=this.normalizeInstanceIdentifier(null==ce?void 0:ce.identifier),vt=null!==(fe=null==ce?void 0:ce.optional)&&void 0!==fe&&fe;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(at){if(vt)return null;throw at}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Re(Te){return"EAGER"===Te.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:me})}catch(fe){}for(const[fe,be]of this.instancesDeferred.entries()){const vt=this.normalizeInstanceIdentifier(fe);try{const at=this.getOrInitializeService({instanceIdentifier:vt});be.resolve(at)}catch(at){}}}}clearInstance(ce=me){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,y.Z)(function*(){const fe=Array.from(ce.instances.values());yield Promise.all([...fe.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...fe.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=me){return this.instances.has(ce)}getOptions(ce=me){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:fe={}}=ce,be=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const vt=this.getOrInitializeService({instanceIdentifier:be,options:fe});for(const[at,it]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(at)&&it.resolve(vt);return vt}onInit(ce,fe){var be;const vt=this.normalizeInstanceIdentifier(fe),at=null!==(be=this.onInitCallbacks.get(vt))&&void 0!==be?be:new Set;at.add(ce),this.onInitCallbacks.set(vt,at);const it=this.instances.get(vt);return it&&ce(it,vt),()=>{at.delete(ce)}}invokeOnInitCallbacks(ce,fe){const be=this.onInitCallbacks.get(fe);if(be)for(const vt of be)try{vt(ce,fe)}catch(at){}}getOrInitializeService({instanceIdentifier:ce,options:fe={}}){let be=this.instances.get(ce);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=ce,Te===me?void 0:Te),options:fe}),this.instances.set(ce,be),this.instancesOptions.set(ce,fe),this.invokeOnInitCallbacks(be,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,be)}catch(vt){}var Te;return be||null}normalizeInstanceIdentifier(ce=me){return this.component?this.component.multipleInstances?ce:me:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const fe=this.getProvider(ce.name);if(fe.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);fe.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const fe=new we(ce,this);return this.providers.set(ce,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(an,tt,N)=>{N.d(tt,{Am:()=>Te,Ub:()=>Ce,Yd:()=>Re,in:()=>R});const y=[];var R=(()=>{return(ce=R||(R={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",R;var ce})();const ne={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},me=R.INFO,we={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},ve=(ce,fe,...be)=>{if(fe<ce.logLevel)return;const vt=(new Date).toISOString(),at=we[fe];if(!at)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[at](`[${vt}]  ${ce.name}:`,...be)};class Re{constructor(fe){this.name=fe,this._logLevel=me,this._logHandler=ve,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in R))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?ne[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...fe),this._logHandler(this,R.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...fe),this._logHandler(this,R.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,R.INFO,...fe),this._logHandler(this,R.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,R.WARN,...fe),this._logHandler(this,R.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...fe),this._logHandler(this,R.ERROR,...fe)}}function Ce(ce){y.forEach(fe=>{fe.setLogLevel(ce)})}function Te(ce,fe){for(const be of y){let vt=null;fe&&fe.level&&(vt=ne[fe.level]),be.userLogHandler=null===ce?null:(at,it,...Lt)=>{const Xe=Lt.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch(Oe){return null}}).filter(st=>st).join(" ");it>=(null!=vt?vt:at.logLevel)&&ce({level:R[it].toLowerCase(),message:Xe,args:Lt,type:at.name})}}}},1062:(an,tt,N)=>{N.d(tt,{X$:()=>It,Zw:()=>be,aw:()=>lt,sK:()=>ht});var y=N(5e3),R=N(9646),ne=N(5191),me=N(4128),we=N(7272),ve=N(9770),Re=N(5698),Ce=N(3151),Te=N(4004),ce=N(4351),fe=N(3900);class be{}let vt=(()=>{class ft extends be{getTranslation(Pe){return(0,R.of)({})}}return ft.\u0275fac=function(){let dn;return function(nt){return(dn||(dn=y.n5z(ft)))(nt||ft)}}(),ft.\u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class at{}let it=(()=>{class ft{handle(Pe){return Pe.key}}return ft.\u0275fac=function(Pe){return new(Pe||ft)},ft.\u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac}),ft})();function Lt(ft,dn){if(ft===dn)return!0;if(null===ft||null===dn)return!1;if(ft!=ft&&dn!=dn)return!0;let rt,Ht,un,Pe=typeof ft;if(Pe==typeof dn&&"object"==Pe){if(!Array.isArray(ft)){if(Array.isArray(dn))return!1;for(Ht in un=Object.create(null),ft){if(!Lt(ft[Ht],dn[Ht]))return!1;un[Ht]=!0}for(Ht in dn)if(!(Ht in un)&&void 0!==dn[Ht])return!1;return!0}if(!Array.isArray(dn))return!1;if((rt=ft.length)==dn.length){for(Ht=0;Ht<rt;Ht++)if(!Lt(ft[Ht],dn[Ht]))return!1;return!0}}return!1}function Xe(ft){return null!=ft}function st(ft){return ft&&"object"==typeof ft&&!Array.isArray(ft)}function Oe(ft,dn){let Pe=Object.assign({},ft);return st(ft)&&st(dn)&&Object.keys(dn).forEach(nt=>{st(dn[nt])?nt in ft?Pe[nt]=Oe(ft[nt],dn[nt]):Object.assign(Pe,{[nt]:dn[nt]}):Object.assign(Pe,{[nt]:dn[nt]})}),Pe}class on{}let pt=(()=>{class ft extends on{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Pe,nt){let rt;return rt="string"==typeof Pe?this.interpolateString(Pe,nt):"function"==typeof Pe?this.interpolateFunction(Pe,nt):Pe,rt}getValue(Pe,nt){let rt="string"==typeof nt?nt.split("."):[nt];nt="";do{nt+=rt.shift(),!Xe(Pe)||!Xe(Pe[nt])||"object"!=typeof Pe[nt]&&rt.length?rt.length?nt+=".":Pe=void 0:(Pe=Pe[nt],nt="")}while(rt.length);return Pe}interpolateFunction(Pe,nt){return Pe(nt)}interpolateString(Pe,nt){return nt?Pe.replace(this.templateMatcher,(rt,Ht)=>{let un=this.getValue(nt,Ht);return Xe(un)?un:rt}):Pe}}return ft.\u0275fac=function(){let dn;return function(nt){return(dn||(dn=y.n5z(ft)))(nt||ft)}}(),ft.\u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class Le{}let ke=(()=>{class ft extends Le{compile(Pe,nt){return Pe}compileTranslations(Pe,nt){return Pe}}return ft.\u0275fac=function(){let dn;return function(nt){return(dn||(dn=y.n5z(ft)))(nt||ft)}}(),ft.\u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class Et{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new y.vpe,this.onLangChange=new y.vpe,this.onDefaultLangChange=new y.vpe}}const ot=new y.OlP("USE_STORE"),ge=new y.OlP("USE_DEFAULT_LANG"),Ve=new y.OlP("DEFAULT_LANGUAGE"),ze=new y.OlP("USE_EXTEND");let ht=(()=>{class ft{constructor(Pe,nt,rt,Ht,un,Ut=!0,Rt=!1,Ge=!1,ut){this.store=Pe,this.currentLoader=nt,this.compiler=rt,this.parser=Ht,this.missingTranslationHandler=un,this.useDefaultLang=Ut,this.isolate=Rt,this.extend=Ge,this.pending=!1,this._onTranslationChange=new y.vpe,this._onLangChange=new y.vpe,this._onDefaultLangChange=new y.vpe,this._langs=[],this._translations={},this._translationRequests={},ut&&this.setDefaultLang(ut)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Pe){this.isolate?this._defaultLang=Pe:this.store.defaultLang=Pe}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Pe){this.isolate?this._currentLang=Pe:this.store.currentLang=Pe}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Pe){this.isolate?this._langs=Pe:this.store.langs=Pe}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Pe){this.isolate?this._translations=Pe:this.store.translations=Pe}setDefaultLang(Pe){if(Pe===this.defaultLang)return;let nt=this.retrieveTranslations(Pe);void 0!==nt?(null==this.defaultLang&&(this.defaultLang=Pe),nt.pipe((0,Re.q)(1)).subscribe(rt=>{this.changeDefaultLang(Pe)})):this.changeDefaultLang(Pe)}getDefaultLang(){return this.defaultLang}use(Pe){if(Pe===this.currentLang)return(0,R.of)(this.translations[Pe]);let nt=this.retrieveTranslations(Pe);return void 0!==nt?(this.currentLang||(this.currentLang=Pe),nt.pipe((0,Re.q)(1)).subscribe(rt=>{this.changeLang(Pe)}),nt):(this.changeLang(Pe),(0,R.of)(this.translations[Pe]))}retrieveTranslations(Pe){let nt;return(void 0===this.translations[Pe]||this.extend)&&(this._translationRequests[Pe]=this._translationRequests[Pe]||this.getTranslation(Pe),nt=this._translationRequests[Pe]),nt}getTranslation(Pe){this.pending=!0;const nt=this.currentLoader.getTranslation(Pe).pipe((0,Ce.d)(1),(0,Re.q)(1));return this.loadingTranslations=nt.pipe((0,Te.U)(rt=>this.compiler.compileTranslations(rt,Pe)),(0,Ce.d)(1),(0,Re.q)(1)),this.loadingTranslations.subscribe({next:rt=>{this.translations[Pe]=this.extend&&this.translations[Pe]?Object.assign(Object.assign({},rt),this.translations[Pe]):rt,this.updateLangs(),this.pending=!1},error:rt=>{this.pending=!1}}),nt}setTranslation(Pe,nt,rt=!1){nt=this.compiler.compileTranslations(nt,Pe),this.translations[Pe]=(rt||this.extend)&&this.translations[Pe]?Oe(this.translations[Pe],nt):nt,this.updateLangs(),this.onTranslationChange.emit({lang:Pe,translations:this.translations[Pe]})}getLangs(){return this.langs}addLangs(Pe){Pe.forEach(nt=>{-1===this.langs.indexOf(nt)&&this.langs.push(nt)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Pe,nt,rt){let Ht;if(nt instanceof Array){let un={},Ut=!1;for(let Rt of nt)un[Rt]=this.getParsedResult(Pe,Rt,rt),(0,ne.b)(un[Rt])&&(Ut=!0);if(Ut){const Rt=nt.map(Ge=>(0,ne.b)(un[Ge])?un[Ge]:(0,R.of)(un[Ge]));return(0,me.D)(Rt).pipe((0,Te.U)(Ge=>{let ut={};return Ge.forEach((qt,Sn)=>{ut[nt[Sn]]=qt}),ut}))}return un}if(Pe&&(Ht=this.parser.interpolate(this.parser.getValue(Pe,nt),rt)),void 0===Ht&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ht=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],nt),rt)),void 0===Ht){let un={key:nt,translateService:this};void 0!==rt&&(un.interpolateParams=rt),Ht=this.missingTranslationHandler.handle(un)}return void 0!==Ht?Ht:nt}get(Pe,nt){if(!Xe(Pe)||!Pe.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,ce.b)(rt=>(rt=this.getParsedResult(rt,Pe,nt),(0,ne.b)(rt)?rt:(0,R.of)(rt))));{let rt=this.getParsedResult(this.translations[this.currentLang],Pe,nt);return(0,ne.b)(rt)?rt:(0,R.of)(rt)}}getStreamOnTranslationChange(Pe,nt){if(!Xe(Pe)||!Pe.length)throw new Error('Parameter "key" required');return(0,we.z)((0,ve.P)(()=>this.get(Pe,nt)),this.onTranslationChange.pipe((0,fe.w)(rt=>{const Ht=this.getParsedResult(rt.translations,Pe,nt);return"function"==typeof Ht.subscribe?Ht:(0,R.of)(Ht)})))}stream(Pe,nt){if(!Xe(Pe)||!Pe.length)throw new Error('Parameter "key" required');return(0,we.z)((0,ve.P)(()=>this.get(Pe,nt)),this.onLangChange.pipe((0,fe.w)(rt=>{const Ht=this.getParsedResult(rt.translations,Pe,nt);return(0,ne.b)(Ht)?Ht:(0,R.of)(Ht)})))}instant(Pe,nt){if(!Xe(Pe)||!Pe.length)throw new Error('Parameter "key" required');let rt=this.getParsedResult(this.translations[this.currentLang],Pe,nt);if((0,ne.b)(rt)){if(Pe instanceof Array){let Ht={};return Pe.forEach((un,Ut)=>{Ht[Pe[Ut]]=Pe[Ut]}),Ht}return Pe}return rt}set(Pe,nt,rt=this.currentLang){this.translations[rt][Pe]=this.compiler.compile(nt,rt),this.updateLangs(),this.onTranslationChange.emit({lang:rt,translations:this.translations[rt]})}changeLang(Pe){this.currentLang=Pe,this.onLangChange.emit({lang:Pe,translations:this.translations[Pe]}),null==this.defaultLang&&this.changeDefaultLang(Pe)}changeDefaultLang(Pe){this.defaultLang=Pe,this.onDefaultLangChange.emit({lang:Pe,translations:this.translations[Pe]})}reloadLang(Pe){return this.resetLang(Pe),this.getTranslation(Pe)}resetLang(Pe){this._translationRequests[Pe]=void 0,this.translations[Pe]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let Pe=window.navigator.languages?window.navigator.languages[0]:null;return Pe=Pe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==Pe?(-1!==Pe.indexOf("-")&&(Pe=Pe.split("-")[0]),-1!==Pe.indexOf("_")&&(Pe=Pe.split("_")[0]),Pe):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let Pe=window.navigator.languages?window.navigator.languages[0]:null;return Pe=Pe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Pe}}return ft.\u0275fac=function(Pe){return new(Pe||ft)(y.LFG(Et),y.LFG(be),y.LFG(Le),y.LFG(on),y.LFG(at),y.LFG(ge),y.LFG(ot),y.LFG(ze),y.LFG(Ve))},ft.\u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),It=(()=>{class ft{constructor(Pe,nt){this.translate=Pe,this._ref=nt,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Pe,nt,rt){let Ht=un=>{this.value=void 0!==un?un:Pe,this.lastKey=Pe,this._ref.markForCheck()};if(rt){let un=this.translate.getParsedResult(rt,Pe,nt);(0,ne.b)(un.subscribe)?un.subscribe(Ht):Ht(un)}this.translate.get(Pe,nt).subscribe(Ht)}transform(Pe,...nt){if(!Pe||!Pe.length)return Pe;if(Lt(Pe,this.lastKey)&&Lt(nt,this.lastParams))return this.value;let rt;if(Xe(nt[0])&&nt.length)if("string"==typeof nt[0]&&nt[0].length){let Ht=nt[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{rt=JSON.parse(Ht)}catch(un){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${nt[0]}`)}}else"object"==typeof nt[0]&&!Array.isArray(nt[0])&&(rt=nt[0]);return this.lastKey=Pe,this.lastParams=nt,this.updateValue(Pe,rt),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ht=>{this.lastKey&&Ht.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Pe,rt,Ht.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ht=>{this.lastKey&&(this.lastKey=null,this.updateValue(Pe,rt,Ht.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Pe,rt))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ft.\u0275fac=function(Pe){return new(Pe||ft)(y.Y36(ht,16),y.Y36(y.sBO,16))},ft.\u0275pipe=y.Yjl({name:"translate",type:ft,pure:!1}),ft.\u0275prov=y.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),lt=(()=>{class ft{static forRoot(Pe={}){return{ngModule:ft,providers:[Pe.loader||{provide:be,useClass:vt},Pe.compiler||{provide:Le,useClass:ke},Pe.parser||{provide:on,useClass:pt},Pe.missingTranslationHandler||{provide:at,useClass:it},Et,{provide:ot,useValue:Pe.isolate},{provide:ge,useValue:Pe.useDefaultLang},{provide:ze,useValue:Pe.extend},{provide:Ve,useValue:Pe.defaultLanguage},ht]}}static forChild(Pe={}){return{ngModule:ft,providers:[Pe.loader||{provide:be,useClass:vt},Pe.compiler||{provide:Le,useClass:ke},Pe.parser||{provide:on,useClass:pt},Pe.missingTranslationHandler||{provide:at,useClass:it},{provide:ot,useValue:Pe.isolate},{provide:ge,useValue:Pe.useDefaultLang},{provide:ze,useValue:Pe.extend},{provide:Ve,useValue:Pe.defaultLanguage},ht]}}}return ft.\u0275fac=function(Pe){return new(Pe||ft)},ft.\u0275mod=y.oAB({type:ft}),ft.\u0275inj=y.cJS({}),ft})()},72:(an,tt,N)=>{N.d(tt,{Ro:()=>pt,ef:()=>Le,t2:()=>Oe});var y=N(5e3),R=N(1135),ne=N(7579),me=N(9300),we=N(2722),ve=N(1777),Re=N(9808),Ce=N(2313);const Te=["overlay"];function ce(ke,Et){1&ke&&y._UZ(0,"div")}function fe(ke,Et){if(1&ke&&(y.TgZ(0,"div"),y.YNc(1,ce,1,0,"div",6),y.qZA()),2&ke){const ot=y.oxw(2);y.Tol(ot.spinner.class),y.Udp("color",ot.spinner.color),y.xp6(1),y.Q6J("ngForOf",ot.spinner.divArray)}}function be(ke,Et){if(1&ke&&(y._UZ(0,"div",7),y.ALo(1,"safeHtml")),2&ke){const ot=y.oxw(2);y.Q6J("innerHTML",y.lcZ(1,1,ot.template),y.oJD)}}function vt(ke,Et){if(1&ke&&(y.TgZ(0,"div",1,2),y.YNc(2,fe,2,5,"div",3),y.YNc(3,be,2,3,"div",4),y.TgZ(4,"div",5),y.Hsn(5),y.qZA()()),2&ke){const ot=y.oxw();y.Udp("background-color",ot.spinner.bdColor)("z-index",ot.spinner.zIndex)("position",ot.spinner.fullScreen?"fixed":"absolute"),y.Q6J("@.disabled",ot.disableAnimation)("@fadeIn","in"),y.xp6(2),y.Q6J("ngIf",!ot.template),y.xp6(1),y.Q6J("ngIf",ot.template),y.xp6(1),y.Udp("z-index",ot.spinner.zIndex)}}const at=["*"],it={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Xe="primary";class st{constructor(Et){Object.assign(this,Et)}static create(Et){return(null==(null==Et?void 0:Et.type)||0===Et.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new st(Et)}}let Oe=(()=>{class ke{constructor(){this.spinnerObservable=new R.X(null)}getSpinner(ot){return this.spinnerObservable.asObservable().pipe((0,me.h)(ge=>ge&&ge.name===ot))}show(ot=Xe,ge){return new Promise((Ve,ze)=>{setTimeout(()=>{ge&&Object.keys(ge).length?(ge.name=ot,this.spinnerObservable.next(new st(Object.assign(Object.assign({},ge),{show:!0}))),Ve(!0)):(this.spinnerObservable.next(new st({name:ot,show:!0})),Ve(!0))},10)})}hide(ot=Xe,ge=10){return new Promise((Ve,ze)=>{setTimeout(()=>{this.spinnerObservable.next(new st({name:ot,show:!1})),Ve(!0)},ge)})}}return ke.\u0275fac=function(ot){return new(ot||ke)},ke.\u0275prov=y.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})(),on=(()=>{class ke{constructor(ot){this._sanitizer=ot}transform(ot){if(ot)return this._sanitizer.bypassSecurityTrustHtml(ot)}}return ke.\u0275fac=function(ot){return new(ot||ke)(y.Y36(Ce.H7,16))},ke.\u0275pipe=y.Yjl({name:"safeHtml",type:ke,pure:!0}),ke})(),pt=(()=>{class ke{constructor(ot,ge,Ve){this.spinnerService=ot,this.changeDetector=ge,this.elementRef=Ve,this.disableAnimation=!1,this.spinner=new st,this.ngUnsubscribe=new ne.x,this.setDefaultOptions=()=>{this.spinner=st.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Xe,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(ot){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(ot.target))&&(ot.returnValue=!1,ot.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,we.R)(this.ngUnsubscribe)).subscribe(ot=>{this.setDefaultOptions(),Object.assign(this.spinner,ot),ot.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(ot){return ot===this.elementRef.nativeElement.parentElement||ot.parentNode&&this.isSpinnerZone(ot.parentNode)}ngOnChanges(ot){for(const ge in ot)if(ge){const Ve=ot[ge];if(Ve.isFirstChange())return;void 0!==Ve.currentValue&&Ve.currentValue!==Ve.previousValue&&""!==Ve.currentValue&&(this.spinner[ge]=Ve.currentValue,"showSpinner"===ge&&(Ve.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===ge&&this.initObservable())}}getClass(ot,ge){this.spinner.divCount=it[ot],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((ze,ht)=>ht);let Ve="";switch(ge.toLowerCase()){case"small":Ve="la-sm";break;case"medium":Ve="la-2x";break;case"large":Ve="la-3x"}return"la-"+ot+" "+Ve}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return ke.\u0275fac=function(ot){return new(ot||ke)(y.Y36(Oe),y.Y36(y.sBO),y.Y36(y.SBq))},ke.\u0275cmp=y.Xpm({type:ke,selectors:[["ngx-spinner"]],viewQuery:function(ot,ge){if(1&ot&&y.Gf(Te,5),2&ot){let Ve;y.iGM(Ve=y.CRH())&&(ge.spinnerDOM=Ve.first)}},hostBindings:function(ot,ge){1&ot&&y.NdJ("keydown",function(ze){return ge.handleKeyboardEvent(ze)},!1,y.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[y.TTD],ngContentSelectors:at,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(ot,ge){1&ot&&(y.F$t(),y.YNc(0,vt,6,12,"div",0)),2&ot&&y.Q6J("ngIf",ge.spinner.show)},directives:[Re.O5,Re.sg],pipes:[on],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,ve.X$)("fadeIn",[(0,ve.SB)("in",(0,ve.oB)({opacity:1})),(0,ve.eR)(":enter",[(0,ve.oB)({opacity:0}),(0,ve.jt)(300)]),(0,ve.eR)(":leave",(0,ve.jt)(200,(0,ve.oB)({opacity:0})))])]},changeDetection:0}),ke})(),Le=(()=>{class ke{}return ke.\u0275fac=function(ot){return new(ot||ke)},ke.\u0275mod=y.oAB({type:ke}),ke.\u0275inj=y.cJS({imports:[[Re.ez]]}),ke})()},2290:(an,tt,N)=>{N.d(tt,{Rh:()=>Pe,_W:()=>lt});var y=N(5e3),R=N(1777),ne=N(7579),me=N(9808),we=N(2313);const ve=["toast-component",""];function Re(Ut,Rt){if(1&Ut){const Ge=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(Ge),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function Ce(Ut,Rt){if(1&Ut&&(y.ynx(0),y._uU(1),y.BQk()),2&Ut){const Ge=y.oxw(2);y.xp6(1),y.hij("[",Ge.duplicatesCount+1,"]")}}function Te(Ut,Rt){if(1&Ut&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Ce,2,1,"ng-container",4),y.qZA()),2&Ut){const Ge=y.oxw();y.Tol(Ge.options.titleClass),y.uIk("aria-label",Ge.title),y.xp6(1),y.hij(" ",Ge.title," "),y.xp6(1),y.Q6J("ngIf",Ge.duplicatesCount)}}function ce(Ut,Rt){if(1&Ut&&y._UZ(0,"div",7),2&Ut){const Ge=y.oxw();y.Tol(Ge.options.messageClass),y.Q6J("innerHTML",Ge.message,y.oJD)}}function fe(Ut,Rt){if(1&Ut&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&Ut){const Ge=y.oxw();y.Tol(Ge.options.messageClass),y.uIk("aria-label",Ge.message),y.xp6(1),y.hij(" ",Ge.message," ")}}function be(Ut,Rt){if(1&Ut&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&Ut){const Ge=y.oxw();y.xp6(1),y.Udp("width",Ge.width+"%")}}function vt(Ut,Rt){if(1&Ut){const Ge=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(Ge),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function at(Ut,Rt){if(1&Ut&&(y.ynx(0),y._uU(1),y.BQk()),2&Ut){const Ge=y.oxw(2);y.xp6(1),y.hij("[",Ge.duplicatesCount+1,"]")}}function it(Ut,Rt){if(1&Ut&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,at,2,1,"ng-container",4),y.qZA()),2&Ut){const Ge=y.oxw();y.Tol(Ge.options.titleClass),y.uIk("aria-label",Ge.title),y.xp6(1),y.hij(" ",Ge.title," "),y.xp6(1),y.Q6J("ngIf",Ge.duplicatesCount)}}function Lt(Ut,Rt){if(1&Ut&&y._UZ(0,"div",7),2&Ut){const Ge=y.oxw();y.Tol(Ge.options.messageClass),y.Q6J("innerHTML",Ge.message,y.oJD)}}function Xe(Ut,Rt){if(1&Ut&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&Ut){const Ge=y.oxw();y.Tol(Ge.options.messageClass),y.uIk("aria-label",Ge.message),y.xp6(1),y.hij(" ",Ge.message," ")}}function st(Ut,Rt){if(1&Ut&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&Ut){const Ge=y.oxw();y.xp6(1),y.Udp("width",Ge.width+"%")}}class pt{constructor(Rt,Ge){this.component=Rt,this.injector=Ge}attach(Rt,Ge){return this._attachedHost=Rt,Rt.attach(this,Ge)}detach(){const Rt=this._attachedHost;if(Rt)return this._attachedHost=void 0,Rt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Rt){this._attachedHost=Rt}}class ke{constructor(Rt,Ge,ut,qt,Sn,ti){this.toastId=Rt,this.config=Ge,this.message=ut,this.title=qt,this.toastType=Sn,this.toastRef=ti,this._onTap=new ne.x,this._onAction=new ne.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Rt){this._onAction.next(Rt)}onAction(){return this._onAction.asObservable()}}const Et={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ot=new y.OlP("ToastConfig");class ge{constructor(Rt){this._overlayRef=Rt,this.duplicatesCount=0,this._afterClosed=new ne.x,this._activate=new ne.x,this._manualClose=new ne.x,this._resetTimeout=new ne.x,this._countDuplicate=new ne.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Rt,Ge){Rt&&this._resetTimeout.next(),Ge&&this._countDuplicate.next(++this.duplicatesCount)}}class Ve{constructor(Rt,Ge){this._toastPackage=Rt,this._parentInjector=Ge}get(Rt,Ge,ut){return Rt===ke?this._toastPackage:this._parentInjector.get(Rt,Ge,ut)}}class ze extends class Le{attach(Rt,Ge){return this._attachedPortal=Rt,this.attachComponentPortal(Rt,Ge)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Rt){this._disposeFn=Rt}}{constructor(Rt,Ge,ut){super(),this._hostDomElement=Rt,this._componentFactoryResolver=Ge,this._appRef=ut}attachComponentPortal(Rt,Ge){const ut=this._componentFactoryResolver.resolveComponentFactory(Rt.component);let qt;return qt=ut.create(Rt.injector),this._appRef.attachView(qt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(qt.hostView),qt.destroy()}),Ge?this._hostDomElement.insertBefore(this._getComponentRootNode(qt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(qt)),qt}_getComponentRootNode(Rt){return Rt.hostView.rootNodes[0]}}class ht{constructor(Rt){this._portalHost=Rt}attach(Rt,Ge=!0){return this._portalHost.attach(Rt,Ge)}detach(){return this._portalHost.detach()}}let yt=(()=>{class Ut{constructor(Ge){this._document=Ge}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ge=this._document.createElement("div");Ge.classList.add("overlay-container"),Ge.setAttribute("aria-live","polite"),this._document.body.appendChild(Ge),this._containerElement=Ge}}return Ut.\u0275fac=function(Ge){return new(Ge||Ut)(y.LFG(me.K0))},Ut.\u0275prov=y.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})(),It=(()=>{class Ut{constructor(Ge,ut,qt,Sn){this._overlayContainer=Ge,this._componentFactoryResolver=ut,this._appRef=qt,this._document=Sn,this._paneElements=new Map}create(Ge,ut){return this._createOverlayRef(this.getPaneElement(Ge,ut))}getPaneElement(Ge="",ut){return this._paneElements.get(ut)||this._paneElements.set(ut,{}),this._paneElements.get(ut)[Ge]||(this._paneElements.get(ut)[Ge]=this._createPaneElement(Ge,ut)),this._paneElements.get(ut)[Ge]}_createPaneElement(Ge,ut){const qt=this._document.createElement("div");return qt.id="toast-container",qt.classList.add(Ge),qt.classList.add("toast-container"),ut?ut.getContainerElement().appendChild(qt):this._overlayContainer.getContainerElement().appendChild(qt),qt}_createPortalHost(Ge){return new ze(Ge,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ge){return new ht(this._createPortalHost(Ge))}}return Ut.\u0275fac=function(Ge){return new(Ge||Ut)(y.LFG(yt),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(me.K0))},Ut.\u0275prov=y.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})(),lt=(()=>{class Ut{constructor(Ge,ut,qt,Sn,ti){this.overlay=ut,this._injector=qt,this.sanitizer=Sn,this.ngZone=ti,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ge.default),Ge.config),Ge.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ge.default.iconClasses),Ge.config.iconClasses))}show(Ge,ut,qt={},Sn=""){return this._preBuildNotification(Sn,Ge,ut,this.applyConfig(qt))}success(Ge,ut,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ge,ut,this.applyConfig(qt))}error(Ge,ut,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ge,ut,this.applyConfig(qt))}info(Ge,ut,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ge,ut,this.applyConfig(qt))}warning(Ge,ut,qt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ge,ut,this.applyConfig(qt))}clear(Ge){for(const ut of this.toasts)if(void 0!==Ge){if(ut.toastId===Ge)return void ut.toastRef.manualClose()}else ut.toastRef.manualClose()}remove(Ge){const ut=this._findToast(Ge);if(!ut||(ut.activeToast.toastRef.close(),this.toasts.splice(ut.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const qt=this.toasts[this.currentlyActive].toastRef;qt.isInactive()||(this.currentlyActive=this.currentlyActive+1,qt.activate())}return!0}findDuplicate(Ge="",ut="",qt,Sn){const{includeTitleDuplicates:ti}=this.toastrConfig;for(const Ci of this.toasts){const si=ti&&Ci.title===Ge;if((!ti||si)&&Ci.message===ut)return Ci.toastRef.onDuplicate(qt,Sn),Ci}return null}applyConfig(Ge={}){return Object.assign(Object.assign({},this.toastrConfig),Ge)}_findToast(Ge){for(let ut=0;ut<this.toasts.length;ut++)if(this.toasts[ut].toastId===Ge)return{index:ut,activeToast:this.toasts[ut]};return null}_preBuildNotification(Ge,ut,qt,Sn){return Sn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ge,ut,qt,Sn)):this._buildNotification(Ge,ut,qt,Sn)}_buildNotification(Ge,ut,qt,Sn){if(!Sn.toastComponent)throw new Error("toastComponent required");const ti=this.findDuplicate(qt,ut,this.toastrConfig.resetTimeoutOnDuplicate&&Sn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&qt||ut)&&this.toastrConfig.preventDuplicates&&null!==ti)return ti;this.previousToastMessage=ut;let Ci=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Ci=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const si=this.overlay.create(Sn.positionClass,this.overlayContainer);this.index=this.index+1;let qn=ut;ut&&Sn.enableHtml&&(qn=this.sanitizer.sanitize(y.q3G.HTML,ut));const ii=new ge(si),fi=new ke(this.index,Sn,qn,qt,Ge,ii),pi=new Ve(fi,this._injector),vn=new pt(Sn.toastComponent,pi),Fn=si.attach(vn,this.toastrConfig.newestOnTop);ii.componentInstance=Fn.instance;const Tt={toastId:this.index,title:qt||"",message:ut||"",toastRef:ii,onShown:ii.afterActivate(),onHidden:ii.afterClosed(),onTap:fi.onTap(),onAction:fi.onAction(),portal:Fn};return Ci||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Tt.toastRef.activate()})),this.toasts.push(Tt),Tt}}return Ut.\u0275fac=function(Ge){return new(Ge||Ut)(y.LFG(ot),y.LFG(It),y.LFG(y.zs3),y.LFG(we.H7),y.LFG(y.R0b))},Ut.\u0275prov=y.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut})(),ft=(()=>{class Ut{constructor(Ge,ut,qt){this.toastrService=Ge,this.toastPackage=ut,this.ngZone=qt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ut.message,this.title=ut.title,this.options=ut.config,this.originalTimeout=ut.config.timeOut,this.toastClasses=`${ut.toastType} ${ut.config.toastClass}`,this.sub=ut.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ut.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ut.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ut.toastRef.countDuplicate().subscribe(Sn=>{this.duplicatesCount=Sn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ge=(new Date).getTime();this.width=(this.hideTime-Ge)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ge,ut){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ge),ut)):this.timeout=setTimeout(()=>Ge(),ut)}outsideInterval(Ge,ut){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ge),ut)):this.intervalId=setInterval(()=>Ge(),ut)}runInsideAngular(Ge){this.ngZone?this.ngZone.run(()=>Ge()):Ge()}}return Ut.\u0275fac=function(Ge){return new(Ge||Ut)(y.Y36(lt),y.Y36(ke),y.Y36(y.R0b))},Ut.\u0275cmp=y.Xpm({type:Ut,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ge,ut){1&Ge&&y.NdJ("click",function(){return ut.tapToast()})("mouseenter",function(){return ut.stickAround()})("mouseleave",function(){return ut.delayedHideToast()}),2&Ge&&(y.d8E("@flyInOut",ut.state),y.Tol(ut.toastClasses),y.Udp("display",ut.displayStyle))},attrs:ve,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ge,ut){1&Ge&&(y.YNc(0,Re,3,0,"button",0),y.YNc(1,Te,3,5,"div",1),y.YNc(2,ce,1,3,"div",2),y.YNc(3,fe,2,4,"div",3),y.YNc(4,be,2,2,"div",4)),2&Ge&&(y.Q6J("ngIf",ut.options.closeButton),y.xp6(1),y.Q6J("ngIf",ut.title),y.xp6(1),y.Q6J("ngIf",ut.message&&ut.options.enableHtml),y.xp6(1),y.Q6J("ngIf",ut.message&&!ut.options.enableHtml),y.xp6(1),y.Q6J("ngIf",ut.options.progressBar))},directives:[me.O5],encapsulation:2,data:{animation:[(0,R.X$)("flyInOut",[(0,R.SB)("inactive",(0,R.oB)({opacity:0})),(0,R.SB)("active",(0,R.oB)({opacity:1})),(0,R.SB)("removed",(0,R.oB)({opacity:0})),(0,R.eR)("inactive => active",(0,R.jt)("{{ easeTime }}ms {{ easing }}")),(0,R.eR)("active => removed",(0,R.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Ut})();const dn=Object.assign(Object.assign({},Et),{toastComponent:ft});let Pe=(()=>{class Ut{static forRoot(Ge={}){return{ngModule:Ut,providers:[{provide:ot,useValue:{default:dn,config:Ge}}]}}}return Ut.\u0275fac=function(Ge){return new(Ge||Ut)},Ut.\u0275mod=y.oAB({type:Ut}),Ut.\u0275inj=y.cJS({imports:[[me.ez]]}),Ut})(),rt=(()=>{class Ut{constructor(Ge,ut,qt){this.toastrService=Ge,this.toastPackage=ut,this.appRef=qt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=ut.message,this.title=ut.title,this.options=ut.config,this.originalTimeout=ut.config.timeOut,this.toastClasses=`${ut.toastType} ${ut.config.toastClass}`,this.sub=ut.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ut.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ut.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ut.toastRef.countDuplicate().subscribe(Sn=>{this.duplicatesCount=Sn})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ge=(new Date).getTime();this.width=(this.hideTime-Ge)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return Ut.\u0275fac=function(Ge){return new(Ge||Ut)(y.Y36(lt),y.Y36(ke),y.Y36(y.z2F))},Ut.\u0275cmp=y.Xpm({type:Ut,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ge,ut){1&Ge&&y.NdJ("click",function(){return ut.tapToast()})("mouseenter",function(){return ut.stickAround()})("mouseleave",function(){return ut.delayedHideToast()}),2&Ge&&(y.Tol(ut.toastClasses),y.Udp("display",ut.displayStyle))},attrs:ve,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ge,ut){1&Ge&&(y.YNc(0,vt,3,0,"button",0),y.YNc(1,it,3,5,"div",1),y.YNc(2,Lt,1,3,"div",2),y.YNc(3,Xe,2,4,"div",3),y.YNc(4,st,2,2,"div",4)),2&Ge&&(y.Q6J("ngIf",ut.options.closeButton),y.xp6(1),y.Q6J("ngIf",ut.title),y.xp6(1),y.Q6J("ngIf",ut.message&&ut.options.enableHtml),y.xp6(1),y.Q6J("ngIf",ut.message&&!ut.options.enableHtml),y.xp6(1),y.Q6J("ngIf",ut.options.progressBar))},directives:[me.O5],encapsulation:2}),Ut})();Object.assign(Object.assign({},Et),{toastComponent:rt})},5861:(an,tt,N)=>{function y(ne,me,we,ve,Re,Ce,Te){try{var ce=ne[Ce](Te),fe=ce.value}catch(be){return void we(be)}ce.done?me(fe):Promise.resolve(fe).then(ve,Re)}function R(ne){return function(){var me=this,we=arguments;return new Promise(function(ve,Re){var Ce=ne.apply(me,we);function Te(fe){y(Ce,ve,Re,Te,ce,"next",fe)}function ce(fe){y(Ce,ve,Re,Te,ce,"throw",fe)}Te(void 0)})}}N.d(tt,{Z:()=>R})}},an=>{an(an.s=8968)}]);